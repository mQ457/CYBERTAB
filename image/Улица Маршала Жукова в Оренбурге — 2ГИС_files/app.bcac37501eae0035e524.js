(self.webpackChunk=self.webpackChunk||[]).push([[3524],{44258:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z"/>\n  <path fill="#ffffff" d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"/>\n  <path fill="currentColor" d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"/>\n  <path fill="#ffffff" d="M11 16C13.7614 16 16 13.7614 16 11C16 8.23858 13.7614 6 11 6C8.23858 6 6 8.23858 6 11C6 13.7614 8.23858 16 11 16Z"/>\n</svg>\n'},49185:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"/>\n  <path fill="#ffffff" d="M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z"/>\n  <path fill="currentColor" d="M9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15Z"/>\n  <path fill="#ffffff" fill-opacity="0.5" d="M9 13C11.2091 13 13 11.2091 13 9C13 6.79086 11.2091 5 9 5C6.79086 5 5 6.79086 5 9C5 11.2091 6.79086 13 9 13Z"/>\n</svg>'},31629:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var s=i(61700);function r(){return(0,s.C)({isViewportChanged:!0})}},7794:(e,t,i)=>{"use strict";var s=i(31085),r=i(95305);var n=i(25873),a=i(14041),o=i(45628),c=i(82393);function d(e){return t=>i=>s=>{switch(s.type){case"UI/SET_LANG":{const i=(0,c.n$)(t.getState()),r=i&&i.country_code||"ru";e.setLocale({lang:s.payload.lang,countryCode:r});break}case"I18N/SET_LOCALE":e.setLocale(s.payload);break;case"I18N/WITH_INTL":{const i=s.payload(e);if(i)return t.dispatch(i);break}}return i(s)}}var l=i(10753);var u=i(46287),p=i(97980),m=i(42853),g=i(79658),h=i(12017),f=i(51557),v=i(7335),b=i(33681);const y=e=>({title:e}),x=({state:e,entityId:t,brandName:i})=>{const s=(0,u.DE)({state:e,entityId:t}).data;if(s)switch(s.type){case"branch":return s.name_ex.extension?{title:`${s.name_ex.primary}, ${s.name_ex.extension} — ${i}`}:{title:`${s.name_ex.primary} — ${i}`};case"attraction":return{title:`${(0,g.q)(s.name,s.subtype_name)} — ${i}`};case"building":case"route":case"station_platform":case"street":case"adm_div":case"crossroad":case"parking":case"gate":case"road":return s.name?{title:`${s.name} — ${i}`}:y(i);default:return y(i)}return y(i)};function j(e,t){const i=e.appContext.frames[0],{brandName:s}=t;if(!i){const t=(0,c.Pm)(e);return{title:`${t.admDiv.data&&t.admDiv.data.name||"Global"} — ${s}`}}switch(i.type){case"entity":case"gallery":return x({state:e,entityId:i.entityId,brandName:s});case"search":return((e,t)=>"search"===e.type&&e.query?{title:`${e.query} — ${t}`}:y(t))(i,s);case"product":return(({state:e,productId:t,brandName:i})=>{const s=(0,p.z5)({state:e,productId:t}).data;return s?{title:`${s.product.name} — ${i}`}:y(i)})({state:e,productId:i.productId,brandName:s});default:return y(s)}}const w=function(){let e,t;return(i,s,r)=>{const n=i.getState(),a=n.appContext.frames[0];return i.dispatch((0,h.K2)("guide"===(null==a?void 0:a.type)?(({scenarioId:t,rubricIds:i},{brandName:s})=>t?(0,v.eU)(c.MJ,(r=>r?(0,b.withGetCollectionsQueryState)({projectId:r,scenarioId:t,rubricIds:i},(t=>{var i;const r=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.scenario.name;return r?(0,h.v6)((()=>{e={title:`${r} — ${s}`}})):(0,h.lQ)()})):(0,h.lQ)())):(0,f.QY)((({tp:{_gg:t}})=>(0,h.v6)((()=>{e={title:t("Гид — %1",[s])}})))))(a,r):"collection"===(null==a?void 0:a.type)?(({collectionId:t,rubricIds:i},{brandName:s})=>(0,v.eU)(c.MJ,(r=>r?(0,b.withGetCollectionQueryState)({id:t,rubricIds:i},(t=>{var i;const r=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.collection.title;return r?(0,h.v6)((()=>{e={title:`${r} — ${s}`}})):(0,h.lQ)()})):(0,h.lQ)())))(a,r):(0,h.v6)((()=>{e=j(n,r)})),(0,h.v6)((()=>{e&&!(0,m.A)(t,e)&&(t=e,window.isServerRendered||s.setTitle(e.title))}))))}}();function I(e,t){return i=>s=>r=>{s(r),w(i,e,t)}}const C=window,_=()=>({location:window.location,open:(e,t,i)=>window.open(e,t,i),reload(e=!1){window.location.reload(e)},delayClose(e=0){C.setTimeout((()=>C.close()),e)},historyPush(e,t){C.history.pushState(e,"",t)},historyReplace(e,t){C.history.replaceState(e,"",t)},historyBack(){C.history.back()},setTitle(e){C.document.title=e}});var k=i(60118),O=i(12690),S=i(89415),T=i(29787),E=i(91565),M=i(66698);var N=i(95993),L=i(51883),P=i(11776),R=i(63041),A=i(78069);function B(){const e="ryan";return(0,h._7)((0,N.q2)({id:e,type:"window:popstate",handler:e=>(0,T.Aw)(e.state)}),(0,N.q2)({id:e,type:"window:resize",handler:()=>(0,h.K2)((0,S.LS)((()=>{if("undefined"==typeof document)return{width:M.Xl,height:M.As};const e=document.body,t=document.documentElement;return{width:Math.max(e.offsetWidth,t.clientWidth,t.offsetWidth),height:Math.max(e.offsetHeight,t.clientHeight,t.offsetHeight)}})()),(0,E.M4)())}),(0,N.q2)({id:e,type:"window:message",handler:e=>function(e){if(e.data)try{const t=JSON.parse(e.data);if("mkb"===t.type&&t.id)return(0,h.K2)((0,A.S2)(),(0,R.UP)({id:t.id,type:"branch"}));if("state"===t.type&&t.url)return(0,P.v)({url:t.url})}catch(e){}return(0,h.lQ)()}(e)}),(0,N.q2)({id:e,type:"common:escapeKeyUp",handler:()=>(0,L.MP)()}),(0,N.q2)({id:e,type:"common:arrowLeftKeyDown",handler:()=>(0,L.gn)("backward")}),(0,N.q2)({id:e,type:"common:arrowRightKeyDown",handler:()=>(0,L.gn)("forward")}),(0,N.q2)({id:e,type:"common:spaceKeyDown",handler:()=>(0,L.gn)("forward")}),(0,N.q2)({id:e,type:"common:arrowUpKeyDown",handler:()=>(0,L.gn)("backward")}),(0,N.q2)({id:e,type:"common:arrowDownKeyDown",handler:()=>(0,L.gn)("forward")}),(0,N.q2)({id:e,type:"myGeolocation:update",handler:e=>(0,L.GO)(e)}),(0,N.q2)({id:e,type:"myGeolocation:error",handler:e=>(0,L.oz)(e)}))}var z=i(9729),F=i(2575);var H=i(57744),U=i(53157);var D=i(1321),V=i(92854),$=i(46954),W=i(80905),q=i(72384);const Z="testRemoteConfig";(0,q.n)({name:Z,percentRange:[0,0],groups:["cg","tg"]});function Q(){return(0,h._7)((0,$.l)({value:!1}),(0,D.Ip)({showSlugsNeededOnlyForStartup:!1}),(0,O.a6)({timezone:(new Date).getTimezoneOffset()}),(0,v.RC)({sessionId:e=>e.config.sessionId,tabId:e=>e.config.tabId,currentAdmDiv:c.Pm,refererHost:e=>e.session.refererHost,refererUrl:e=>e.session.refererUrl,utm:e=>e.session.utm,startURL:e=>e.session.startURL,dataLocale:H.u,statHash:e=>e.session.statHash,searchFrameQuery:e=>{const t=e.appContext.frames[0];return t&&"search"===t.type&&"query"===t.searchType?t:void 0}},(({sessionId:e,tabId:t,currentAdmDiv:i,refererHost:s,refererUrl:r,utm:n,startURL:a,dataLocale:o,statHash:c,searchFrameQuery:d})=>{window.__bss={tabId:t,sessionId:e};const l=i.admDiv.data&&i.admDiv.data.overlapRegionId||"0";let u;return c&&(u=function(e){try{return JSON.parse((0,U.y4)(e))}catch(e){return}}(c)),(0,F.O)({overlapRegionId:l,refererHost:s,refererUrl:r,utm:n,link:a,dataLocale:"0"===l?void 0:o,crossTab:u,searchFrameParams:d&&{frameId:d.id,query:d.query,rubricId:d.tabCatalog.rubricId||(0,W.al)(d)}})})),B(),(0,v.RC)({region:c.n$,lang:e=>e.appContext.lang},(({region:e,lang:t})=>{const i=e&&e.country_code||"ru";return(0,f.Zc)({lang:t,countryCode:i})})),(0,h.Q2)((e=>e.session.is3dEnabled?"force_3d"===(0,V.o)("is3dDisabled")?(0,S.Oo)({is3dEnabled:!0}):(0,S.Oo)({is3dEnabled:(0,z.isWebGlAvailable)()}):(0,h.lQ)())),(0,O.m8)({time:Date.now()}),(0,S.LS)({width:window.innerWidth,height:window.innerHeight}),(0,h.NV)((e=>(0,h.v6)((()=>{e.featureTestRemoteConfig&&console.log(`trce=${(0,q.l)(Z,e.experiments)}`)})))))}var G=i(23020),K=i(50432),Y=i(35023);function X(e){const{activeLayer:t,activeSublayer:i,zoom:s,rotation:r,pitch:n,relief:a,showSnow:o}=e.appContext,c=(0,G.hv)(e),d=t||o.allowSnowStyle?[{name:J(t,o.allowSnowStyle)}]:void 0,l=(0,Y.oE)([i?{name:ee(i)}:void 0,a?{name:"reliefSubLayer"}:void 0]);return{map:{inviewport:c,zoomLevel:s,rotation:r,pitch:n,enabledMapLayers:d,enabledMapSubLayers:l.length?l:void 0}}}function J(e,t){if(t&&!e)return"winterLayer";switch(e){case"eta":return"ctxLayer";case"realty":return"realtyLayer";case"friends":return"friendsLayer";case"photos":return"photosLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"roadAccident":return"trafficIncidentLayer";case"parkings":return"parkingLayer";case"tourism":return"touristLayer";default:return void(0,K.vV)({message:`Не удалось получить название слоя для поля map.enabledMapLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"q2ee0",payload:{type:"debug",subtype:"BssTrackerV3"}})}}function ee(e){switch(e){case"realtyPriceSale":return"realtyBuySubLayer";case"realtyPriceRent":return"realtyRentSubLayer";case"realtyWalkDistance":return"realtyWalkDistanceSubLayer";case"realtyIsochroneWalking":return"realtyPedestrianIsochrone";case"realtyIsochroneDriving":return"realtyCarIsochrone";default:return void(0,K.vV)({message:`Не удалось получить название подслоя для поля map.enabledMapSubLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"fw42g",payload:{type:"debug",subtype:"BssTrackerV3"}})}}var te=i(15401);const ie=[["search","entity"],["search","product"],["product","entity"],["directions","direction"],["userProfile","collection"],["userProfile","currentReview"],["userProfile","entity"],["userProfile","achievements"],["userProfile","userFriendsActivity"],["guide","collection"],["guide","entity"],["publicFavorites","collection"],["collection","entity"],["entity","collection"],["prices","offer"],["prices","offers"],["prices","offers","offer"],["directions","entity"],["rubricator","rubric"],["entity","unconfirmedReviews"],["directions","tUgc"],["search","tUgc"],["entity","unconfirmedReviews","currentReview"],["entity","currentReview"],["entity","offer"],["entity","userFriendsActivity"],["realty","realtyCard"],["realty","entity"],["exchange","entity"],["friendsList","userPublicProfile"],["friendsList","userPublicProfile","currentReview"],["userPublicProfile","currentReview"],["friendsList","userPublicProfile","entity"],["userPublicProfile","entity"],["advice","entity"]];const se=[["entity","pending","direction","error","tUgc","realtyCard"]];function re(e,t){let i=[...e];var s,r;i[0]&&(s=i[0].type,r=t.type,s===r||se.find((e=>e.includes(s)&&e.includes(r))))&&(i[0].victimsId&&(t.victimsId=i[0].victimsId),i=i.slice(1)),i=[t,...i];const n=ie.find((e=>{const t=[...e].reverse();return!(i.length<t.length)&&t.every(((e,t)=>{return("search"===(s=i[t]).type&&"offers"===s.searchType?s.searchType:"pending"===s.type?"entity":s.type)===e;var s}))}));return n?i.slice(0,n.length):[t]}function ne(e,t){return e.reduce(((e,i)=>i.every((e=>!!t.find((t=>t.id===e.id))))?e:[...e,i]),[])}var ae=i(74182),oe=i(96077),ce=i(81181),de=i(79594),le=i(8365),ue=i(71064),pe=i(84175),me=i(27248),ge=i(64099),he=i(99259),fe=i(46579),ve=i(77847),be=i(81618),ye=i(80552),xe=i(82781),je=i(13843),we=i(49109);var Ie=i(51021),Ce=i(16632),_e=i(72760),ke=i(83663),Oe=i(41283),Se=i(39419),Te=i(24255);const Ee=({width:e=24,height:t=24,color:i="currentColor"})=>(0,s.jsx)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73743 3H15.2808L14.7808 5H21.4771L19.0953 10.9544L21.6181 16H10.2193L10.7193 14H7.38028L9.20249 21.7444L7.25565 22.2025L2.73743 3ZM6.90969 12H13.2808L12.7808 14H18.382L16.9048 11.0456L18.523 7H12.2193L12.7193 5H5.26263L6.90969 12Z",fill:i})}));var Me=i(20091),Ne=i(55027),Le=i(95920),Pe=i(85608);const Re=e=>{var{width:t=24,height:i=24,color:r="currentColor"}=e,n=(0,Pe.Tt)(e,["width","height","color"]);return(0,s.jsxs)("svg",Object.assign({width:t,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[(0,s.jsx)("mask",Object.assign({id:"path-1-inside-1_420_7939",fill:"white"},{children:(0,s.jsx)("path",{d:"M12.9999 22.0171L11.0002 22.0193C10.9978 21.9191 10.9951 21.819 10.992 21.7188C10.986 21.5237 10.9761 21.2434 10.9608 20.9045C10.93 20.2255 10.8776 19.3175 10.7912 18.3931C10.7232 17.6664 10.3772 16.7732 9.63075 16.0656C8.90106 15.3738 7.72375 14.7982 5.875 14.7982H5.23145L4.96485 14.2125C4.195 12.5212 4 11.4004 4 9.84C4 5.76673 7.2499 2 12 2C16.7501 2 20 5.76673 20 9.84C20 11.4004 19.805 12.5212 19.0352 14.2125L18.7685 14.7982H18.125C16.2762 14.7982 15.0973 15.3739 14.3661 16.0661C13.6181 16.7741 13.2714 17.6673 13.2035 18.3931C13.1171 19.3167 13.066 20.2239 13.0366 20.9026C13.022 21.2412 13.0127 21.5214 13.0072 21.7163C13.0043 21.8166 13.0019 21.9168 12.9999 22.0171Z"})})),(0,s.jsx)("path",{d:"M12.9999 22.0171L13.002 24.0171L14.9591 24.015L14.9994 22.0584L12.9999 22.0171ZM11.0002 22.0193L9.00074 22.0663L9.04662 24.0215L11.0024 24.0193L11.0002 22.0193ZM10.992 21.7188L12.9911 21.6569V21.6569L10.992 21.7188ZM10.9608 20.9045L12.9587 20.814L10.9608 20.9045ZM10.7912 18.3931L12.7825 18.2069L10.7912 18.3931ZM9.63075 16.0656L8.25479 17.517L8.25479 17.517L9.63075 16.0656ZM5.23145 14.7982L3.41115 15.6268L3.94436 16.7982H5.23145V14.7982ZM4.96485 14.2125L6.78515 13.384L4.96485 14.2125ZM19.0352 14.2125L17.2148 13.384L17.2148 13.384L19.0352 14.2125ZM18.7685 14.7982V16.7982H20.0556L20.5889 15.6268L18.7685 14.7982ZM14.3661 16.0661L12.9911 14.6136L12.9911 14.6136L14.3661 16.0661ZM13.2035 18.3931L11.2122 18.2069V18.2069L13.2035 18.3931ZM13.0366 20.9026L11.0385 20.816V20.816L13.0366 20.9026ZM13.0072 21.7163L11.008 21.6594L11.008 21.6594L13.0072 21.7163ZM8.96282 20.995C8.97768 21.323 8.98722 21.5937 8.99301 21.7807L12.9911 21.6569C12.9848 21.4537 12.9746 21.1637 12.9587 20.814L8.96282 20.995ZM8.79987 18.5794C8.88235 19.4613 8.93294 20.335 8.96282 20.995L12.9587 20.814C12.9271 20.1159 12.8729 19.1738 12.7825 18.2069L8.79987 18.5794ZM8.25479 17.517C8.61893 17.8622 8.77291 18.2911 8.79987 18.5794L12.7825 18.2069C12.6735 17.0417 12.1355 15.6842 11.0067 14.6141L8.25479 17.517ZM5.875 16.7982C7.27613 16.7982 7.94084 17.2194 8.25479 17.517L11.0067 14.6141C9.86127 13.5283 8.17136 12.7982 5.875 12.7982V16.7982ZM5.23145 16.7982H5.875V12.7982H5.23145V16.7982ZM3.14454 15.0411L3.41115 15.6268L7.05176 13.9697L6.78515 13.384L3.14454 15.0411ZM2 9.84C2 11.671 2.25014 13.0761 3.14454 15.0411L6.78515 13.384C6.13985 11.9663 6 11.1297 6 9.84H2ZM12 0C6.08693 0 2 4.72149 2 9.84H6C6 6.81197 8.41288 4 12 4V0ZM22 9.84C22 4.72149 17.9131 0 12 0V4C15.5871 4 18 6.81197 18 9.84H22ZM20.8555 15.0411C21.7499 13.0761 22 11.671 22 9.84H18C18 11.1297 17.8601 11.9663 17.2148 13.384L20.8555 15.0411ZM20.5889 15.6268L20.8555 15.0411L17.2148 13.384L16.9482 13.9697L20.5889 15.6268ZM18.125 16.7982H18.7685V12.7982H18.125V16.7982ZM15.741 17.5185C16.0568 17.2196 16.7237 16.7982 18.125 16.7982V12.7982C15.8287 12.7982 14.1377 13.5282 12.9911 14.6136L15.741 17.5185ZM15.1948 18.5794C15.2215 18.2938 15.3751 17.8649 15.741 17.5185L12.9911 14.6136C11.8612 15.6833 11.3212 17.0408 11.2122 18.2069L15.1948 18.5794ZM15.0348 20.9891C15.0633 20.3304 15.1125 19.4587 15.1948 18.5794L11.2122 18.2069C11.1216 19.1747 11.0688 20.1174 11.0385 20.816L15.0348 20.9891ZM15.0064 21.7731C15.0117 21.5867 15.0206 21.3165 15.0348 20.9891L11.0385 20.816C11.0233 21.1659 11.0138 21.4561 11.008 21.6594L15.0064 21.7731ZM11.0024 24.0193L13.002 24.0171L12.9977 20.0171L10.998 20.0193L11.0024 24.0193ZM8.99301 21.7807C8.99594 21.8753 8.99849 21.9705 9.00074 22.0663L12.9996 21.9724C12.9972 21.8678 12.9944 21.7626 12.9911 21.6569L8.99301 21.7807ZM14.9994 22.0584C15.0014 21.9627 15.0037 21.8677 15.0064 21.7731L11.008 21.6594C11.005 21.7655 11.0024 21.871 11.0003 21.9759L14.9994 22.0584Z",fill:r,mask:"url(#path-1-inside-1_420_7939)"})]}))},Ae=e=>{var{width:t=24,height:i=24,color:r="currentColor"}=e,n=(0,Pe.Tt)(e,["width","height","color"]);return(0,s.jsx)("svg",Object.assign({width:t,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C13.8954 5 13 5.89543 13 7V17C13 19.2091 11.2091 21 9 21C6.79086 21 5 19.2091 5 17V15H7V17C7 18.1046 7.89543 19 9 19C10.1046 19 11 18.1046 11 17V7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7V10.126C20.7252 10.5701 22 12.1362 22 14C22 16.2091 20.2091 18 18 18C15.7909 18 14 16.2091 14 14C14 12.1362 15.2748 10.5701 17 10.126V7C17 5.89543 16.1046 5 15 5ZM2 10C2 7.79086 3.79086 6 6 6C8.20914 6 10 7.79086 10 10C10 12.2091 8.20914 14 6 14C3.79086 14 2 12.2091 2 10Z",fill:r})}))},Be=e=>{var{width:t=24,height:i=24,color:r="currentColor"}=e,n=(0,Pe.Tt)(e,["width","height","color"]);return(0,s.jsx)("svg",Object.assign({width:t,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73743 3H15.2808L14.7808 5H21.4771L19.0953 10.9544L21.6181 16H10.2193L10.7193 14H7.38028L9.20249 21.7444L7.25565 22.2025L2.73743 3Z",fill:r})}))},ze=e=>{var{width:t=32,height:i=32,color:r="currentColor"}=e,n=(0,Pe.Tt)(e,["width","height","color"]);return(0,s.jsx)("svg",Object.assign({width:t,height:i,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 27V24H24C25.1046 24 26 23.1046 26 22V10.882L21 8.38197V8C21 5.23858 18.7614 3 16 3C13.5603 3 11.5287 4.74734 11.0884 7.05881C7.65314 7.50556 5 10.4429 5 14C5 16.38 6.18818 18.4814 8 19.7452V25.4648C8 26.1335 8.33421 26.758 8.8906 27.1289L11.6972 29H14C15.1046 29 16 28.1046 16 27ZM13.1398 7.09233C14.7598 7.35762 16.1928 8.17906 17.2362 9.35419C17.3212 9.25358 17.4275 9.1682 17.5528 9.10557L19 8.38197V8C19 6.34315 17.6569 5 16 5C14.6595 5 13.5244 5.87916 13.1398 7.09233ZM11 10C11 9.44772 11.4477 9 12 9C12.5523 9 13 9.44772 13 10V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V10ZM19 13.9999C19 12.9077 18.7499 11.874 18.3038 10.9528C18.3523 10.9372 18.4002 10.9178 18.4472 10.8943L20 10.1179L24 12.1179V21.9999H16V19.7451C17.8118 18.4813 19 16.3799 19 13.9999Z",fill:r})}))},Fe=e=>{var{width:t=32,height:i=32,color:r="currentColor"}=e,n=(0,Pe.Tt)(e,["width","height","color"]);return(0,s.jsxs)("svg",Object.assign({width:t,height:i,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13C22.933 13 24.5 11.433 24.5 9.5C24.5 7.567 22.933 6 21 6C19.067 6 17.5 7.567 17.5 9.5C17.5 11.433 19.067 13 21 13Z",fill:r}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12Z",fill:r}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411Z",fill:r}),(0,s.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z",fill:r}),(0,s.jsx)("path",{d:"M20.9672 14C24.4707 14 26.9673 16.2139 26.9672 19.7255C26.9672 20.9817 25.8768 22 24.5318 22H19.8866C19.7841 21.2971 19.6055 20.6275 19.354 20L18.489 18.5C18.6362 18.5 18.5 18.5 18.5 18.5L17.5551 17.3038C17.0845 16.8471 16.5627 16.4578 16 16.1363C16.9871 14.7754 18.666 14 20.9672 14Z",fill:r})]}))};var He=i(55129),Ue=i(81988);var De=i(6618);const Ve=e=>{var{color:t="currentColor",isFilled:i}=e,r=(0,Pe.Tt)(e,["color","isFilled"]);return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9177 1.51012L13.8975 1L7.79559 7.24769C7.28405 7.80186 7 8.52836 7 9.28253V18.0006C7 19.6574 8.34314 21.0006 10 21.0006H17.1966C18.5495 21.0006 19.7349 20.0951 20.0909 18.7899L22 11.7899C22.5205 9.88149 21.0838 8.00056 19.1057 8.00056H15.1656L16 3.60309C16.1321 2.7444 15.6947 1.89865 14.9177 1.51012ZM17.1966 19.0006H10C9.44772 19.0006 9 18.5528 9 18.0006V9.28253C9 9.03114 9.09468 8.78897 9.2652 8.60425L13.9285 3.91502L12.8344 10.0006H19.1057C19.7651 10.0006 20.244 10.6275 20.0705 11.2637L18.1614 18.2637C18.0427 18.6987 17.6476 19.0006 17.1966 19.0006Z",fill:t}),(0,s.jsx)("path",{d:"M5 21.0006V8.00056H3V21.0006H5Z",fill:"black"}),i&&(0,s.jsx)("path",{d:"M13.8975 1L14.9177 1.51012C15.6947 1.89865 16.1321 2.7444 16 3.60309L15.1656 8.00056H19.1057C21.0838 8.00056 22.5205 9.88149 22 11.7899L20.0909 18.7899C19.7349 20.0951 18.5495 21.0006 17.1966 21.0006H10C8.34315 21.0006 7 19.6574 7 18.0006V9.18637C7 8.42446 7.28989 7.6911 7.81085 7.13512L13.8975 1Z",fill:t}),(0,s.jsx)("path",{d:"M5 8.00052L3 8.00056V21.0006H5V8.00052Z",fill:t})]}))};var $e=i(86445),We=i(21959),qe=i(93328),Ze=i(57904),Qe=i(20887);const Ge=e=>{switch(!0){case!!(t=e.frames).length&&(0,we.Iz)(t[t.length-1]):return"routeSearchIcon";case"friends"===e.activeLayer:return"friendsLayerIcon";case(e=>{const[t,i]=e;return"publicFavorites"===(null==t?void 0:t.type)||"collection"===(null==t?void 0:t.type)&&"publicFavorites"===(null==i?void 0:i.type)||"entity"===(null==t?void 0:t.type)&&"collection"===(null==i?void 0:i.type)})(e.frames):case(0,qe.G)(e.frames):return"interestingIcon";case"realty"===e.activeLayer:return"realtyLayerIcon";case!!(0,W.bB)(e.frames,"advice"):return"adviceIcon";case!!(0,W.bB)(e.frames,"userProfile"):return"userProfileIcon"}var t;return"dashboardIcon"},Ke=({tp:e,dispatch:t,isMobileDevice:i,isGuideEnabled:r,featureInteresting:n,featureReadOnly:a,featureRealty:o,shouldShowAdvice:c,lang:d,directionsStoreLink:l})=>{const u=[{title:e._t("Поиск"),name:"dashboardIcon",onClick:()=>t((0,h.K2)((0,L.sU)(),(0,Me.X_)({isMinimized:!1}))),urlParams:{type:"root"},getIcon:e=>e?(0,s.jsx)(ke.U,{width:24,height:24,color:"currentColor"}):(0,s.jsx)(Re,{})},{title:e._t("Маршруты"),name:"routeSearchIcon",onClick:()=>{i?"ru"===d?t((0,Le.t)("routeSearchFullscreenPopup")):window.open(l):t((0,h.K2)((0,T.PC)(),(0,je.P)()))},urlParams:{type:"directions"},getIcon:e=>e?(0,s.jsx)(Ae,{}):(0,s.jsx)(Oe.B,{})}];return a||u.push({title:e._t("Друзья"),name:"friendsLayerIcon",layerName:"friendsLayer",onClick:()=>t((0,h.K2)(!i&&He.V.openFriendsList(Ue.M.openPublicProfile),(0,ve.po)({newLayer:"friends"}))),urlParams:{type:"friends"},getIcon:e=>e?(0,s.jsx)(Fe,{}):(0,s.jsx)(Se.m,{})}),a||(r?u.push({title:e._t("Гид"),name:"interestingIcon",onClick:()=>t((0,h.K2)((0,Ie.n)((0,h.v6)((()=>Ce.m.set((()=>!1))))),(0,T.PC)(),Ze.o.Q.openGuide())),urlParams:{type:"guide"},getIcon:e=>e?(0,s.jsx)(Be,{}):(0,s.jsx)(Ee,{})}):n&&u.push({title:e._t("Гид"),name:"interestingIcon",onClick:()=>t((0,h.K2)((0,Ie.n)((0,h.v6)((()=>Ce.m.set((()=>!1))))),(0,T.PC)(),(0,_e.J)("interesting"))),urlParams:{type:"interesting"},getIcon:e=>e?(0,s.jsx)(Be,{}):(0,s.jsx)(Ee,{})})),o&&u.push({title:e._t("Жильё"),name:"realtyLayerIcon",layerName:"realtyLayer",urlParams:{type:"realty"},getIcon:e=>e?(0,s.jsx)(ze,{}):(0,s.jsx)(Te.G,{}),onClick:()=>t(Qe.Pf.signals.open())}),c&&u.push({title:e._gg("Советы"),name:"adviceIcon",getIcon:e=>(0,s.jsx)(Ve,{isFilled:e}),onClick:()=>t($e.mH.openAdviceFrame()),urlParams:{type:"advice"}}),u};var Ye=i(1269),Xe=i(7143),Je=i(7044);const et=(0,Ye.V)("setNavigationIsFriendsClicked",(0,Xe.T)("appContext",((e,{isClicked:t})=>Object.assign(Object.assign({},e),{navigation:Object.assign(Object.assign({},e.navigation),{isFriendsClicked:t})})))),tt=(0,h.n5)("setIsFriendsClicked",(({isClicked:e})=>(0,h.K2)((0,Je.T)({name:"isFriendsClicked",value:e?"clicked":""}),et({isClicked:e})))),it=e=>e.appContext.navigation;var st=i(7540);const rt=()=>({frameId:e},t,i)=>{if(!i)return;const{layerName:s,name:r,position:n}=i,a=(0,c.zN)(t),o=(0,H.u)(t);return Object.assign({action:"tap",uiElement:{name:r,ownerName:"sideIconMenu",position:n,frameUuid:e}},s?{payload:{mapLayer:{name:s,entity:{type:"mapLayer",segmentInfo:(0,st.o)({locale:o,region_id:a})},enableMapLayer:!0}}}:{})},nt="navigationAuth",at="withNavigationAuth";(0,q.n)({name:nt,percentRange:[0,0],groups:["controlGroup",at],forDesktop:!0});var ot=i(64433);function ct({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5H10V7H8C6.89543 7 6 7.89543 6 9V15C6 16.1046 6.89543 17 8 17H10V19H8C5.79086 19 4 17.2091 4 15V9C4 6.79086 5.79086 5 8 5ZM13.2929 7.70712L16.5858 11H9V13H16.5858L13.2929 16.2929L14.7071 17.7071L19.7071 12.7071L20.4142 12L19.7071 11.2929L14.7071 6.29291L13.2929 7.70712Z",fill:e})}))}var dt=i(91818);const lt=()=>({frameId:e})=>({uiElement:{name:"authorisationButton",ownerName:"sideIconMenu",frameUuid:e},action:"tap"}),ut=({className:e})=>{const t=(0,xe.c)(),i=(0,le.E)().useBssHandler(lt),r=(0,ot.I)((()=>(0,dt.oC)()));return(0,s.jsxs)("div",Object.assign({className:e,onClick:()=>{i(),r()}},{children:[(0,s.jsx)(ct,{}),(0,s.jsx)("span",Object.assign({},be.dx.n("wat-enter"),{children:t._t("Войти")}))]}))};var pt=i(23098),mt=i(84655),gt=i(23300),ht=i(40819);const ft=e=>{const{className:t,isUserStatusUnknown:i,user:r}=e,n=(0,xe.c)(),{s:a,css:o}=(0,pe.I)(vt),c=(0,ot.I)((()=>Qe.Ki.Q.openUserProfile()));if(i)return(0,s.jsxs)("div",Object.assign({className:t},{children:[(0,s.jsx)(mt.j,{width:24,height:24}),(0,s.jsx)(gt.Y,{full:!0,fontSize:12,lineHeight:14})]}));if(r){const e=r.avatar_preview_tpl?r.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):r.avatar;return(0,s.jsxs)("div",Object.assign({className:t,onClick:c},{children:[(0,s.jsx)("div",Object.assign({className:o(a.avatar)},{children:(0,s.jsx)(pt.e,{src:e,initials:()=>r&&(0,ht.Z)(r,n)})})),(0,s.jsx)("span",{children:n._t("Профиль")})]}))}return null},vt=(0,pe.r)({avatar:{width:24,height:24,border:"1px solid",borderColor:"#C0C0C0",borderRadius:"50%",overflow:"hidden",backgroundColor:he.T.gray_f2f2f2}}),bt=()=>{const{experiments:e}=(0,fe.U)(),{s:t,css:i}=(0,pe.I)(yt),r=(0,de.d4)((e=>!!(0,W.bB)(e.appContext.frames,"userProfile"))),n=(0,de.d4)(We.ug),a=(0,de.d4)(We.Us);return(0,q.l)(nt,e)===at?a||n.data?(0,s.jsx)(ft,{className:i(t.wrapper,r&&t.isActive),isUserStatusUnknown:a,user:n.data}):(0,s.jsx)(ut,{className:i(t.wrapper)}):null},yt=(0,pe.r)((({mobile:e})=>({wrapper:Object.assign(Object.assign({},ye.tinyMedium),{boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:8,paddingBottom:8,marginEnd:8,marginStart:8,color:he.T.gray_989bab,gap:2,position:"relative",flexGrow:e?1:"unset",borderBottom:"1px solid",borderColor:he.T.gray_e6e6e6,"&:hover":{cursor:"pointer",color:he.T.green_30ad00}}),isActive:{color:he.T.green_30ad00}})));var xt=i(12043);const jt=()=>{const{css:e,s:t}=(0,pe.I)(wt),i=(0,de.d4)(it).isFriendsClicked,{isMobileDevice:r}=(0,fe.U)(),{useBssHandler:n}=(0,le.E)(),o=(0,de.wA)(),c=n(rt),d=(0,de.d4)((e=>"friends"===e.appContext.activeLayer));(0,a.useEffect)((()=>{d&&!i&&o(tt({isClicked:!0}))}),[o,i,d]);const{items:l,activeItem:u}=(()=>{const e=(0,xe.c)(),t=(0,de.d4)((e=>e.session.platform)),i=(0,Ne.zP)({platform:t,type:"modalGeoPromoDirect"}),{lang:s,isMobileDevice:r,featureReadOnly:n,featureRealty:a,featureInteresting:o}=(0,fe.U)(),c=(0,de.d4)((e=>e.appContext)),d=(0,de.d4)(We.x3),l=(0,de.d4)(De.g)&&d,u=(0,de.d4)(Ze.o.T.o),p=(0,de.wA)();return{items:Ke({tp:e,dispatch:p,isMobileDevice:r,isGuideEnabled:u,featureInteresting:o,featureReadOnly:n,featureRealty:a,shouldShowAdvice:l,directionsStoreLink:i,lang:s}),activeItem:Ge(c)}})();return(0,s.jsxs)("div",Object.assign({className:e(t.wrapper)},{children:[(0,s.jsx)(xt.j,{children:(0,s.jsx)(bt,{})}),l.map(((n,l)=>(0,a.createElement)(me.W,Object.assign({},n.urlParams,{key:`${n.name}_navigation_item`}),(a=>(0,s.jsxs)("div",Object.assign({},be.dx.n("wat-navigation-bar-item"),be.dx.t(`${n.name}`),be.dx.s(n.name===u?"active":"inactive"),{onClick:()=>(({layerName:e,name:t,onClick:i},s)=>{c({position:s,layerName:e,name:t}),o((0,ve.po)({newLayer:void 0})),i()})(n,l+1),className:e(t.item,u===n.name&&t.isActive)},{children:[(0,s.jsx)("div",Object.assign({className:e(t.icon)},{children:n.getIcon(n.name===u,r)})),(0,s.jsx)(ue.A,Object.assign({color:"inherit",href:a},{children:n.title})),"friendsLayerIcon"===n.name&&!i&&!d&&(0,s.jsx)("div",{className:e(t.badge)})]}))))))]}))},wt=(0,pe.r)((({mobile:e})=>({wrapper:Object.assign(Object.assign({boxSizing:"border-box"},e?{width:"100%",paddingTop:8,paddingBottom:8,paddingStart:16,paddingEnd:16,flexDirection:"row",justifyContent:"space-around",borderTop:"1px solid #E5E7EE"}:{height:"100%",width:ge.Ej.navigationWidth,paddingTop:4,flexDirection:"column",boxShadow:"-1px 0px 0px 0px #0000000D inset"}),{display:"flex",gap:8,zIndex:ge.fE.top,background:he.T.white}),item:Object.assign(Object.assign({},ye.tinyMedium),{boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:8,color:he.T.gray_989bab,gap:2,position:"relative",flexGrow:e?1:"unset","&:hover":{cursor:"pointer",color:he.T.green_30ad00}}),icon:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},isActive:{color:he.T.green_30ad00},badge:{position:"absolute",top:0,right:8,borderRadius:"100%",background:he.T.red_e10d0d,width:8,height:8}})));var It=i(63795),Ct=i(41350);const _t={frames:[],storiesPopupData:{},friendsOnMap:It.sT.defaultState,friendInOtherDomain:ce.$.defaultState,navigation:{isFriendsClicked:!1},graveyard:[],staticFrames:{map:{id:""},sidebar:{id:""},dashboard:{id:""}},center:{lat:55.035257,lon:82.901115},zoom:11,rotation:0,pitch:0,lang:"ru",defaultLocale:"ru_RU",activeLayer:void 0,activeSublayer:void 0,showPrivacyPolicyBanner:!1,weak:{dashboard:{transitions:{rubricsId:(0,ae.vt)("")}},rubricator:{transition:(0,ae.vt)("")},rubric:{transition:(0,ae.vt)("")},markers:{catalog:{},realty:{}},suggests:{},notifications:[],productsSearchCount:0,emailVerificationStatus:void 0,mapInteractionStarted:!1,isMapViewRepresentedInOriginalRequest:!1,isClearRootPageStart:!1,showSlugsNeededOnlyForStartup:!0,isLangRepresentedInOriginalRequest:!0,wasBc:!1,newYearPlaceholder:{text:"",iconType:"tree"},favoritesUIState:{},visitedRealty:Ct.QU.constants.visitedDefaultState},ruler:{isActive:!1,points:[]},showTrafficOnMap:!1,relief:!1,showAirplaneLogo:!0,showSnow:{status:"off",intensity:25,allowSnowStyle:!1},isImmersiveMapEnabled:!1,isImmersivePromoViewed:!1,isImmersivePromoRunning:!1},kt=[function(e,t){switch(t.type){case"MAP/SYNC_VIEW":return function(e,t){const i={};void 0!==t.lat&&void 0!==t.lon&&(i.center={lon:t.lon,lat:t.lat});void 0!==t.zoom&&(i.zoom=t.zoom);void 0!==t.rotation&&(i.rotation=t.rotation);void 0!==t.pitch&&(i.pitch=t.pitch);return Object.assign(Object.assign({},e),i)}(e,t.payload);case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{floors:{floorsId:t.id,currentFloor:t.currentFloor}})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{floors:void 0})}(e);case"MAP/SELECT_FLOOR":return function(e,t){if(!e.floors)return e;return Object.assign(Object.assign({},e),{floors:Object.assign(Object.assign({},e.floors),{currentFloor:t.floorIndex,isManuallySelected:t.isManuallySelected})})}(e,t.payload);case"UI/SET_DEFAULT_LOCALE":return Object.assign(Object.assign({},e),{defaultLocale:t.payload.locale});case"UI/SET_LANG":case"I18N/SYNC_LANG":return Object.assign(Object.assign({},e),{lang:t.payload.lang});case"UI/SET_STATIC_FRAMES_PARAMS":return Object.assign(Object.assign({},e),{staticFrames:{map:{id:t.payload.mapFrameId},sidebar:{id:t.payload.sidebarFrameId},dashboard:{id:t.payload.dashboardFrameId}}});case"UI/SET_RULER":return Object.assign(Object.assign({},e),{ruler:Object.assign(Object.assign({},e.ruler),t.payload)});case"UI/TOGGLE_TRAFFIC":return Object.assign(Object.assign({},e),{showTrafficOnMap:!e.showTrafficOnMap});case"UI/TOGGLE_AIRPLANE_LOGO":return Object.assign(Object.assign({},e),{showAirplaneLogo:!e.showAirplaneLogo});case"UI/SET_SHOW_SNOW":return Object.assign(Object.assign({},e),{showSnow:Object.assign(Object.assign({},e.showSnow),t.payload)});default:return e}},function(e,t){switch(t.type){case"UI/ADD_FRAME":return function(e,t){const i=e.frames,s=Object.assign({},t.payload),r=re(e.frames,s),n=function(e,t){return!(!e.length||!t.length||e[e.length-1].id===t[t.length-1].id||1===e.length&&1===t.length&&e[0].type===t[0].type&&"tUgc"===e[0].type)}(i,r),a=n?[...e.graveyard,i]:e.graveyard;n&&(s.victimsId=i.map((e=>e.id)));return Object.assign(Object.assign({},e),{frames:r,graveyard:a})}(e,t);case"UI/REMOVE_FRAME":return function(e,t){const i=e.frames.find((e=>t.payload.id===e.id));if(!i)return e;const s=i.victimsId?(r=e.graveyard,n=i.victimsId,r.find((e=>e.every((e=>!!n.find((t=>t===e.id))))))):void 0;var r,n;return Object.assign(Object.assign({},e),{frames:s||e.frames.filter((e=>e.id!==t.payload.id)),graveyard:s?ne(e.graveyard,s):e.graveyard})}(e,t);case"UI/REMOVE_RIGHT_FRAMES":return function(e,t){let i=-1;if(e.frames.some(((e,s)=>e.id===t.payload.id&&(i=s,!0))),i<0)return e;return Object.assign(Object.assign({},e),{frames:e.frames.slice(i)})}(e,t);case"UI/REPLACE_FRAME":return function(e,t){const i=function(e,t){let i=!1;const s=e.map((e=>e.id!==t.id||e===t||(0,te.b)(e,t)?e:(i=!0,t)));return i?s:e}(e.frames,t.payload);if(i===e.frames)return e;return Object.assign(Object.assign({},e),{frames:i})}(e,t);case"UI/CLEAR_FRAMES":return function(e){if(!e.frames.length)return e;return Object.assign(Object.assign({},e),{frames:[],graveyard:[]})}(e);case"UI/KILL_FRAMES":return function(e){if(!e.frames.length)return e;const t=e.frames;return Object.assign(Object.assign({},e),{frames:[],graveyard:[...e.graveyard,t]})}(e);case"UI/RESURRECT_FRAMES":return function(e){if(!e.graveyard.length)return Object.assign(Object.assign({},e),{frames:[],graveyard:[]});const t=e.graveyard[e.graveyard.length-1],i=t.map((t=>e.frames.find((e=>e.id===t.id))||t));return Object.assign(Object.assign({},e),{frames:i,graveyard:e.graveyard.slice(0,-1)})}(e);default:return e}},function(e,t){switch(t.type){case"UI/OPEN_POPUP":return function(e,t){return Object.assign(Object.assign({},e),{popup:"createReview"===t.type?Object.assign(Object.assign({},t),{isModal:!0}):t})}(e,t.payload);case"UI/CLOSE_POPUP":return function(e){if(!e.popup)return e;return Object.assign(Object.assign({},e),{popup:void 0})}(e)}return e},function(e,t){switch(t.type){case"WEAK/SET_DASHBOARD_RUBRICS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{rubricsId:t})})})})}(e,t.payload);case"WEAK/SET_RUBRICATOR_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubricator:Object.assign(Object.assign({},e.weak.rubricator),{transition:t})})})}(e,t.payload);case"WEAK/SET_RUBRIC_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubric:{transition:t}})})}(e,t.payload);case"SUGGEST/SET_SUGGEST_ID":return function(e,t){const i=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},i),{suggestId:t.suggestId})})})})}(e,t.payload);case"SUGGEST/SET_QUERY":return function(e,t){const i=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},i),{query:t.query})})})})}(e,t.payload);case"SUGGEST/TOGGLE":return function(e,t){const i=e.weak.suggests[t.suggesterKey]||{};if(i.show===t.show)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},i),{show:t.show,highlightedIndex:void 0})})})})}(e,t.payload);case"SUGGEST/HIGHLIGHT_SUGGESTION":return function(e,t){const i=e.weak.suggests[t.suggesterKey]||{};if(i.highlightedIndex===t.index)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},i),{highlightedIndex:t.index})})})})}(e,t.payload);case"UI/SHOW_NOTIFICATION":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:[...e.weak.notifications,t]})})}(e,t.payload);case"UI/HIDE_NOTIFICATION":return function(e,t){const i=e.weak.notifications.filter((e=>e.id!==t.id));if(i.length===e.weak.notifications.length)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:i})})}(e,t.payload);case"WEAK/MAP_INTERACTION_START":return e.weak.mapInteractionStarted?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{mapInteractionStarted:!0})});case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:{floorNames:t.floorNames,firmsToFloorIndexMap:t.firmsToFloorIndexMap}})})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:void 0})})}(e);case"WEAK/PATCH":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),t)})}(e,t.payload);case"WEAK/SET_CATALOG_MARKERS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{markers:Object.assign(Object.assign({},e.weak.markers),{catalog:{[t.frameId]:t.markersId}})})})}(e,t.payload);case"WEAK/SET_REVIEW_RATING":return function(e,{rating:t}){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{reviewRating:t})})}(e,t.payload);case"WEAK/REMOVE_REVIEW_RATING":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{reviewRating:void 0})})}(e);case"BSS/TRACK_ACTION":return function(e,t){if(e.weak.wasBc)return e;if(t.autoEvent||"tap"!==t.action)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{wasBc:!0})})}(e,t.payload)}return e}];function Ot(e=_t,t){return kt.reduce(((e,i)=>i(e,t)),e)}const St=e=>({appContext:Ot,config:(0,oe.R)(e)});var Tt=i(89979);function Et(e){return{locale:(0,H.u)(e)}}var Mt=i(62200);var Nt=i(26064),Lt=i(88220),Pt=i(68076),Rt=i(7515),At=i(21252),Bt=i(99906);var zt=i(10048),Ft=i(58471),Ht=i(78075),Ut=i(52107),Dt=i(93),Vt=i(54924);const $t=(0,a.memo)((e=>(0,s.jsx)(zt.w,{loader:Ft.b.searchResults,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Wt(e)}))),Wt=e=>t=>{if("error"===t)throw zt.M;const i="search"===e.frame.type&&"query"===e.frame.searchType&&e.frame.tabCatalog.rubricId?(0,Dt.S)({rubricId:e.frame.tabCatalog.rubricId,rubricsWhiteListMap:(0,Vt.p)(e.config)}):void 0;return(0,s.jsx)(Ht.e,Object.assign({header:(0,s.jsx)("div",{style:{height:"105px",background:he.T.gray_f2f2f2,borderBottom:`1px solid ${he.T.gray_e6e6e6}`}}),sidebar:(0,s.jsx)("div",{}),areFiltersOpened:e.frameContext.areFiltersOpened},{children:(0,s.jsx)(s.Fragment,{children:Array(10).fill("").map(((e,t)=>(0,s.jsx)(Ut.r3,{withoutPhotos:!i,isMedia:null==i?void 0:i.isMedia},t)))})}))};var qt=i(26461),Zt=i(66333),Qt=i(33626),Gt=i(71085),Kt=i(74786),Yt=i(80648),Xt=i(36539);const Jt=(0,u.eJ)(),ei=(0,Zt.Mz)([({state:e,props:t})=>Jt({state:e,entityId:t.frame.entityId,searchId:t.frame.searchId}),({state:e})=>(0,Gt.y)(e),({state:e,props:t})=>(0,Yt.QW)(t.frame.entityId)(e),({state:e,props:t})=>{var i;return null===(i=e.data.reviewSearch[(0,Xt.z)(t.frame,"reviews")||""])||void 0===i?void 0:i.meta.status},({state:e})=>e.config.featureMetrostationScheme,({state:e})=>e.config.metroSchemeProjects,({state:e})=>{var t;return null===(t=(0,c.n$)(e))||void 0===t?void 0:t.code}],((e,t,i,s,r,n,a)=>{var o,c,d;const l=(0,Kt.MV)(t),u=r&&!!a&&n.includes(a);return{entity:e,searchCtx:l,searchKeyword:i,reviewStatus:s,isMetroCardWithMetroScheme:("station"===(null===(o=e.data)||void 0===o?void 0:o.type)&&"metro"===e.data.subtype||"station_entrance"===(null===(c=e.data)||void 0===c?void 0:c.type)&&"metro"===e.data.subtype||!!e.data&&"floor_plans"in e.data&&!!(null===(d=e.data.floor_plans)||void 0===d?void 0:d.default_station_plan_id))&&u}})),ti=(0,Qt.tr)(((e,t)=>ei({state:e,props:t})));var ii=i(54477),si=i(92585);function ri(e,t){const i=t.appContext.frames.find(si.n);if(!i||"geometry"!==e.origin||!e.geometry||"polyline"!==e.geometry.type)return;const s=e.geometry.eventData&&e.geometry.eventData.id;return"string"==typeof s&&s?(0,ii.h)({activeDirectionId:s,frameId:i.id}):void 0}var ni=i(63536);var ai=i(13179),oi=i(88067);const ci=(0,Qt.Yn)((e=>({subscribeOnEvents:t=>e(function({id:e}){return(0,N.q2)({id:e,type:"map:click",handler:ri,stopIfHandled:!0,priority:ni.b.Frame})}(t)),removeListeners:t=>e((0,N.f)(t)),fetchPhotoData({entityId:t,searchCtx:i,searchKeyword:s}){e((0,ai.$D)({id:t,albumId:M.Qh,searchCtx:i,searchKeyword:s}))},fetchMediaData({entityId:t,searchCtx:i,searchKeyword:s}){e(oi.YD.prefetchMediaAlbum({objectId:t,albumId:M.Qh,searchCtx:i,searchKeyword:s}))},switchOnMetroLayer:()=>{e((0,ve.po)({newLayer:"metro"}))}})));var di=i(54914),li=i(88756),ui=i(89446),pi=i(56671),mi=i(78579),gi=i(80333),hi=i(86645),fi=i(21409),vi=i(11827);var bi=i(38132),yi=i(75370),xi=i(66748);const ji=[void 0,void 0];function wi(e,t,i){return[Math.round(255*e),Math.round(255*t),Math.round(255*i)]}function Ii(e,t,i){let s=i;return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}var Ci=i(9154);function _i(e){const t=e.toString(16);return 1===t.length?"0"+t:t}function ki(e,t){const[i,s]=function(e){const t=e[0]/255,i=e[1]/255,s=e[2]/255,r=Math.max(t,i,s),n=Math.min(t,i,s),a=r-n;let o=0;0===a?o=0:r===t?o=(i-s)/a%6:r===i?o=(s-t)/a+2:r===s&&(o=(t-i)/a+4);const c=(n+r)/2;return[60*o,0===a?0:a/(1-Math.abs(2*c-1)),c]}((0,Ci.E)(e));return function([e,t,i]){return"#"+_i(e)+_i(t)+_i(i)}(function(e){const t=e[0]/360,i=e[1],s=e[2];if(0===i)return wi(s,s,s);const r=s<.5?s*(1+i):s+i-s*i,n=2*s-r;return wi(Ii(n,r,t+1/3),Ii(n,r,t),Ii(n,r,t-1/3))}([i,s,t]))}var Oi=i(10742),Si=i(48699),Ti=i(50548),Ei=i(48914),Mi=i(7818);var Ni=i(22163),Li=i(12222),Pi=i(33224),Ri=i(47070),Ai=i(45641),Bi=i(82316),zi=i(25551),Fi=i(19945),Hi=i(76504),Ui=i(43027),Di=i(98379);const Vi=e=>({frameId:t},i)=>{if(e.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{video:{entity:{id:e.videoId,type:"video"}},placeItem:(0,Di.t)({state:i,entityFrameId:t})}}},$i=({position:e,isVideo:t,media:i})=>({frameId:s},r)=>({uiElement:{name:t?"videoCardMini":"galleryPreview",ownerName:"placeCardFull",frameUuid:s,position:e},action:"tap",payload:Object.assign({placeItem:(0,Di.t)({state:r,entityFrameId:s,position:e})},t&&{video:{videoId:i.id}})}),Wi=({position:e,media:t,isVideo:i})=>({frameId:s},r)=>({uiElement:{name:i?"videoCardMini":"photoCardMini",ownerName:"placeCardFull",frameUuid:s,position:e},payload:Object.assign({placeItem:(0,Di.t)({state:r,entityFrameId:s,position:e})},i?{video:{videoId:t.id}}:{photo:{photoId:t.id}})}),qi=()=>({showEventParams:e,frameId:t},i)=>{var s;if(!e)return;const r=null===(s=e.payload)||void 0===s?void 0:s.placeItem;if(r)return{uiElement:Object.assign(Object.assign({},e.uiElement),{frameUuid:t}),action:"tap",payload:{placeItem:r}};(0,K.vV)({message:"Не удалось сформировать payload.placeItem для события Тапнул в фотофон в шапке карточки (a-d2ub5)",level:"error",id:"mlksa",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,W.w1)(i.appContext.frames,t))}})},Zi=(0,a.memo)((({photo:e,position:t})=>{const{css:i,s:r}=(0,pe.I)(Qi),{lang:n}=(0,fe.U)(),{bssRef:a}=(0,le.E)(Wi({position:t,media:e}),{threshold:.7}),o=(0,le.E)().useBssHandler($i,{position:t,media:e}),c=(0,de.wA)(),d=(0,Oi.D)((t=>{t.preventDefault(),t.stopPropagation(),c((0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"entity")),(t=>t&&(0,T.PC)((0,Ui.z)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),o()}));return(0,s.jsx)("div",Object.assign({className:i(r.root),ref:a,onClick:d},be.dx.n("wat-firm-photo"),{children:(0,s.jsx)(Hi.O,{src:e.preview_urls["328x170"],src2x:e.preview_urls["656x340"],lazyLoadVisibilityOffset:-50,borderRadius:"8px",backgroundColor:he.T.black_transparent_06,isLoadingForced:1===t,alt:"ru"===n?"Фото":void 0})}))}));Zi.displayName="PhotoCaruselItem";const Qi=(0,pe.r)({root:{width:"100%",height:"100%",cursor:"pointer"}});var Gi=i(70356),Ki=i(83438),Yi=i(33466),Xi=i(69158);const Ji=(0,a.memo)((({video:e})=>{var t,i;const{css:r,s:n}=(0,pe.I)(es),{lang:a}=(0,fe.U)(),o=(0,de.wA)(),{bssRef:c,useBssHandler:d}=(0,le.E)((l={videoId:e.id},({frameId:e},t)=>{if(l.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:e},payload:{video:{entity:{id:l.videoId,type:"video"}},placeItem:(0,Di.t)({state:t,entityFrameId:e})}}}));var l;const u=d(Vi,{videoId:e.id}),p=(0,Oi.D)((e=>{e.preventDefault(),e.stopPropagation(),o((0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"entity")),(e=>e&&(0,T.PC)((0,Ki.X)({entityId:e.entityId,searchId:e.searchId}))))),u()}));return(0,s.jsxs)("div",Object.assign({className:r(n.root),ref:c,onClick:p},be.dx.n("wat-video-entry"),{children:[(0,s.jsx)(Hi.O,{src:(null===(i=null===(t=e.videos)||void 0===t?void 0:t[0])||void 0===i?void 0:i.thumbnailUrl)||"",lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:he.T.black_transparent_06,isLoadingForced:!0,alt:"ru"===a?"Подложка":void 0}),(0,s.jsx)("div",Object.assign({className:r(n.playLayer)},{children:(0,s.jsx)("div",Object.assign({className:r(n.play)},{children:(0,s.jsx)(Gi.j,{})}))}))]}))}));Ji.displayName="AdsVideoCaruselItem";const es=(0,pe.r)({root:{width:"100%",height:"100%",cursor:"pointer",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},playLayer:{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},play:{display:"flex",justifyContent:"center",alignItems:"center",width:48,height:40,overflow:"hidden",borderRadius:8,background:(0,Xi.m)(he.T.red_fe5000,.8),color:he.T.white,transition:`${Yi.S.short}ms ${Yi.l.base}`,"*:hover>&":{background:he.T.red_fe5000}}});var ts=i(95885);const is=(0,a.memo)((({adsImage:e})=>{const{css:t,s:i}=(0,pe.I)(ss),{lang:r}=(0,fe.U)(),{bssRef:n,useBssHandler:a}=(0,le.E)((({frameId:e},t)=>{const i=(0,Di.t)({state:t,entityFrameId:e,position:1});if(i)return{uiElement:{position:1,ownerName:"placeCardFull",name:"photoBackground",frameUuid:e},payload:{placeItem:i}};(0,K.vV)({message:"Не удалось сформировать payload.placeItem для события Увидел фотофон в шапке карточки (v-yj0ye)",level:"error",id:"lkdaj",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,W.w1)(t.appContext.frames,e))}})})),o=a(qi),c=(0,de.wA)(),d=(0,Oi.D)((e=>{e.preventDefault(),e.stopPropagation(),c((0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"entity")),(e=>e&&(0,T.PC)((0,Ui.z)({entityId:e.entityId,searchId:e.searchId,entityType:e.entityType,photoId:xi.F3}))))),o()}));return(0,s.jsx)("div",Object.assign({ref:n,className:t(i.root),onClick:d},{children:(0,s.jsx)(Hi.O,{src:(0,ts.m)(e.url,"328x170"),src2x:(0,ts.m)(e.url,"656x340"),lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:he.T.black_transparent_06,isLoadingForced:!0,alt:"ru"===r?"Фото":void 0})}))}));is.displayName="AdsImageCaruselItem";const ss=(0,pe.r)({root:{width:"100%",height:"100%",cursor:"pointer"}});var rs=i(43322),ns=i(65526);const as=(0,a.memo)((({media:e,position:t,activeVideoId:i,addVideoToSelectActive:r})=>{const{css:n,s:a}=(0,pe.I)(os),o="video"===e.media_type,{bssRef:c}=(0,le.E)(Wi({position:t,media:e,isVideo:o}),{threshold:.7}),d=(0,le.E)().useBssHandler($i,{position:t,isVideo:o,media:e}),l=(0,de.wA)(),u=(0,Oi.D)((t=>{t.preventDefault(),t.stopPropagation(),l((0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"entity")),(t=>t&&(0,T.PC)((0,Ui.z)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),d()}));return(0,s.jsx)("div",Object.assign({className:n(a.root),ref:c,onClick:u},be.dx.n("wat-firm-photo"),{children:(0,s.jsx)(ns.I,{data:e,previewSize:["328x170","656x340"],activeVideoId:i,addVideoToSelectActive:r,externalOnClick:!0,mediaPosition:t,lazyLoadVisibilityOffset:-50,borderRadius:"8px",backgroundColor:he.T.black_transparent_06,isLoadingForced:1===t,visibilityThreshold:.7,isPlayOnHover:!1,dataT:"wat-card-header"})}))}));as.displayName="MediaCaruselItem";const os=(0,pe.r)({root:{width:"100%",height:"100%",cursor:"pointer"}});var cs=i(21079);const ds=(0,a.memo)((({entity:e,items:t,activeVideoId:i,addVideoToSelectActive:r})=>{const{css:n,s:a}=(0,pe.I)(ls),{bssRef:o}=(0,le.E)((({frameId:e},t)=>({uiElement:{name:"galleryPreview",ownerName:"placeCardFull",frameUuid:e},payload:{placeItem:(0,Di.t)({state:t,entityFrameId:e})}})));return(0,s.jsx)(cs.D,{withDots:!0,idKey:"key",items:t,innerRef:void 0!==t[0]?o:void 0,styles:a.gallery,showAllPhotosText:!0,renderItem:(t,o)=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(us,{item:t,activeVideoId:i,addVideoToSelectActive:r}),0===o&&(0,s.jsx)("div",Object.assign({className:n(a.logo)},{children:(0,s.jsx)(rs.g,{size:64,entity:e,isLoadingForced:!0})}))]})})})),ls=(0,pe.r)({gallery:{marginBottom:12,marginStart:-24,marginEnd:-24},logo:{position:"absolute",bottom:12,start:12,width:64,height:64,pointerEvents:"none"},dots:{position:"absolute",start:0,end:0,bottom:8,display:"flex",justifyContent:"center",pointerEvents:"none"}}),us=({item:e,activeVideoId:t,addVideoToSelectActive:i})=>{let r=null;if(!e)return null;switch(!0){case"photo"in e:r=(0,s.jsx)(Zi,{photo:e.photo,position:e.position},e.key);break;case"video"in e:r=(0,s.jsx)(Ji,{video:e.video},e.key);break;case"media"in e:r=(0,s.jsx)(as,{media:e.media,position:e.position,activeVideoId:t,addVideoToSelectActive:i},e.key);break;case"adsImage"in e:r=(0,s.jsx)(is,{adsImage:e.adsImage},e.key);break;default:r=null}return r};var ps=i(41703),ms=i(53346),gs=i(16080),hs=i(43819);const fs=(0,a.memo)((()=>{const{css:e,s:t}=(0,pe.I)(vs),i=[(0,ps.B)({isLabelShown:!0,isSmallIcon:!0}),(0,gs.e)({frameType:"entity",ownerName:"placeCardFull",isLabelShown:!0,isSmallIcon:!0}),(0,ms.y)({isLabelShown:!0,isSmallIcon:!0})];return(0,s.jsx)("div",Object.assign({className:e(t.actions)},{children:i.map(((i,r)=>!!i&&(0,s.jsx)("div",Object.assign({className:e(t.action)},{children:(0,s.jsx)(hs.d,Object.assign({dataT:i.type,icon:i.icon,size:24,onClick:i.onClick,href:i.href},{children:i.label}))}),r)))}))})),vs=(0,pe.r)({actions:{display:"flex",marginBottom:12},action:{marginEnd:12}});var bs=i(83044),ys=i(39954),xs=i(40360),js=i(91255),ws=i(88735),Is=i(24872),Cs=i(51143);const _s=(0,h.n5)("fitAdsModelInMapView",(e=>(0,h.K2)((0,D.Ip)({dontUpdateResultsOnNextMapMove:!0}),(0,Ie.n)((0,Me.X_)({isMinimized:!0})),(0,ws.o6)({entityId:e.entityId},((e,t)=>{const i=e.data;if(!i)return(0,h.lQ)();const s=(0,Cs.du)({entity:i,state:t});return s?(0,Is.xZ)(Object.assign(Object.assign({},s),{zoom:18,pitch:45})):(0,h.lQ)()})))));var ks=i(95792),Os=i(96141);const Ss=e=>{var{color:t="currentColor"}=e,i=(0,Pe.Tt)(e,["color"]);return(0,s.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 2C6.67157 2 6 2.67157 6 3.5V6H3.5C2.67157 6 2 6.67157 2 7.5V12.5C2 13.3284 2.67157 14 3.5 14H8.5C9.32843 14 10 13.3284 10 12.5V10H12.5C13.3284 10 14 9.32843 14 8.5V3.5C14 2.67157 13.3284 2 12.5 2H7.5ZM10 9H12.5C12.7761 9 13 8.77614 13 8.5V3.5C13 3.22386 12.7761 3 12.5 3H7.5C7.22386 3 7 3.22386 7 3.5V6H8.5C9.32843 6 10 6.67157 10 7.5V9ZM3 7.5C3 7.22386 3.22386 7 3.5 7H8.5C8.77614 7 9 7.22386 9 7.5V12.5C9 12.7761 8.77614 13 8.5 13H3.5C3.22386 13 3 12.7761 3 12.5V7.5Z",fill:t,fillOpacity:"0.6"})}))};var Ts=i(43772);const Es=({coordinates:e})=>{const t=(0,xe.c)(),{css:i,s:r}=(0,pe.I)(Ms),{ref:n,addTooltip:a}=(0,ks.J)({title:t._t("Скопировать координаты"),to:"bottomMiddle"}),{copyToClipboard:o}=(0,Ts.C)({textToCopy:e,successMessage:t._t("Координаты скопированы в буфер обмена!")});return(0,s.jsxs)("div",Object.assign({ref:n,className:i(r.container)},{children:[(0,s.jsxs)(Os.$,Object.assign({compact:!0,noBorder:!0,appearance:"ghost",experimentalStyles:r.button,onClick:o},{children:[e,(0,s.jsx)(Ss,{})]})),a]}))},Ms=(0,pe.r)({container:{width:"max-content"},button:{display:"flex",alignItems:"center",gap:4,padding:0,color:he.T.gray_5c5c5c,":hover":{color:he.T.black}}});var Ns=i(65932),Ls=i(15770),Ps=i(39123),Rs=i(42735);const As=({linkHref:e})=>({frameId:t},i)=>{if(!e)return void(0,K.vV)({message:"Не удалось сформировать payload.link для события a-rxeic",level:"error",id:"rxeic",payload:{type:"debug",subtype:"BssTrackerV3"}});const s=(0,Di.t)({state:i,entityFrameId:t});return s||(0,K.vV)({message:"Не удалось сформировать payload.placeItem для события a-rxeic",level:"error",id:"rxeic",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:"guideOtelloButton",ownerName:"placeCardFull",frameUuid:t},payload:{link:{value:e},placeItem:s},action:"tap"}},Bs=({entityId:e})=>{const{s:t}=(0,pe.I)(zs),i=(0,xe.c)(),r=function(e){var t;const i=(0,Rs.z)(),{otelloUrl:s}=(0,fe.U)(),{scenarioId:r,rubricIds:n}=null!==(t=(0,Ps.U)("guide"))&&void 0!==t?t:{},{data:o}=Ls.MQ.useGetCollectionsQuery(i&&r?{projectId:i,scenarioId:r,rubricIds:n}:void 0),c=(0,a.useMemo)((()=>{var t;const{accommodation:i}=(null===(t=null==o?void 0:o.objects)||void 0===t?void 0:t.find((({catalog:t})=>t.id===e)))||{};if(null==i?void 0:i.id)return`${s}hotel/${i.id}?utm_campaign=book&utm_medium=guide&utm_source=link.2gis.ru`}),[o,e,s]);return c}(e),{bssRef:n,useBssHandler:o}=(0,le.E)((({linkHref:e})=>({frameId:t},i)=>{if(!e)return void(0,K.vV)({message:"Не удалось сформировать payload.link для события v-jbfkl",level:"error",id:"jbfkl",payload:{type:"debug",subtype:"BssTrackerV3"}});const s=(0,Di.t)({state:i,entityFrameId:t});return s||(0,K.vV)({message:"Не удалось сформировать payload.placeItem для события v-jbfkl",level:"error",id:"jbfkl",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:"guideOtelloButton",ownerName:"placeCardFull",frameUuid:t},payload:{link:{value:e},placeItem:s}}})({linkHref:r})),c=o(As,{linkHref:r}),d=(0,Oi.D)((()=>{c()}));return r?(0,s.jsx)(Ns.rA,Object.assign({external:!0,tag:"a",href:r,fullWidth:!0,appearance:"primary",size:"m",styles:t.root,containerRef:n,onClick:d,dataN:"wat-book-accommodation-button"},{children:i._gg("Посмотреть и забронировать")})):null},zs=(0,pe.r)({root:{marginTop:16}});var Fs=i(94447);const Hs=(0,a.memo)((e=>{var t,i,r;const{entity:n,frame:o,frameContext:c}=e,{css:d,s:l}=(0,pe.I)(Us),p=(0,xe.c)(),m=(0,fe.U)(),g=(0,de.wA)(),f=(0,de.d4)(Fs.FO),{name:v,address:b}=(0,Fi.wK)(n,p,{config:m,useSingleComponentForBranch:!0}),y=function(e){var t;const{frame:i,entity:s}=e,r="context"in s?null===(t=null==s?void 0:s.context)||void 0===t?void 0:t.entrance_id:void 0,n=i.entranceId||r;return n&&function(e,t){var i;const s="links"in e&&(null===(i=e.links)||void 0===i?void 0:i.database_entrances),r=t&&s?s.find((e=>e.id===t)):void 0;return null==r?void 0:r.entity_name}(s,n)}({frame:o,entity:n}),x=(0,Li.H)({entity:n,config:m,tp:p}),j="route"===n.type?(0,Ai.J)(n):void 0,w=(0,Pi.I)(n,m.defaultCountryCode,o.point),I="is_deleted"in n&&!!n.is_deleted,{isSearchBot:C,feature2gisAwards:_,baseDomain:k,locale:O}=m,S=(0,gi.X)(n),T="station"===n.type&&(0,zi.i)(n)?null===(t=n.routes)||void 0===t?void 0:t[0]:void 0,E=null===(r=null===(i=n.ads)||void 0===i?void 0:i.options)||void 0===r?void 0:r.color,N=E?`radial-gradient(139.86% 100% at 26.96% 0%, ${ki(E,.92)} 0%, ${he.T.white} 100%)`:void 0,{hasAward:L,awardName:P,awardIconUrl:A,awardTag:B,awardLabelLink:z}=(0,a.useMemo)((()=>(0,ys.a)({entity:n,feature2gisAwards:_,baseDomain:k,locale:O})),[n,_,k,O])||{},F=(0,de.d4)((e=>(0,Yt.kR)(n)(e))),H=(0,Oi.D)((()=>{g((0,h.K2)(function({entity:e,frameId:t}){return(0,Ei.cD)({uiElement:{name:"hasModelButton",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:(0,Mi.ij)({entity:e})},action:"tap"})}({entity:n,frameId:o.id}),_s({entityId:n.id})))})),U=function(e){var t,i,s,r,n,o;const{entity:c}=e,{featureVideoInGallery:d}=(0,fe.U)(),{searchCtx:l,searchKeyword:p}=(0,bi.Z)({entityId:c.id}),{data:m,isLoading:g}=(0,ai.Sg)({id:c.id,albumId:M.Qh,searchCtx:l,searchKeyword:p},{enabled:!d}),{data:h,isLoading:f}=oi.YD.useAlbum({objectId:c.id,albumId:M.Qh,searchCtx:l,searchKeyword:p},{enabled:d}),v=d?f:g,b=d?h:m,y=!!(null===(s=null===(i=null===(t=c.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.videos)||void 0===s?void 0:s[0]),x=(0,de.d4)((e=>y?(0,u.g7)({state:e,entityId:c.id}):void 0)),j=null===(o=null===(n=null===(r=c.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.images)||void 0===o?void 0:o[0],w=y&&!(null==x?void 0:x.data)&&(!(null==x?void 0:x.meta)||"loading"===x.meta.status)||!j&&v,I=null==b?void 0:b.pages[0].items,C=(0,a.useMemo)((()=>{var e,t;if(w)return ji;const i=[];if((null===(t=null===(e=null==x?void 0:x.data)||void 0===e?void 0:e.videos)||void 0===t?void 0:t[0])?i.push({video:x.data,key:x.data.id}):j&&i.push({adsImage:j,key:j.url}),I){const e=Math.min(I.length,10-i.length);for(let t=0;t<e;t++){const e=I[t];if(!e||e.id===xi.F3)break;const s=(0,yi.ED)(e)?{photo:e}:{media:e};i.push(Object.assign(Object.assign({},s),{position:i.length+1,key:e.id}))}}else v&&!i.length&&i.push(void 0);return i}),[w,I,x,j,v]);return{isShown:"__empty"!==c.id&&(w||!!C.length),items:C}}({entity:n}),D=(0,Oi.D)((()=>{var e;g((0,h.K2)((e={frameId:o.id},(0,Ei.cD)({uiElement:{name:"rating",ownerName:"placeCardFull",frameUuid:e.frameId},action:"tap"})),(0,Si.TE)(["Card","Header_rating","Click"]),(0,Ti.s)({tab:"reviews",frame:o,entity:n})))})),V=(0,Oi.D)((()=>{T&&g((0,R.fV)({id:T.id,type:"route",searchId:o.searchId}))})),$=(0,Ri.K)((0,Y.oE)([...v,y])),q=C?(0,W.n)(o,p,C,$):$,{addVideoToSelectActive:Z,activeVideoId:Q}=(0,bs.X)();return(0,s.jsxs)("div",Object.assign({className:d(l.root),style:{background:N}},be.dx.n("wat-header-card"),{children:[(0,s.jsx)(vi.z,{frame:o,frameContext:c}),(0,s.jsx)(xt.j,{children:(0,s.jsx)(fs,{})}),U.isShown&&(0,s.jsx)(ds,{entity:n,items:U.items,activeVideoId:Q,addVideoToSelectActive:Z}),(0,s.jsxs)(Ni.W,Object.assign({className:d(l.name,I&&l.grayText)},{children:[(0,s.jsx)("span",Object.assign({},be.dx.n("wat-card-title"),{children:q}))," ",!I&&(0,s.jsx)(fi.F,{entity:n})]})),["building","attraction"].includes(n.type)&&!!(null==b?void 0:b.length)&&(0,s.jsx)("div",Object.assign({className:d(l.address,I&&l.grayText)},{children:(0,s.jsx)(li.u,Object.assign({inline:!0},{children:b}))})),!!x.length&&(0,s.jsx)("div",Object.assign({className:d(l.extension)},{children:(0,s.jsx)(li.u,Object.assign({inline:!0},{children:[...x,!!T&&(0,s.jsx)(me.W,Object.assign({type:"route",id:T.id},{children:e=>(0,s.jsx)(ue.A,Object.assign({onClick:V,href:e},{children:T.name}))}),"metroLine")]}))})),!!j&&(0,s.jsx)("div",Object.assign({className:d(l.extension)},{children:j})),!!w&&(0,s.jsx)("div",Object.assign({className:d(l.extension)},{children:(0,s.jsx)(Es,{coordinates:w})})),!I&&!(!S&&!L)&&(0,s.jsxs)("div",Object.assign({className:d(l.row)},{children:[!!S&&(0,s.jsx)(pi.P,{children:(0,s.jsxs)("div",Object.assign({className:d(l.rating)},be.dx.n("wat-rating"),{onClick:D},{children:[L?(0,s.jsx)("div",Object.assign({className:d(l.ratingAwards)},{children:(0,s.jsx)(Bi.F,{color:he.T.gray_262626,size:14})})):(0,s.jsx)(ui.G,{color:he.T.gray_262626,size:14,rating:S.stars}),(0,s.jsx)("div",Object.assign({className:d(l.ratingValue)},{children:S.stars})),!!S.count&&(0,s.jsx)("div",Object.assign({className:d(l.ratingCount)},{children:p._nt(["%% оценка","%% оценки","%% оценок"],S.count)}))]}))}),L&&B&&P&&(0,s.jsx)("div",Object.assign({className:d(l.awards)},{children:(0,s.jsx)(xs.O,{tag:B,name:P,ownerName:"placeCardFull",iconUrl:A,link:z})}))]})),!I&&F&&(0,s.jsx)("div",Object.assign({className:d(l.row)},{children:(0,s.jsx)(js.Y,{onClick:H})})),I&&(0,s.jsx)(mi.F,Object.assign({code:410},{children:(0,s.jsxs)("div",Object.assign({className:d(l.deleted)},be.dx.n("wat-deleted-entity-block"),{children:[(0,s.jsx)("div",Object.assign({className:d(l.redText)},{children:"branch"===n.type?p._t("Филиал удалён из справочника"):p._t("Объект удалён из справочника")})),"branch"===n.type&&(0,s.jsx)("div",{children:p._t("Возможно, он закрылся насовсем либо временно не работает")})]}))})),f?(0,s.jsx)(Bs,{entityId:n.id}):(0,s.jsx)(hi.V,{entity:n,withoutLogo:U.isShown}),"branch"===n.type&&n.name_ex.legal_name&&(0,s.jsx)("div",Object.assign({className:d(l.legalName)},{children:(0,s.jsx)("div",Object.assign({className:d(l.side)},{children:(0,s.jsx)("div",Object.assign({className:d(l.legalNameText,l.grayText)},{children:n.name_ex.legal_name}))}))}))]}))})),Us=(0,pe.r)({root:{padding:"16px 24px"},name:Object.assign(Object.assign({},ye.leadMedium),{paddingTop:4}),extension:{marginTop:4,color:he.T.gray_5c5c5c},address:{marginTop:4,color:he.T.gray_262626},rating:{marginStart:-1,display:"flex",alignItems:"center",cursor:"pointer"},row:{display:"flex",alignItems:"center",marginTop:8},ratingValue:{marginStart:4},ratingCount:{marginStart:8,color:he.T.gray_5c5c5c},ratingAwards:{display:"flex"},awards:{display:"flex",marginInlineStart:12},deleted:{marginTop:8},redText:{color:he.T.red_fe5000},grayText:{color:he.T.gray_5c5c5c},legalName:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${he.T.gray_e6e6e6}`},side:{flexGrow:1},legalNameText:{marginBottom:4}});var Ds=i(64033),Vs=i(27942),$s=i(3726);function Ws(e){switch(e){case"services":case"providers":return"services";default:return e}}var qs=i(31222),Zs=i(6276),Qs=i(10011),Gs=i(46516),Ks=i(77017);var Ys=i(18472);const Xs=["services"];function Js(e,t,i,s){if(t.length<2)return;const r=er(tr(e,t,i,s));return r.length<2?void 0:{formattedTabs:r}}function er(e){return e.reduce(((e,t)=>{if(-1===Xs.indexOf(t.uiKey))return e.concat(t);const i=e.find((e=>e.uiKey===t.uiKey));return i?(t.count&&(i.count=(i.count||0)+t.count),t.isSelected&&(i.isSelected=!0),e):e.concat(t)}),[])}function tr(e,t,i,s){const r=(0,$s.c)(t,s);return t.map((t=>({key:t.tab,uiKey:Ws(t.tab),label:sr(e,t.tab,i),count:ir(t.tab)?t.count:void 0,badgeCount:t.badgeCount,isSelected:t.tab===r,isDefault:t.tab===(0,qs.w)(e)[0]})))}function ir(e){switch(e){case"discounts":case"reviews":case"photos":case"inside":case"menu":case"prices":case"realty":return!0;default:return!1}}function sr(e,t,i){const s=(0,Zs.E)(e),r=!!(0,Ys.i)(e);switch(t){case"contacts":return s?i._t("Инфо"):i._t("Контакты");case"info":return i._t("Инфо");case"reviews":return i._t("Отзывы");case"photos":return i._t("Фото");case"menu":return(0,Gs.O)(e)?function(e){const{rubrics:t,tp:i}=e;switch((0,Ks.F)(t)){case"menu":return i._t("Меню");case"prices":return i._t("Цены");default:return""}}({rubrics:e.rubrics,tp:i}):"";case"prices":const{tabLabel:t}=(0,Qs.z)({entity:e,tp:i});return t;case"realty":return i._t("Недвижимость");case"inside":return r?i._t("На территории"):i._t("В здании");case"services":case"providers":return i._t("Службы");case"discounts":return i._t("Скидки")}}var rr=i(60116);function nr(e){return{isActive:e.isSelected||!1,amount:e.count||0,uploadPricesPromo:"menu"===e.key&&0===e.count||void 0}}const ar=({tab:e,tp:t})=>({frameId:i},s)=>{const r=(0,Di.t)({state:s,entityFrameId:i});if("menu"===e.key&&void 0===e.count)return;const n=t&&e.label===t._t("На территории");return{uiElement:{name:or(e.key,n),ownerName:"placeCardFull",frameUuid:i},payload:{placeItem:r,tabPreviewInfo:"menu"===e.key?nr(e):void 0},action:"tap"}};function or(e,t){switch(e){case"info":return"cardInformation";case"contacts":return"cardContacts";case"discounts":return"cardDiscounts";case"reviews":return"cardReviews";case"photos":return"cardGallery";case"prices":case"menu":return"cardPrices";case"realty":return"cardRealty";case"inside":return t?"cardTerritoryOrgs":"cardBuildingOrgs";case"providers":case"services":return"cardServiceOrgs"}}const cr=(0,a.memo)((e=>{const{tab:t,onSelect:i,href:r}=e,n=(0,xe.c)(),{bssRef:a,useBssHandler:o}=(0,le.E)((e=>({frameId:t},i)=>{const s=(0,Di.t)({state:i,entityFrameId:t});switch(e.key){case"prices":return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:s}};case"menu":if(void 0===e.count)return;return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:s,tabPreviewInfo:nr(e)}};case"realty":return{uiElement:{name:"cardRealtyPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:s}};default:return}})(t)),c=o(ar,{tab:t,tp:n}),d=(0,Oi.D)((e=>{e.isSelected||(c(),i(e))}));return(0,s.jsx)(rr.o,{tabRef:a,tab:t,href:r,onSelect:d})}));cr.displayName="EntityCardTab";var dr=i(63245),lr=i(8734),ur=i(76125);const pr=({formattedTabs:e,entity:t,handleTabClick:i})=>{const{css:r,s:n}=(0,pe.I)(mr);return(0,s.jsx)(dr.$,Object.assign({bgColor:he.T.gray_f2f2f2},{children:a=>(0,s.jsx)(Ds.t,{tabs:e,renderTab:e=>{const o=t=>(0,s.jsx)(cr,{href:t,tab:e,onSelect:i});return(0,s.jsx)("div",Object.assign({className:r(n.tabWrapper),onClick:e=>a(e.currentTarget.offsetWidth,e.currentTarget.offsetLeft)},{children:(()=>{switch(e.key){case"realty":return(0,s.jsx)(me.W,Object.assign({type:"realty",entityId:(0,ur.$)(t)},{children:o}));case"photos":return(0,s.jsx)(me.W,Object.assign({type:"gallery",entityId:t.id,entityType:t.type},{children:o}));default:return(0,s.jsx)(lr.p,Object.assign({entity:t,tab:e.isDefault?void 0:e.key},{children:o}))}})()}),e.key)}})}))};pr.displayName=(0,qt.d)("src/modules/entity/containers/content/components/tabs");const mr=(0,pe.r)({tabWrapper:{margin:"0 8px",":first-child":{marginStart:0},":last-child":{marginEnd:0}}}),gr=(0,Vs.J)((({tabs:e,frameTab:t,entity:i},{tp:s})=>Js(i,e,s,t)))((0,Rt.Q)()(pr));var hr=i(16546);const fr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.contactsTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:t=>(0,s.jsx)(hr.z,{asyncStatus:t,hasPinnedGoods:!!e.entity.has_pinned_goods})}),vr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.infoTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(hr.z,{asyncStatus:e})});var br=i(9390),yr=i(1626);const xr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.pricesTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>"loading"===e?(0,s.jsx)(br.S,{}):(0,s.jsx)(yr.$,{code:500})}),jr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.insideTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(hr.z,{asyncStatus:e})}),wr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.servicesTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(hr.z,{asyncStatus:e})});var Ir=i(33118);const Cr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.discountsTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(hr.z,{asyncStatus:e})}),_r=e=>(0,s.jsx)(zt.w,{loader:Ft.b.realtyTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(hr.z,{asyncStatus:e})});var kr=i(11540),Or=i(20487);const Sr=(e,{tp:t,dateFns:i})=>({headerText:(0,Or.$)({entity:e.entity,format:"short",ctx:{dateFns:i,tp:t}}),bodyText:(0,Or.$)({entity:e.entity,format:"long",ctx:{dateFns:i,tp:t}})}),Tr=e=>{const{s:t,css:i}=(0,pe.I)(Er),{headerText:r,bodyText:n}=(0,kr.kc)(Sr,e);return r&&n?(0,s.jsxs)("div",Object.assign({className:i(t.root)},{children:[(0,s.jsx)("div",Object.assign({className:i(t.header)},{children:r})),(0,s.jsx)("div",Object.assign({className:i(t.body)},{children:n}))]})):null},Er=(0,pe.r)({root:{background:he.T.gray_f2f2f2,textAlign:"center",paddingBottom:12},header:Object.assign(Object.assign({},ye.regularBold),{paddingTop:16,paddingBottom:12,paddingStart:0,paddingEnd:0}),body:Object.assign(Object.assign({},ye.regular),{padding:"0 20px"})});var Mr=i(40837);const Nr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.menuTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Lr=e=>(0,s.jsx)(zt.w,{loader:Ft.b.mediaTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var Pr=i(76098),Rr=i(54684),Ar=i(62363),Br=i(25346),zr=i(53790),Fr=i(38900);var Hr=i(87310);const Ur=e=>(0,s.jsx)(zt.w,{loader:Ft.b.deloPromoPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Dr=({entity:e,frame:t,featureReadOnly:i,frameContext:r})=>{const n=(0,de.wA)(),{css:o,s:d}=(0,pe.I)(Vr),l=(0,a.useRef)(null),u=(0,fe.U)();Hr.useDeloPromo(e);const p=(0,Pr.f)({entityId:e.id,dataLocaleSelector:H.u,isEnabled:"branch"===e.type&&(0,Rr.Q)(e)&&!e.has_pinned_goods}),m="has_realty"in e&&e.has_realty,g=(0,de.d4)(Ar.D8),{data:h}=(0,Ar.Is)(g,{enabled:!!(0,zr._)(e)||m}),f="undefined"==typeof window||window.isServerRendered,v=(0,de.d4)(c.n$),{data:b}=(0,Br.l7)({objectId:e.id},{enabled:!!e.id}),y=null==b?void 0:b.albums.find((e=>e.id===M.Qh)),x=y?y.count||0:void 0,j=null==b?void 0:b.albums.find((e=>e.id===M.ge)),w=b&&j?j.count:b?0:void 0,I=null==h?void 0:h.pages[0].total,C=(0,de.d4)((s=>{var r;return(0,Yt.OM)({state:s,entityId:e.id,entityReviewsSearchId:t.tabReviews?(0,ae.HX)(t.tabReviews.entityReviewsSearchId):"",orgReviewsSearchId:t.tabReviews?(0,ae.HX)(t.tabReviews.orgReviewsSearchId):"",featureReadOnly:i,photosCount:x,menuPhotosCount:w,offersCount:null===(r=p.data)||void 0===r?void 0:r.total,realtyCount:I})})),_=t.tab||(0,qs.w)(e)[0],k=(0,a.useCallback)((()=>{l.current&&l.current.scrollIntoView({behavior:"smooth"})}),[l]),O=(0,a.useRef)(null),S=(0,Fr.e)(t,r,u),T=S?S+2:0,{isSticky:E}=(({stickyRef:e,offset:t=0})=>{const[i,s]=(0,a.useState)(!1),{isMobileDevice:r}=(0,fe.U)(),n=(0,de.d4)((e=>e.appContext.isMobileAppBannerClosed)),o=r&&!n?88:0;return(0,a.useEffect)((()=>{const i=new IntersectionObserver((([e])=>{s(e.intersectionRatio<1)}),{rootMargin:`-${t+o+1}px 0px 0px 0px`,threshold:[1]}),r=e.current;return r&&i.observe&&i.observe(r),()=>{r&&i.unobserve&&i.unobserve(r)}}),[e,t,n,r,o]),{isSticky:i}})({stickyRef:O,offset:T});return(0,s.jsxs)("div",Object.assign({},be.dx.n("wat-entity-tab"),{className:o(d.contentContainer),ref:l},{children:[(0,s.jsx)(Tr,{entity:e}),(0,s.jsxs)("div",Object.assign({style:{top:T,"--sticky-offset":-T+"px","--sticky-height":`${T}px`},className:o(d.stickyWrapper,E&&d.isSticky)},{children:[(0,s.jsx)("div",{ref:O,className:o(d.empty)}),(0,s.jsx)(gr,{tabs:C,frameTab:_,handleTabClick:i=>{n((0,Ti.s)({tab:i.key,frame:t,entity:e}))},regionCode:null==v?void 0:v.uri_code,entity:e})]})),(()=>{switch(_){case"contacts":if((0,Gs.O)(e))return(0,Zs.E)(e)?(0,s.jsx)(fr,{scrollToTabs:k,entity:e,frame:t}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(fr,{scrollToTabs:k,entity:e,frame:t}),f&&(0,s.jsx)(vr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0})]});break;case"info":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(vr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId}),f&&(0,Gs.O)(e)&&(0,s.jsx)(fr,{scrollToTabs:k,entity:e,frame:t,isHidden:!0})]});case"reviews":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ir.j,{frame:t,entity:e}),f&&(0,s.jsx)(vr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),f&&(0,Gs.O)(e)&&(0,s.jsx)(fr,{scrollToTabs:k,entity:e,frame:t,isHidden:!0})]});case"photos":return(0,s.jsx)(Lr,{frame:t,entity:e,searchId:t.searchId});case"inside":return(0,s.jsx)(jr,{frame:t});case"services":case"providers":return(0,s.jsx)(wr,{frame:t,entity:e});case"discounts":if((0,Gs.O)(e))return(0,s.jsx)(Cr,{entity:e});break;case"prices":if((0,Gs.O)(e)&&t.tabPrices)return(0,s.jsx)(xr,{frameId:t.id,entity:e,entitySearchId:t.searchId,offersSearchId:t.tabPrices.searchId});break;case"realty":if(t.tabRealty){const t=(0,zr._)(e);return(0,s.jsx)(_r,{onlyFirstPage:t})}break;case"menu":if((0,Gs.O)(e))return(0,s.jsx)(Nr,{entity:e,searchId:t.searchId});break;default:return null}})()]}))},Vr=(0,pe.r)({contentContainer:{display:"flex",flexDirection:"column",flexGrow:1,"@media print":{background:"#fff"}},stickyWrapper:{position:"sticky",top:0,zIndex:ge.fE.top},isSticky:{"::after":{content:'""',position:"absolute",top:"var(--sticky-offset, 0px)",left:0,right:0,width:"100%",height:"var(--sticky-height, 0px)",backgroundColor:he.T.white}},empty:{width:"100%"},searchBackground:{position:"absolute",top:0,left:0,right:8,backgroundColor:he.T.white,zIndex:2}});var $r=i(18322),Wr=i(21054),qr=i(4013);var Zr=i(69270),Qr=i(80960),Gr=i(84593),Kr=i(44920),Yr=i(98827);const Xr=()=>{const e=[(0,Kr.A)({isLabelShown:!0}),(0,Yr.n)({isLabelShown:!0})];return(0,s.jsx)(Gr.L,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,s.jsx)(Gr.j,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var Jr=i(11042),en=i(81462);const tn=({search:e})=>({frameId:t},i)=>{const s=(0,en.i)({state:i,isSuccess:!0,search:e}),r=(0,Di.t)({state:i,entityFrameId:t});return{uiElement:{name:"moreProductOffers",ownerName:"cardRealty",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,st.o)({locale:(0,H.u)(i),region_id:(0,c.MJ)(i)})},enableMapLayer:!0},productOffersList:s,placeItem:r},action:"tap"}};function sn(){const e=(0,xe.c)(),t=(0,de.wA)(),{frame:i,entity:s}=(0,Jr.Z)(),r=(0,de.d4)(Ar.D8),{data:n}=(0,Ar.Is)(r),{isMobileDevice:a}=(0,fe.U)(),o=null==n?void 0:n.pages[0],{useBssHandler:c}=(0,le.E)(),d=c(tn,{search:o}),l=(0,Oi.D)((()=>{var e,r;i&&s&&(null==d||d(),t((0,h.K2)((0,ve.po)({newLayer:"realty"}),Qe.Pf.signals.open({suggestId:s.id,entity:{id:s.id,type:s.type},categoryId:null===(e=i.tabRealty)||void 0===e?void 0:e.currentCategoryValue,filters:null===(r=i.tabRealty)||void 0===r?void 0:r.currentFiltersValues}),(0,Is.TE)({entityId:s.id}))))}));if("realty"===(null==i?void 0:i.tab)&&s&&(0,zr._)(s))return{type:"seeRealtyAds",label:a?e._t("Смотреть всё"):e._t("Смотреть все объявления"),icon:void 0,href:void 0,onClick:l}}const rn=(0,a.memo)((()=>{const e=sn();return e?(0,s.jsx)(Os.$,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));rn.displayName="OpenRealtyLayerBtn";var nn=i(21005),an=i(72490),on=i(33489),cn=i(27892);const dn=(0,h.n5)("choosePhonePopup",(({entityId:e})=>(0,T.PC)((0,cn.PB)({id:(0,Y.W7)(),type:"choosePhone",entityId:e}))));function ln({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18.896 4.039a2.54 2.54 0 00-.432-.035l-1.66.001L16.068 4a2.024 2.024 0 00-1.449.59C11.528 7.67 10 11.917 10 16.008c0 4.11 1.527 8.357 4.623 11.429.378.375.891.562 1.426.562h2.016c.291-.008.2-.018.512-.03a2.51 2.51 0 002.421-2.596l-.01-.139a3.01 3.01 0 00-.024-.188l-.782-4.516-.038-.185a3.02 3.02 0 00-2.925-2.308l-1.79-.011-.06-.188a7.923 7.923 0 01-.33-1.91l-.003-.25a5.282 5.282 0 01.29-1.589l.027-.073h1.846a3.018 3.018 0 002.982-2.502l.781-4.594a2.502 2.502 0 00-1.897-2.848l-.17-.034zM18.49 6.01a.5.5 0 01.417.486l-.007.09-.774 4.592a1 1 0 01-.866.827l-.12.007H14c-.718 1.388-1.051 2.718-1 3.99.046 1.145.32 2.343.824 3.592l.176.418 3.148.019a1 1 0 01.953.714l.027.116.776 4.515a.5.5 0 01-.474.584l-.872.029-.81.017c-.26.004-.509.006-.748.006-3-3-4-7-4-10.01 0-2.99 1-6.99 4-10.003l1.132.006 1.273-.002a.5.5 0 01.086.007z",clipRule:"evenodd"})}))}var un=i(4911);function pn(e,t){var i;const s=[];return"branch"===(null==e?void 0:e.type)&&(null===(i=e.contact_groups)||void 0===i||i.forEach((({contacts:e})=>{null==e||e.forEach((e=>{e.type===t&&s.push(e)}))}))),s}function mn(){const e=(0,de.wA)(),{entity:t}=(0,Jr.Z)(),i=(0,un.X)({entity:t}).currentCongestion,r=(0,le.E)().useBssHandler(gn,{currentCongestion:i}),n=pn(t,"phone"),a=(0,Oi.D)((()=>{t&&(r(),n.length>1?e(dn({entityId:t.id})):window.location.assign(`tel:${n[0].value}`))}));if(n.length)return{type:"phone",label:void 0,icon:(0,s.jsx)(ln,{color:he.T.black}),href:void 0,onClick:a}}const gn=e=>({frameId:t},i)=>{const{currentCongestion:s}=e,r=(0,Di.t)({state:i,entityFrameId:t,currentCongestion:s});return r||(0,K.vV)({message:"Не удалось сформировать placeItem для событие для UiElement.name: showPhone (a-d67cp)",level:"error",id:"fgd7e",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,W.w1)(i.appContext.frames,t))}}),{uiElement:{name:"showPhone",ownerName:"cardContacts",frameUuid:t},action:"tap",payload:{placeItem:r}}},hn=(0,a.memo)((()=>{const e=[(0,Kr.A)(),(0,on.j)({isLabelShown:!0}),sn(),(0,an.w)(),(0,nn.F)(),(0,ms.y)({color:he.T.black,isLabelShown:!0}),mn(),(0,ps.B)({color:he.T.black}),(0,gs.e)({frameType:"entity",ownerName:"actionBar",color:he.T.black})];return(0,s.jsx)(Gr.L,{children:e.map(((e,t)=>e&&(0,s.jsx)(Gr.j,Object.assign({dataT:e.type,dataPs:vn(e),type:fn(e.type),grow:!0,icon:e.icon,href:e.href,containerRef:"bssRef"in e?e.bssRef:void 0,onClick:e.onClick},{children:e.label}),t)))})}));function fn(e){switch(e){case"back":case"map":return"gray";case"addPhoto":case"seeRealtyAds":case"addMenuPhoto":return"blue";default:return"whiteWithBorder"}}function vn(e){return"bookmark"===e.type&&e.isBookmarked}const bn=(0,a.memo)((()=>(0,de.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,s.jsx)(Xr,{}):(0,s.jsx)(hn,{}))),yn=(0,a.memo)((()=>{const e=(0,nn.F)();return e?(0,s.jsx)(Os.$,Object.assign({appearance:"secondary",wide:!0,sharp:!0,containerRef:e.bssRef,onClick:e.onClick},{children:e.label})):null})),xn=(0,a.memo)((()=>{const e=(0,an.w)();return e?(0,s.jsx)(Os.$,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));function jn(){if(window.clickstream)try{window.clickstream.sendEvent({eventCategory:"2GIS_Online",eventAction:"Показ страницы",value:"",properties:[{key:"URL",value:window.location.href}]})}catch(e){(0,K.vV)({id:"egvas",level:"warn",message:"Sending page view event to clickstream was failed",payload:{subtype:"ClickstreamError",type:"exception"}})}}const wn=(0,a.memo)((({entityId:e})=>{const t=(0,de.d4)((t=>{var i;const s=(0,u.DE)({state:t,entityId:e});return"branch"===(null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.type)?s.data:void 0}));return(0,a.useEffect)((()=>{const e=(null==t?void 0:t.rubrics.find((({kind:e})=>"primary"===e)))||(null==t?void 0:t.rubrics[0]);t&&e&&function(e){if(window.clickstream)try{window.clickstream.sendEvent(e)}catch(t){(0,K.vV)({id:"egvlw",level:"warn",message:`Sending ${e.eventAction} event to clickstream was failed`,payload:{subtype:"ClickstreamError",type:"exception"}})}}({eventCategory:"2GIS_Online",eventAction:"Показ карточки организации",value:"",properties:[{key:"organizationCategory",value:e.name},{key:"organizationName",value:t.name_ex.primary}]})}),[e]),null}));var In=i(11264);class Cn extends a.PureComponent{constructor(){super(...arguments),this.listenersId=(0,Y.W7)()}componentDidMount(){this.props.subscribeOnEvents({id:this.listenersId}),this.props.config.featureVideoInGallery?this.props.fetchMediaData({entityId:this.props.frame.entityId,searchCtx:this.props.searchCtx,searchKeyword:this.props.searchKeyword}):this.props.fetchPhotoData({entityId:this.props.frame.entityId,searchCtx:this.props.searchCtx,searchKeyword:this.props.searchKeyword}),this.props.isMetroCardWithMetroScheme&&this.props.switchOnMetroLayer()}componentDidUpdate(e){var t;this.props.isMetroCardWithMetroScheme&&this.props.entity&&this.props.entity.id!==(null===(t=e.entity)||void 0===t?void 0:t.id)&&this.props.switchOnMetroLayer()}componentWillUnmount(){this.props.removeListeners({id:this.listenersId})}render(){const{entity:e,errorCode:t,status:i,frame:r,s:n}=this.props;return e?(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(n.root)},(0,be.n)("wat-entity-card"),(0,be.t)(e.type),{children:[(0,s.jsx)(di.z,{statusIds:r.statusId}),(0,s.jsx)(Zr.M,Object.assign({contentScrollId:(0,$r.e)(r),fixedContentFooter:this.renderFixedFooter()},{children:this.renderContent()})),(0,s.jsx)(wn,{entityId:e.id})]})):"error"===i?(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(n.error)},(0,be.n)("wat-entity-card-error"),{children:(0,s.jsx)(yr.$,{code:t,type:"entity"})})):(0,s.jsx)(Wr.r,{})}renderContent(){const{entity:e,frame:t,frameContext:i,s:r,bssRef:n,featureReadOnly:a}=this.props;return(0,s.jsx)(Qr.V.Provider,Object.assign({value:{showEventOrdinal:this.props.showEventOrdinal}},{children:(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(r.entity),ref:n},{children:[(0,s.jsx)(Hs,{entity:e,frame:t,frameContext:i}),(0,s.jsx)(Dr,{entity:e,frame:t,frameContext:i,featureReadOnly:a})]}))}))}renderFixedFooter(){const{frame:e,entity:t}=this.props,i=(0,zr._)(t);return(0,s.jsxs)(s.Fragment,{children:["photos"===e.tab&&(0,s.jsx)(xt.j,{children:(0,s.jsx)(xn,{})}),"menu"===e.tab&&(0,s.jsx)(xt.j,{children:(0,s.jsx)(yn,{})}),"realty"===e.tab&&i&&(0,s.jsx)(xt.j,{children:(0,s.jsx)(rn,{})}),(0,s.jsx)(xt.h,{children:(0,s.jsx)(bn,{})})]})}}Cn.displayName=(0,qt.d)("src/modules/entity");const _n=(0,At.f)(qr.K7)((0,Lt.N)(ti,ci)((0,Vs.J)((({frame:e,entity:t},{config:i})=>{const{meta:s,data:r}=t,n=i.featureReadOnly;return"point"===e.entityType?{entity:{id:"__empty",type:"point",point:r&&"point"in r&&r.point||e.point,region_id:"0",segment_id:"0"},status:"success",errorCode:void 0,featureReadOnly:n}:{entity:r,status:s&&s.status,errorCode:s&&"error"===s.status?s.code:void 0,featureReadOnly:n}}))((0,In.N)()((0,Pt.Xy)({root:{height:"100%"},entity:{minHeight:"100%",display:"flex",flexDirection:"column"},error:{marginTop:100}})((0,Rt.Q)()(Cn))))));var kn=i(46033);class On extends a.PureComponent{render(){const{s:e}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(e.gta)},{children:[(0,s.jsx)("div",{className:(0,Pt.AH)(e.gtaContent)}),(0,s.jsx)("div",{className:(0,Pt.AH)(e.gtaLink)})]}))}}On.displayName=(0,qt.d)("src/shared/kit/skeletons");const Sn={gta:{margin:8,borderRadius:ge.Vq.default,overflow:"hidden"},gtaContent:{height:168,background:he.T.gray_f2f2f2},gtaLink:{height:40,backgroundColor:he.T.blue_028eff}},Tn=(0,Pt.Xy)(Sn)(On);class En extends a.PureComponent{render(){const{s:e}=this.props;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.row)},{children:(0,s.jsx)("div",{className:(0,Pt.AH)(e.cityBlock)})})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.row)},{children:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.rubricatorWrapper)},{children:(0,s.jsx)(kn.j,{})}))})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.row)},{children:(0,s.jsx)("div",{className:(0,Pt.AH)(e.feedback)})})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.row)},{children:(0,s.jsx)(Tn,{})}))]})}}En.displayName=(0,qt.d)("src/shared/kit/skeletons");const Mn={cityBlock:{background:he.T.gray_929292,width:"100%",height:228},row:{marginBottom:"8px"},rubricatorWrapper:{marginTop:16,marginBottom:8,marginStart:8,marginEnd:8},feedback:{background:he.T.gray_929292,padding:"12px 16px",marginTop:16,marginBottom:8,marginStart:8,marginEnd:8,height:132,borderRadius:ge.Vq.default}},Nn=(0,Pt.Xy)(Mn)(En);function Ln(e){return"error"===e?(0,s.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,s.jsx)(yr.$,{code:500})})):(0,s.jsx)(Nn,{})}const Pn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.dashboard,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Ln});function Rn(e){return"error"===e?(0,s.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,s.jsx)(yr.$,{code:500})})):(0,s.jsx)("div",{})}const An=e=>(0,s.jsx)(zt.w,{loader:Ft.b.product,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Rn}),Bn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.offer,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});class zn extends a.PureComponent{render(){if("entity"===this.props.frame.subtype)return(0,s.jsx)(Wr.r,{})}}zn.displayName=(0,qt.d)("src/modules/pending");const Fn=zn,Hn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.directions,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Un=e=>(0,s.jsx)(zt.w,{loader:Ft.b.publicFavorites,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Dn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.collection,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Vn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.direction,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),$n=e=>(0,s.jsx)(zt.w,{loader:Ft.b.prices,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Wn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.rubricator,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),qn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.rubric,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Zn=e=>(0,s.jsx)(zt.w,{loader:Ft.b.userProfile,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var Qn=i(2390),Gn=i(50472),Kn=i(3127);const Yn=(0,a.memo)((()=>{const e=(0,xe.c)(),{s:t,css:i}=(0,pe.I)(Xn);return(0,s.jsx)(Kn.e,{title:e._gg("Что-то пошло не так"),message:e._gg("Чтобы оставить отзыв, найдите компанию по названию или адресу через строку поиска"),code:500,additionalContent:(0,s.jsxs)("div",Object.assign({className:i(t.logos)},{children:[(0,s.jsx)(Qn.t,{height:20}),(0,s.jsx)(Gn.r,{height:20})]}))})})),Xn=(0,pe.r)({logos:{marginTop:40,display:"flex",alignItems:"center",justifyContent:"center"}}),Jn=({frame:e,frameContext:t})=>{const{code:i,subtype:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(vi.z,{frame:e,frameContext:t}),(0,s.jsx)("div",Object.assign({style:{paddingTop:44}},{children:"sbol-review"===r?(0,s.jsx)(Yn,{}):(0,s.jsx)(yr.$,{code:i,type:r})}))]})},ea=e=>(0,s.jsx)(zt.w,{loader:Ft.b.unconfirmedReviews,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),ta=e=>(0,s.jsx)(zt.w,{loader:Ft.b.currentReview,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),ia=e=>(0,s.jsx)(zt.w,{loader:Ft.b.tUgcCard,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),sa=e=>(0,s.jsx)(zt.w,{loader:Ft.b.achievementsFrame,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),ra=e=>(0,s.jsx)(zt.w,{loader:Ft.b.userFriendsActivity,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var na=i(41950);const aa=e=>(0,s.jsx)(zt.w,{loader:Ft.b.exchange,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:oa(e.frameContext.areFiltersOpened)}),oa=e=>t=>"loading"===t?(0,s.jsx)(na.U,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,s.jsx)(yr.$,{code:500}),ca=e=>(0,s.jsx)(zt.w,{loader:Ft.b.friendsListFrame,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),da=e=>(0,s.jsx)(zt.w,{loader:Ft.b.userPublicProfileFrame,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});i(42586);var la=i(22665),ua=i(62685),pa=i(91466),ma=i(78170);const{use:ga}=(0,ma.VZ)("subscribeSession",(e=>({services:t})=>(0,Pe.sH)(void 0,void 0,void 0,(function*(){return t.sharingGeoApi.subscribeSession(e)})))),{use:ha,setQueryData:fa}=(0,ma.VZ)("getRouteById",(e=>({services:t})=>(0,Pe.sH)(void 0,void 0,void 0,(function*(){return t.sharingRouteApi.getRouteById(e)})))),{use:va}=(0,ma.VZ)("getTrafficUpdate",(e=>({services:t})=>(0,Pe.sH)(void 0,void 0,void 0,(function*(){return t.sharingRouteApi.getTrafficUpdate(e)})))),ba=({publicProfileId:e})=>(t,{appContext:i})=>({uiElement:{name:"friendItem",ownerName:"promoGeoSharingFinished",frameUuid:i.staticFrames.map.id},action:"tap",payload:{profileItem:{publicProfileId:e}}}),ya=({publicProfileId:e})=>({frameId:t})=>({uiElement:{name:"sendFriendRequestButton",ownerName:"sharingCard",frameUuid:t},action:"tap",payload:{profileItem:{publicProfileId:e}}}),xa=({publicProfileId:e})=>(t,{appContext:i})=>({uiElement:{name:"promoGeoSharingFinished",ownerName:"geoSharingCardFrame",frameUuid:i.staticFrames.map.id},action:"close",payload:{profileItem:{publicProfileId:e}}}),ja=(0,h.n5)("openBroadcastEndedPopup",(({sessionId:e,sharerProfile:t})=>(0,cn.PB)({id:(0,Y.W7)(),type:"broadcastEnded",sessionId:e,sharerProfile:t}))),wa=({sharerProfile:e})=>{const t=(0,xe.c)(),i=(0,de.wA)(),{isMobileDevice:r}=(0,fe.U)(),{css:n,s:a}=(0,pe.I)(Ia),o=null==e?void 0:e.id,{bssRef:c,useBssHandler:d}=(0,le.E)((({publicProfileId:e})=>({frameId:t})=>({uiElement:{name:"promoGeoSharingFinished",ownerName:"geoSharingCardFrame",frameUuid:t},payload:{profileItem:{publicProfileId:e}}}))({publicProfileId:o})),l=d(xa,{publicProfileId:o}),u=d(ba,{publicProfileId:o}),p=(null==e?void 0:e.name)?`${t._t("%1 есть на карте 2ГИС. Добавьтесь в друзья, чтобы видеть друг друга всегда",[e.name])}`:t._t("Добавляйте друзей, чтобы всегда видеть друг друга на карте"),m=o?`https://friends.2gis.ru?user_id=${o}`:"https://friends.2gis.ru/",g=o?`https://2gis.ru/user/${o}`:"https://2gis.ru/mapfriends/invite/";return(0,s.jsx)(ua.T,Object.assign({withCloseButton:!0,onClose:()=>{l(),i((0,cn.fs)())}},{children:(0,s.jsxs)("div",Object.assign({className:n(a.popup),ref:c},{children:[(0,s.jsx)(pa.i,{src:"/public/friendsOnMap/sharingPopupBg.png",width:323,height:182,isLoadingForced:!0}),(0,s.jsx)("h2",Object.assign({className:n(a.title)},{children:t._t("Трансляция завершена")})),(0,s.jsx)("p",{children:p}),(0,s.jsx)("div",Object.assign({className:n(a.button)},{children:(0,s.jsx)(Os.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:r?g:m,onClick:u,dataN:"wat-add-to-friends-button"},{children:t._t("Добавить в друзья")}))}))]}))}))},Ia=(0,pe.r)((({mobile:e})=>({popup:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:56,paddingBottom:42,paddingStart:e?20:45,paddingEnd:e?20:45},title:Object.assign(Object.assign({},ye.leadMedium),{paddingTop:20,paddingBottom:16,paddingStart:0,paddingEnd:0}),button:{paddingTop:32,maxWidth:e?"auto":303,width:"100%"}})));var Ca=i(81678),_a=i(69405);const ka=({id:e,onClose:t})=>{var i,r,n,o,c,d,l;const p=(0,xe.c)(),m=(0,de.wA)(),{css:g,s:h}=(0,pe.I)(Oa),{friendsDebugToken:f,isMobileDevice:v,rtl:b,featurePublicProfile:y}=(0,fe.U)(),{profile:x,state:j,isMyProfile:w,selfState:I,isMyFriendProfile:C}=Ca.vK.useUserProfile(e),_=Ca.vK.useIsMyFriend(e);Ca.vK.useMoveToUserMarker(j);const k=y?C:_,{profiles:O,sharedRoute:S}=(0,de.d4)(It.sT.getFriendsOnMap),T="work"===(null===(r=null===(i=null==j?void 0:j.locationPlace)||void 0===i?void 0:i.status)||void 0===r?void 0:r.id)||"home"===(null===(o=null===(n=null==j?void 0:j.locationPlace)||void 0===n?void 0:n.status)||void 0===o?void 0:o.id)||null===(d=null===(c=null==j?void 0:j.locationPlace)||void 0===c?void 0:c.object)||void 0===d?void 0:d.id,E=(0,de.d4)(We.x3)||!!f,M=(0,de.d4)((e=>T?(0,u.Tq)({state:e,entityId:T}):void 0)),N=null===(l=O[e])||void 0===l?void 0:l.session,L=N&&N.expiresAt&&N.expiresAt-N.serverTime,P=N&&(()=>{var t,i;return(({sharerLocationPlace:e,publicProfileId:t,sessionId:i,expirationTime:s})=>({frameId:r})=>({uiElement:{name:"sharingCard",ownerName:"geoSharingCardFrame",frameUuid:r},payload:Object.assign({profileItem:{publicProfileId:t},geoSharing:{sessionId:i,expirationTime:s}},e&&{messageInfo:{type:"friendsLocationPlace",value:e}})}))({publicProfileId:e,expirationTime:N.expiresAt?Math.round((N.expiresAt-N.serverTime)/1e3):void 0,sessionId:N.sessionId,sharerLocationPlace:null===(i=null===(t=null==j?void 0:j.locationPlace)||void 0===t?void 0:t.status)||void 0===i?void 0:i.id})}),{bssRef:R,useBssHandler:A}=(0,le.E)(v?({frameId:e},t)=>(0,Bt.f_)({name:"geoSharingCardFrame",uuid:e,state:t}):void 0),B=A(ya,{publicProfileId:e});(0,a.useEffect)((()=>{T&&!w&&m((0,_a.J)({id:T,searchId:void 0}))}),[m,T,w]);const z=()=>{var e;if(x.isError)return(0,s.jsx)(Ca.eo,{});if(x.isSuccess){const{public_user:i}=x.data,r=(null==S?void 0:S.sharerId)===(null==j?void 0:j.id),n=r&&(null===(e=null==S?void 0:S.pointB)||void 0===e?void 0:e.title)||((null==M?void 0:M.data)&&"name"in M.data?M.data.name:void 0),a=w||null==I?void 0:I.location,o=Ca.Vw.getUserStatus({state:j,entityName:n,selfUserLocation:a,eta:r?null==S?void 0:S.eta:void 0,tp:p,rtl:b});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ca.Pq,{isAuthorized:E,isMyFriendProfile:k,avatarUrl:Ca.Vw.getUserAvatar(i,v),status:o,user:i,isMyProfile:w,broadcastTime:L,onClose:t,onAddFriend:B,bssShowFunction:P}),!v&&!w&&(0,s.jsx)("div",Object.assign({className:g(h.banner)},{children:(0,s.jsx)(Ca.Oc,{userId:i.public_user_id,userName:i.name})}))]})}return(0,s.jsx)(Ca.fZ,{})};return v?(0,s.jsx)("div",Object.assign({className:g(h.mobileWrapper),ref:R},{children:z()})):(0,s.jsx)("div",Object.assign({className:g(h.wrapper)},{children:z()}))},Oa=(0,pe.r)({wrapper:{display:"flex",flexDirection:"column",padding:24},mobileWrapper:{backgroundColor:he.T.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},banner:{marginTop:24}}),Sa=({frame:e})=>{var t,i;const r=(0,de.wA)(),{isMobileDevice:n}=(0,fe.U)(),o=(0,de.d4)(We.ug),c=(0,de.d4)(la.W),d=(0,de.d4)(We.Us),l=null===(t=o.data)||void 0===t?void 0:t.access_token,u=(null===(i=o.data)||void 0===i?void 0:i.public_user_id)||c,{data:p,isError:m}=ga({token:l,userId:u,sessionId:e.sessionId},{enabled:!d});return(0,a.useEffect)((()=>{p&&p.isFriend&&!n?(r((0,A.wU)({id:e.id})),r(Ue.M.openPublicProfile({userId:p.id})),r((0,ve.po)({newLayer:"friends"}))):p?(r(It.sT.updateFriendsOnMapModel({type:"sharer"})),r((0,A.oy)(e.id,(e=>Object.assign(Object.assign({},e),{userId:null==p?void 0:p.id}))))):m&&(r((0,A.wU)({id:e.id})),r(ja({sessionId:e.sessionId})))}),[m,r,e,p,n]),!p||p.isFriend&&!n?(0,s.jsx)(Ca.fZ,{}):(0,s.jsx)(ka,{id:p.id,onClose:()=>{r((0,h.K2)((0,T.PC)(),(0,A.wU)({id:e.id})))}})},Ta=e=>(0,s.jsx)(zt.w,{loader:Ft.b.galleryAlbum,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Ea=e=>(0,s.jsx)(zt.w,{loader:Ft.b.adviceFrame,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Ma=()=>(0,s.jsx)(zt.w,{loader:Ft.b.guideFrame,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),Na=e=>(0,s.jsx)(zt.w,{loader:Ft.b.realtyCardFrame,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:La}),La=e=>"loading"===e?(0,s.jsx)(Wr.r,{}):(0,s.jsx)(yr.$,{code:500});i(28462);var Pa=i(5161);const Ra=()=>(0,s.jsx)(zt.w,{loader:Ft.b.collectionFrame,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),Aa=e=>[...e.featurePublicProfile?[]:["userPublicProfile"]];class Ba extends a.PureComponent{constructor(){super(...arguments),this.state={errorMessage:"",error:""}}render(){const e=this.props.s,t="entity"===this.props.frame.type?this.props.frame.entityType:this.props.frame.type;return(0,a.createElement)("div",Object.assign({className:(0,Nt.AH)(e.frame,Aa(this.props.config).includes(this.props.frame.type)&&e.frameOverflowHidden)},be.p({n:"wat-frame",t}),{ref:this.props.bssRef,key:this.props.frame.id}),this.renderContent())}componentDidCatch(e,t){if(this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`}),e===zt.M)return;const i=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"",s=e.stack&&-1!==e.stack.indexOf("removeChild")?e.stack.replace("Error: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","removeChild").replace(/https:\/\/d-assets\.2gis\.ru/g,"assets").replace(/vendor/g,"v"):e.stack;(0,K.vV)({message:i,level:"fatal",id:"m8bkw",payload:{type:"exception",subtype:"FrameRenderFailed",stack:s}})}renderContent(){return this.state.error?(0,s.jsxs)("div",Object.assign({style:{padding:"16px"}},be.p({n:"wat-error-frame",v:this.state.errorMessage}),{children:[(0,s.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,s.jsx)(yr.$,{code:500})})),(0,s.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,s.jsx)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:`Session id: ${this.props.config.sessionId}\n            User id: ${this.props.config.userId}\n            ${this.state.error}`}))]})):(0,s.jsx)(Fa,{frame:this.props.frame,frameContext:this.props.frameContext,config:this.props.config})}}const za=(0,At.f)(((e,t)=>(0,Bt.f_)({state:t,frame:e.frame})))((0,Pt.Xy)({frame:{background:"#fff",flex:"1 1 100%",height:"100%",overflowX:"hidden",overflowY:"auto"},frameOverflowHidden:{overflowY:"hidden"}})((0,Rt.Q)()((0,In.N)()(Ba)))),Fa=({frame:e,frameContext:t,config:i})=>{switch(e.type){case"gallery":return(0,s.jsx)(Ta,{frame:e,frameContext:t,isMenuPhoto:"menu"===e.entityType});case"dashboard":return(0,s.jsx)(Pn,{frame:e,frameContext:t});case"search":return(0,s.jsx)($t,{frame:e,frameContext:t,config:i});case"directions":return(0,s.jsx)(Hn,{frame:e,frameContext:t});case"direction":return(0,s.jsx)(Vn,{frame:e});case"entity":return(0,s.jsx)(_n,{frame:e,frameContext:t});case"product":return(0,s.jsx)(An,{frame:e,frameContext:t});case"offer":return(0,s.jsx)(Bn,{frame:e});case"pending":return(0,s.jsx)(Fn,{frame:e});case"publicFavorites":return(0,s.jsx)(Un,{frame:e,frameContext:t});case"collection":return"guide"===e.subtype?(0,s.jsx)(Ra,{}):(0,s.jsx)(Dn,{frame:e,frameContext:t});case"prices":return(0,s.jsx)($n,{frame:e});case"rubricator":return(0,s.jsx)(Wn,{frame:e,frameContext:t});case"rubric":return(0,s.jsx)(qn,{frame:e,frameContext:t});case"userProfile":return(0,s.jsx)(Zn,{frame:e});case"unconfirmedReviews":return(0,s.jsx)(ea,{frame:e});case"currentReview":return(0,s.jsx)(ta,{frame:e});case"tUgc":return(0,s.jsx)(ia,{frame:e});case"error":return(0,s.jsx)(Jn,{frame:e,frameContext:t});case"realty":return(0,s.jsx)(Pa.rg,{frame:e,frameContext:t});case"realtyCard":return(0,s.jsx)(Na,{frame:e});case"exchange":return(0,s.jsx)(aa,{frame:e,frameContext:t});case"achievements":return(0,s.jsx)(sa,{frame:e});case"userFriendsActivity":return(0,s.jsx)(ra,{frame:e});case"friendsList":return(0,s.jsx)(ca,{frame:e});case"userPublicProfile":return(0,s.jsx)(da,{frame:e});case"sharingGeo":return(0,s.jsx)(Sa,{frame:e});case"advice":return(0,s.jsx)(Ea,{frame:e});case"guide":return(0,s.jsx)(Ma,{})}};var Ha=i(15471),Ua=i(12175);const Da=e=>(0,s.jsx)(zt.w,{loader:Ft.b.suggestList,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var Va=i(52870),$a=i(45469),Wa=i(56803);const qa=(0,Zt.Mz)([({state:e})=>(0,$a.WY)(e,"primary"),({state:e})=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.text},({state:e,props:t})=>"search"===t.frame.type&&"query"===t.frame.searchType?(0,Wa.s8)({state:e,searchId:(0,W.Xk)(t.frame,"actual")}):void 0],((e,t,i)=>{var s,r;return{suggest:e,newYearPlaceholder:t,queryFix:null===(r=null===(s=null==i?void 0:i.data)||void 0===s?void 0:s.searchAttributes)||void 0===r?void 0:r.query_fix}}));var Za=i(12579),Qa=i(69395),Ga=i(17640),Ka=i(85356),Ya=i(76160);const Xa="primary",Ja=(0,h.n5)("handleInput",(({query:e})=>(0,h.K2)((0,Qa.Tl)({suggesterKey:Xa,query:e}),(0,Qa.r_)({suggesterKey:Xa,index:void 0}),(0,Za.TJ)({suggesterKey:Xa,show:!0}),(0,Za.ti)()))),eo=(0,h.n5)("handleSubmit",(({frameId:e})=>(0,f.QY)((({tp:t})=>(0,v.RC)({suggest:e=>(0,$a.WY)(e,Xa),primarySuggestions:e=>(0,$a.gD)(e),searchAttributes:e=>(0,$a.oJ)(e,"primary"),featureRealty:e=>e.config.featureRealty,withBssShowEvent:e=>!((0,q.l)(Ya.By,e.config.experiments)===Ya.Yc)},(({suggest:i,primarySuggestions:s,searchAttributes:r,featureRealty:n,withBssShowEvent:a})=>{if(!i||!i.query)return(0,h.lQ)();const o=n&&s?(0,Ka.P)(s,t):s?[...s]:[],{highlightedIndex:c,query:d}=i;if(void 0!==c){const t=o[c];if(t)return(0,Za.iz)({suggestion:t,query:d,pickedIndex:c,frameId:e,suggestions:o||[],searchAttributes:r,withBssShowEvent:a})}return d?(0,h.K2)((0,Ga.bp)({query:d,frameId:e}),(0,Za.TJ)({suggesterKey:Xa,show:!1}),(0,Za.bP)({query:d})):(0,h.lQ)()})))))),to="primary",io=(0,Qt.Yn)(((e,t)=>({handleInput(t){e(Ja({query:t}))},handleSubmit(){e(eo({frameId:t.frame.id}))},handleInputClick(t){e((0,Za.t7)({query:t,suggesterKey:to}))},handleNavigation(t){e((0,Za.hQ)({suggesterKey:to,keyCode:t}))}})));var so=i(71053),ro=i(88096);function no(e){switch(e.type){case"search":return"inside"===e.searchType?e.parentSearchQuery:e.query;case"entity":case"product":return e.query}}class ao extends a.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.handleInput(e),this.props.bssSearchBarInput({query:e})},this.handleKeyUp=e=>{e.stopPropagation()},this.handleKeyDown=e=>{if(e.stopPropagation(),[ro.En,ro.vx,ro.aH].indexOf(e.keyCode)>-1)return e.preventDefault(),void(this.props.suggest&&this.props.suggest.show&&this.props.handleNavigation(e.keyCode));e.keyCode,ro.jD},this.handleSubmit=e=>{var t;e.preventDefault(),this.props.isMobileDevice&&this.props.inputRef&&(null===(t=this.props.inputRef.current)||void 0===t||t.blur()),this.props.handleSubmit()},this.handleClick=()=>{this.props.handleInputClick(this.props.query||""),this.props.bssSearchBarTap()},this.onClear=()=>{this.props.bssClearSearchBarTap()}}render(){var e;const{query:t,autoFocus:i,lightText:r,inputRef:n,withH1Header:a,placeholder:o}=this.props;return(0,s.jsx)("form",Object.assign({onSubmit:this.handleSubmit},{children:(0,s.jsx)(so.D,{placeholder:o,value:t||"",onChange:this.handleChange,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,autoFocus:i,lightText:r,onClick:this.handleClick,onClear:this.onClear,inputRef:n,displayH1Header:a,showHamburger:!(null===(e=this.props.suggest)||void 0===e?void 0:e.show)})}))}}ao.displayName=(0,qt.d)("src/modules/searchBar/containers/suggestInput");const oo=(0,Rt.Q)()((0,At.f)(void 0,((e,t)=>({bssSearchBarInput({query:i}){e((0,Ei.cD)({uiElement:{name:"searchBar",ownerName:"searchBarWrapper",frameUuid:t.ownerFrameId},action:"textInput",payload:{searchRequest:{text:i}}}))},bssSearchBarTap(){const i=(0,Bt.DR)(t.frame);e((0,Ei.cD)({uiElement:{name:"searchBar",ownerName:i,frameUuid:t.ownerFrameId},action:"tap"}))},bssClearSearchBarTap(){e((0,Ei.cD)({uiElement:{name:"clear",ownerName:"searchBar",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,de.Ng)(((e,t)=>qa({state:e,props:t})),io)((0,Vs.J)((({suggest:e,frame:t,customPlaceholder:i,newYearPlaceholder:s,queryFix:r},{config:n,tp:a})=>{const o=t&&r&&((e,t)=>{if("search"===e.type&&"query"===e.searchType&&t)return t.corrected_query})(t,r),c=t&&no(t),d=a._pt("Поиск в 2ГИС","Поиск в %1",[n.brandName]),l="ru"===n.lang?"Поехали! 🧑‍🚀":"Poehali! 🧑‍🚀",u=(({customPlaceholder:e,newYearPlaceholder:t,astronauticsDayPlaceholder:i})=>{switch(!0){case void 0!==e:return e;case void 0!==t:return t;case void 0!==i:return i;default:return}})({customPlaceholder:i,newYearPlaceholder:n.featureNewYear?s:void 0,astronauticsDayPlaceholder:n.featureAstronauticsDay?l:void 0});return{query:o||(e&&void 0!==e.query?e.query:c)||"",placeholder:u||d,isMobileDevice:n.isMobileDevice}}))(ao))));var co=i(82559),lo=i(60077);const uo="primary",po=["tree","bag","hat","sock","toy","mandarins"],mo=((0,h.n5)("getNewYearRandomSearchBarDecor",(()=>(0,h.NV)((({featureNewYear:e,featureNewYearInput:t,lang:i,brandName:s})=>e?(0,f.QY)((({tp:e})=>{const r=e._pt("Поиск в 2ГИС","Поиск в %1",[s]),n=[e._gg("3-я ул. Строителей, 25, кв.12"),e._gg("Если снежинка не растает"),e._gg("Загадайте желание"),e._gg("Мы дождались 2025!")],a=t&&"ru"===i?n[Math.floor(Math.random()*n.length)]:r;return(0,D.Ip)({newYearPlaceholder:{text:a,iconType:po[Math.floor(Math.random()*po.length)]}})})):(0,h.lQ)())))),{framesLength:e=>e.appContext.frames.length,isDataViewerMinimized:e=>e.appContext.isDataViewerMinimized||!1,suggest:e=>(0,$a.WY)(e,"primary")}),go={subscribeOnPopState:e=>(0,N.q2)({id:e,type:"window:popstate",handler:()=>(0,Qa.TJ)({suggesterKey:uo,show:!1})}),unsubscribeOnPopState:e=>(0,N.f)({id:e}),hideSuggest:()=>(0,Qa.TJ)({suggesterKey:uo,show:!1}),handleLogoClick:L.sU,closeLastFrame:L.kD};class ho extends a.PureComponent{constructor(){super(...arguments),this.state={isDataViewerMinimized:this.props.isDataViewerMinimized,forceFocus:!1},this.popStateListenerId=(0,Y.W7)(),this.inputRef=a.createRef(),this.closeSuggest=()=>{this.props.showSuggest&&this.props.hideSuggest()},this.handleBackClick=()=>{var e;const{config:{isMobileDevice:t}}=this.props;this.props.showSuggest&&(t&&(null===(e=this.inputRef.current)||void 0===e||e.blur()),this.props.hideSuggest())},this.handleLogoClick=()=>{this.props.handleLogoClick()},this.handleBlur=()=>{this.props.hideSuggest()}}static getDerivedStateFromProps(e,t){return e.autoFocus&&!e.isDataViewerMinimized&&t.isDataViewerMinimized?Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!0}):Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!1})}componentDidMount(){this.props.subscribeOnPopState(this.popStateListenerId)}componentWillUnmount(){this.props.unsubscribeOnPopState(this.popStateListenerId)}componentDidUpdate(){this.state.forceFocus&&this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}render(){const{frame:e,showSuggest:t,autoFocus:i,isInputWithH1Header:r,wrapperHeight:n,showBackButton:a,showBorder:o,s:c}=this.props;return(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(c.root),style:{height:n}},be.dx.n("wat-search-bar-wrapper"),be.dx.t(e.type),{children:(0,s.jsxs)(co.H,Object.assign({onBlur:this.handleBlur,initialFocus:i},{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(c.focusController)},{children:(0,s.jsx)(Ua.G,Object.assign({showBackButton:a,showLogo:!a,showBorder:o,handleBackClick:this.handleBackClick,handleLogoClick:this.handleLogoClick},{children:(0,s.jsx)(oo,{frame:e,autoFocus:i,inputRef:this.inputRef,withH1Header:r})}))})),t&&(0,s.jsx)(Va.K,Object.assign({onBackgroundClick:this.closeSuggest,stretchContent:!0},{children:(0,s.jsx)(Da,{frame:e,inputRef:this.inputRef})}))]}))}))}}const fo=(0,lo.M)({selectors:mo,handlers:go})((0,In.N)()((0,Vs.J)(((e,{config:t})=>{const{frame:i,frameContext:s,isDataViewerMinimized:r,framesLength:n,suggest:a}=e,o=(0,Fr.e)(i,s,t);if(!o)return;const c=!(!a||!a.show);return{wrapperHeight:o,autoFocus:!t.isMobileDevice&&!r&&0===n,isInputWithH1Header:"search"===i.type&&"query"===i.searchType&&1===n,showSuggest:c,showBackButton:c,showBorder:!c}}))((0,Pt.Xy)((({mobile:e})=>({root:{paddingTop:16,margin:e?"0 12px":"0 16px",pointerEvents:"auto",boxSizing:"border-box"},focusController:{position:"relative",zIndex:ge.fE.top},promo:{paddingTop:16,paddingBottom:0,paddingStart:12,paddingEnd:12}})))(ho))));var vo=i(70498),bo=i(46383),yo=i(23124);class xo extends a.PureComponent{constructor(){super(...arguments),this.state={doNotRender:"undefined"!=typeof window&&!window.isServerRendered,isActive:!!this.props.frameContext&&this.props.frameContext.isRightMost}}componentDidMount(){this.props.fadeInWithoutDelay?this.setState({doNotRender:!1}):this.fadeInTimer=window.setTimeout((()=>this.setState({doNotRender:!1})),Yi.S.long)}componentDidUpdate(){const{frameContext:e}=this.props;e&&e.isRightMost!==this.state.isActive&&(e.isRightMost?this.stylesTimer=window.setTimeout((()=>{this.setState({isActive:e.isRightMost}),this.stylesTimer=void 0}),Yi.S.long):this.setState({isActive:!1}))}componentWillUnmount(){this.fadeInTimer&&window.clearTimeout(this.fadeInTimer),this.stylesTimer&&window.clearTimeout(this.stylesTimer)}render(){const{frameWidth:e,frameContext:t,children:i,s:r}=this.props;if(!t)return null;const{isActive:n}=this.state;return(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(r.panel,this.state.doNotRender&&r._fadedOut),style:{width:e}},{children:!this.state.doNotRender&&(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(r.content,n?r._highlighted:r._regular)},{children:i({frameContext:t})}))}))}}const jo={panel:{width:"352px",minWidth:"352px",height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:`opacity ${Yi.S.short}ms`,opacity:1,zIndex:1},content:{height:"100%"},_regular:{":before":{content:'""',position:"absolute",start:"-1px",top:"0",bottom:"0",width:"1px",height:"100%",background:(0,Xi.m)(he.T.black,.1)},":after":{content:'""',position:"absolute",top:"0",end:"-1px",bottom:"0",width:"1px",height:"100%",background:(0,Xi.m)(he.T.black,.1)}},_highlighted:{boxShadow:vo.E.outerLeft},_fadedOut:{opacity:0}},wo=(0,de.Ng)((()=>{const e=(0,bo.S)(),t=(0,Zt.Mz)([({props:t,state:i})=>e({state:i,frameId:t.frameId}),({state:e,props:t})=>(0,yo.q)(t.frameId)(e)],((e,t)=>({frameContext:e,frameWidth:t})));return(0,Qt.tr)(((e,i)=>t({state:e,props:i})))}))((0,Pt.Xy)(jo)(xo));var Io=i(46501),Co=i(848);const _o={container:{cursor:"pointer",background:"rgba(255, 255, 255, .85)",width:"24px",height:"24px",padding:"8px 0",borderRadius:`logical ${ge.Vq.default} 0 0 ${ge.Vq.default}`,textAlign:"center",boxShadow:vo.E.popup,color:he.T.gray_262626}};function ko(e){switch(e){case"minimize":return(0,s.jsx)(Co.i,{direction:"start"});case"maximize":return(0,s.jsx)(Co.i,{direction:"end"});default:return(0,s.jsx)(Io.b,{})}}const Oo=(0,Pt.Xy)(_o)((function(e){const{type:t,onClick:i,s:r}=e;return(0,s.jsx)("div",Object.assign({},be.dx.n("wat-ear"),{className:(0,Nt.AH)(r.container),onClick:i},{children:ko(t)}))}));class So extends a.PureComponent{render(){const{width:e,children:t,s:i}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,Nt.AH)(i.root),style:{width:e}},{children:[(0,s.jsx)("div",{className:(0,Nt.AH)(i.bg)}),(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(i.children)},{children:t}))]}))}}const To={root:{position:"absolute",top:0,start:0,bottom:0,zIndex:ge.fE.base},bg:{width:"100%",height:"100%",position:"relative",background:he.T.white,boxShadow:vo.E.outerRight,zIndex:ge.fE.base},children:{position:"absolute",top:"16px",end:"-24px",zIndex:ge.fE.bottom}},Eo=(0,Pt.Xy)(To)(So);const Mo=No;function No({frames:e,isMinimized:t}){return{arrowEarType:t?"maximize":"minimize",showCloseEar:!(e[0]&&"dashboard"===e[0].type),showArrowEar:!0}}var Lo=i(55839),Po=i(88817),Ro=i(8951);var Ao=i(31897);class Bo extends a.PureComponent{constructor(){super(...arguments),this.prevFrames=[],this.handleMinimizeClick=()=>{const{frames:e,isMinimized:t,bssOnMinimizeClick:i,handleMinimizeClick:s}=this.props;i(e,t),s()}}UNSAFE_componentWillReceiveProps(){this.prevFrames=this.props.frames.slice().reverse()}componentDidUpdate(){this.props.isMinimized&&function(e,t){if(e.length!==t.length)return!0;for(let i=0;i<e.length;i++)if(e[i].id!==t[i].id)return!0;return!1}(this.prevFrames,this.props.frames.slice().reverse())&&this.props.unMinimize()}render(){const{frames:e,isMinimized:t,s:i,dataViewerWidth:r,config:n}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(i.root,t&&i._minimized)},be.dx.n("wat-data-viewer"),{children:[(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:(0,Y.W7)()}},{children:(0,s.jsx)(jt,{})})),(0,s.jsx)(Eo,Object.assign({width:r},{children:this.renderEars()})),(0,s.jsx)("div",Object.assign({style:{display:"flex",height:"100%",overflow:"hidden",width:r?r-Ao.k.width+"px":0}},be.dx.n("wat-frames"),{children:e.slice().reverse().map(((e,t)=>{return(0,s.jsx)(wo,Object.assign({frameId:e.id,fadeInWithoutDelay:this.prevFrames[t]&&(i=e,r=this.prevFrames[t],"search"===i.type&&"search"===r.type?i.searchType===r.searchType:i.type===r.type)},{children:({frameContext:t})=>(0,s.jsxs)(Ha.X.Provider,Object.assign({value:{frameId:e.id}},{children:[(0,Ro.F)(e,t,n)&&(0,s.jsx)("div",Object.assign({style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:ge.fE.top}},{children:(0,s.jsx)(fo,{frame:e,frameContext:t})})),(0,s.jsx)("div",Object.assign({style:{position:"relative",zIndex:ge.fE.base,height:"100%"}},{children:(0,s.jsx)(za,{frame:e,frameContext:t})}))]}))}),e.id);var i,r}))}))]}))}renderEars(){const{showArrowEar:e,showCloseEar:t,arrowEarType:i}=this.props;if(e||t)return(0,s.jsxs)("div",{children:[t&&(0,s.jsx)("div",Object.assign({},be.dx.n("wat-close-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,s.jsx)(Oo,{type:"close",onClick:this.props.handleCloseClick})})),e&&(0,s.jsx)("div",Object.assign({},be.dx.n("wat-minimize-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,s.jsx)(Oo,{type:i,onClick:this.handleMinimizeClick})}))]})}}Bo.displayName=(0,qt.d)("src/modules/dataViewer");const zo={root:{height:"100%",display:"flex",position:"absolute",transition:`transform ${Yi.S.short}ms`,zIndex:ge.fE.base},_minimized:{"@media print":{display:"none !important"}}},Fo=(0,At.f)(void 0,(e=>({bssOnMinimizeClick(t,i){if(!t[0])return;const s={action:"tap",uiElement:{name:i?"expandArrow":"collapseArrow",ownerName:(0,Bt.DR)(t[0]),frameUuid:t[0].id}};return e((0,Ei.cD)(s))}})))((0,Lt.N)((e=>({frames:(0,Lo.t)(e),dataViewerWidth:(0,Po.b)(e),isMinimized:e.appContext.isDataViewerMinimized})),((e,t)=>({handleCloseClick(){e((0,L.kD)())},handleMinimizeClick(){e((0,Me.X_)({isMinimized:!t.isMinimized}))},unMinimize(){e((0,Me.X_)({isMinimized:!1}))}})))((0,Vs.J)(Mo)((0,In.N)()((0,Pt.Xy)(zo)(Bo)))));var Ho=i(15344),Uo=i(80376),Do=i(9255);function Vo({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 15.7142V19.625H11V15.7142L14.1543 18.8685L15.5685 17.4543L11 12.8858V11H12.8858L17.4542 15.5685L18.8685 14.1543L15.7142 11H19.625V9H15.7142L18.8685 5.84575L17.4542 4.43153L12.8858 9H11V7.11421L15.5685 2.54575L14.1543 1.13153L11 4.28579V0.375H9V4.28579L5.84575 1.13153L4.43153 2.54575L9 7.11421V9H7.11423L2.54576 4.43153L1.13155 5.84575L4.2858 9H0.375V11H4.2858L1.13155 14.1543L2.54576 15.5685L7.11423 11H9V12.8858L4.43153 17.4543L5.84575 18.8685L9 15.7142Z",fill:e})}))}var $o=i(7491),Wo=i(92942);class qo extends a.PureComponent{constructor(){super(...arguments),this.state={isActive:{min:this.props.currentValue.min!==this.props.min,max:this.props.currentValue.max!==this.props.max&&this.props.currentValue.max!==this.props.min},value:this.props.currentValue},this.boxRef=a.createRef(),this.handleSideMouseDown=e=>{if(this.props.isDisabled||!this.boxRef.current)return;const t="rtl"===this.props.dir?this.boxRef.current.getBoundingClientRect().left+this.boxRef.current.clientWidth-e.pageX:e.pageX-this.boxRef.current.getBoundingClientRect().left,i=this.pxToValue(t);this.setState({moving:{side:"max",sliderStart:t,mouseStart:e.pageX}}),this.updateSide(i,"max"),window.document.addEventListener("mouseup",this.handleSideUp),window.document.addEventListener("mousemove",this.handleSideMove)},this.handleSideUp=()=>{window.document.removeEventListener("mousemove",this.handleSideMove),window.document.removeEventListener("mouseup",this.handleSideUp),this.applyChanges(this.state.value),this.setState({moving:void 0})},this.handleSideMove=e=>{const{moving:t}=this.state;if(!t)return;const{side:i,sliderStart:s,mouseStart:r}=t,n=s+(e.pageX-r);this.updateSide(this.pxToValue(n),i)},this.updateSide=(e,t)=>{const{value:i,isActive:s}=this.state,r=this.limitSideValue(Math.round(e)),n=Object.assign(Object.assign({},s),{[t]:r!==this.props.max&&r!==this.props.min});if("min"===t&&r>i.max||"max"===t&&r<i.min)return this.applyChanges({min:r,max:r}),void this.setState({isActive:n,value:{min:r,max:r}});this.applyChanges(Object.assign(Object.assign({},i),{[t]:r})),this.setState({isActive:n,value:Object.assign(Object.assign({},i),{[t]:r})})},this.applyChanges=e=>{const{onChange:t,tag:i}=this.props,s=this.props.min===e.min&&this.props.max===e.max;t({valueType:"single",name:i,value:(0,$o.N)(e.min,e.max),isChecked:!s})},this.limitSideValue=(e,t=!0)=>{if(!t)return e<0?0:e;const{min:i,max:s}=this.props;return e<i?i:e>s?s:e},this.valueToPercent=e=>{const t=Math.round(100*this.valueToProgress(e));return t>100?100:t<0?0:t}}static getDerivedStateFromProps(e,t){return t.moving?t:Object.assign(Object.assign({},t),{isActive:{min:e.currentValue.min!==e.min,max:e.currentValue.max!==e.max&&e.currentValue.max!==e.min}})}render(){const{isDisabled:e,s:t,dir:i}=this.props,{value:r,isActive:n,moving:a}=this.state,o=this.valueToPercent(r.min),c=this.valueToPercent(r.max),d=(0,Nt.mG)({start:`${o}%`,width:c-o+"%"},i);return(0,s.jsx)("div",Object.assign({},be.dx.n("wat-filter-widget-slider"),be.dx.t(this.props.tag),{children:(0,s.jsxs)("div",Object.assign({className:(0,Nt.AH)(t.barWrapper,e&&t._disabledBarWrapper),onMouseDown:this.handleSideMouseDown},{children:[(0,s.jsx)("div",{className:(0,Nt.AH)(t.bar)}),(0,s.jsxs)("div",Object.assign({className:(0,Nt.AH)(t.valueBox),ref:this.boxRef},{children:[(0,s.jsx)("div",{className:(0,Nt.AH)(t.bar,!e&&t._activeBar),style:d}),(0,s.jsx)("div",{className:(0,Nt.AH)(t.slider,t._sliderMax,n.max&&t._activeSlider,e&&t._disabledSlider,a&&t._movingSlider),style:(0,Nt.mG)({start:`${c}%`},i)})]}))]}))}))}pxToValue(e){if(!this.boxRef.current)return 0;const{isLog:t,min:i,max:s}=this.props;return t?i*Math.pow(2,e*Math.log2(s/i)/this.boxRef.current.clientWidth):(s-i)*e/this.boxRef.current.clientWidth+i}valueToProgress(e){const{isLog:t,min:i,max:s}=this.props,r=this.limitSideValue(e);return t?Math.log2(r/i)/Math.log2(s/i):(r-i)/(s-i)}}const Zo={barWrapper:{height:"24px",position:"relative",cursor:"pointer",userSelect:"none"},_disabledBarWrapper:{cursor:"auto"},bar:{width:"100%",height:"8px",position:"absolute",top:"8px",background:he.T.gray_e6e6e6,borderRadius:ge.Vq.default,marginStart:-4,paddingEnd:8},_activeBar:{background:he.T.blue_028eff,borderRadius:ge.Vq.defaultOnlyEnd},fillBar:{height:"8px",position:"absolute",top:"8px"},valueBox:{position:"absolute",height:"100%",left:0,right:0},slider:{width:"24px",height:"24px",border:`2px solid ${he.T.blue_028eff}`,boxSizing:"border-box",position:"absolute",borderRadius:"50%",backgroundColor:"#fff",cursor:"grab"},_movingSlider:{cursor:"grabbing"},_sliderMin:{marginStart:"-24px"},_sliderMax:{marginStart:"-12px"},_activeSlider:{":before":{content:'""',display:"block",backgroundColor:he.T.blue_028eff,borderRadius:"50%",position:"absolute",width:"8px",height:"8px",top:0,bottom:0,start:0,end:0,margin:"auto"}},_disabledSlider:{border:`1px solid ${he.T.gray_f2f2f2}`,pointerEvents:"none",cursor:"auto",":before":{backgroundColor:he.T.gray_bbbbbb}}},Qo=(0,Vs.J)((({min:e,max:t,currentValue:i})=>{const s=i?(0,Wo.a)(i):[],r=s[0]?Number(s[0]):void 0,n=s[1]?Number(s[1]):void 0;return{currentValue:{min:void 0!==r?r:e,max:void 0!==n?n:t}}}))((0,Pt.Xy)(Zo)(qo));var Go=i(6028);const Ko=e=>({frameId:t},i)=>{const s=(0,H.u)(i),r=(0,c.zN)(i);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:t},action:"tap",payload:{mapLayer:{name:"winterLayer",enableMapLayer:e,entity:{type:"mapLayer",segmentInfo:(0,st.o)({locale:s,region_id:r})}}}}},Yo=(0,a.memo)((()=>{const e=(0,xe.c)(),t=(0,a.useRef)(),[i,r]=(0,a.useState)(!1),[n,o]=(0,a.useState)(!1),[d,l]=(0,a.useState)(!1),{css:u,s:p}=(0,pe.I)(Xo),m=(0,de.wA)(),{bssRef:g,useBssHandler:h}=(0,le.E)((({frameId:e},t)=>{const i=(0,H.u)(t),s=(0,c.zN)(t);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:e},payload:{mapLayer:{name:"winterLayer",entity:{type:"mapLayer",segmentInfo:(0,st.o)({locale:i,region_id:s})}}}}})),f=h(Ko,!0),v=h(Ko,!1),b=(0,de.d4)((e=>e.appContext.showSnow)),y=b.allowSnowStyle,{isMobileDevice:x,featureSnowSlider:j}=(0,fe.U)(),w=(0,a.useCallback)((()=>{clearTimeout(t.current),r(!0),o(!0),l(!0)}),[]),I=(0,a.useCallback)((()=>{o(!1),l(!1),t.current=setTimeout((()=>{r(!1)}),500)}),[]),C=(0,a.useCallback)((()=>{const e="on"===b.status||x?"off":"on";m((0,Go.a1)(e,!y)),y?(v(),I()):(f(),w())}),[b.status,x,m,y,f,w,v,I]),_=(0,a.useCallback)((()=>{!x&&y&&w()}),[y,x,w]),k=(0,a.useCallback)((()=>{!x&&y&&I()}),[y,x,I]),O=(0,a.useCallback)((e=>{var t;m((0,Go.Xp)({intensity:Number(null===(t=e.value)||void 0===t?void 0:t.split(",")[1])}))}),[m]);return(0,s.jsxs)("div",Object.assign({className:u(p.root),ref:g,onMouseEnter:_,onMouseLeave:k},{children:[j&&(0,s.jsx)(xt.j,{children:(0,s.jsxs)("div",Object.assign({className:u(p.slider,n&&p._slider_on,d&&p._slider_has_events,!d&&p._slider_not_events)},{children:[(0,s.jsx)("div",Object.assign({className:u(p.sliderHeader)},{children:e._t("Интенсивность снегопада")})),(0,s.jsx)(Qo,{onChange:O,min:0,max:200,currentValue:`0,${b.intensity}`})]}))}),(0,s.jsx)("div",Object.assign({className:u(p.controlWrapper,i&&p._wrapper_active)},{children:(0,s.jsx)("div",Object.assign({className:u(p.control,y&&p._control_active),onClick:C},{children:(0,s.jsx)(Vo,{color:y?he.T.blue_c5eeff:he.T.blue_028eff})}))}))]}))}));Yo.displayName="SnowControl";const Xo=(0,pe.r)((({mobile:e})=>({root:{position:"relative"},control:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:40,color:he.T.gray_929292,background:he.T.white,boxShadow:vo.E.popup,borderRadius:e?"50%":ge.Vq.default,cursor:"pointer",zIndex:ge.fE.base,":hover":{background:he.T.gray_f2f2f2}},controlText:{marginStart:8},sliderHeader:{marginBottom:4},slider:{position:"absolute",top:0,opacity:0,start:0,display:"flex",flexDirection:"column",justifyContent:"center",width:179,paddingStart:16,paddingEnd:16,height:64,borderRadius:ge.Vq.default,background:he.T.white,boxShadow:vo.E.popup,transition:"all 0.3s linear 0s",pointerEvents:"none"},_slider_on:{opacity:1,top:48},_slider_has_events:{pointerEvents:"all"},_slider_not_events:{pointerEvents:"none"},_control_active:{backgroundColor:he.T.blue_028eff,color:he.T.white,":hover":{backgroundColor:he.T.blue_0070cc,color:he.T.white}},controlWrapper:{position:"relative"},_wrapper_active:{"&::after":{content:'""',display:"block",height:20,position:"absolute",width:"100%",left:0,bottom:-20}}}))),Jo=(0,Zt.Mz)([({state:e})=>e.appContext.zoom,({state:e})=>(0,c.n$)(e),({state:e})=>e.session.is3dEnabled],((e,t,i)=>({zoom:e,projectData:t,is3d:i}))),ec=(0,Qt.tr)(((e,t)=>Jo({state:e,props:t}))),tc=(0,Qt.Yn)((e=>({onZoomChange:t=>e((0,h.K2)((0,Is.$b)({zoom:t}),(0,h.Q2)((e=>(0,N.c)({type:"map:moveend",event:{center:[e.appContext.center.lon,e.appContext.center.lat],zoom:t,rotation:e.appContext.rotation,pitch:e.appContext.pitch}})))))})));var ic=i(90408);var sc=i(78076);function rc({color:e="currentColor",width:t=32,height:i=32}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:t,height:i},{children:(0,s.jsx)("path",{d:"M8 15h16v2H8z"})}))}var nc=i(92920);const ac=e=>{const{title:t,to:i,children:r,delay:n,offset:a,fixedWidth:o,isNowraped:c}=e,{ref:d,addTooltip:l}=(0,ks.J)({title:t,to:i,delay:n,offset:a,fixedWidth:o,isNowraped:c});return(0,s.jsxs)(s.Fragment,{children:[r(d),l]})};class oc extends a.Component{constructor(){super(...arguments),this.step=1,this.onZoomInClick=()=>{const{zoom:e,onZoomChange:t,maxZoom:i}=this.props,s=e+this.step;t(s>i?i:s)},this.onZoomOutClick=()=>{const{zoom:e,onZoomChange:t,minZoom:i}=this.props,s=e-this.step;t(s<i?i:s)}}render(){const{zoom:e,maxZoom:t,minZoom:i,i18n:{tp:r}}=this.props,n=r._t("Изменить масштаб");return(0,s.jsx)(ac,Object.assign({title:n,to:"centerStart"},{children:r=>(0,s.jsxs)(Do.H,Object.assign({isVertical:!0,innerRef:r},{children:[(0,s.jsx)(nc.E,Object.assign({onClick:this.onZoomInClick,dataT:"zoom-in",disabled:e>=t,ariaLabel:n},{children:(0,s.jsx)(sc.T,{})})),(0,s.jsx)(nc.E,Object.assign({onClick:this.onZoomOutClick,dataT:"zoom-out",disabled:e<=i,ariaLabel:n},{children:(0,s.jsx)(rc,{})}))]}))}))}}oc.displayName=(0,qt.d)("src/features/mapControl/zoom");const cc=(0,Qt.Ng)(ec,tc)((0,Vs.J)((({projectData:e,is3d:t,zoom:i})=>{const s=(0,ic.m)({project:e,is3d:t});return{zoom:i,minZoom:s.min,maxZoom:s.max}}))((0,Rt.Q)()(oc)));class dc extends a.PureComponent{constructor(){super(...arguments),this.beforeMoveState=void 0,this.onChangeStartHandler=e=>{this.bindHandlers(),this.beforeMoveState={x:e.clientX,y:e.clientY},this.props.onChangeStart&&this.props.onChangeStart(e)},this.onChangeHandler=(0,Y.nF)((e=>{this.beforeMoveState&&this.props.onChange&&this.props.onChange({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})}),1e3/60),this.onChangeEndHandler=e=>{this.unbindHandlers(),this.beforeMoveState&&this.props.onChangeEnd&&this.props.onChangeEnd({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})},this.unbindHandlers=()=>{window.removeEventListener("mouseup",this.onChangeEndHandler),window.removeEventListener("mousemove",this.onChangeHandler)},this.bindHandlers=()=>{window.addEventListener("mouseup",this.onChangeEndHandler),window.addEventListener("mousemove",this.onChangeHandler)}}render(){const{children:e,dataN:t}=this.props;return(0,s.jsx)("div",Object.assign({onMouseDown:this.onChangeStartHandler},t?be.dx.n(t):{},{children:e}))}componentWillUnmount(){this.unbindHandlers()}}dc.displayName=(0,qt.d)("src/shared/kit/mouseMoveHandler");const lc=dc,uc=(0,Zt.Mz)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),pc=(0,Qt.tr)(((e,t)=>uc({state:e,props:t})));var mc=i(8335),gc=i(93067);const hc=(0,Qt.Yn)((e=>({onCenterClick({pitch:t}){const i=(0,gc.d)(t);e((0,mc.m3)({pitch:i?0:45,duration:2e3,animate:!0,zoom:i?void 0:17,rotation:0}))},onRingRotate({rotation:t}){e((0,mc.m3)({rotation:t}))},pushToHistory(){e((0,T.PC)())},toggle3d(){e((0,v.eU)((e=>e.session.is3dEnabled),(e=>(0,S.Oo)({is3dEnabled:!e}))))}})));function fc({disabled:e=!1}){return(0,s.jsxs)("svg",Object.assign({width:"58",height:"58",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("defs",{children:[(0,s.jsx)("path",{d:"M26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 Z M26,42 C34.836556,42 42,34.836556 42,26 C42,17.163444 34.836556,10 26,10 C17.163444,10 10,17.163444 10,26 C10,34.836556 17.163444,42 26,42 Z",id:"path-1"}),(0,s.jsxs)("filter",Object.assign({x:"-8.7%",y:"-8.7%",width:"117.3%",height:"117.3%",filterUnits:"objectBoundingBox",id:"filter-2"},{children:[(0,s.jsx)("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608   0 0 0 0 0.149019608   0 0 0 0 0.149019608  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})]})),(0,s.jsxs)("linearGradient",Object.assign({x1:"50%",y1:"81.6633181%",x2:"50%",y2:"0%",id:"linearGradient-3"},{children:[(0,s.jsx)("stop",{stopColor:"#E33B1E",offset:"0%"}),(0,s.jsx)("stop",{stopColor:"#F7561B",offset:"100%"})]}))]}),(0,s.jsx)("g",Object.assign({id:"Map-Controls",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},{children:(0,s.jsx)("g",Object.assign({id:"2gis5-map-controls-elements",transform:"translate(-317.000000, -901.000000)"},{children:(0,s.jsx)("g",Object.assign({id:"Group-2-Copy-7",transform:"translate(320.000000, 904.000000)"},{children:(0,s.jsxs)("g",Object.assign({id:"outer-ring"},{children:[(0,s.jsxs)("g",Object.assign({id:"Combined-Shape"},{children:[(0,s.jsx)("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-1"}),(0,s.jsx)("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})]})),(0,s.jsx)("rect",{id:"Rectangle-13",fill:"#E6E6E6",x:"45",y:"24",width:"4",height:"4",rx:"2"}),(0,s.jsx)("rect",{id:"Rectangle-13-Copy-2",fill:"#E6E6E6",x:"3",y:"24",width:"4",height:"4",rx:"2"}),(0,s.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"#000000",points:"29 44 26 50 23 44"}),(0,s.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"url(#linearGradient-3)",points:"29 8 23 8 26 2"})]}))}))}))}))]}))}function vc({color:e="currentColor",fill:t="#FFFFFF"}){return(0,s.jsxs)("svg",Object.assign({width:"38",height:"38",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("defs",{children:[(0,s.jsx)("circle",{id:"rotate-inner-ring-b",cx:"16",cy:"16",r:"16"}),(0,s.jsxs)("filter",Object.assign({x:"-14.1%",y:"-14.1%",width:"128.1%",height:"128.1%",filterUnits:"objectBoundingBox",id:"rotate-inner-ring-a"},{children:[(0,s.jsx)("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}))]}),(0,s.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,s.jsxs)("g",Object.assign({transform:"translate(3 3)"},{children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#rotate-inner-ring-a)",xlinkHref:"#rotate-inner-ring-b"}),(0,s.jsx)("use",{style:{fill:t,transition:"fill .25s linear"},xlinkHref:"#rotate-inner-ring-b"})]})),(0,s.jsx)("path",{d:"M15.759 21.144c0-1.19-1.106-1.666-2.548-1.666h-.406v-1.512h.336c1.456 0 2.366-.532 2.366-1.484 0-.882-.77-1.358-1.61-1.358-1.162 0-1.904.742-2.002 1.792h-1.834c.224-2.016 1.624-3.248 3.948-3.248 1.694 0 3.444.812 3.444 2.73 0 .98-.602 1.806-1.372 2.226a2.656 2.656 0 0 1 1.638 2.464c0 2.058-1.778 3.094-3.92 3.094-2.324 0-3.696-1.512-3.822-3.374h1.82c.14 1.022.798 1.918 2.058 1.918 1.05 0 1.904-.63 1.904-1.582zm6.426-7.294c3.22 0 5.642 1.05 5.642 5.068 0 4.032-2.422 5.082-5.642 5.082h-3.01V13.85h3.01zm-.084 1.568h-.924v7.014h.924c1.848 0 3.654-.462 3.654-3.514 0-3.038-1.806-3.5-3.654-3.5z",style:{fill:e,transition:"fill .25s linear"}})]}))]}))}var bc=i(30498);var yc=i(2338);class xc extends a.PureComponent{constructor(){super(...arguments),this.state={isHoverOnClickableInner:!1,isRotationInProgress:!1},this.rotationState=void 0,this.renderControl=e=>{const{pitch:t,s:i}=this.props,r=this.setColors();return(0,s.jsxs)("div",Object.assign({ref:e,className:(0,Pt.AH)(i.root),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},be.dx.n("wat-map-controls-3d"),{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(i.inner),style:{transform:`rotateX(${t}deg)`}},be.dx.n("wat-map-controls-3d-inner"),{children:(0,s.jsx)(vc,{color:r.color,fill:r.fill})})),this.renderOuterRing(),(0,s.jsx)("div",{className:(0,Pt.AH)(i.clickableInner),onClick:this.handleCenterClick,onMouseEnter:this.onClickableInnerMouseEnter,onMouseLeave:this.onClickableInnerMouseLeave})]}))},this.onMouseEnter=()=>{this.props.hoverableHandlers.onMouseEnter()},this.onMouseLeave=()=>{this.props.hoverableHandlers.onMouseLeave(),this.state.isHoverOnClickableInner&&this.setState({isHoverOnClickableInner:!1})},this.onClickableInnerMouseEnter=()=>{this.setState({isHoverOnClickableInner:!0})},this.onClickableInnerMouseLeave=()=>{this.setState({isHoverOnClickableInner:!1})},this.setColors=()=>{const{isHoverOnClickableInner:e}=this.state,{pitch:t}=this.props;if(e)return{color:(0,Xi.m)(he.T.white,.7),fill:he.T.blue_028eff};return(0,gc.d)(t)?{color:he.T.white,fill:he.T.blue_028eff}:{color:he.T.gray_262626,fill:he.T.white}},this.onRotationStart=e=>{const t=e.currentTarget.children.item(0);if(t){const{left:i,width:s}=t.getBoundingClientRect(),r=e.clientX-i<=s/2?1:-1;this.rotationState={initialRotation:this.props.rotation,sign:r},this.setState({isRotationInProgress:!0})}},this.onRotationEnd=({y:e})=>{if(!this.rotationState)return;const{rotation:t,onRingRotate:i}=this.props;0!==t&&0===e&&i({rotation:0}),this.rotationState=void 0,this.props.pushToHistory(),this.setState({isRotationInProgress:!1})},this.rotate=({y:e})=>{if(!this.rotationState)return;const t=180*e/(window.innerHeight/3),i=Math.round(this.rotationState.initialRotation+this.rotationState.sign*t)%360;this.props.onRingRotate({rotation:i})},this.handleCenterClick=e=>{const{is3d:t}=this.props;return this.props.bssOn3dControlClick(),t?t&&0===e.button&&e.altKey?((0,yc.S)("is3dDisabled","1"),this.props.toggle3d(),void location.reload()):void this.props.onCenterClick({rotation:this.props.rotation,pitch:this.props.pitch}):((0,yc.S)("is3dDisabled",void 0),this.props.toggle3d(),void location.reload())}}render(){const{i18n:e,is3d:t,s:i}=this.props,{isRotationInProgress:r}=this.state;return t?r?this.renderControl():(0,s.jsx)(ac,Object.assign({title:e.tp._t("Чтобы вращать карту, зажимайте Ctrl вместе с кнопкой мыши и двигайте курсор"),to:"centerStart",offset:12,fixedWidth:273},{children:e=>this.renderControl(e)})):(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(i.root),onClick:this.handleCenterClick},{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(i.inner)},{children:(0,s.jsx)(vc,{color:he.T.gray_929292,fill:he.T.gray_f2f2f2})})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(i.ring)},{children:(0,s.jsx)(fc,{disabled:!0})}))]}))}renderOuterRing(){const{rotation:e,s:t}=this.props,i=(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(t.ring),style:{transform:`rotate(${e}deg)`}},{children:(0,s.jsx)(fc,{})}));return(0,s.jsx)(lc,Object.assign({onChangeStart:this.onRotationStart,onChange:this.rotate,onChangeEnd:this.onRotationEnd,dataN:"wat-map-controls-3d-outer-ring"},{children:i}))}}xc.displayName=(0,qt.d)("src/features/mapControl/rotate");const jc=(0,Qt.Ng)(pc,hc)((0,bc.B)((0,Rt.Q)()((0,Pt.Xy)({root:{position:"relative",width:58,height:58},ring:{position:"absolute",top:0,start:0,lineHeight:0,cursor:"pointer"},inner:{width:38,height:38,position:"absolute",top:10,start:10},clickableInner:{width:32,height:32,position:"absolute",top:13,borderRadius:"50%",cursor:"pointer",start:0,end:0,margin:"auto"},tooltip:{width:273,padding:16}})((0,At.f)(void 0,((e,t)=>({bssOn3dControlClick(){e((0,Ei.cD)({uiElement:{name:"map3DControl",frameUuid:t.ownerFrameId},action:"tap"}))}})))(xc))))),wc=(0,Zt.Mz)([({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.floorNames,({state:e})=>e.appContext.floors&&e.appContext.floors.currentFloor,({state:e})=>(0,G.o5)(e)],((e,t,i)=>({floorNames:e,currentFloor:t,markersOnFloors:i}))),Ic=(0,Qt.tr)(((e,t)=>wc({state:e,props:t}))),Cc=(0,Qt.Yn)((e=>({onClickFloor(t){e((0,mc.Jc)({floorIndex:t,isManuallySelected:!0}))}})));class _c extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{onClick:e,index:t}=this.props;e(t)}}render(){const{disabled:e,label:t,s:i,hasResults:r}=this.props;return(0,s.jsx)("button",Object.assign({className:(0,Pt.AH)(i.control),disabled:e,onClick:this.handleClick},{children:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(i.label,r&&i._hasResults)},{children:t}))}))}}_c.displayName=(0,qt.d)("src/features/mapControl/floorsControl/ui/desktop");const kc={control:{background:he.T.white,height:32,width:32,color:he.T.gray_262626,cursor:"pointer",borderBottom:`1px solid ${he.T.gray_e6e6e6}`,boxSizing:"border-box",flexShrink:0,":first-child":{borderBottom:"none"},":hover":{color:(0,Xi.m)(he.T.gray_262626,.7)},":active":{color:he.T.blue_028eff},":disabled":{background:he.T.gray_f2f2f2,color:he.T.gray_929292,cursor:"default"}},label:Object.assign(Object.assign({},ye.lead),{position:"relative",lineHeight:"32px",textAlign:"center",height:"100%"}),_hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:he.T.blue_028eff}}},Oc=(0,Pt.Xy)(kc)(_c),Sc=(e,t)=>(null==e?void 0:e.reduce(((e,i,s)=>{const r=!!(t&&t[s]||[]).length;return e.push({floorName:i,hasResults:r}),e}),[]))||[];class Tc extends a.PureComponent{constructor(){super(...arguments),this.state={noScroll:!0,scrollPosition:"top"},this.scrollerContainer=a.createRef(),this.contentContainer=a.createRef(),this.onClickFloor=e=>{this.props.onClickFloor(e)},this.detectHasScroll=()=>{const e=this.scrollerContainer.current,t=this.contentContainer.current;e&&t&&e.clientHeight<t.clientHeight&&this.setState({noScroll:!1})},this.onScroll=e=>{const t=this.scrollerContainer.current;if(this.state.noScroll||!t)return;const i=e.currentTarget.scrollTop;0!==i?i+t.clientHeight!==t.scrollHeight?this.setState({scrollPosition:"middle"}):this.setState({scrollPosition:"bottom"}):this.setState({scrollPosition:"top"})}}componentDidMount(){setTimeout(this.detectHasScroll,0)}componentDidUpdate(e){e.floors.length!==this.props.floors.length&&setTimeout(this.detectHasScroll,0)}render(){const{s:e,floors:t,currentFloor:i}=this.props;return(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.root)},{children:(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(e.container)},{children:[!this.state.noScroll&&(0,s.jsx)(s.Fragment,{children:"top"!==this.state.scrollPosition&&(0,s.jsx)("div",{className:(0,Pt.AH)(e.scrollGradientTop)})}),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.scroller),ref:this.scrollerContainer,onScroll:this.onScroll},{children:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.content),ref:this.contentContainer},{children:t.map(((e,t)=>(0,s.jsx)(Oc,{label:e.floorName,disabled:t===i,onClick:this.onClickFloor,index:t,hasResults:e.hasResults},t)))}))})),!this.state.noScroll&&(0,s.jsx)(s.Fragment,{children:"bottom"!==this.state.scrollPosition&&(0,s.jsx)("div",{className:(0,Pt.AH)(e.scrollGradientBottom)})})]}))}))}}Tc.displayName=(0,qt.d)("src/features/mapControl/floorsControl/ui/desktop");const Ec={root:{position:"relative"},container:{display:"flex",maxHeight:"40vh",background:he.T.white,width:32,overflow:"hidden",borderRadius:ge.Vq.default,boxShadow:vo.E.popup},scroller:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingEnd:17,marginEnd:-17},content:{display:"flex",flexDirection:"column-reverse"},scrollGradientTop:{pointerEvents:"none",height:40,width:32,position:"absolute",backgroundImage:`linear-gradient(to bottom, ${he.T.gray_f2f2f2}, ${he.T.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`},scrollGradientBottom:{height:40,width:32,position:"absolute",bottom:0,pointerEvents:"none",backgroundImage:`linear-gradient(to top, ${he.T.gray_f2f2f2}, ${he.T.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`}},Mc=(0,Qt.Ng)(Ic,Cc)((0,Vs.J)((({markersOnFloors:e,floorNames:t,currentFloor:i})=>{if(t)return{floors:Sc(t,e),currentFloor:i}}))((0,Pt.Xy)(Ec)(Tc))),Nc=()=>{const e=(0,de.wA)(),{css:t,s:i}=(0,pe.I)(Lc),r=(0,a.useRef)(null),n=(0,a.useRef)(null),o=(0,de.d4)((e=>{var t,i;return null===(i=null===(t=e.appContext)||void 0===t?void 0:t.floors)||void 0===i?void 0:i.currentFloor}))||0,c=(0,de.d4)((e=>{var t,i,s;return null===(s=null===(i=null===(t=e.appContext)||void 0===t?void 0:t.weak)||void 0===i?void 0:i.floors)||void 0===s?void 0:s.floorNames})),d=(0,de.d4)(G.o5),l=(0,de.d4)((e=>!!e.appContext.weak.floors)),u=Sc(c,d),p=(0,a.useCallback)((()=>{if(r.current){const t=r.current.offsetHeight/2+r.current.scrollTop,i=Math.abs(Math.floor(t/40)-1);i!==o&&e((0,mc.Jc)({floorIndex:i,isManuallySelected:!0}))}}),[o,e]);return(0,a.useEffect)((()=>{const e=r.current;if(e)return e.addEventListener("scrollend",p),()=>e.removeEventListener("scrollend",p)}),[p,l]),(0,a.useEffect)((()=>{if(r.current&&n.current){const e=r.current;e.style.scrollBehavior="auto",n.current.scrollIntoView({block:"center"}),e.style.scrollBehavior="smooth"}}),[u]),l?(0,s.jsx)("div",Object.assign({className:t(i.control)},{children:(0,s.jsxs)("ul",Object.assign({className:t(i.list),ref:r},{children:[(0,s.jsx)("li",{className:t(i.item)}),u.map((({floorName:e,hasResults:a},c)=>{return(0,s.jsx)("li",Object.assign({className:t(i.item,c===o&&i.active,a&&i.hasResults),onClick:(d=c,()=>{if(d!==o&&r.current){const e=d>o?-40:40;r.current.scrollBy({top:e})}}),ref:c===o?n:void 0},{children:e}),e);var d})),(0,s.jsx)("li",{className:t(i.item)})]}))})):null},Lc=(0,pe.r)({control:{position:"relative",width:40,borderRadius:4,backgroundColor:he.T.white,boxShadow:vo.E.popup,"&:before":{position:"absolute",content:'""',width:32,height:1,left:"50%",top:40,transform:"translate(-50%, 0)",backgroundColor:he.T.gray_e6e6e6},"&:after":{position:"absolute",content:'""',width:32,height:1,left:"50%",top:80,transform:"translate(-50%, 0)",backgroundColor:he.T.gray_e6e6e6}},list:{height:120,position:"relative",overflow:"auto",display:"flex",flexDirection:"column-reverse",scrollSnapType:"y mandatory","&::-webkit-scrollbar":{display:"none"}},item:{position:"relative",height:40,display:"flex",flex:"0 0 40px",alignItems:"center",justifyContent:"center",scrollSnapAlign:"center",fontSize:18,color:he.T.gray_929292},active:{color:he.T.black},hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:he.T.blue_028eff}}});var Pc=i(33662);const Rc=(0,Qt.Yn)((e=>({onFeedbackClick(){e((0,Pc.A)("online5"))}})));class Ac extends a.PureComponent{constructor(){super(...arguments),this.state={expand:!0===this.props.expand||void 0===this.props.expand,leftPosition:void 0,doNotAnimate:!0,expandExternal:!!this.props.expand},this.initialTimeout=void 0,this.setSizeTimeout=void 0,this.textContainer=a.createRef(),this.onMouseEnter=()=>{this.initialTimeout&&clearTimeout(this.initialTimeout),this.state.doNotAnimate||this.setState({expand:!0})},this.onMouseLeave=()=>{this.state.doNotAnimate?this.setState({doNotAnimate:!1,expand:!1}):this.setState({expand:!1})},this.onClick=()=>{this.props.onClick()}}static getDerivedStateFromProps(e,t){return!1===e.expand?Object.assign(Object.assign({},t),{expandExternal:!1}):null}componentDidMount(){const e=this.textContainer.current;e&&(this.initialTimeout=setTimeout((()=>{this.setState({doNotAnimate:!1,expand:!1})}),3e3),this.setSizeTimeout=setTimeout((()=>{const t=e.offsetWidth>220?220:e.offsetWidth;this.setState({leftPosition:-t})}),0))}componentWillUnmount(){this.initialTimeout&&clearTimeout(this.initialTimeout),this.setSizeTimeout&&clearTimeout(this.setSizeTimeout)}render(){const{text:e,s:t,href:i,dir:r,icon:n,color:a,bgColor:o,withShadow:c}=this.props,{expand:d,expandExternal:l,doNotAnimate:u}=this.state,p=a?{color:a}:{},m=o?{backgroundColor:o}:{};return(0,s.jsx)("a",Object.assign({href:i,onClick:this.onClick,target:i?"_blank":void 0,className:(0,Pt.AH)(t.wrapper),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(t.inner,!u&&t._hasTransition,c&&t._withShadow),style:(0,Nt.mG)(Object.assign(Object.assign({start:d||l?this.state.leftPosition:void 0},p),m),r)},{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(t.icon)},{children:n})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(t.text,(d||l)&&t._showed),ref:this.textContainer},{children:e}))]}))}))}}Ac.displayName=(0,qt.d)("src/shared/components/expandControl");const Bc={wrapper:Object.assign(Object.assign({},ye.regular),{cursor:"pointer",position:"relative",display:"block",width:40,height:40}),inner:{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,start:0,end:0,display:"flex",flexDirection:"row-reverse",alignItems:"center",paddingTop:8,paddingBottom:8,paddingStart:4,paddingEnd:0,boxSizing:"border-box",opacity:1,borderRadius:ge.Vq.oval,color:he.T.white,background:(0,Xi.m)(he.T.black,.85),overflow:"hidden"},_hasTransition:{transition:"left 200ms"},icon:{flex:"0 0 40px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},text:{flex:"0 0 auto",display:"inline-block",paddingTop:0,paddingBottom:0,paddingStart:24,paddingEnd:8,transform:"translateZ(0)",pointerEvents:"none",opacity:0},_showed:{opacity:1,transition:"opacity 200ms 75ms"},_withShadow:{boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)"}},zc=(0,bc.B)((0,Pt.Xy)(Bc)(Ac));function Fc({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M4.92 27.08l2.25-6.77A10.5 10.5 0 1 1 16.5 26a10.57 10.57 0 0 1-4.81-1.17zm7-4.43l.39.22a8.52 8.52 0 1 0-3.15-3.15l.22.39-1.3 3.81z"})}))}class Hc extends a.PureComponent{constructor(){super(...arguments),this.onFeedbackClick=()=>{const{onFeedbackClick:e,bssOnFeedbackClick:t}=this.props;e(),t()}}render(){const{i18n:e}=this.props;return(0,s.jsx)("div",Object.assign({},be.dx.n("wat-feedback-btn"),{children:(0,s.jsx)(zc,{onClick:this.onFeedbackClick,icon:(0,s.jsx)(Fc,{}),text:e.tp._t("Обратная связь")},"feedback")}))}}Hc.displayName=(0,qt.d)("src/features/mapControl/feedbackControl");const Uc=(0,At.f)(void 0,((e,t)=>({bssOnFeedbackClick(){e((0,Ei.cD)({uiElement:{name:"feedbackButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,Qt.Ng)(void 0,Rc)((0,Rt.Q)()(Hc)));var Dc=i(24787),Vc=i(50570),$c=i(37700);const Wc=32;function qc({allowed:e,position:t}){return{isEnabled:!!e&&(!!t||void 0)}}const Zc=a.memo((()=>{const{geolocation:e}=(0,de.d4)((e=>e.session)),{isEnabled:t}=(0,kr.kc)(qc,e),i=(0,de.wA)(),r=(0,xe.c)()._t("Моё местоположение"),n=()=>i(!1===t?(0,$c.S8)():(0,$c.Vu)()),{css:a,s:o}=(0,pe.I)(Qc);return(0,s.jsx)(ac,Object.assign({to:"centerStart",title:r,isNowraped:!0},{children:e=>(0,s.jsx)("div",Object.assign({className:a(o.root),ref:e},(0,Vc.a)({label:r}),{children:(0,s.jsx)("button",Object.assign({onClick:n,className:a(o.control),disabled:!1},be.n("wat-control-my-geolocation"),{children:void 0===t?(0,s.jsx)("span",{className:a(o.loader)}):(0,s.jsx)("span",Object.assign({className:a(o.icon,t&&o._active)},{children:(0,s.jsx)(Dc.a,{})}))}))}))}))})),Qc=(0,pe.r)((({mobile:e})=>({root:{width:e?40:Wc,background:he.T.white,boxShadow:vo.E.popup,borderRadius:ge.Vq.default,display:"flex",flexDirection:"column",overflow:"hidden"},control:Object.assign(Object.assign({},ye.lead),{position:"relative",background:he.T.white,height:e?40:Wc,width:e?40:Wc,cursor:"pointer",color:he.T.gray_262626,borderBottom:`1px solid ${he.T.gray_e6e6e6}`,boxSizing:"border-box",":last-child":{borderBottom:"none"}}),icon:{display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7},":active":{color:he.T.blue_028eff}},_active:{color:he.T.blue_028eff},loader:{position:"absolute",boxSizing:"content-box",borderWidth:2,borderRadius:"50%",borderStyle:"solid",borderColor:he.T.blue_028eff,color:"transparent",top:0,right:0,bottom:0,left:0,opacity:0,transition:`top, right, bottom, left, opacity ${Yi.l.base}`,animationIterationCount:"infinite",animationDuration:`${Yi.S.spinner}ms`,animationName:{"0%":{top:14,right:14,bottom:14,left:14,opacity:1},"50%":{top:2,right:2,bottom:2,left:2,opacity:0}}}})));var Gc=i(59543);const Kc=(0,Zt.Mz)([({state:e})=>(0,We.ug)(e).data,({state:e})=>(0,We.Us)(e)],((e,t)=>({user:e,userStatusIsUnknown:t}))),Yc=(0,Qt.tr)(((e,t)=>Kc({state:e,props:t})));var Xc=i(77314);const Jc=(0,Qt.Yn)((e=>({onLogin(){e((0,dt.oC)())},openUserProfile(){e((0,h.NV)((({featureChronologyPlaces:e})=>(0,Xc.x)(e?"places":"favorites"))))}})));var ed=i(50593),td=i(99949),id=i(85724),sd=i(80774),rd=i(72616);function nd({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M16 14h2v5h-2v-5z"}),(0,s.jsx)("path",{d:"M28.3 23.6L19.6 7.7c-.8-1.5-2.6-2-4.1-1.2-.5.3-.9.7-1.2 1.2L5.7 23.6c-.5.9-.5 2.1 0 3 .6.9 1.6 1.4 2.7 1.4h17.3c1.1 0 2-.6 2.6-1.5.5-.9.5-2 0-2.9zm-1.8 2c-.2.3-.5.4-.9.4H8.4c-.6 0-1-.4-1-1 0-.2 0-.3.1-.5l8.6-15.9c.3-.4.9-.6 1.4-.3.2.1.3.2.4.4l8.6 15.8c.2.3.2.7 0 1.1z"}),(0,s.jsx)("path",{d:"M16 21h2v2h-2v-2z"})]}))}function ad({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M24.2 28.5L16 23.3l-8.2 5.2 2.2-9.7-7.6-6.1 9.9-.8L16 3l3.7 9 9.9.8-7.6 6 2.2 9.7zM16 20.9l5.2 3.3-1.4-6.2 4.6-3.7-6-.5L16 8.2l-2.4 5.7-6 .5 4.6 3.7-1.5 6.2 5.3-3.4z"})}))}function od({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M20.6 11.5l4.3-6.7-1.7-1.1-4.4 7c-.8-.2-1.6-.4-2.4-.4l3.5-5.5-1.7-1.1L16 7.1l-2.2-3.4-1.7 1.1L14.8 9l-1 1.6-.6.1-4.4-7-1.6 1.1 4.3 6.7c-4.3 2.5-5.7 8-3.2 12.3s8 5.7 12.3 3.2 5.7-8 3.2-12.3c-.8-1.3-1.9-2.4-3.2-3.2zM16 26.3c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"})}))}function cd({color:e="#262626"}){return(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 23c0-5.6324 4.5314-9 9-9v2c-3.2531 0-6.45281 2.2338-6.93702 6H14v2H6v-1ZM24 13.5l4.5 4.5-7.4196 7.2481L18.8246 26H16v-2.8246l.7519-2.2558L24 13.5Zm0 3 1.5 1.5-5.5 5.5-1.5.5H18v-.5l.5-1.5 5.5-5.5Z",fill:e}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 11c0 2.7614-2.2386 5-5 5s-5-2.2386-5-5c0-2.76142 2.2386-5 5-5s5 2.23858 5 5Zm-5 3c1.6569 0 3-1.3431 3-3 0-1.65685-1.3431-3-3-3s-3 1.34315-3 3c0 1.6569 1.3431 3 3 3Z",fill:e}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m18.2336 16.7664 1.4693-1.4693C18.2766 14.4503 16.6341 14 15 14v2c1.1205 0 2.2346.265 3.2336.7664Z",fill:e})]}))}function dd({color:e="#262626"}){return(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"m22.2929 11.2919 4.707 4.707-4.707 4.707-1.414-1.414 2.292-2.293h-11.585v-2h11.585l-2.292-2.293 1.414-1.414Z",fill:e}),(0,s.jsx)("path",{d:"M18.216 5.222c-1.455-.296-2.976-.296-4.431 0-.704.144-1.399.36-2.067.642-.654.276-1.283.618-1.869 1.015-.583.393-1.13.844-1.627 1.342-.497.497-.948 1.043-1.343 1.627-.395.585-.737 1.214-1.013 1.869-.283.668-.498 1.363-.642 2.066C5.076 14.51 5 15.256 5 15.999c0 .743.076 1.489.224 2.216.144.703.359 1.398.642 2.066.276.654.618 1.283 1.014 1.869.394.583.845 1.13 1.342 1.627.497.497 1.044.948 1.628 1.343.585.395 1.214.737 1.868 1.014.668.282 1.363.498 2.067.641.727.149 1.472.224 2.215.224.744 0 1.489-.075 2.216-.224.703-.143 1.399-.359 2.067-.641.654-.277 1.631-.938 2.217-1.334l-1.468-1.338c-.48.324-.994.603-1.529.83-.546.23-1.113.407-1.687.524-1.19.242-2.442.242-3.631 0-.574-.117-1.142-.294-1.688-.524-.535-.227-1.048-.506-1.527-.829-.478-.324-.928-.694-1.334-1.1-.406-.406-.776-.855-1.099-1.333-.324-.479-.603-.993-.83-1.528-.23-.546-.407-1.114-.524-1.688C7.062 17.22 7 16.608 7 15.999c0-.61.062-1.221.183-1.816.117-.574.294-1.141.524-1.687.227-.535.506-1.049.83-1.527.323-.479.693-.928 1.099-1.334.406-.407.856-.777 1.333-1.099.48-.324.993-.604 1.528-.83.546-.231 1.114-.407 1.688-.525 1.189-.242 2.441-.242 3.631 0 .574.118 1.141.294 1.687.525.535.226 1.049.506 1.528.829L22.5 7.2c-.585-.396-1.563-1.06-2.217-1.336-.668-.282-1.364-.498-2.067-.642Z",fill:e})]}))}const ld=()=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,s.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M6.05 17.001C6.551 22.054 10.814 26 16 26s9.448-3.946 9.95-8.999h2.009C27.45 23.16 22.29 28 16 28S4.55 23.16 4.041 17zM27.621 13c.166.647.28 1.315.337 2l-3.14-.001-.517 2.59a3 3 0 01-2.764 2.406L21.36 20H20a3 3 0 01-2.995-2.824L17 17v-2.001h-2V17a3 3 0 01-2.824 2.995L12 20h-1.36a3 3 0 01-2.902-2.238l-.04-.174L7.18 15H4.041c.057-.684.17-1.352.337-2h23.244zm-14.623 1.999H9.22l.44 2.197a1 1 0 00.863.797l.118.007H12a1 1 0 00.993-.883L13 17v-2.001zm9.781 0H19V17a1 1 0 00.883.993L20 18h1.36a1 1 0 00.951-.69l.03-.114.44-2.197zM16 4c4.843 0 9.016 2.869 10.912 7h-2.25A9.995 9.995 0 0016 6a9.996 9.996 0 00-8.662 5h-2.25C6.984 6.869 11.158 4 16 4z"})})),ud=({color:e="currentColor"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{d:"M8 5a1 1 0 011.341-.94l.106.046 16 8a1 1 0 01.14 1.705l-.113.07-13 7-.948-1.761 11.303-6.088L10 6.618V27H8V5z",fill:e,fillRule:"evenodd"})}));var pd=i(9181);const md={handleOpenProfile:td.U,handleEditUserProfile:id.v,handleLogout:pd.r},gd=e=>{switch(e){case"edit":return(0,s.jsx)(cd,{});case"achievements":return(0,s.jsx)(od,{});case"photos":return(0,s.jsx)(rd.$,{});case"reviews":return(0,s.jsx)(ad,{});case"feedbacks":return(0,s.jsx)(nd,{});case"favorites":return(0,s.jsx)(sd.X,{});case"missions":return(0,s.jsx)(ld,{});case"places":return(0,s.jsx)(ud,{});case"logout":return(0,s.jsx)(dd,{})}};class hd extends a.PureComponent{render(){const{s:e,listsToRender:t}=this.props;return(0,s.jsx)("nav",Object.assign({className:(0,Pt.AH)(e.root)},be.dx.n("wat-avatar-toast"),{children:t.map(((t,i)=>(0,s.jsx)("ul",Object.assign({className:(0,Pt.AH)(e.list)},{children:t.map(((t,i)=>(0,s.jsxs)("li",Object.assign({className:(0,Pt.AH)(e.item),onClick:this.handleMenuItemClick(t.type)},be.dx.n("wat-avatar-toast-item"),be.dx.t(t.type),{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.icon)},{children:gd(t.type)})),t.title]}),i)))}),i)))}))}handleMenuItemClick(e){return()=>{const{handleOpenProfile:t,handleEditUserProfile:i,handleLogout:s}=this.props;"logout"!==e?("edit"===e&&i(),t(e)):s()}}}const fd={root:{display:"block",boxShadow:vo.E.popup,borderRadius:ge.Vq.default,background:he.T.white,padding:"12px 0",minWidth:192},list:{boxSizing:"border-box",position:"relative",boxShadow:vo.E.innerBorderBottomBase,"&:not(:last-child)":{paddingBottom:8},"&:nth-child(1n+2)":{paddingTop:12},"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",paddingTop:0,paddingBottom:0,paddingStart:16,paddingEnd:8,listStyleType:"none",color:he.T.gray_929292,cursor:"pointer",":hover":{color:he.T.blue_028eff}},icon:{postion:"absolute",height:32,width:32,color:he.T.gray_262626,start:0,marginEnd:16}},vd=(0,Pt.Xy)(fd)(hd),bd=(0,lo.M)({selectors:()=>({isUserAuthorized:We.x3}),handlers:md})((0,Vs.J)((({isUserAuthorized:e},{tp:t,config:i})=>{if(!e)return;const s=[{title:t._t("Награды"),type:"achievements"},{title:t._t("Отзывы"),type:"reviews"},{title:t._t("Фотографии"),type:"photos"},{title:t._t("Уточнения"),type:"feedbacks"}];i.featureAgents&&i.dashboardCarouselItems.includes("agents2020")&&s.unshift({title:t._gg("Миссии"),type:"missions"}),s.unshift({title:t._t("Избранное"),type:"favorites"}),i.featureChronologyPlaces&&s.unshift({title:t._t("Мои места"),type:"places"});return{listsToRender:[s,[{title:t._t("Редактировать"),type:"edit"},{title:t._t("Выйти"),type:"logout"}]]}}))((0,Rt.Q)()(vd)));class yd extends a.PureComponent{constructor(){super(...arguments),this.avatarRef=a.createRef(),this.renderInner=()=>{const{showAvatar:e,avatar:t,userStatusIsUnknown:i,i18n:r,s:n}=this.props;return i?null:e?(0,s.jsx)(pt.e,{initials:this.renderInitials,src:t}):(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(n.button)},{children:[(0,s.jsx)(Gc.G,{}),(0,s.jsx)(xt.j,{children:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(n.buttonName)},be.dx.n("wat-enter"),{children:r.tp._t("Войти")}))})]}))},this.onLogin=()=>{const{showAvatar:e,onLogin:t,openUserProfile:i,trackLoginClick:s}=this.props;e?i():(s(),t())},this.renderInitials=()=>this.props.initials}render(){const{s:e,showRedOutline:t,showAvatar:i,i18n:{tp:r}}=this.props;return(0,s.jsx)(ed.t,{children:({isHovered:n,hoverHandlers:a})=>(0,s.jsxs)("div",Object.assign({},a,{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.root,t&&e._redOutline),onClick:this.onLogin},be.dx.n("wat-auth-control"),{ref:this.avatarRef},{children:i?this.renderInner():(0,s.jsx)(ac,Object.assign({to:"bottomMiddle",title:r._t("Вход в аккаунт"),offset:8,isNowraped:!0},{children:e=>(0,s.jsx)("div",Object.assign({ref:e,style:{display:"flex"}},{children:this.renderInner()}))}))})),n&&(0,s.jsx)(xt.j,{children:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.tooltip)},{children:(0,s.jsx)(bd,{})}))})]}))})}}yd.displayName=(0,qt.d)("src/features/mapControl/authControl");const xd={root:Object.assign(Object.assign({},ye.regular),{display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40,borderRadius:ge.Vq.oval,color:he.T.gray_262626,background:he.T.white,boxShadow:vo.E.popup,overflow:"hidden",":hover":{color:(0,Xi.m)(he.T.gray_262626,.7)}}),_redOutline:{outline:"2px solid red"},tooltip:{position:"absolute",top:40,end:0,paddingTop:8,zIndex:ge.fE.top},button:{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 4px"},buttonName:Object.assign({paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8},ye.regularBold)},jd=(0,At.f)(void 0,((e,t)=>({trackLoginClick(){const i={uiElement:{name:"authorisationButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"};return e((0,Ei.cD)(i))}})))((0,Qt.Ng)(Yc,Jc)((0,Vs.J)((({user:e,userStatusIsUnknown:t},{config:i,tp:s})=>{const r=i.isConfigOverridden,n=(null==e?void 0:e.avatar_preview_tpl)?e.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):null==e?void 0:e.avatar;return t||!e?{userStatusIsUnknown:t,showAvatar:!1,showRedOutline:r}:{userStatusIsUnknown:!1,showAvatar:!0,initials:(0,ht.Z)(e,s),avatar:n,showRedOutline:r}}))((0,Pt.Xy)(xd)((0,Rt.Q)()(yd)))));function wd({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:32,height:32},{children:(0,s.jsx)("path",{d:"M19 5.59L5.59 19 13 26.41 26.41 13zM8.41 19L10 17.41l2.29 2.3 1.42-1.42-2.3-2.29L13 14.41l2.29 2.3 1.42-1.42-2.3-2.29L16 11.41l2.29 2.3 1.42-1.42-2.3-2.29L19 8.41 23.59 13 13 23.59z"})}))}const Id={activate:function(){return(0,Me.JE)({isActive:!0})},deactivate:function(){return(0,Me.JE)({isActive:!1,points:[]})}};class Cd extends a.Component{constructor(){super(...arguments),this.onClick=()=>(this.props.bssOnClick(),this.props.ruler.isActive?this.props.deactivate():this.props.activate())}render(){const{i18n:e,ruler:t}=this.props,i=e.tp._t("Линейка");return(0,s.jsx)(ac,Object.assign({to:"centerStart",title:i},{children:e=>(0,s.jsx)(Do.H,{children:(0,s.jsx)(nc.E,Object.assign({isActive:t.isActive,onClick:this.onClick,dataT:"ruler",innerRef:e,ariaLabel:i},{children:(0,s.jsx)(wd,{})}))})}))}}Cd.displayName=(0,qt.d)("src/features/mapControl/rulerControl");const _d=(0,At.f)(void 0,((e,t)=>({bssOnClick(){e((0,Ei.cD)({action:"tap",uiElement:{name:"ruler",frameUuid:t.ownerFrameId}}))}})))((0,Rt.Q)()(Cd)),kd=(0,lo.M)({selectors:{ruler:e=>e.appContext.ruler},handlers:Id})(_d);var Od=i(10232),Sd=i(96690),Td=i(18887);const Ed=e=>({frameId:t})=>{if(e.mode)return{action:"tap",uiElement:{name:"trafficJam",frameUuid:t},payload:{trafficJam:{turnedOn:!!e.active,mode:e.mode}}}};var Md=i(11990),Nd=i(56190);const Ld=(0,Zt.Mz)([e=>{const t=(0,c.n$)(e);return t?(0,Md.q)(t.code)(e):Nd.d},e=>e.appContext.showTrafficOnMap,e=>{var t;return null===(t=(0,W.bB)(e.appContext.frames,"directions"))||void 0===t?void 0:t.tab}],((e,t,i)=>({traffic:e,isTrafficOn:t,directionsFrameTab:i})));function Pd({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({viewBox:"0 0 18 18",width:"18",height:"18"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M5 10h1a3 3 0 0 1 3-3V6a4 4 0 0 0-4 4m4 6A6 6 0 0 1 9 4a6 6 0 0 1 0 12M9 0a9 9 0 0 0-9 9c0 .688.084 1.355.23 2h.839c.493 3.945 3.852 7 7.931 7 4.079 0 7.438-3.055 7.931-7h.839c.146-.645.23-1.312.23-2a9 9 0 0 0-9-9"})}))}const Rd=({onClick:e,title:t,href:i,active:r,disabled:n,dimension:a=0})=>{const{css:o,s:c}=(0,pe.I)(Ad),d=(e=>{switch(e){case 0:return"zero";case 1:return"low";case 2:case 3:return"normal";case 4:case 5:return"medium";case 6:return"mediumHigh";case 7:return"high";case 8:case 9:case 10:case 11:return"critical";default:throw new Error("Ошибка получения трафика")}})(a);return(0,s.jsx)(ac,Object.assign({title:t,to:"bottomMiddle"},{children:l=>(0,s.jsx)(ue.A,Object.assign({href:i,onClick:e},{children:(0,s.jsx)("button",Object.assign({type:"button",className:o(c.root,d&&c[d],d&&r&&c[`active_${d}`]),disabled:n},be.dx.n("wat-traffic-control"),{ref:l},(0,Vc.a)({label:t}),{children:a||(0,s.jsx)(Pd,{})}))}))}))},Ad=(0,pe.r)((({mobile:e})=>({root:{fontSize:20,lineHeigh:"16px",fontWeight:400,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:ge.Vq.oval,color:he.T.gray_262626,background:he.T.white,boxShadow:vo.E.popupBorderBottom,overflow:"hidden",border:"solid 4px",":hover":Object.assign({},e?{}:{color:(0,Xi.m)(he.T.gray_262626,.7)}),":disabled":{background:he.T.white,borderColor:he.T.gray_e6e6e6,color:he.T.gray_929292,cursor:"default"}},zero:{borderColor:he.T.white},low:{borderColor:"#00991C"},normal:{borderColor:"#53B551"},medium:{borderColor:"#F0B61E"},mediumHigh:{borderColor:he.T.red_fe5000},high:{borderColor:"#E10D0D"},critical:{borderColor:"#8C1010"},active_zero:{color:he.T.green_299400},active_low:{backgroundColor:"#00991C",color:he.T.white},active_normal:{backgroundColor:"#53B551",color:he.T.white},active_medium:{backgroundColor:"#F0B61E",color:he.T.black},active_mediumHigh:{backgroundColor:he.T.red_fe5000,color:he.T.white},active_high:{backgroundColor:"#E10D0D",color:he.T.white},active_critical:{backgroundColor:"#8C1010",color:he.T.white}}))),Bd=()=>{const e=(0,xe.c)(),t=(0,de.wA)(),{traffic:i,isTrafficOn:r,directionsFrameTab:n}=(0,de.d4)(Ld),a=i&&i.data&&i.data.score,o=(0,Od.Nm)(i)||(0,Sd.b)(i),c=(e=>{switch(e){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian";default:return"default"}})(n),d=(0,Td.P)({type:"traffic"}),l=e._t("Пробки"),{useBssHandler:u}=(0,le.E)(),p=u(Ed,{mode:c,active:r}),m=(0,Oi.D)((()=>{p(),t((0,L.GN)())}));return(0,s.jsx)(Rd,{active:r,onClick:m,title:l,href:d,dimension:a,disabled:o})};var zd=i(19071),Fd=i(32065);const Hd=(0,h.n5)("switchLanguage",(e=>(0,h.K2)((0,Je.T)({name:"lang",value:e.lang}),(0,h.v6)((()=>{const e=window.location.pathname+window.location.search,{payload:t}=(0,zd.q)(e);t.lang=void 0;const i=(0,zd.w)((0,Y.oE)((0,Fd.sm)(t)));return(0,P.v)({url:i,name:"_self"})})))));var Ud=i(68913);function Dd(e){switch(e){case"ru":return"Русский";case"en":return"English";case"ar":return"Arabic";case"cs":return"Čeština";case"es":return"Español";case"az":return"Azərbaycanca";case"uz":return"O'zbek";case"kk":return"Қазақ";case"hy":return"Հայերեն";case"ka":return"ქართული";default:return}}const Vd=({currentLang:e},{config:t})=>{const i=t.supportedLangs;return{langs:(0,Y.oE)(i.map((t=>{const i=Dd(t);if(i)return{caption:i,code:t,isActive:t===e}})))}};const $d={root:{display:"inline-flex",flexDirection:"column",boxShadow:vo.E.popup,borderRadius:ge.Vq.default,background:he.T.white,padding:"4px",cursor:"pointer"},item:{display:"block",whiteSpace:"nowrap",paddingTop:4,paddingBottom:4,paddingStart:36,paddingEnd:12,":hover":{color:he.T.gray_929292},position:"relative",color:he.T.gray_262626},icon:{position:"absolute",height:24,width:24,top:0,start:4,color:he.T.green_299400}},Wd=(0,Pt.Xy)($d)((function(e){const{s:t,onSelect:i}=e,{langs:r}=(0,kr.kc)(Vd,e);return(0,s.jsx)("ul",Object.assign({className:(0,Nt.AH)(t.root)},{children:r.map((({caption:e,code:r,isActive:n})=>(0,a.createElement)("li",Object.assign({className:(0,Nt.AH)(t.item)},be.dx.n("wat-language-item"),be.dx.v(e),{key:r,onClick:()=>i({lang:r})}),n&&(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(t.icon)},{children:(0,s.jsx)(Ud.J,{})})),e)))}))}));function qd(e){switch(e){case"ru":return"Ру";case"en":return"En";case"ar":return"Ar";case"cs":return"Cs";case"es":return"Es";case"az":return"Az";case"uz":return"Uz";case"kk":return"Kz";default:return e}}const Zd={onLanguageSelect:Hd};const Qd={root:{position:"relative"},tooltip:{position:"absolute",end:40,bottom:0},text:{fontWeight:ye.fontWeight.semibold}},Gd=(0,lo.M)({handlers:Zd,selectors:{lang:e=>e.appContext.lang}})((0,Pt.Xy)(Qd)((function({lang:e,onLanguageSelect:t,s:i}){const[r,n]=a.useState(!1),o=(0,Oi.D)((()=>n(!r))),c="Change language",{ref:d,addTooltip:l}=(0,ks.J)({title:c,to:"centerStart"});return(0,s.jsxs)("div",Object.assign({className:(0,Nt.AH)(i.root)},{children:[(0,s.jsx)("div",Object.assign({ref:d},{children:(0,s.jsx)(Do.H,Object.assign({isVertical:!0},{children:(0,s.jsx)(nc.E,Object.assign({isActive:r,onClick:o,dataT:"language",ariaLabel:c},{children:(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(i.text)},{children:qd(e)}))}))}))})),r&&(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(i.tooltip)},{children:(0,s.jsx)(Wd,{currentLang:e,onSelect:t})})),l]}))})));var Kd=i(84963),Yd=i(64197);const Xd={frameId:e=>(e=>{const t=e.appContext.frames;return t&&t[0]&&"direction"===t[0].type?t&&t[1]&&t[1].id:t&&t[0]&&t[0].id})(e)},Jd={openSharingPopup:Kd.T};const el=(0,lo.M)({handlers:Jd,selectors:Xd})((function({openSharingPopup:e,frameId:t}){const i=(0,xe.c)()._t("Поделиться"),r=(0,a.useCallback)((()=>e({frameId:t})),[e,t]),{ref:n,addTooltip:o}=(0,ks.J)({title:i,to:"centerStart"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(nc.E,Object.assign({onClick:r,dataT:"share",innerRef:n,ariaLabel:i},{children:(0,s.jsx)(Yd.S,{color:he.T.gray_262626})})),o]})}));function tl({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M6 13v6a3 3 0 0 0 3 3h1v3h12v-3h1a3 3 0 0 0 3-3v-6zm14 10h-8v-4h8zm4-4a1 1 0 0 1-1 1h-1v-3H10v3H9a1 1 0 0 1-1-1v-4h16zM12 8h8v3h2V6H10v5h2V8z"})}))}const il=(0,At.f)(void 0,((e,t)=>({bssOnClick(){e((0,Ei.cD)({action:"tap",uiElement:{name:"print",frameUuid:t.ownerFrameId}}))}})))((e=>{const t=(0,xe.c)()._t("Печать"),{ref:i,addTooltip:r}=(0,ks.J)({title:t,to:"centerStart"}),n=(0,a.useCallback)((()=>{e.bssOnClick(),window.print()}),[e.ownerFrameId]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(nc.E,Object.assign({onClick:n,dataT:"print",innerRef:i,ariaLabel:t},{children:(0,s.jsx)(tl,{color:he.T.gray_262626})})),r]})}));var sl=i(38065);function rl(){return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M0 8.588c0-3.006 0-4.51.585-5.657A5.367 5.367 0 0 1 2.931.585C4.079 0 5.58 0 8.587 0h6.825c3.006 0 4.51 0 5.658.585a5.367 5.367 0 0 1 2.345 2.346C24 4.079 24 5.58 24 8.587v6.825c0 3.006 0 4.51-.585 5.658a5.367 5.367 0 0 1-2.345 2.345C19.92 24 18.418 24 15.412 24H8.587c-3.005 0-4.508 0-5.656-.585A5.367 5.367 0 0 1 .585 21.07C0 19.92 0 18.418 0 15.412V8.587Z",fill:"#7FE740"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M3.703 11.625c0-2.906 1.875-4.688 4.594-4.688 2.11 0 3.712 1.073 4.323 2.912.054.161.2.276.37.276h7.213c.207 0 .375.168.375.375v2.063a.375.375 0 0 1-.375.374h-1.568a.375.375 0 0 0-.375.354l-.146 2.481a.375.375 0 0 1-.374.353h-1.636a.375.375 0 0 1-.375-.353l-.146-2.482a.375.375 0 0 0-.374-.352h-2.16a.395.395 0 0 0-.375.29c-.566 1.944-2.201 3.085-4.377 3.085-2.72 0-4.594-1.782-4.594-4.688Zm1.969-.008c0 .664.215 1.508 1.312 1.508 1.098 0 1.313-.844 1.313-1.508 0-.648-.215-1.492-1.313-1.492-1.098 0-1.312.844-1.312 1.492Z",fill:"#224249"})]}))}const nl=()=>({frameId:e})=>({uiElement:{name:"otelloPromoButton",ownerName:"map",frameUuid:e},action:"tap"}),al={32:"4504222397630173",38:"5348647327760881",9:"1267260165455895",1:"141360258613345"},ol=(e,t)=>{const i=e&&al[e];if(i)return`${t}search/?geo_id=${i}&utm_source=2gis-mapbutton`},cl=(0,a.memo)((({projectId:e,isMobile:t})=>{const i=(0,xe.c)(),{s:r,css:n}=(0,pe.I)(dl),{featureOtelloMapControl:a,otelloUrl:o}=(0,fe.U)(),{bssRef:c,useBssHandler:d}=(0,le.E)((({frameId:e})=>({uiElement:{name:"otelloPromoButton",ownerName:"map",frameUuid:e}}))),l=d(nl),u=(0,Oi.D)((()=>{l()})),p=a&&(e=>e&&al[e])(e);return p?(0,s.jsx)("div",Object.assign({ref:c},{children:(0,s.jsxs)(ue.A,Object.assign({href:ol(e,o),onClick:u,external:!0,styles:r.link,dataN:"wat-otello-map-control"},{children:[(0,s.jsx)(rl,{}),(0,s.jsx)("div",Object.assign({className:n(r.text)},{children:t?i._gg("Отелло 2ГИС"):i._gg("Отели с кешбэком 10%")}))]}))})):null}));cl.displayName="OtelloMapControl";const dl=(0,pe.r)({link:{display:"flex",alignItems:"center",gap:6,paddingTop:8,paddingStart:8,paddingEnd:4,paddingBottom:8,backgroundColor:"#2A5860",color:he.T.white,borderRadius:ge.Vq.default,boxShadow:"0px 1px 3px 0px rgba(38, 38, 38, 0.50)",whiteSpace:"nowrap",transition:"background-color 250ms ease","&:hover":{color:he.T.white,backgroundColor:"#2A626A"}},text:{paddingEnd:12}});var ll=i(68887);function ul({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:[(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M7.592 12.758a1 1 0 01.97-.758h6.439v4H6.78l.81-3.242zM6.282 18l-.69 2.758A1 1 0 006.562 22h8.439v-4H6.28zm2.28-8a3 3 0 00-2.91 2.272l-2 8A3 3 0 006.562 24H17V10H8.563z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M19.707 5.293l-.905-.906-.66 1.098-3 5-.142.238V24h10.438a3 3 0 002.91-3.728L28 18.877v-5.154l-.142-.238-3-5L24.566 8h-2.152l-2.707-2.707zM26 17v-2.723L23.434 10H21.586l-.293-.293-2.095-2.094L17 11.277v4.105l2.553-1.277.553-.276.494.37 3.733 2.8H26zm-9 .618V22h8.438a1 1 0 00.97-1.243l-.378-1.515-.03-.119V19h-2.333l-.267-.2-3.506-2.63L17 17.619z",clipRule:"evenodd"})]}))}var pl=i(84815);const ml={30:{center:[40.26825,43.64086],zoom:13.61,rotation:8},1267655302447129:{center:[40.26825,43.64086],zoom:13.61,rotation:8},131:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447105:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447113:{center:[41.62489,43.28599],zoom:13},134:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},89:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447111:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447119:{center:[44.55747,42.73412],zoom:13.084,rotation:138},1267655302447133:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},154:{center:[44.90747,42.73412],zoom:13.084,rotation:138},114:{center:[44.90747,42.73412],zoom:13.084,rotation:138},1267655302447110:{center:[44.90747,42.73412],zoom:13.084,rotation:138},115:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},1267655302447124:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},151:{center:[46.8992,42.8473],zoom:12.612,rotation:11},113:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447109:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447164:{center:[35.11619,69.17253],zoom:13.516,rotation:1},9:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},109:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},1267655302447178:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},15:{center:[59.80304,55.2568],zoom:13.134},"87 ":{center:[59.80304,55.2568],zoom:13.134},1267655302447186:{center:[59.80304,55.2568],zoom:13.134},11260016975675394:{center:[88.22694,50.91009],zoom:13.635,rotation:75},20:{center:[84.92519,51.93505],zoom:13.559},4:{center:[84.92519,51.93505],zoom:13.559},1267655302447126:{center:[84.92519,51.93505],zoom:13.559},206:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},1267655302447155:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},69:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},1267655302447123:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},7:{center:[92.80989,55.89808],zoom:13.357,rotation:5},1267655302447130:{center:[92.80989,55.89808],zoom:13.357,rotation:5},130:{center:[94.42404,51.73232],zoom:12.828,rotation:10},1267655302447121:{center:[94.42404,51.73232],zoom:12.828,rotation:10},11:{center:[104.84251,51.8636],zoom:13.275,rotation:10},1267655302447152:{center:[104.84251,51.8636],zoom:13.275,rotation:10},37:{center:[107.5801,51.86159],zoom:12.784,rotation:3},1267655302447108:{center:[107.5801,51.86159],zoom:12.784,rotation:3},88:{center:[154.72168,49.3321],zoom:13},1267655302447177:{center:[154.72168,49.3321],zoom:13},25:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},1267655302447132:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},82:{center:[150.82871,59.47647],zoom:12.821,rotation:5},158:{center:[150.82871,59.47647],zoom:12.821,rotation:5},1267655302447162:{center:[150.82871,59.47647],zoom:12.821,rotation:5},95:{center:[160.53667,54.72734],zoom:13},1267655302447128:{center:[160.53667,54.72734],zoom:13},563967860670632:{center:[83.4322,49.6307],zoom:12.45,rotation:22},91:{center:[83.4322,49.6307],zoom:12.45,rotation:22},67:{center:[76.96932,43.11889],zoom:13.099,rotation:-57},"70030076149164491":{center:[76.96932,43.11889],zoom:13.099,rotation:-57},112:{center:[78.5421,42.3947],zoom:13.804,rotation:5},99:{center:[56.13557,25.92894],zoom:13.505},237:{center:[56.13557,25.92894],zoom:13.505},sa:{center:[39.60383,24.46559],zoom:14.098,rotation:-4}},gl={zoom:13,pitch:45,rotation:0};function hl(e){const t=function(e){return e.projectId&&ml[e.projectId]||e.regionId&&ml[e.regionId]||e.countryCode&&ml[e.countryCode]||void 0}(e);if(!t)return;const{center:i,zoom:s,pitch:r,rotation:n}=Object.assign(Object.assign({},gl),t);return[{main:[{center:i,zoom:s-1,pitch:r-30,rotation:n,duration:1},...new Array(1).fill(null).map(((e,t)=>({zoom:s-1+2*(t+1)/1,pitch:r-30+30*(t+1)/1,rotation:n-0*(t+1)/1,duration:5e3,easing:"easeInOutSine"})))]}]}var fl=i(4340),vl=i(27016),bl=i(19952),yl=i(89712);const xl=(0,a.memo)((()=>{var e;const{s:t,css:i}=(0,pe.I)(jl),r=(0,de.wA)(),n=(0,xe.c)(),{feature3dRelief:o}=(0,fe.U)(),[d,l]=(0,a.useState)(!1);(0,pl.e)(((e,{isTerrainSupported:t})=>{if(!o)return;let i=fl.IG.local.getItem("isTerrainSupported");null==i&&(i=t(),fl.IG.local.setItem("isTerrainSupported",i)),l(i)}),[]);const u=(0,de.d4)((e=>e.appContext.relief)),p=(0,de.d4)((e=>e.appContext.activeLayer)),m=(0,le.E)().useBssHandler(vl.s),g=(0,le.E)().useBssHandler(yl.pe,{type:"roadAccident",enableMapLayer:!1,autoEvent:!0}),h=(0,Oi.D)((()=>{r((0,bl.g)(!u)),m({isActive:!u}),u||"roadAccident"!==p&&"eta"!==p||(r((0,ve.SP)({layer:p})),g())})),f=null===(e=(0,de.d4)(c.Hv))||void 0===e?void 0:e.data,v=(0,de.d4)(c.n$),b=(0,a.useMemo)((()=>{var e,t;return null===(t=null===(e=null==f?void 0:f.admDiv)||void 0===e?void 0:e.find((({type:e})=>"region"===e)))||void 0===t?void 0:t.id}),[f]),y=(0,a.useMemo)((()=>hl({regionId:b,projectId:null==v?void 0:v.id,countryCode:null==v?void 0:v.country_code})),[b,v]);return o&&d&&(y||u)?(0,s.jsxs)("div",Object.assign({className:i(t.root,u&&t._active),onClick:h},{children:[(0,s.jsx)(ul,{}),(0,s.jsx)(xt.j,{children:(0,s.jsx)("div",Object.assign({className:i(t.label)},{children:n._t("3D-рельеф")}))})]})):null}));xl.displayName="ReliefControl";const jl=(0,pe.r)({root:Object.assign(Object.assign({paddingStart:8,paddingEnd:16,display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40},ye.regular),{borderRadius:ll.V.default,color:he.T.gray_262626,background:he.T.white,boxShadow:vo.E.popup,overflow:"hidden",":hover":{background:he.T.gray_f2f2f2}}),label:{marginStart:4},_active:{color:he.T.white,background:he.T.blue_028eff,":hover":{background:he.T.blue_0070cc}}});var wl=i(15942),Il=i(71483);const Cl=()=>({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e},action:"tap"});var _l=i(57366);const kl=(0,a.memo)((()=>{const{s:e,css:t}=(0,pe.I)(Ol),i=(0,de.wA)(),{baseDomain:r,locale:n}=(0,fe.U)(),{bssRef:o,useBssHandler:d}=(0,le.E)((({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e}}))),l=d(Cl),u="2gis.ru"===r&&"ru_RU"===n?"Премия 2ГИС 2025":"2GIS Awards 2025",p=(0,Td.P)({type:"catalogSearch",query:u}),m=(0,de.d4)(c.Hv),g=null==m?void 0:m.data,f=_l.sO.checkAwardRegion(g),b=(0,a.useCallback)((()=>{i((0,h.Q2)((e=>(0,v.Cl)((t=>(0,wl.q_)({query:"Премия 2ГИС",viewpoint:t,regionId:(0,Il.O)(e)})))))),l()}),[i,l]);return f?(0,s.jsx)("div",Object.assign({ref:o},{children:(0,s.jsxs)(ue.A,Object.assign({href:p,onClick:b,styles:e.root},{children:[(0,s.jsx)("div",{className:t(e.logo)}),(0,s.jsx)("span",Object.assign({className:t(e.text)},{children:u}))]}))})):null})),Ol=(0,pe.r)({root:{display:"flex",alignItems:"center",paddingStart:4,paddingEnd:12,paddingBottom:4,paddingTop:4,borderRadius:ge.Vq.default,color:he.T.white,gap:6,boxShadow:"0px 1px 3px rgba(38, 38, 38, 0.5)",transition:"background-color 250ms ease",background:"radial-gradient(66.82% 51.29% at 63.62% 50%, #273E93 0%, #0C132D 100%)","&:hover":{color:he.T.white,background:"radial-gradient(66.82% 51.29% at 63.62% 50%, #273E93 0%, #1E2B66 100%)"}},logo:{marginStart:6,boxSizing:"border-box",backgroundSize:"cover",backgroundImage:"url(/public/promo2gisAwards/pin-small.png)",width:23,height:32},text:{paddingInlineStart:4,paddingInlineEnd:4,whiteSpace:"nowrap"},streamIcon:{paddingStart:8,"& > svg":{display:"block"}}}),Sl=(0,a.memo)((({hasLongFrame:e})=>{const{_t:t}=(0,xe.c)(),{s:i,css:r}=(0,pe.I)(El),{featureFriendsPromo:n}=(0,fe.U)(),o=(0,de.d4)((e=>e.appContext.activeLayer)),c=(0,de.wA)(),d=(0,a.useCallback)((()=>{c((0,ve.po)({newLayer:"friends",manual:!0}))}),[c]);if(!n||"friends"===o)return null;const l=e?i.hasLongFrame:i.link;return(0,s.jsx)(ue.A,Object.assign({onClick:d,styles:l},{children:(0,s.jsx)("div",Object.assign({className:r(i.text)},{children:t("Ваши друзья на карте!")}))}))}));Sl.displayName="FriendsPromoControl";const Tl={display:"block",paddingTop:12,paddingStart:36,paddingEnd:36,paddingBottom:10,color:he.T.white,backgroundColor:"#0B3045",backgroundImage:"url(/public/promo/friendsPromoButton.png)",backgroundSize:"100% 100%",borderRadius:ge.Vq.default,boxShadow:vo.E.popup,"&:hover":{color:he.T.white,backgroundColor:"#061B26"}},El=(0,pe.r)({link:Object.assign(Object.assign({},Tl),{"@media (max-width: 1350px)":{display:"none"}}),hasLongFrame:Object.assign(Object.assign({},Tl),{"@media (max-width: 1580px)":{display:"none"}}),text:Object.assign({},ye.regularMedium)});var Ml=i(67509);function Nl({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:e,d:"M8 10.143v12.824l5.065-2.17 6 3L24 21.68V8.857l1.303-.558a.5.5 0 01.697.46V23l-7 3-6-3-6.303 2.701a.5.5 0 01-.697-.46V11l2-.857zm12.243 5.1L16 19.485l-4.243-4.242a6 6 0 118.486 0zM16 16.657l2.828-2.829a4 4 0 10-5.656 0L16 16.657z"})}))}const Ll=(0,a.memo)((()=>{const e=(0,xe.c)(),t=Ml.j._.use(),i=t?e._t("Отключить реалистичные дороги"):e._t("Включить реалистичные дороги"),{ref:r,addTooltip:n}=(0,ks.J)({title:i,to:"centerStart"}),a=(0,ot.I)(Ml.j._.set,!t);return(0,s.jsx)(Do.H,{children:(0,s.jsxs)(nc.E,Object.assign({onClick:a,dataT:"immersion",ariaLabel:i,innerRef:r,isActive:t},{children:[(0,s.jsx)(Nl,{}),n]}))})}));Ll.displayName="ImmersionControl";var Pl=i(54434),Rl=i(32201);const Al=(0,a.memo)((()=>{const{css:e,s:t,inline:i}=(0,pe.I)(Bl),{experiments:r,godmode:n,supportedLangs:o,featureNewYear:d,feature2gisAwardsMapControl:l}=(0,fe.U)(),u=(0,de.d4)((e=>e.appContext.frames)),p=(0,de.d4)(Po.b),m=(0,a.useMemo)((()=>!!u.find((e=>"search"===e.type||"exchange"===e.type||"realty"===e.type))),[u]),g=o.length>1,h=(0,de.d4)((e=>e.session.is3dEnabled)),f=n||h||(0,Y.O9)((0,V.o)("is3dDisabled")),v=(0,de.d4)((e=>!!e.appContext.weak.floors)),b=(0,de.d4)(c.n$),y=h&&d,x=l,j=(0,de.d4)(Pl.E),w=(0,q.l)(nt,r)!==at,I=(0,qe.G)(u);return(0,s.jsxs)("div",Object.assign({className:e(t.root),style:i({start:p})},{children:[(0,s.jsx)("div",Object.assign({className:e(t.top,t.row)},{children:(0,s.jsxs)(Uo.Y,Object.assign({justifyContent:"flex-end"},{children:[I&&(0,s.jsx)("div",Object.assign({className:e(t._pointerNone),style:i({marginStart:40,marginEnd:"auto"})},{children:(0,s.jsx)(Rl.V3,{})})),(0,s.jsxs)("div",Object.assign({className:e(t._pointerNone,t.viewControls,t.topControls)},{children:[(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:!I&&(0,s.jsx)(Sl,{hasLongFrame:m})})),y&&(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(Yo,{})})),(0,s.jsxs)(pi.P,{children:[(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(cl,{projectId:null==b?void 0:b.id})})),x&&!I&&(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(kl,{})})),(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(xl,{})})),(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(sl.In,{})})),(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(Bd,{})})),w&&(0,s.jsx)("div",Object.assign({className:e(t.topControl)},{children:(0,s.jsx)(jd,{})}))]})]}))]}))})),(0,s.jsx)("div",Object.assign({className:e(t.middle,t._pointerNone)},{children:(0,s.jsxs)("div",Object.assign({className:e(t.middleControls)},{children:[(0,s.jsxs)("div",Object.assign({className:e(t.viewControls)},{children:[v&&(0,s.jsx)("div",Object.assign({className:e(t.controlFloors)},{children:(0,s.jsx)(Mc,{})})),(0,s.jsxs)("div",{children:[h&&(0,s.jsx)("div",Object.assign({className:e(t.control)},{children:(0,s.jsx)(kd,{})})),(0,s.jsx)(pi.P,{children:(0,s.jsx)("div",Object.assign({className:e(t.control)},{children:(0,s.jsx)(Zc,{})}))}),(0,s.jsx)("div",Object.assign({className:e(t.control)},{children:(0,s.jsx)(cc,{})}))]})]})),f&&(0,s.jsx)(pi.P,{children:(0,s.jsx)("div",Object.assign({className:e(t.rotationControl)},{children:(0,s.jsx)(Ho.l,{children:({rotation:e,pitch:t})=>(0,s.jsx)(jc,{rotation:e,pitch:t})})}))}),j&&(0,s.jsx)("div",Object.assign({className:e(t.immersionControl)},{children:(0,s.jsx)(Ll,{})}))]}))})),(0,s.jsxs)("div",Object.assign({className:e(t.bottom,t._pointerNone)},{children:[(0,s.jsx)("div",Object.assign({className:e(t.control)},{children:(0,s.jsxs)(Do.H,Object.assign({isVertical:!0},{children:[(0,s.jsx)(el,{}),(0,s.jsx)(il,{})]}))})),g&&(0,s.jsx)("div",Object.assign({className:e(t.control)},{children:(0,s.jsx)(Gd,{})})),(0,s.jsx)(pi.P,{children:(0,s.jsx)("div",Object.assign({className:e(t.feedbackControl)},{children:(0,s.jsx)(Uc,{})}))})]}))]}))}));Al.displayName="DesktopMapControls";const Bl=(0,pe.r)({root:{position:"absolute",top:0,bottom:0,end:16,pointerEvents:"none","& *":{userSelect:"none"},"@media print":{display:"none !important"}},top:{position:"absolute",top:16,start:0,end:0},row:{marginEnd:40,"&:not(:first-child)":{paddingTop:16,marginEnd:-40}},middle:{position:"absolute",top:0,end:4,bottom:"25%",display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-end",height:"50%",transform:"translateY(25%)"},bottom:{position:"absolute",end:0,bottom:16,display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"column"},control:{width:32,padding:"8px 0"},feedbackControl:{paddingTop:8},topControl:{marginEnd:16,":empty":{display:"none",margin:0}},controlFloors:{width:32,padding:8},middleControls:{display:"flex",flexDirection:"column",alignItems:"flex-end"},viewControls:{display:"flex",alignItems:"flex-end"},rotationControl:{display:"flex",flexDirection:"column",alignItems:"center",width:32,padding:"8px 0"},immersionControl:{width:32,padding:"6px 0"},topControls:{position:"fixed"},_pointerNone:{pointerEvents:"none","& > *":{pointerEvents:"auto"}}});const zl={layout:{overflowY:"hidden",position:"absolute",top:0,start:0,width:"100%",height:"100%",overflow:"hidden",zIndex:ge.fE.base,pointerEvents:"none"},layer:{transform:"translateZ(0px)",width:"100%",height:"100%",position:"absolute",top:0,start:0,overflow:"hidden","& > *":{position:"relative",pointerEvents:"auto",zIndex:ge.fE.base}},bottom:{zIndex:ge.fE.bottom},base:{zIndex:ge.fE.base},top:{zIndex:ge.fE.top,visibility:"hidden","& > *":{position:"absolute",visibility:"visible",zIndex:ge.fE.top,"&:empty":{visibility:"hidden"}}}},Fl=(0,Pt.Xy)(zl)((function(e){const{bottom:t,base:i,top:r,s:n}=e;return(0,s.jsxs)("div",Object.assign({className:(0,Nt.AH)(n.layout)},be.dx.n("wat-layout"),{children:[(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(n.layer,n.base)},{children:i})),(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(n.layer,n.bottom)},{children:t})),(0,s.jsx)("div",Object.assign({className:(0,Nt.AH)(n.layer,n.top)},{children:r}))]}))})),Hl=(0,Zt.Mz)([({state:e})=>(0,c.n$)(e),({state:e})=>e.session.godmode||!1,({state:e})=>(0,We.x3)(e),({state:e})=>0===e.appContext.frames.length,({state:e})=>e.appContext.lang],((e,t,i,s,r)=>({region:e,godmode:t,showLogoutButton:i,isDashboard:s,lang:r}))),Ul=(0,Qt.tr)(((e,t)=>Hl({state:e,props:t})));var Dl=i(85005);const Vl=e=>(0,h.K2)((0,T.PC)(),(0,_e.J)(e)),$l=(0,Qt.Yn)((e=>({showFeedback(){e((0,h.K2)((0,Ie.n)((0,h.v6)((()=>Ce.m.set((()=>!1))))),(0,Pc.A)("online5")))},openInteresting(){e((0,h.K2)((0,Ie.n)((0,h.v6)((()=>Ce.m.set((()=>!1))))),Vl("interesting")))},openGuidebook(){e((0,h.K2)((0,Ie.n)((0,h.v6)((()=>Ce.m.set((()=>!1))))),Vl("guidebook")))},openPopupAddOrg(){e((0,h.K2)((0,Ie.n)((0,h.v6)((()=>Ce.m.set((()=>!1))))),(0,Dl.Y)({subtype:"addOrg"})))},openPrintWindow(){e((0,h.v6)((()=>{Ce.m.set((()=>!1)),window.print()})))},onLogoutClick(){e((0,pd.r)())}})));class Wl extends a.PureComponent{render(){const{s:e}=this.props;return(0,s.jsx)("div",{className:(0,Pt.AH)(e.root)})}}Wl.displayName=(0,qt.d)("src/modules/sideBar/components/underHamburger");const ql={root:{position:"absolute",top:"16px",end:"16px",width:"40px",height:"40px",borderRadius:ge.Vq.oval,background:"#fff",boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)",cursor:"pointer"},logo:{margin:8,width:"24px",height:"24px",display:"inline-block",verticalAlign:"middle"}},Zl=(0,Pt.Xy)(ql)(Wl);class Ql extends a.PureComponent{render(){const{s:e,isSideBarShown:t,isIndicatorShown:i,onClick:r,i18n:{tp:n}}=this.props,a=n._t("Меню");return(0,s.jsx)("button",Object.assign({className:(0,Pt.AH)(e.root),onClick:r,"data-hamburger":!0},be.n("wat-hamburger"),(0,Vc.a)({label:a}),{children:(0,s.jsx)(ac,Object.assign({title:a,to:"bottomBottomEnd",offset:12},{children:r=>(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(e.hamburger,i&&e._withDot),ref:r},{children:[(0,s.jsx)("span",{className:(0,Pt.AH)(e.hamburgerLine,e._line1,t&&e._opened)}),(0,s.jsx)("span",{className:(0,Pt.AH)(e.hamburgerLine,e._line2,t&&e._opened)}),(0,s.jsx)("span",{className:(0,Pt.AH)(e.hamburgerLine,e._line3,t&&e._opened)}),(0,s.jsx)("span",{className:(0,Pt.AH)(e.hamburgerLine,e._line4,t&&e._opened)})]}))}))}))}}Ql.displayName=(0,qt.d)("src/modules/sideBar/components/hamburger");const Gl=(0,Pt.Xy)((e=>({root:{position:"absolute",top:"16px",end:"16px",width:"24px",height:"24px",padding:8,cursor:"pointer"},hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:he.T.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:he.T.gray_262626,borderRadius:ge.Vq.oval,start:0,transition:`background ${Yi.S.short}ms ease-in-out,\n      transform ${Yi.S.short}ms ease-in-out,\n      left ${Yi.S.short}ms ease-in-out,\n      top ${Yi.S.short}ms ease-in-out`,transform:"translateZ(0)","[data-hamburger]:hover &":{background:e.colors.green_299400_brand}},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"6px"},_line4:{top:"12px"},_opened:{background:e.colors.green_299400_brand,"&:nth-child(1)":{transform:"scale(0)",left:"50%",top:"6px"},"&:nth-child(2)":{transform:"rotate(45deg)"},"&:nth-child(3)":{transform:"rotate(-45deg)"},"&:nth-child(4)":{transform:"scale(0)",left:"50%",top:"6px"}}})))((0,Rt.Q)()(Ql));var Kl=i(53898);const Yl=(0,Pt.Xy)((({mobile:e})=>({root:{height:"100%",flexDirection:"column",position:"absolute",top:0,end:0,bottom:0,background:he.T.white,transition:e?"initial":`transform ${Yi.S.short}ms ease-in-out, visibility ${Yi.S.short}ms`,boxShadow:vo.E.popup,"@media print":{display:"none !important"}}})))((function(e){const[t,i]=(0,a.useState)(!1);(0,a.useEffect)((()=>i(!0)),[]);const{isMobileDevice:r}=(0,fe.U)(),{children:n,type:o,isHidden:c,s:d,dir:l}=e,u=function(e,t){if(t)return"100%";if("sideMenu"===e)return ge.Ej.sideMenuWidth}(o,r),p={width:u,display:t?"flex":"none",transform:c?`logical translateX(${u}px)`:"logical translateX(0)",visibility:c?"hidden":"visible"};return(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(d.root),style:(0,Nt.mG)(p,l)},{children:n}))}));function Xl({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M16 5a11 11 0 1 0 11 11A11 11 0 0 0 16 5zm0 20a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"}),(0,s.jsx)("path",{d:"M11.07 20.93l7.74-2.12 2.12-7.74-7.74 2.12zm3.74-6.12l3.26-.88-.88 3.26-3.26.88z"})]}))}function Jl({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M25 14V6H7v8H5v9a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3v-9zM9 8h14v6h-5v1a2 2 0 0 1-4 0v-1H9zm16 15a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-7h5.13a4 4 0 0 0 7.74 0H25z"})}))}var eu=i(76552);function tu({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M19 18V6H5v15a5 5 0 0 0 5 5h12a5 5 0 0 0 5-5v-3zm-6 3a3 3 0 0 1-6 0V8h10v10h-4zm12 0a3 3 0 0 1-3 3h-8a5 5 0 0 0 1-3v-1h10z"}),(0,s.jsx)("path",{d:"M9 10h6v2H9zM9 14h4v2H9z"})]}))}function iu({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M5 7v15a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V7zm20 2v2.32l-9 3.6-9-3.6V9zm-1 14H8a1 1 0 0 1-1-1v-8.52l9 3.6 9-3.6V22a1 1 0 0 1-1 1z"})}))}var su=i(57354);class ru extends a.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{bssName:e,bssPayload:t,onClick:i,bssOnClick:s}=this.props;e&&s(e,t),i&&i()}}render(){const{href:e,text:t,icon:i,tall:r,checkMark:n,color:a,s:o,theme:c,dataN:d,description:l}=this.props;return(0,s.jsxs)("li",Object.assign({className:(0,Pt.AH)(o.item,r&&o._tall,i&&o._withIcon),style:{color:a}},{children:[!!i&&(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(o.icon)},{children:i})),(0,s.jsxs)("div",{children:[(0,s.jsx)(ue.A,Object.assign({color:a?"inherit":"gray",external:!0,href:e,dataN:d,onClick:this.onClick},{children:t})),n&&(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(o.check)},{children:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(o.checkInner)},{children:(0,s.jsx)(Ud.J,{color:c.colors.green_30ad00_brand})}))})),l&&(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(o.description)},{children:l}))]})]}))}}const nu={item:{paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0,display:"flex",alignItems:"center",position:"relative",":hover":{cursor:"pointer"}},_withIcon:{paddingStart:20},_tall:{paddingTop:12,paddingBottom:20,paddingStart:72,paddingEnd:0},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:ye.regular.lineHeight,marginEnd:20,color:he.T.gray_262626,zIndex:ge.fE.base},check:{display:"inline-block",position:"relative",width:24,height:10,marginStart:4},checkInner:{position:"absolute",bottom:-10},description:Object.assign({marginTop:4,color:he.T.gray_929292},ye.small)},au=(0,At.f)(void 0,(e=>({bssOnClick(t,i){e((0,v.eU)((e=>e.appContext.staticFrames.sidebar.id),(e=>{const s={action:"tap",uiElement:{name:t,ownerName:"sidebar",frameUuid:e},payload:i};return(0,Ei.cD)(s)})))}})))((0,Pt.Xy)(nu)(ru));var ou=i(5438);const cu=e=>{const{cookieName:t,text:i,reload:r}=e,[n,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(0,V.o)(t)&&o(!0)}),[]);const c=(0,a.useCallback)((()=>{n?(0,yc.S)(t,void 0):(0,yc.S)(t,"1"),o(!n),r&&location.reload()}),[n]);return(0,s.jsx)(au,{color:n?he.T.gray_262626:void 0,text:i,onClick:c,icon:n?(0,s.jsx)(ou.J,{width:30,height:30}):void 0})},du=e=>Object.keys(e).map((t=>encodeURIComponent(`${t}=${JSON.stringify(e[t])}`))).join("&");var lu=i(180),uu=i(24645);const pu=e=>{const{overrideConfig:t,config:i}=e;if(!t)return{};const s=t.split("&"),r={};for(const e of s){const[t,s]=decodeURIComponent(e).split("=");let n;try{n=(0,lu.g$)(i[t],decodeURIComponent(s),t)}catch(e){console.error("проблема в getObjectFromOverrideConfig.ts: не смогли распарсить конфиг",(0,uu.u)(e))}void 0!==n&&(r[t]=n)}return Object.keys(r).length?Object.assign(Object.assign({},r),{isConfigOverridden:!0}):{}},mu=(0,a.memo)((({defaultValue:e,experiment:t,isMonline:i})=>{const{css:r,s:n}=(0,pe.I)(gu),o=(0,fe.U)(),c=(0,V.o)("overrideConfig"),d=pu({overrideConfig:c,config:o}),[l,u]=(0,a.useState)(!1),p=(0,a.useCallback)((e=>{let i=d.experiments;if(d.experiments){const s=d.experiments.find((e=>e.name===t.name));if(s){const r=i.indexOf(s);i[r]={name:t.name,value:e}}else i.push({name:t.name,value:e})}else i=[{name:t.name,value:e}];const s=Object.assign(Object.assign({},d),{experiments:i}),r=du(s);location.href=`/_/config/set?${r}`}),[d]);return(0,s.jsxs)("div",Object.assign({className:r(n.list,i&&n._wide)},{children:[(0,s.jsx)(ue.A,Object.assign({onClick:()=>u((e=>!e)),styles:n.button},{children:t.name})),l&&t.values.map((i=>(0,s.jsx)("div",Object.assign({onClick:()=>p(`${i}_1`)},{children:(0,s.jsxs)("label",Object.assign({className:r(n.item)},{children:[(0,s.jsx)("input",{type:"radio",value:i,defaultChecked:`${i}_1`===e,name:t.name}),(0,s.jsx)("span",{children:`${i}_1`})]}))}),i)))]}))}));mu.displayName="ExperimentRadio";const gu=(0,pe.r)({button:{background:"transparent",color:he.T.gray_262626},list:{display:"flex",flexDirection:"column",paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0},_wide:{paddingStart:24},item:{cursor:"pointer",color:he.T.gray_929292,wordBreak:"break-all",":hover":{color:he.T.gray_262626},"& > input:checked + span":{color:he.T.gray_262626}}}),hu=(0,a.memo)((()=>{const{css:e,s:t}=(0,pe.I)(fu),i=(0,fe.U)(),r=i.availableExperiments,{clientId:n,experiments:a}=i,o="30"===n;return(0,s.jsx)(s.Fragment,{children:!!r.length&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:e(t.title,o&&t._wide)},{children:"🔬 Эксперименты"})),r.map((e=>{const t=((e,t)=>{const i=e.find((e=>e.name===t.name));return i?i.value:`${t.values.filter((e=>e.match(/without/)))[0]}_1`})(a,e);return(0,s.jsx)(mu,{experiment:e,defaultValue:t,isMonline:o},e.name)}))]})})}));hu.displayName="Experiments";const fu=(0,pe.r)({title:{paddingTop:4,paddingBottom:4,paddingStart:28,paddingEnd:0},_wide:{paddingStart:0}}),vu=(0,a.memo)((({name:e,isDefaultEnabled:t,isMonline:i})=>{const r=(0,fe.U)(),{css:n,s:o}=(0,pe.I)(bu),c=(0,V.o)("overrideConfig"),d=pu({overrideConfig:c,config:r}),[l,u]=(0,a.useState)(t),p=(0,a.useCallback)((()=>{u(!l);const t=Object.assign(Object.assign({},d),{[e]:!l}),i=du(t);location.href=`/_/config/set?${i}`}),[l,e,d]);return(0,s.jsxs)("li",Object.assign({className:n(o.item,i&&o._mobile,l&&o._withIcon,l&&i&&o._mobileWithIcon)},{children:[l&&(0,s.jsx)("div",Object.assign({className:n(o.icon,i&&o._mobileIcon)},{children:(0,s.jsx)(ou.J,{width:i?16:30,height:i?16:30})})),(0,s.jsx)(ue.A,Object.assign({color:l?"inherit":"gray",onClick:p,styles:o._button},{children:e}))]}))}));vu.displayName="FeatureCheckbox";const bu=(0,pe.r)({item:{paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0,display:"flex",alignItems:"center",position:"relative",":hover":{cursor:"pointer"}},_button:{background:"transparent"},icon:{display:"flex",height:16,width:32,alignItems:"center",lineHeight:"16px",marginEnd:20,color:he.T.gray_262626,zIndex:0},_withIcon:{paddingStart:20,width:16},_mobileIcon:{marginEnd:8},_mobile:{paddingStart:24},_mobileWithIcon:{paddingStart:0}}),yu=(0,a.memo)((()=>{const e=(0,fe.U)(),{clientId:t}=e,i="30"===t,r=Object.keys(e).filter((e=>e.match(/^feature/gi)));r.sort();const{css:n,s:a}=(0,pe.I)(xu);return(0,s.jsx)(s.Fragment,{children:!!r.length&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",Object.assign({className:n(a.title,i&&a._wide)},{children:"👷‍♂️ Фиче-свитчер"})),r.map((t=>(0,s.jsx)(vu,{name:t,isDefaultEnabled:!!e[t],isMonline:i},t)))]})})}));yu.displayName="Features";const xu=(0,pe.r)({title:{paddingTop:4,paddingBottom:4,paddingStart:28,paddingEnd:0},_wide:{paddingTop:4,paddingBottom:4,paddingStart:0,paddingEnd:0}}),ju=(0,a.memo)((()=>{const{godmode:e}=(0,fe.U)();return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(yu,{}),(0,s.jsx)(hu,{})]}):null}));ju.displayName="FeatureAndExperimentsSwitcher";var wu=i(71739);const Iu=(0,i(806).e)(!0),Cu=a.memo((()=>{const e=Iu.use();return(0,s.jsx)(wu.ReactQueryDevtools,{initialIsOpen:!1,toggleButtonProps:{style:{display:e?"block":"none"}}})})),_u=()=>{const{s:e,css:t}=(0,pe.I)(ku);return(0,s.jsxs)("ul",Object.assign({className:t(e.list)},{children:[(0,s.jsx)(au,{text:"Визуализатор моков",href:"/_/mocks/explore"}),(0,s.jsx)(au,{text:"Config debug",href:"/_/config"}),(0,s.jsx)(au,{text:"Config reset",href:"/_/config/reset"}),(0,s.jsx)(cu,{cookieName:"bssDebugMode",text:"Логгировать BSS в консоль",reload:!0}),(0,s.jsx)(cu,{cookieName:"is3dDisabled",text:"Включить 2D-карту",reload:!0}),(0,s.jsx)(cu,{cookieName:"mapDebugMode",text:"Включить дебаг карты",reload:!0}),(0,s.jsx)(cu,{cookieName:"searchDebugMode",text:"Включить дебаг поиска",reload:!0}),(0,s.jsx)(au,{text:"react-query devtools",onClick:()=>{Iu.set((e=>!e))}}),(0,s.jsx)(ju,{})]}))},ku=(0,pe.r)({list:{boxSizing:"border-box",padding:"28px 0",position:"relative",borderBottom:`1px solid ${he.T.gray_e6e6e6}`,"&:last-child":{borderBottom:"none"}}}),Ou=()=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"66",height:"28",viewBox:"0 0 66 28"},{children:(0,s.jsx)("path",{fill:"#FFBA00",fillRule:"evenodd",d:"M11.753 9v9.595c0 2.51-.837 3.654-2.93 3.654-1.739 0-2.576-1.112-2.576-3.654V9H0v10.74C0 24.76 3.478 28 8.823 28c5.7 0 9.177-3.24 9.177-8.26V9h-6.247zM43.15 22.233V3H37v24.903l10.27.096c5.863.065 9.73-3.705 9.73-9.439 0-5.863-3.423-9.503-9.89-9.503h-2.186l.032 5.444h1.521c2.79 0 4.279 1.482 4.279 3.898 0 2.48-1.331 3.93-3.296 3.898l-4.311-.064zM31.146 9c-1.977 0-3.854.486-4.447 2.363l-1.417-2.33H21L21.033 28h6.39V17.675c0-2.04 1.285-3.108 3.36-3.108H35V9h-3.854zM65 28V9h-6v19h6zM62 7c2.218 0 4-1.573 4-3.5S64.218 0 62 0s-4 1.573-4 3.5S59.782 7 62 7z"})}));function Su({height:e=24,width:t=78}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 78 24",fill:"none"},{children:[(0,s.jsx)("mask",Object.assign({id:"mask0_205_485",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},{children:(0,s.jsx)("path",{d:"M18.0408 23.9889C18.5711 23.9778 19.1051 23.9444 19.6279 23.8518C20.1582 23.7554 20.6551 23.6072 21.1372 23.3589C21.6156 23.1217 22.0494 22.8067 22.424 22.4361C22.7985 22.0655 23.1174 21.6356 23.3548 21.1649C23.5995 20.6868 23.7553 20.2014 23.8517 19.6751C23.9481 19.1563 23.9778 18.63 23.9889 18.1038C23.9963 17.8629 23.9963 17.622 24 17.3811V6.6152C24 6.37431 24 6.13342 23.9889 5.89253C23.9778 5.36998 23.9444 4.84003 23.8517 4.32119C23.7553 3.79494 23.5995 3.30574 23.3548 2.83138C23.1137 2.36442 22.7985 1.93453 22.424 1.56022C22.0494 1.18962 21.6119 0.874614 21.1372 0.637431C20.6514 0.396541 20.1582 0.240889 19.6279 0.144534C19.1051 0.0518839 18.5711 0.01853 18.0408 0.00741198C17.9407 0.00741198 17.8405 0.00370599 17.6774 0H6.99011L5.96663 0.011118C5.43634 0.022236 4.90235 0.0555899 4.37948 0.14824C3.8492 0.244595 3.35229 0.396541 2.87021 0.641137C2.39184 0.87832 1.95797 1.19333 1.58344 1.56393C1.2089 1.93453 0.889988 2.36442 0.652658 2.83508C0.404203 3.31316 0.252163 3.79864 0.155748 4.32489C0.0556242 4.84373 0.025958 5.36998 0.0111248 5.89623C0.00370828 6.13712 0.00370828 6.37801 0 6.6189V17.3848C0 17.6257 0.00370828 17.8666 0.0111248 18.1075C0.0222497 18.63 0.0556242 19.16 0.148331 19.6788C0.244747 20.2051 0.400494 20.6943 0.645241 21.1686C0.886279 21.6356 1.20148 22.0655 1.57602 22.4398C1.95056 22.8104 2.38813 23.1254 2.86279 23.3626C3.34858 23.6035 3.84178 23.7591 4.37206 23.8555C4.89493 23.9481 5.42892 23.9815 5.95921 23.9926C6.05933 23.9926 6.15946 23.9963 6.32262 24H16.4425L18.0334 23.9926L18.0408 23.9889Z",fill:"#299400"})})),(0,s.jsxs)("g",Object.assign({mask:"url(#mask0_205_485)"},{children:[(0,s.jsx)("rect",{width:"24",height:"24",fill:"#19AA1E"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H24V7.875L0 4.125V0Z",fill:"#FFB919"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 21.375L24 17.625V24H0V21.375Z",fill:"#82D714"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3.65057L8.37739 4.95952C9.42023 4.29942 10.6609 3.9375 12 3.9375C13.8547 3.9375 15.5206 4.6318 16.7336 5.85103C16.8867 6.00488 17.0311 6.16574 17.1664 6.33282L24 7.40055V8.34942L17.8603 7.39011C18.3164 8.26544 18.5625 9.24071 18.5625 10.236C18.5625 11.5218 18.2749 12.8038 17.6804 14.091L17.6623 14.13L17.4098 14.671H16.8127C15.5798 14.671 14.762 15.0398 14.2273 15.6934C13.8075 16.2066 13.5647 16.8984 13.483 17.6532L13.4805 17.6768L13.4686 17.7974L13.4635 17.8499L13.4538 17.9525C13.4225 18.2895 13.4016 18.5753 13.391 18.8082L24 17.1506V18.0994L0 21.8494V20.9006L10.6209 19.241L10.6163 19.028L10.6149 18.9679L10.614 18.9371L10.6123 18.8896C10.6028 18.6313 10.5791 18.3002 10.5412 17.8989L10.5339 17.8228L10.5209 17.691C10.4447 16.9322 10.2055 16.2316 9.78681 15.7108C9.25772 15.0528 8.44744 14.6786 7.22446 14.6711L7.18727 14.671H6.59022L6.33773 14.13C5.73095 12.8297 5.4375 11.5348 5.4375 10.236C5.4375 8.60268 6.10013 7.02329 7.2664 5.85103C7.30007 5.81719 7.33408 5.78375 7.36844 5.75072L0 4.59942V3.65057Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.875C15.3506 4.875 17.625 7.45397 17.625 10.236C17.625 11.3529 17.3813 12.5151 16.8127 13.7335C13.5157 13.7335 12.7019 16.0947 12.548 17.5803L12.5382 17.6793C12.486 18.2095 12.4559 18.6349 12.4476 18.9556L11.5546 19.0952L11.5544 19.0663C11.551 18.7301 11.5192 18.2585 11.4591 17.6515L11.4565 17.625C11.3143 16.1426 10.5176 13.7335 7.18727 13.7335C6.61868 12.5151 6.375 11.3529 6.375 10.236C6.375 7.45397 8.64937 4.875 12 4.875Z",fill:"#0073FA"})]})),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.0202 4C31.2805 4 28.476 6.30318 28.5002 10.3031H31.9757C31.9277 8.70305 32.9347 7.15154 35.0202 7.15154C36.6023 7.15154 37.6089 8.21811 37.6089 9.57586C37.6089 10.9818 36.5063 11.7575 34.7326 12.6303C32.4073 13.7695 31.0171 14.303 28.5002 15.1517V19.7577H41.2046V16.3635H33.1985C34.3967 16.0001 35.5715 15.5396 36.6261 15.0302C39.4309 13.6728 41.0848 12.1454 41.0848 9.40582C41.0848 6.10906 38.6397 4 35.0202 4ZM57.8403 12.727V11.5152H49.8342V14.4241H54.3886C53.9091 15.9275 52.3511 16.8485 50.4815 16.8485C47.485 16.8485 45.759 14.4727 45.759 11.9998C45.759 9.52697 47.4609 7.15154 50.5053 7.15154C52.279 7.15154 53.7655 7.95138 54.3644 9.33321H57.8403C57.2169 6.4484 54.6043 4 50.4093 4C45.5194 4 42.4032 7.36975 42.4032 11.9998C42.4032 16.6303 45.615 20 50.2895 20C55.1556 20 57.8403 16.7273 57.8403 12.727ZM59.6624 19.7577H63.0182V4.24229H59.6624V19.7577ZM74.4281 8.84864H77.904C77.5443 5.89085 74.9794 4 71.2642 4C67.5007 4 64.9596 5.79379 64.9596 8.72713C64.9596 11.9757 68.0279 12.9697 70.2093 13.3335C72.2947 13.6728 74.4281 13.9881 74.4281 15.394C74.4281 16.5091 73.4453 17.0907 71.6954 17.0907C69.8737 17.0907 68.6033 16.1698 68.1715 14.9091H64.6959C65.0314 17.9636 68.0997 20 71.5276 20C75.2431 20 78 18.4 78 15.0302C78 11.3941 75.0992 10.9332 72.2947 10.4483C70.1851 10.0849 68.5074 9.74554 68.5074 8.55746C68.5074 7.58795 69.3942 6.90889 71.1441 6.90889C73.1815 6.90889 74.0922 7.80615 74.4281 8.84864Z",fill:"#262626"})]}))}const Tu=(0,a.memo)((()=>{const{brandCode:e,defaultCountryCode:t}=(0,fe.U)();return"urbi"===e?(0,s.jsx)(Ou,{}):"RU"===t?(0,s.jsx)(Qn.t,{}):(0,s.jsx)(Su,{})}));function Eu({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:32,height:32,xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 7H4v2h11.888c-.354 1.65-1.528 3.559-3.283 5.674-.154.187-.312.373-.473.56A32.076 32.076 0 0 1 9.172 11H6.895c1.125 2.13 2.497 4.066 3.89 5.736-1.29 1.388-2.7 2.785-4.101 4.174-.466.462-.932.923-1.391 1.383l1.414 1.414c.444-.444.898-.894 1.357-1.349 1.354-1.341 2.75-2.725 4.048-4.113a36.89 36.89 0 0 0 3.128 3.011l.738-2.008a35.821 35.821 0 0 1-2.521-2.49c.235-.269.465-.538.688-.807 1.861-2.245 3.414-4.625 3.776-6.951H20V7h-7V5h-2v2Zm11.566 6h-2.13l-5.134 14h2.13l1.284-3.5h5.57l1.283 3.5H27.7l-2-5.5h-.019L22.566 13Zm.986 8.5L21.5 15.904 19.45 21.5h4.103Z",fill:e})}))}Tu.displayName="Logo";const Mu=a.memo((()=>{const{lang:e,supportedLangs:t}=(0,fe.U)(),i=(0,de.wA)();return(0,s.jsx)(s.Fragment,{children:t.map(((t,r)=>{const n=Dd(t);if(!n)return null;const a=t===e;return(0,s.jsx)(au,{text:n,icon:0===r?(0,s.jsx)(Eu,{}):void 0,checkMark:a,onClick:()=>(t=>{t!==e&&i(Hd({lang:t}))})(t)},t)}))})}));function Nu({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M7 25h18v2H7zM14 9V8a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3v1a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9zM7 7h4a1 1 0 0 1 1 1v5H6V8a1 1 0 0 1 1-1zm-1 9v-1h6v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm17 4a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-1h2a3 3 0 0 0 3-3v-5h9z"})}))}const Lu=(0,a.memo)((({blockStyles:e})=>{const t=(0,xe.c)(),{css:i}=(0,pe.I)(Pu),{desktopAppLink:r}=(0,fe.U)(),n=(0,Ne.zP)({platform:"android",type:"sideMenu"}),a=(0,Ne.zP)({platform:"ios",type:"sideMenu"});return(0,s.jsx)(pi.P,{children:(0,s.jsxs)("ul",Object.assign({className:i(e)},{children:[n&&(0,s.jsx)(au,{text:t._t("Android"),href:n,bssName:"Android2gis",icon:(0,s.jsx)(Nu,{})}),a&&(0,s.jsx)(au,{text:t._t("iOS"),href:a,bssName:"iOS2gis"}),r&&(0,s.jsx)(au,{text:t._t("ПК-версия"),href:`${r}?utm_source=online&utm_medium=product&utm_campaign=sidebar`,bssName:"PC2gis"})]}))})})),Pu=(0,pe.r)({});var Ru=i(96863),Au=i(475);const Bu=({place:e})=>{var t,i;const s=(0,fe.U)(),{zoom:r}=(0,de.d4)(G.iK),n=null===(i=null===(t=(0,de.d4)(c.Hv))||void 0===t?void 0:t.data)||void 0===i?void 0:i.countryCode,a=`?utm_medium=${e}&utm_campaign=2gis5`;return!(r>8)||n&&Au.qo.includes(n)?{licenseAgrUrl:`${s.licenseAgr}${a}`,privacyUrl:`${s.privacyUrl}${a}`}:{licenseAgrUrl:`https://law.2gis.com.cy/licensing-agreement${a}`,privacyUrl:`https://law.2gis.com.cy/privacy${a}`}};var zu=i(83113);const Fu=({color:e="currentColor",width:t="24",height:i="24"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12 3a7 7 0 0 0-6.49 9.626l.217.538.576.078C9.471 13.668 11 15.798 11 20h2c0-4.202 1.53-6.332 4.697-6.758l.576-.078.217-.538A7 7 0 0 0 12 3zm0 2a5 5 0 0 1 5 5l-.008.278c-.02.37-.08.732-.181 1.086l-.17.035c-2.12.471-3.652 1.633-4.58 3.43l-.061.123-.061-.124c-.928-1.796-2.46-2.958-4.58-3.429l-.171-.035A5 5 0 0 1 12 5z"})})),Hu=[{key:"2ГИС Армения",href:"https://2gis.am/",domain:"2gis.am"},{key:"2ГИС Казахстан",href:"https://2gis.kz/",domain:"2gis.kz"},{key:"2ГИС Киргизия",href:"https://2gis.kg/",domain:"2gis.kg"},{key:"2ГИС ОАЭ",href:"https://2gis.ae/",domain:"2gis.ae"},{key:"2ГИС Узбекистан",href:"https://2gis.uz/",domain:"2gis.uz"},{key:"2ГИС Беларусь",href:"https://2gis.by/",domain:"2gis.by"},{key:"2ГИС Азербайджан",href:"https://2gis.az/",domain:"2gis.az"},{key:"2ГИС Россия",href:"https://2gis.ru/",domain:"2gis.ru"},{key:"2ГИС Грузия",href:"https://2gis.ge/",domain:"2gis.ge"}],Uu=(0,a.memo)((e=>{const{css:t,s:i}=(0,pe.I)(Du),r=(0,xe.c)(),{baseDomain:n}=(0,fe.U)(),{region:o,godmode:c,lang:d,openGuidebook:l,openPopupAddOrg:u,openInteresting:p,showFeedback:m,openPrintWindow:g,showLogoutButton:h,onLogoutClick:f}=e,v="2gis.ru"===n&&"ru"===d,b="2gis.ru"===n&&"ru"===d,{regionName:y,regionId:x,showJobLink:j,showApi2gisLink:w,licenseAgrUrl:I,privacyUrl:C,showGuidebook:_,showInteresting:k,dataSalesLink:O,brandName:S,showLanguageSwitcher:T,adsLink:E}=(({region:e})=>{const t=(0,de.d4)((0,Ru.g7)("interesting")),i=(0,de.d4)((0,Ru.g7)("guidebook")),{licenseAgrUrl:s,privacyUrl:r}=Bu({place:"sidebar"}),n=(0,fe.U)();return(0,a.useMemo)((()=>{var a,o;const{brandName:c,dataSales:d,showDataSalesLink:l,showJobLink:u,showApi2gisLink:p,dashboardCarouselItems:m,featureCart:g,adsLink:h}=n,f=-1!==m.indexOf("guidebook"),v=-1!==m.indexOf("interesting");return{regionId:e&&e.id||"0",brandName:c,licenseAgrUrl:s,privacyUrl:r,showJobLink:u,showApi2gisLink:p,regionName:null==e?void 0:e.name,showGuidebook:f&&!!(null===(a=null==i?void 0:i.collections)||void 0===a?void 0:a.length),showInteresting:v&&!!(null===(o=null==t?void 0:t.collections)||void 0===o?void 0:o.length),dataSalesLink:l?`${d}?utm_source=online&utm_medium=product&utm_campaign=sidebar`:void 0,showCart:g,showLanguageSwitcher:n.supportedLangs.length>1,adsLink:h}}),[n,s,r,i,t,e])})({region:o});return(0,s.jsxs)("div",Object.assign({className:t(i.container)},be.dx.n("wat-sidebar"),{children:[(0,s.jsx)("div",Object.assign({className:t(i.header)},{children:(0,s.jsx)("a",Object.assign({href:"/",className:t(i.logo)},{children:(0,s.jsx)(Tu,{})}))})),(0,s.jsx)("div",Object.assign({className:t(i.listWrap)},{children:(0,s.jsxs)(su.OY,{children:[c&&(0,s.jsx)(_u,{}),(_||k)&&(0,s.jsxs)("ul",Object.assign({className:t(i.list,i._tallList)},{children:[_&&(0,s.jsx)(pi.P,{children:(0,s.jsx)(au,{text:r._t("Путеводитель по городу"),icon:(0,s.jsx)(Xl,{}),bssName:"guidebookIcon",tall:!0,onClick:l})}),k&&(0,s.jsx)(pi.P,{children:(0,s.jsx)(au,{text:r._t("Интересные места"),icon:(0,s.jsx)(Jl,{}),bssName:"interestingIcon",tall:!0,onClick:p})})]})),(0,s.jsx)(Lu,{blockStyles:i.list}),(0,s.jsxs)("ul",Object.assign({className:t(i.list)},{children:[(0,s.jsxs)(pi.P,{children:[(0,s.jsx)(au,{text:r._t("Добавить организацию"),icon:(0,s.jsx)(eu.P,{}),dataN:"wat-add-org-button",bssName:"addFirm2gis",onClick:u}),(0,s.jsx)(au,{text:r._t("Вход для бизнеса"),href:`http://account.2gis.com/?language=${d}&id=${x}&utm_source=2gisonline&utm_medium=products&utm_campaign=sidebar`,bssName:"businessAuthIcon"}),(0,s.jsx)(au,{text:r._t("Реклама"),href:`${E}?language=${d}&id=${x}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,bssName:"ads2gis"})]}),w&&(0,s.jsx)(au,{text:r._t("API %1",[S]),href:`http://redirect.2gis.com/api/?language=${d}&id=${x}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,bssName:"API2gis"}),O&&(0,s.jsx)(au,{text:r._t("Данные %1",[S]),href:O})]})),j&&(0,s.jsx)("ul",Object.assign({className:t(i.list)},{children:(0,s.jsx)(au,{text:r._t("Работа в %1",[S]),href:`http://job.2gis.ru/?city=${y}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,icon:(0,s.jsx)(tu,{}),bssName:"job2gis"})})),(0,s.jsxs)("ul",Object.assign({className:t(i.list)},{children:[(0,s.jsx)(pi.P,{children:(0,s.jsx)(au,{text:r._t("Обратная связь"),onClick:m,icon:(0,s.jsx)(iu,{}),bssName:"feedback2gis"})}),"ru"===d&&(0,s.jsx)(au,{text:r._t("Справка"),href:"https://help.2gis.ru/",bssName:"helpIcon"}),(0,s.jsx)(au,{href:I,text:r._t("Лицензионное соглашение"),bssName:"license2gis"}),(0,s.jsx)(au,{href:C,text:r._t("Политика конфиденциальности")})]})),(0,s.jsx)(xt.j,{children:(0,s.jsx)("ul",Object.assign({className:t(i.list)},{children:(0,s.jsx)(au,{text:r._t("Печать"),onClick:g,icon:(0,s.jsx)(tl,{}),bssName:"print"})}))}),(0,s.jsxs)(s.Fragment,{children:[b&&(0,s.jsx)("ul",Object.assign({className:t(i.list)},{children:(0,s.jsx)(au,{text:r._gg("Отели и гостиницы"),href:"https://otello.ru/",icon:(0,s.jsx)(zu.w,{color:"#262626"}),dataN:"wat-hotels"})})),v&&(0,s.jsx)("ul",Object.assign({className:t(i.list)},{children:Hu.filter((({domain:e})=>e!==n)).map((({key:e,href:t,domain:i},n)=>(0,s.jsx)(au,Object.assign({text:r._gg(e),href:t,dataN:"wat-domain"},0===n?{icon:(0,s.jsx)(Fu,{width:"32px",height:"32px"})}:null),i)))}))]}),T&&(0,s.jsx)(xt.h,{children:(0,s.jsx)("ul",Object.assign({className:t(i.list)},{children:(0,s.jsx)(Mu,{})}))}),h&&(0,s.jsx)(pi.P,{children:(0,s.jsx)("ul",Object.assign({className:t(i.list)},{children:(0,s.jsx)(au,{text:r._t("Выйти"),onClick:f,dataN:"wat-logout-button"})}))})]})}))]}))})),Du=(0,pe.r)({container:{height:"100%"},header:{padding:"20px 24px"},list:{boxSizing:"border-box",padding:"28px 0",position:"relative",borderBottom:`1px solid ${he.T.gray_e6e6e6}`,"&:last-child":{borderBottom:"none"}},_tallList:{padding:"16px 0"},listWrap:{flex:"1 1 auto",position:"relative",height:"calc(100% - 72px)"},logo:{display:"flex",width:120,height:28,alignItems:"center",cursor:"pointer"}}),Vu=a.memo((e=>{const{lang:t,region:i,godmode:r,openPopupAddOrg:n,showLogoutButton:a,openInteresting:o,openGuidebook:c,openPrintWindow:d,onLogoutClick:l,bssOnFeedbackClick:u,showFeedback:p}=e,m=Ce.m.use(),g=(0,Oi.D)((()=>{const{bssSideMenuClick:t}=e;Ce.m.set((e=>!e)),m||t()})),h=(0,Oi.D)((()=>{p(),u()}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(xt.j,{children:(0,s.jsx)(Zl,{})}),(0,s.jsx)(Yl,Object.assign({type:"sideMenu",isHidden:!m},{children:(0,s.jsx)(Uu,{lang:t,region:i,showFeedback:h,openPopupAddOrg:n,godmode:r,showLogoutButton:a,openInteresting:o,openGuidebook:c,openPrintWindow:d,onLogoutClick:l})})),m?(0,s.jsx)(Gl,{isSideBarShown:m,onClick:g}):(0,s.jsx)(xt.j,{children:(0,s.jsx)(Gl,{isSideBarShown:m,onClick:g})})]})}));Vu.displayName="Sidebar";const $u=(0,At.f)(void 0,Kl.N)((0,Qt.Ng)(Ul,$l)(Vu)),Wu=e=>(0,s.jsx)(zt.w,{loader:Ft.b.feedback,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var qu=i(46767);const Zu=()=>(0,s.jsx)(zt.w,{loader:Ft.b.photoUploader,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),Qu=e=>(0,s.jsx)(zt.w,{loader:Ft.b.writeReview,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Gu=e=>(0,s.jsx)(zt.w,{loader:Ft.b.typedFeedback,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Ku=e=>(0,s.jsx)(zt.w,{loader:Ft.b.editFavorite,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var Yu=i(47636);const Xu=e=>(0,s.jsx)(zt.w,{loader:Ft.b.entityVideoPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(Mr.J,{asyncStatus:e})}),Ju=e=>(0,s.jsx)(zt.w,{loader:Ft.b.sharing,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var ep=i(1999),tp=i(62284),ip=i(73740),sp=i(82384);const rp=(0,h.n5)("updateInfo",(e=>(0,v.RC)({locale:e=>(0,H.u)(e),userInfo:e=>(0,We.ug)(e),frame:e=>(0,W.bB)(e.appContext.frames,"userProfile")},(({userInfo:t,frame:i})=>{if(!t||!t.data)return(0,h.lQ)();if(!i)return(0,h.lQ)();const{first_name:s,middle_name:r,last_name:n,public_identity_accepted:a}=e,o=s!==t.data.first_name,c=r!==t.data.middle_name,d=n!==t.data.last_name,l=a!==t.data.public_identity_accepted,u=(0,Y.W7)();return(0,h.K2)((0,h._7)((o||d||c||l)&&(0,ip.bu)({userInfo:{first_name:s,last_name:n,middle_name:r,public_identity_accepted:a},statusId:u}),(0,cn.fs)()),(0,sp.y)({}))}))));var np=i(51068);const ap={title:Object.assign(Object.assign({},ye.small),{color:he.T.gray_929292})},op=(0,Pt.Xy)(ap)((0,Vs.J)(((e,{tp:t})=>{const{type:i,user:s}=e;if(!s)return;const r=((e,t,i)=>{switch(e){case"firstName":{const e=t.first_name;return{title:i._t("Имя"),initialValue:e}}case"middleName":{const e=t.middle_name;return{title:i._gg("Отчество"),initialValue:e,placeholder:i._gg("если есть")}}case"lastName":{const e=t.last_name;return{title:i._t("Фамилия"),initialValue:e}}case"email":{const e=t.new_email||t.email;return{title:i._t("Электронная почта"),initialValue:e,htmlInputType:"email"}}case"password":{const e=void 0;return{title:i._t("Сменить пароль"),initialValue:e,htmlInputType:"password"}}}})(i,s,t);return{data:r}}))((0,Rt.Q)()((({data:e,type:t,onChange:i,error:r,s:n})=>{const{title:a,initialValue:o,htmlInputType:c,placeholder:d}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(n.title)},{children:a})),(0,s.jsx)(np.A,{onChange:i,initialValue:o,error:r,dataT:t,inputType:c,placeholder:d})]})}))));function cp({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13.222 12.843a4.999 4.999 0 115.555 8.312 4.999 4.999 0 01-5.555-8.312zm1.111 6.651a3 3 0 103.333-4.987 3 3 0 00-3.333 4.987z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M20.72 6l1.08 3.24 5.2 2.08V23a3 3 0 01-3 3H8a3 3 0 01-3-3V11.32l5.2-2.08L11.28 6h9.44zm3.987 17.707A1 1 0 0025 23V12.68l-4.8-1.92L19.28 8h-6.56l-.92 2.76L7 12.68V23a1 1 0 001 1h16a1 1 0 00.707-.293z",clipRule:"evenodd"})]}))}const dp={wrapper:{display:"flex",alignItems:"center",position:"relative"},avatar:{display:"flex",justifyContent:"center",alignItems:"center",color:he.T.gray_262626,background:he.T.white,boxShadow:vo.E.popup,overflow:"hidden",borderRadius:ge.Vq.oval,width:56,height:56,marginEnd:16},icon:{position:"absolute"},input:{display:"none"},errorText:{color:he.T.red_fe5000},uploaderText:{color:he.T.blue_0072ce,cursor:"pointer",display:"flex",alignItems:"center",":hover":{color:he.T.gray_262626}}},lp=(0,Pt.Xy)(dp)((0,Vs.J)(((e,{tp:t})=>{const{user:i}=e;if(!i)return;return{initials:(0,ht.Z)(i,t)}}))((0,Rt.Q)()((({onUpload:e,avatarUrl:t,errorText:i,initials:r,i18n:{tp:n},s:o})=>{const c=(0,a.useCallback)((()=>{}),[r]),d=(0,a.useCallback)((t=>{e(t)}),[e]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",Object.assign({htmlFor:"avatar-uploader",className:(0,Pt.AH)(o.uploaderText)},{children:[(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(o.avatar)},{children:[(0,s.jsx)(pt.e,{src:t,initials:c}),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(o.icon)},{children:(0,s.jsx)(cp,{color:t?he.T.white:he.T.gray_929292})}))]})),n._t("Загрузить аватар")]})),!!i&&(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(o.errorText)},{children:i})),(0,s.jsx)("input",{name:"wat-upload-input",id:"avatar-uploader",type:"file",multiple:!0,accept:"image/*",className:(0,Pt.AH)(o.input),onChange:d})]})}))));var up=i(81239),pp=i(59321),mp=i(14524);const gp=(0,h.n5)("uploadAvatar",(e=>{const{userId:t,file:i}=e;return(0,v.RC)({locale:e=>(0,H.u)(e),regionId:e=>(0,c.zN)(e)},(({locale:e,regionId:s})=>{const r=(0,Y.W7)(),n=(0,Y.W7)();return(0,h.K2)((0,mp.t)({objectType:"profile",albumCode:"avatar",objectId:t,locale:e,regionId:s,temporaryId:n,file:i,isReplaced:!0}),(0,v.eU)((e=>e.data.photo[n]),(e=>{if(!e||!e.data||!("url"in e.data))return(0,h.lQ)();const t=e.data.url;return(0,ip.bu)({userInfo:{avatar:t},statusId:r})})))}))}));var hp=i(80677),fp=i(57758),vp=i(25877);var bp=i(78522),yp=i(65622),xp=i(63180);const jp=(0,yp.pv)("userAvatar"),wp={openDeleteUserProfilePopup:cn.PB,closePopup:cn.fs,uploadUserAvatar:gp},Ip=(0,pe.r)({wrapper:{color:he.T.gray_929292,padding:"16px 24px"},bottomBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},removeLinks:{display:"flex",flexDirection:"column",alignItems:"flex-end"},input:{marginBottom:16,":empty":{marginBottom:0}},agreement:{display:"flex",alignItems:"center",paddingTop:28,cursor:"pointer"},agreementLabel:{color:he.T.gray_262626,marginInlineStart:4},agreementText:Object.assign(Object.assign({marginTop:14},ye.small),{color:he.T.gray_929292}),law:{marginTop:14},privacy:{marginTop:24,width:"100%",display:"flex",flexDirection:"column",gap:"16px"},privacyItem:Object.assign(Object.assign({},ye.regular),{cursor:"pointer",lineHeight:"24px",color:he.T.black,display:"flex",gap:8,'& input[type="radio"]':{WebkitAppearance:"none",height:16,width:16,display:"inline-block",outline:0,cursor:"pointer",borderRadius:"50%",border:`2px solid ${he.T.gray_e6e6e6}`,verticalAlign:"top",position:"relative",flexShrink:0,"&:checked":{border:`2px solid ${he.T.blue_0168f9}`,background:he.T.blue_0168f9,"&::after":{content:"''",position:"absolute",width:6,height:6,top:3,left:3,borderRadius:"50%",background:he.T.white}}}}),privacyItemText:{display:"flex",flexDirection:"column"},privacyItemSubtitle:Object.assign(Object.assign({},ye.regular),{fontSize:"11px",color:he.T.gray_929292}),title:Object.assign(Object.assign({},ye.regular),{color:he.T.gray_929292}),checkboxes:{display:"flex"}}),Cp=(0,lo.M)({selectors:{},handlers:wp})((({getUserInfo:e,openDeleteUserProfilePopup:t,uploadUserAvatar:i,user:r,privacy:n})=>{const[o,c]=(0,a.useState)(r.first_name),[d,l]=(0,a.useState)(r.middle_name),[u,p]=(0,a.useState)(r.last_name),[m,g]=(0,a.useState)(r.new_email||r.email),[h,f]=(0,a.useState)((0,xp.xj)(r)),[v,b]=(0,a.useState)(r.avatar_preview_tpl&&(0,vp.$)(r.avatar_preview_tpl,{width:128,height:128})),[y,x]=(0,a.useState)(n),[j,w]=(0,a.useState)(),[I,C]=(0,a.useState)(r.public_identity_accepted),{featurePersonalDataAgreement:_,featurePublicProfile:k}=(0,fe.U)(),{css:O,s:S}=(0,pe.I)(Ip),T=(0,xe.c)(),{bssRef:E}=(0,le.E)((({frameId:e},t)=>(0,Bt.f_)({state:t,name:"profileSettingsFrame",uuid:e}))),M=(0,a.useCallback)((e=>{c(e)}),[]),N=(0,a.useCallback)((e=>{l(e)}),[]),L=(0,a.useCallback)((e=>{p(e)}),[]),P=(0,a.useCallback)((e=>{g(e)}),[]),R=(0,a.useCallback)((e=>{f(e.replace(/ /g,""))}),[]),A=(0,a.useCallback)((()=>{t({id:(0,Y.W7)(),user:r,type:"deleteUserProfile"})}),[t,r]),B=(0,a.useCallback)((e=>{x(e.target.value)}),[]),z=(0,a.useCallback)((()=>{C(!I)}),[I,C]),F=(0,a.useCallback)((e=>{C(!e)}),[C]),H=(0,a.useMemo)((()=>({first_name:o,middle_name:d,last_name:u,avatarUrl:v,email:m,phone:h,public_identity_accepted:null!==r.public_identity_accepted||I?I:null,userId:r.user_id,privacy:y})),[o,d,u,v,m,h,I,r,y]);(0,a.useEffect)((()=>e(H)),[H,e]);const U=(0,a.useCallback)((e=>{const t=e.target.files;if(!t||!t.length)return;const s=t[0];(0,up.z)(s,jp).then((e=>{i({userId:r.user_id,file:s}),w(void 0),b(e.src)})).catch((e=>{const t=(0,pp.y)(e,jp,T);w(t)}))}),[r.user_id]),D=r.phone_number_confirmed&&h.replace("+","")===(0,xp.xj)(r)||!1;return(0,s.jsxs)("div",Object.assign({className:O(S.wrapper),ref:E},{children:[(0,s.jsx)("div",Object.assign({className:O(S.input)},be.dx.n("wat-edit-userprofile-firstname"),{children:(0,s.jsx)(op,{onChange:M,type:"firstName",user:r,error:!o})})),_&&(0,s.jsx)("div",Object.assign({className:O(S.input)},be.dx.n("wat-edit-userprofile-middlename"),{children:(0,s.jsx)(op,{onChange:N,type:"middleName",user:r})})),(0,s.jsx)("div",Object.assign({className:O(S.input)},be.dx.n("wat-edit-userprofile-lastname"),{children:(0,s.jsx)(op,{onChange:L,type:"lastName",user:r,error:!u})})),(0,s.jsx)("div",Object.assign({className:O(S.input)},be.dx.n("wat-edit-userprofile-email"),{children:(0,s.jsx)(op,{onChange:P,type:"email",user:r,error:!m})})),(0,s.jsx)("div",Object.assign({className:O(S.input)},be.dx.n("wat-edit-userprofile-phone"),{children:(0,s.jsx)(bp.L,{hasPhone:!!r.phone_number,phoneCode:r.phone_code?"+"+r.phone_code:"",phone:h,isConfirmed:D,onChange:R,source:"profile",showConfirm:!0})})),(0,s.jsxs)("div",Object.assign({className:O(S.bottomBar)},be.dx.n("wat-edit-userprofile-avatar"),{children:[(0,s.jsx)(lp,{user:r,avatarUrl:v,errorText:j,onUpload:U}),(0,s.jsx)("div",Object.assign({className:O(S.removeLinks)},{children:(0,s.jsx)(ue.N,Object.assign({color:"gray",dataN:"wat-edit-profile-link",dataT:"remove",onClick:A},{children:T._t("Удалить профиль")}))}))]})),k&&n&&(0,s.jsxs)("div",Object.assign({className:O(S.privacy)},{children:[(0,s.jsx)("span",Object.assign({className:O(S.title)},{children:T._t("Настройка публичности профиля")})),(0,s.jsxs)("div",Object.assign({className:O(S.checkboxes)},{children:[(0,s.jsxs)("label",Object.assign({className:O(S.privacyItem)},{children:[(0,s.jsx)("input",{type:"radio",name:"privacy",value:"OPEN",checked:"OPEN"===y,onChange:B}),(0,s.jsxs)("div",Object.assign({className:O(S.privacyItemText)},{children:[(0,s.jsx)("span",{children:T._t("Открытый профиль")}),(0,s.jsx)("span",Object.assign({className:O(S.privacyItemSubtitle)},{children:T._t("Люди могут читать отзывы и фото в вашем профиле, а также подписываться на него")}))]}))]})),(0,s.jsxs)("label",Object.assign({className:O(S.privacyItem)},{children:[(0,s.jsx)("input",{type:"radio",name:"privacy",value:"CLOSE",checked:"CLOSE"===y,onChange:B,className:O(S.privacyItem)}),(0,s.jsxs)("div",Object.assign({className:O(S.privacyItemText)},{children:[(0,s.jsx)("span",{children:T._t("Закрытый профиль")}),(0,s.jsx)("span",Object.assign({className:O(S.privacyItemSubtitle)},{children:T._t("Ленту отзывов и фото в вашем профиле будут видеть только друзья и одобренные подписчики")}))]}))]}))]}))]})),_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",Object.assign({className:O(S.agreement)},be.dx.n("wat-edit-userprofile-agreement"),{onClick:z},{children:[(0,s.jsx)(fp.S,{isChecked:!!I,backgroundColor:I?he.T.green_30ad00:void 0,tickColor:he.T.white,onClick:F,dataN:"wat-edit-userprofile-agreement-acception"}),(0,s.jsx)("span",Object.assign({className:O(S.agreementLabel)},{children:T._gg("Показывать моё имя, фамилию или никнейм в продуктах 2ГИС")}))]})),(0,s.jsx)("div",Object.assign({className:O(S.agreementText)},{children:T._gg("Обратите внимание: если вы отзовёте согласие на обработку и распространение персональных данных, весь ваш контент будет обезличен. Ваши имя, фамилию или никнейм смогут увидеть только представители компаний, имеющие доступ к Личному кабинету.")}))]}),(0,s.jsx)("div",Object.assign({className:O(S.law)},{children:(0,s.jsx)(hp.t,{type:"default",buttonName:T._t("Сохранить")})}))]}))}));var _p=i(37573),kp=i(56841),Op=i(87017);var Sp=i(90861);const Tp={updateUserInfo:rp,closePopup:cn.fs},Ep={wrapper:{color:he.T.gray_929292,paddingTop:16,paddingBottom:16,paddingStart:24,paddingEnd:34},header:{borderBottom:`1px solid ${he.T.gray_e6e6e6}`},close:{position:"absolute",top:12,end:16,cursor:"pointer"},footer:{paddingTop:20,paddingBottom:20}},Mp=(0,lo.M)({selectors:()=>({}),handlers:Tp})((0,Pt.Xy)(Ep)((0,Rt.Q)()((({popup:e,closePopup:t,updateUserInfo:i,s:r,i18n:{tp:n}})=>{var o,c,d,l,u,p;const m=(0,de.wA)(),g=(0,de.d4)(We.ug),h=Ca.vK.useUpdatePrivacy(),f=Ca.vK.usePublicProfile(null===(o=g.data)||void 0===o?void 0:o.public_user_id),v=(0,le.E)().useBssHandler(Ca.vK.bss.changeProfilePrivacy,{profile:null===(c=f.profile.data)||void 0===c?void 0:c.public_user});(0,a.useEffect)((()=>{var e,t;"success"!==(null===(e=g.meta)||void 0===e?void 0:e.status)&&"error"!==(null===(t=g.meta)||void 0===t?void 0:t.status)||g.data||m((0,dt.oC)())}),[m,g]);const b=null===(d=f.profile.data)||void 0===d?void 0:d.public_user.privacy,y=g.data,[x,j]=(0,a.useState)({first_name:null==y?void 0:y.first_name,middle_name:null==y?void 0:y.middle_name,last_name:null==y?void 0:y.last_name,avatarUrl:null==y?void 0:y.avatar,email:(null==y?void 0:y.new_email)||(null==y?void 0:y.email),public_identity_accepted:null==y?void 0:y.public_identity_accepted,userId:null==y?void 0:y.user_id,phone:(0,xp.xj)(y),privacy:null===(l=f.profile.data)||void 0===l?void 0:l.public_user.privacy}),w=function(){const{authApi:e,credentialsApi:t}=(0,_p.A)(),i=(0,de.d4)(H.u),s=(0,de.d4)(We.ug).data,r=(0,de.wA)(),{mutateAsync:n}=(0,Op.useMutation)((r=>(0,Pe.sH)(this,void 0,void 0,(function*(){if(r===((null==s?void 0:s.new_email)||(null==s?void 0:s.email)))return;if(!(0,kp.B)(r))throw new Error("invalid email");const n=yield t.getToken();if(!n)throw new Error("no access token");return yield e.updateEmail({accessToken:n,authClientId:"online",locale:i,email:r})}))),{onSuccess(e,t){var i;void 0!==e&&(e.code&&200!==e.code&&204!==e.code?r((0,cn.PB)({id:(0,Y.W7)(),type:"emailConfirmation",subtype:422===e.code&&"EntityExists"===(null===(i=e.error_fields)||void 0===i?void 0:i[0].error)?"errorWithEmail":"error",email:t})):r((0,cn.PB)({id:(0,Y.W7)(),type:"emailConfirmation",subtype:"success",email:t})))},onError(e,t){r((0,cn.PB)({id:(0,Y.W7)(),type:"emailConfirmation",subtype:"error",email:t}))}});return n}(),I=(0,a.useCallback)((()=>(0,Pe.sH)(void 0,void 0,void 0,(function*(){x.email&&(yield w(x.email),i((0,Y.cJ)(x,["privacy"])),x.privacy&&b!==x.privacy&&g.data&&(v({newPrivacy:x.privacy}),h.mutateAsync({publicUserId:g.data.public_user_id,privacy:x.privacy})))}))),[v,x,b,w,i,h,g.data]),C=(0,a.useCallback)((()=>{t()}),[e.id]),_=(0,a.useCallback)((e=>{j(e)}),[]);return!y||f.profile.isLoading?(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.wrapper)},{children:(0,s.jsx)(Sp.Z,{})})):(0,s.jsx)(ep.j,{dataN:"wat-edit-user-profile-popup",header:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.wrapper,r.header)},{children:n._t("Редактирование профиля")})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.close),onClick:C},be.dx.n("wat-edit-popup-close"),{children:(0,s.jsx)(Io.b,{color:he.T.gray_262626})}))]}),body:(0,s.jsx)(Cp,{privacy:b,user:y,getUserInfo:e=>_(e)}),footer:(0,s.jsx)(tp.I,{submitText:n._t("Сохранить"),withoutUserAvatar:!0,onSubmit:I,onCancel:C,experimentalStyles:r.footer,disabledButton:!(null===(u=x.first_name)||void 0===u?void 0:u.trim())||!(null===(p=x.last_name)||void 0===p?void 0:p.trim())})})}))));var Np=i(89781);const Lp={deleteUserProfile:(0,h.n5)("deleteProfile",(e=>e?(0,h.K2)((0,cn.fs)(),(0,A.P8)(),(0,Np.W)({userId:e}),(0,pd.r)()):(0,h.lQ)())),openEditProfilePopup:id.v},Pp={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},ye.lead),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56},cancel:{background:he.T.blue_028eff,color:he.T.white}},Rp=(0,lo.M)({selectors:{},handlers:Lp})((0,Pt.Xy)(Pp)((0,Rt.Q)()((({popup:e,deleteUserProfile:t,openEditProfilePopup:i,s:r,i18n:{tp:n}})=>{const o=(0,a.useCallback)((()=>{t(e.user.user_id)}),[e]),c=(0,a.useCallback)((()=>{i()}),[e.id]),d=(0,a.useMemo)((()=>(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.wrapper)},{children:(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(r.text)},{children:[(0,s.jsx)("h1",Object.assign({className:(0,Pt.AH)(r.title)},{children:n._t("Уверены в этом?")})),(0,s.jsx)("p",{children:n._t("Ваш аккаунт будет удалён, но все отзывы, фотографии и зацепки останутся в справочнике, став анонимными.")})]}))}))),[e.id]),l=(0,a.useMemo)((()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.button,r.cancel),onClick:c},{children:n._t("Не удалять")})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.button)},{children:(0,s.jsx)(ue.N,Object.assign({onClick:o},{children:n._t("Удалить")}))}))]})),[e.id]);return(0,s.jsx)(ep.j,{dataN:"wat-delete-user-profile-popup",header:(0,s.jsx)(s.Fragment,{}),body:d,footer:l})})))),Ap={closeEmailConfirmaionPopup:cn.fs},Bp=a.memo((e=>{const{closeEmailConfirmaionPopup:t,title:i,description:r,s:n,i18n:{tp:o}}=e,c=(0,a.useMemo)((()=>(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(n.wrapper)},{children:(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(n.text)},{children:[(0,s.jsx)("h1",Object.assign({className:(0,Pt.AH)(n.title)},be.dx.n("wat-confirm-email-popup-title"),{children:i})),(0,s.jsx)("p",Object.assign({},be.dx.n("wat-confirm-email-popup-desc"),{children:r}))]}))}))),[r,i,n.wrapper,n.text,n.title]),d=(0,a.useMemo)((()=>(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(n.button)},be.dx.n("wat-email-popup-close"),{onClick:t},{children:o._t("ok")}))),[t,n.button,o]);return(0,s.jsx)(ep.j,{dataN:"wat-confirm-email-popup",body:c,footer:d})})),zp={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},ye.lead),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56,background:he.T.blue_028eff,color:he.T.white,borderRadius:`0 0 ${ge.Vq.default} ${ge.Vq.default}`}},Fp=(0,lo.M)({selectors:{},handlers:Ap})((0,Pt.Xy)(zp)((0,Rt.Q)()((0,Vs.J)((({popup:{subtype:e,email:t}},{tp:i})=>({title:"success"===e?i._t("Необходимо подтвердить новый адрес"):i._t("Что-то пошло не так"),description:"success"===e?i._t("Для подтверждения перейдите по ссылке в письме, которое мы отправили по адресу %1",[t]):"errorWithEmail"===e?i._t("Данный e-mail занят другим пользователем"):i._t("Попробуйте еще раз!")})))(Bp)))),Hp=()=>(0,s.jsx)(zt.w,{loader:Ft.b.subscribers,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),Up=()=>(0,s.jsx)(zt.w,{loader:Ft.b.subscriptions,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N});var Dp,Vp=i(37544),$p=i(29094),Wp=i(536),qp=i(88337),Zp=i(85566);!function(e){e.offensiveContent="offensive_content",e.pornography="pornography_violence_drugs",e.violationOfTheLaw="violation_of_the_law",e.ageInappropriateAds="age_inappropriate_ads",e.other="other"}(Dp||(Dp={}));const Qp=(0,h.n5)("submitComplaint",(({data:e,context:t})=>{var i,s;const r=(0,Y.W7)(),n=null!==(i=e.categoryCode)&&void 0!==i?i:Dp.other;return(0,h.K2)((0,cn.R4)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),"review"===e.type&&(0,Vp._C)({reviewId:e.id,text:e.text,statusId:r}),("photo"===e.type||"media"===e.type)&&Gp(e,r,t),"story"===e.type&&(0,Vp.rX)({segmentId:null!==(s=t.popup.segmentId)&&void 0!==s?s:"",storyId:e.id,categoryCode:n,comment:n===Dp.other?e.text:void 0,userEmail:t.email,statusId:r}),Kp(r,e.type))})),Gp=(e,t,i)=>(0,v.RC)({baseParams:qp.$},(({baseParams:s})=>(0,Vp._z)({statusId:t,data:Object.assign(Object.assign(Object.assign({},s),(0,Zp.A)()),{photoId:e.id,message:e.text,errorType:"product",emailValue:i.email})}))),Kp=(e,t)=>(0,h.Q2)((i=>{const s=i.status[e];return s&&s.meta?s&&"success"===s.meta.status?(0,h.K2)((0,f.QY)((({tp:e})=>(0,$p.D)((0,Wp.k)({title:e._t("Спасибо"),message:"photo"===t||"media"===t?e._t("Мы ценим вашу помощь!"):"review"===t?e._t("Мы проверим этот отзыв!"):e._t("Мы проверим эту историю!")})))),(0,cn.fs)()):s&&"error"===s.meta.status?(0,h.K2)(Yp(s.meta.code),(0,cn.R4)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!1})}))):void 0:Yp()})),Yp=e=>(0,f.QY)((({tp:t})=>(0,$p.D)((0,Wp.z)({title:400===e?t._t("Длина сообщения должна быть от 3 до 500 символов"):t._t("Что-то пошло не так"),message:t._t("Не получилось отправить жалобу. Повторите попытку.")})))),Xp=he.T.black_transparent_50,Jp=(0,a.memo)((e=>{const{formType:t,isDisabledEasyComplaintButton:i,onEasyComplaintBtnClick:r,activeText:n}=e,{s:o,css:c}=(0,pe.I)(em),d=(0,xe.c)(),l=(0,a.useMemo)((()=>({value:d._t("Другая причина"),code:Dp.other})),[d]),u=(0,a.useMemo)((()=>"media"===t||"photo"===t?[{value:d._t("Это спам"),code:void 0},{value:d._t("Другое место"),code:void 0},{value:d._t("Неактуально"),code:void 0},{value:d._t("Порнография, насилие, наркотики"),code:void 0},{value:d._t("Дубль"),code:void 0},l]:"story"===t?[{value:d._t("Оскорбительное содержание"),code:Dp.offensiveContent},{value:d._t("Порнография, насилие, наркотики"),code:Dp.pornography},{value:d._t("Нарушение закона"),code:Dp.violationOfTheLaw},{value:d._t("Несоответствующая возрасту реклама"),code:Dp.ageInappropriateAds},l]:[{value:d._t("Маты и оскорбления"),code:void 0},{value:d._t("Спам и реклама"),code:void 0},{value:d._t("О другом месте"),code:void 0},{value:d._t("Это не отзыв"),code:void 0},l]),[t,l,d]);return(0,s.jsx)("div",Object.assign({className:c(o.easyBtnsWrap)},{children:u.map((e=>(0,s.jsx)(Os.$,Object.assign({disabled:e!==l&&i,noBorder:!0,appearance:"noncontrast",wide:!0,onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),r(t)})(t,e),background:e.value===n?Xp:void 0},{children:e.value}),e.value)))}))}));Jp.displayName="EasyComplaintsBtns";const em=(0,pe.r)({easyBtnsWrap:{display:"flex",flexDirection:"column",gap:10,paddingTop:"8px",paddingBottom:"8px"}}),tm={isSendingStatus:e=>!(!e.appContext.popup||"complaint"!==e.appContext.popup.type)&&!!e.appContext.popup.isSending,user:e=>(0,We.ug)(e).data},im={onSubmitComplaintButtonClick:Qp,onCloseButtonClick:cn.fs},sm={wrapper:{padding:"12px 24px",boxShadow:vo.E.innerBorderBottomBase},title:Object.assign({},ye.lead),law:{marginTop:16}},rm=(0,lo.M)({selectors:tm,handlers:im})((0,Pt.Xy)(sm)((0,Rt.Q)()((e=>{const{user:t,popup:i,onSubmitComplaintButtonClick:r,onCloseButtonClick:n,i18n:{tp:o},s:c,isSendingStatus:d}=e,{itemId:l,subtype:u}=i,p="photo"===u||"media"===u,m="story"===u,[g,h]=(0,a.useState)(""),[f,v]=(0,a.useState)(void 0),[b,y]=(0,a.useState)(""),[x,j]=(0,a.useState)("btns"),w="btns"===x?o._t("Пожаловаться"):o._t("Другая причина"),I=(0,a.useMemo)((()=>!(0,kp.B)(b)||b.length>100),[b]),C=(0,a.useMemo)((()=>g.length<4||g.length>500),[g]),_=(p||m)&&!t&&I,k=_||d||C,O=_||d,S=(0,a.useCallback)((()=>r({data:Object.assign({type:u,id:l,text:g},f?{categoryCode:f}:{}),context:{popup:i,email:t&&t.email||b}})),[g,t,l,b,r,i,u,f]),T=(0,a.useCallback)((e=>{if(e.code===Dp.other)return h(""),v(void 0),void j("text");h(e.value),v(e.code)}),[j,h,v]),E=(0,a.useMemo)((()=>{const e=(p||m)&&!t;return(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(c.wrapper)},{children:[e&&(0,s.jsx)(np.A,{error:!!b&&I,placeholder:o._t("Укажите эл. почту, и мы ответим на ваши вопросы"),onChange:y,inputType:"email"}),"text"===x?(0,s.jsx)(np.A,{multiline:!0,linesCount:6,placeholder:o._t("Опишите суть жалобы своими словами"),error:!!g&&C,onChange:h}):(0,s.jsx)(Jp,{formType:u,isDisabledEasyComplaintButton:O,onEasyComplaintBtnClick:T,activeText:g})]}))}),[p,t,x,O,b,g]);return(0,s.jsx)(ep.j,{withCloseButton:!0,onClose:n,dataN:"wat-review-coplaint-popup",header:(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(c.wrapper,c.title)},{children:(0,s.jsx)("h1",{children:w})})),body:E,footer:(0,s.jsx)(tp.I,{disabledButton:k,withAuth:!0,submitText:o._t("Отправить"),onSubmit:S,onCancel:n})})}))));var nm=i(1364);const am=(e,{dateFns:t,config:{comma:i}})=>{const{date:s,entity:r}=e;if(!r)return;const n="name"in r?r.name:void 0;return{title:n,description:`${t.format(new Date(s),"d MMMM yyyy")}${i} ${n}`}},om=(0,lo.M)({selectors:({entityId:e,searchId:t})=>({entity:i=>(0,u.Tq)({state:i,entityId:e,searchId:t}).data,isSearchBot:e=>e.session.isSearchBot})})((e=>{const{s:t,css:i}=(0,pe.I)(cm),r=(0,kr.kc)(am,e);if(!r)return null;const{title:n,description:a}=r;if(!n)return null;const{entity:o,isSearchBot:c}=e;return(0,s.jsxs)("div",Object.assign({className:i(t.wrapper)},{children:[!!o&&(0,s.jsx)("div",Object.assign({className:i(t.image)},{children:(0,s.jsx)(rs.g,{entity:o,isLoadingForced:c})})),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",Object.assign({className:i(t.title)},{children:(0,s.jsx)("h1",{children:n})})),!!a&&(0,s.jsx)("div",{children:a})]})]}))})),cm=(0,pe.r)({wrapper:{padding:"12px 24px",boxShadow:vo.E.innerBorderBottomBase,display:"flex",alignItems:"center"},image:{marginEnd:16},title:Object.assign(Object.assign({},ye.lead),{marginBottom:4})}),dm=(0,a.memo)((({onTextChange:e,officialAnswerText:t})=>{const{s:i,css:r}=(0,pe.I)(lm),n=(0,xe.c)();return(0,s.jsxs)("div",Object.assign({className:r(i.wrapper)},{children:[!!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:r(i.title)},{children:n._t("Официальный ответ")})),(0,s.jsx)("div",Object.assign({className:r(i.text)},{children:t}))]}),(0,s.jsx)("div",Object.assign({className:r(i.title)},{children:n._t("Добавьте комментарий")})),(0,s.jsx)(np.A,{onChange:t=>e(t),autoFocus:!0,multiline:!0})]}))}));dm.displayName="Body";const lm=(0,pe.r)({wrapper:Object.assign(Object.assign({},ye.regular),{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}),title:{color:he.T.gray_929292},text:{boxShadow:vo.E.innerBorderBottomBase,paddingTop:8,paddingBottom:20,paddingStart:0,paddingEnd:0,marginBottom:16}});var um=i(11989),pm=i(35383),mm=i(89697),gm=i(59939),hm=i(48616),fm=i(60832);const vm=(0,h.n5)("submitReviewComment",(e=>{const{reviewId:t,text:i}=e,s=(0,Y.W7)(),r=(0,h.K2)((0,um.m7)({id:t,text:i,statusId:s}),(0,ws.zC)(s,(e=>(0,pm.o)(e)?(0,h._7)((0,cn.fs)(),(0,f.QY)((({tp:e})=>(0,$p.D)((0,Wp.k)({title:e._t("Спасибо!"),message:e._t("Ваш комментарий отправлен")}))))):(0,f.QY)((({tp:e})=>(0,$p.D)((0,Wp.z)({title:e._t("Ошибка!"),message:e._t("Попробуйте еще раз!")})))))));return(0,h.NV)((({featurePersonalDataAgreement:e,featurePhoneLaw:t})=>(0,v.RC)({hasPhone:We.vY,status:t=>(0,mm.y)(t,e)},(({hasPhone:e,status:i})=>{const s=t&&!e;return s||"idle"===i?(0,gm.b)({after:e=>e?r:(0,h.lQ)(),openPopup:s?()=>(0,fm.z)():()=>(0,hm.D)(!1)}):r}))))})),bm={review:e=>{const{popup:t}=e.appContext;if("addReviewComment"!==(null==t?void 0:t.type))return;const i=t.reviewId;return(0,nm.xW)({state:e,id:i}).data}},ym={closeAddReviewCommentPopup:cn.fs,submitComment:vm},xm=e=>{var t;const{review:i}=e;if(i&&!i.temporary)return{date:i.date_created,officialAnswer:null===(t=i.official_answer)||void 0===t?void 0:t.text,entityId:i.object.id}},jm=(0,lo.M)({selectors:bm,handlers:ym})((e=>{const{closeAddReviewCommentPopup:t,submitComment:i,review:r,popup:{searchId:n}}=e,[o,c]=(0,a.useState)(""),[d,l]=(0,a.useState)(!0),u=(0,a.useCallback)((e=>{c(e),l(e.length<4)}),[o]),p=(0,a.useCallback)((()=>{r&&i({text:o,reviewId:r.id})}),[t,o]),m=(0,xe.c)(),g=(0,kr.kc)(xm,e);if(!g)return null;const{date:h,entityId:f,officialAnswer:v}=g;return(0,s.jsx)(ep.j,{dataN:"wat-add-review-comment-popup",header:(0,s.jsx)(om,{date:h,entityId:f,searchId:n}),body:(0,s.jsx)(dm,{onTextChange:u,officialAnswerText:v}),footer:(0,s.jsx)(tp.I,{submitText:m._t("Опубликовать"),withAuth:!0,onSubmit:p,onCancel:t,disabledButton:d})})})),wm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.cart,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Im=e=>(0,s.jsx)(zt.w,{loader:Ft.b.deliveryOrderPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Cm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.sendOrderPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),_m=()=>(0,s.jsx)(zt.w,{loader:Ft.b.thanksForReview,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),km=()=>(0,s.jsx)(zt.w,{loader:Ft.b.thanksForPhoto,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),Om=e=>(0,s.jsx)(zt.w,{loader:Ft.b.personalDataAgreementPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Sm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.smmTipPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(Mr.J,{asyncStatus:e})}),Tm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.smmCheckoutPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(Mr.J,{asyncStatus:e})});var Em=i(67730),Mm=i(99449);function Nm(){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"212",height:"103",fill:"none"},{children:[(0,s.jsx)("path",{fill:"url(#phone-confirmation-a)",d:"M81.866 93.095h-4.23c-3.085.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.588-6.467 5.673-6.169h3.882c2.737.249 12.989 4.428 12.989 7.811v24.776c0 3.334-9.954 7.065-12.64 7.264Z"}),(0,s.jsx)("path",{fill:"url(#phone-confirmation-b)",d:"m94.108 92.249-12.043.846c-3.086.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.587-6.467 5.673-6.169l12.043 1.194c2.737.249 4.877 3.234 4.877 6.567v24.776c0 3.383-2.14 6.269-4.877 6.468Z"}),(0,s.jsx)("path",{fill:"url(#phone-confirmation-c)",d:"M60.07 47.423c0-8.905-3.534-16.965-8.86-20.995l-2.09-2.686h-5.225c-8.808-.15-16.173 9.95-16.173 23.184 0 13.78 7.962 23.632 17.169 23.632.298 0 6.32-.1 6.32-.1V68.12c5.325-3.831 8.858-11.791 8.858-20.697Z"}),(0,s.jsx)("path",{fill:"url(#phone-confirmation-d)",d:"M95.402 27.174c0-7.462-2.986-14.229-7.415-17.562l-1.741-2.239h-4.38c-7.365-.1-13.536 8.309-13.536 19.403 0 11.493 6.619 19.752 14.382 19.752.25 0 5.325-.05 5.325-.05v-1.94c4.38-3.234 7.365-9.901 7.365-17.364Z"}),(0,s.jsx)("path",{fill:"url(#phone-confirmation-e)",d:"M65.642 47.423c0 12.14-6.569 22.488-15.178 23.134-9.207.697-17.17-9.85-17.17-23.631 0-13.782 7.963-24.08 17.17-23.135 8.61.945 15.178 11.443 15.178 23.632Z"}),(0,s.jsx)("path",{fill:"url(#phone-confirmation-f)",d:"M101.225 27.125c0 10.149-5.474 18.806-12.69 19.353-7.714.597-14.333-8.209-14.333-19.702 0-11.492 6.669-20.099 14.332-19.303 7.216.697 12.691 9.503 12.691 19.652Z"}),(0,s.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M128.951 98.456c0 1.426-.771 2.641-1.78 2.717-1.082.082-2.016-1.155-2.016-2.77 0-1.613.934-2.825 2.016-2.713 1.009.105 1.78 1.34 1.78 2.766ZM200.352 3.773c0 1.426-.771 2.64-1.781 2.717-1.081.082-2.015-1.155-2.015-2.77 0-1.613.934-2.825 2.015-2.713 1.01.105 1.781 1.34 1.781 2.766ZM14.247 17.012c0 1.426-.77 2.64-1.78 2.717-1.082.082-2.016-1.156-2.016-2.77s.934-2.825 2.016-2.713c1.01.104 1.78 1.34 1.78 2.766ZM51.083 36.765l-.302 21.402M44.167 46.996l13.197.543M93.758 74.888l-10.942-.068 7.627-10.98v21.485M150.099 77.903c5.897.582 45.866 4.547 51.091-27.312 2.683-16.373-37.845-37.523-52.341-36.302-6.539.55-49.442 5.432-55.097 6.7-5.002 1.122-7.54 3.693-7.224 6.754.144 1.384.475 4.264 5.947 5.729.799.215 1.645.407 2.546.575 5.182.986 12.031 1.198 20.261.096.597-.078 1.99-.145 2.641-.195.025 0 .049 0 .07-.002"}),(0,s.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M123.256 50.321c-3.307 4.941-1.567 16.859 16.951 17.493 12.249.42 15.19-4.363 15.939-8.803"}),(0,s.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M121.345 43.28c-.593 7.517 4.84 11.995 18.307 12.551 3.022.125 10.696.205 14.545-3.32M124.815 62.323c-2.963 1.271-4.214 9.292 4.565 13.774 7.412 3.783 22.95 3.55 25.875-2.522 1.565-3.25.167-6.608-2.962-8.06"}),(0,s.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M162.21 31.402c-14.232-5.966-17.263-.587-28.369-1.077-12.518-.553-16.333 1.618-16.359 5.702-.044 6.814 8.821 11.165 20.194 9.347 4.936-.789 10.035 1.793 14.433 3.206 4.959 10.675 12.888 18.007 23.258 16.535"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-a",x1:"71.946",x2:"94.527",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-b",x1:"76.426",x2:"99.007",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-c",x1:"27.703",x2:"60.062",y1:"47.161",y2:"47.161",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-d",x1:"68.311",x2:"95.391",y1:"26.976",y2:"26.976",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-e",x1:"33.278",x2:"65.638",y1:"47.205",y2:"47.205",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-f",x1:"74.202",x2:"101.232",y1:"26.942",y2:"26.942",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]}))]})]}))}var Lm=i(68710),Pm=i(92782),Rm=i(1707);const Am=(0,a.memo)((({phone:e,resetCode:t})=>{const[i,r]=(0,a.useState)(59),{_t:n}=(0,xe.c)(),{css:o,s:c}=(0,pe.I)(Bm),d=(0,de.wA)(),{useBssHandler:l}=(0,le.E)(),u=l(Lm.gN),p=()=>{const e=Date.now(),t=setInterval((()=>{const i=Math.floor(60-(Date.now()-e)/1e3);i>0?r(i):(clearInterval(t),r(0))}),1e3);return()=>{t&&clearInterval(t)}};(0,a.useEffect)((()=>p()),[]);const m=(0,Oi.D)((()=>{r(59),p(),u(),d((0,Rm.ll)(e.replace(/ /g,""),(0,Y.W7)())),t()}));if(0===i)return(0,s.jsx)(Os.$,Object.assign({appearance:"ghost",onClick:m,experimentalStyles:c.refreshButton,dataN:"wat-request-code-again"},{children:n("Отправить код ещё раз")}));const g=`0:${i<10?0:""}${i}`;return(0,s.jsx)("p",Object.assign({className:o(c.text)},{children:n("Новый код можно запросить через %1",[g])}))}));Am.displayName="RefreshCodeTimer";const Bm=(0,pe.r)({text:Object.assign(Object.assign({},ye.regular),{color:he.T.gray_929292,marginTop:32,width:255,marginStart:"auto",marginEnd:"auto",textAlign:"left"}),refreshButton:{marginTop:32,padding:0}});var zm=i(97673);const Fm=["","","",""],Hm=(0,a.memo)((({phone:e,withDecline:t,source:i,error:r})=>{const{_t:n}=(0,xe.c)(),{css:o,s:c}=(0,pe.I)(Um),d=(0,de.wA)(),{bssRef:l,useBssHandler:u}=(0,le.E)((0,Lm.B)()),p=u(Lm.YG),m=(0,de.d4)((e=>{var t,i;return"loading"===(null===(i=null===(t=e.data.user.phone)||void 0===t?void 0:t[zm._])||void 0===i?void 0:i.status)})),[g,f]=(0,a.useState)(Fm),[v,b]=(0,Em.P)(!!r),y=(0,xp.hh)(g),x=r!==xp.$H;(0,Mm.A)({type:"common:escapeKeyUp",handler:()=>{p()}});const j=s=>{m||d((0,h.K2)(r?(0,Pm.G)({phone:e,withDecline:t,source:i}):(0,h.lQ)(),(0,Rm.rH)({phone:e,confirmationCode:s,source:i,withDecline:t})))},w=(0,Oi.D)((()=>{p(),d((0,Rm.SA)(i,!1))})),I=(0,Oi.D)((e=>{const t=parseInt(e.target.dataset.index||""),i=[...g];if(""===e.target.value&&!Number.isNaN(t))return i[t]=e.target.value,f(i),void b(!1);const s=e.target.value;return(0,xp.yp)(s)&&!Number.isNaN(t)?(i[t]=s,f(i),b(!1),(0,xp.jU)(e.target),void(t===g.length-1&&(0,xp.hh)(i)&&j(i.join("")))):void 0})),C=(0,Oi.D)((e=>{const t=e.target;if(37!==e.keyCode&&(8!==e.keyCode||""!==t.value))return 39===e.keyCode?(e.preventDefault(),void(0,xp.jU)(e.target)):13===e.keyCode?(e.preventDefault(),void k()):void 0;if(e.preventDefault(),(0,xp.CF)(e.target),8===e.keyCode){const e=parseInt(t.dataset.index||"");if(e){const t=[...g];t[e-1]="",f(t)}}})),_=(0,Oi.D)((e=>{(0,xp.yp)(e.key)||e.preventDefault()})),k=(0,Oi.D)((()=>{y&&j(g.join(""))})),O=(0,Oi.D)((()=>{f(Fm)}));return(0,s.jsx)(ep.j,{dataN:"wat-confirm-phone-popup",withCloseButton:!0,onClose:w,body:(0,s.jsxs)("div",Object.assign({className:o(c.body),ref:l},{children:[(0,s.jsx)(Nm,{}),(0,s.jsx)("h1",Object.assign({className:o(c.header)},{children:n("Подтвердите номер")})),(0,s.jsx)("p",Object.assign({className:o(c.text)},{children:n("Введите код из SMS, отправленного на номер %1",[e.replace(" ","&nbsp;")])})),(0,s.jsx)("div",Object.assign({className:o(c.inputWrapper)},{children:g.map(((e,t)=>(0,s.jsx)("input",Object.assign({autoFocus:0===t,className:o(c.input,v&&c._error),type:"number",placeholder:"-",min:0,max:9,value:e,"data-index":t,onChange:I,onKeyDown:C,onKeyPress:_},be.dx.n(`wat-phone-code-input-${t}`)),t)))})),v&&(0,s.jsx)("div",Object.assign({className:o(c.error)},{children:(0,xp.B$)(r,n)})),x&&(0,s.jsx)(Am,{phone:e,resetCode:O}),(0,s.jsx)(Os.$,Object.assign({appearance:y&&x?"secondary":"noncontrast",wide:!0,disabled:!xp.hh||!x||m,onClick:k,experimentalStyles:c.confirmButton,dataN:"wat-confirm-code"},{children:n("Подтвердить")})),t&&(0,s.jsx)(Os.$,Object.assign({appearance:"ghost",onClick:w,dataN:"wat-confirm-phone-cancel"},{children:n("Отказаться и не привязывать")}))]}))})}));Hm.displayName="PhoneConfirmationPopup";const Um=(0,pe.r)((e=>({body:{padding:e.mobile?"56px 16px":"56px 116px",textAlign:"center"},header:Object.assign(Object.assign({},ye.leadMedium),{fontWeight:ye.fontWeight.semibold,marginTop:28,marginBottom:16}),text:Object.assign({},ye.regular),textLine:{display:"block"},inputWrapper:{display:"flex",justifyContent:"space-between",marginTop:32},input:Object.assign(Object.assign({},ye.leadMedium),{flexGrow:1,border:"none",borderBottom:`1px solid ${he.T.gray_e6e6e6}`,padding:"12px 0",marginEnd:16,textAlign:"center",minWidth:1,":focus":{borderBottomColor:he.T.blue_0070cc,outline:"none","::placeholder":{color:"transparent"}}}),_error:{borderBottomColor:he.T.red_fe5000},error:Object.assign(Object.assign({},ye.small),{marginTop:6,color:he.T.red_fe5000}),confirmButton:{marginTop:40}}))),Dm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.phonePopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),Vm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.successfulSubscriptions,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var $m=i(10361);const Wm=e=>(0,s.jsx)(zt.w,{loader:Ft.b.social,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),qm=()=>(0,s.jsx)(zt.w,{loader:Ft.b.recommendations,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N});var Zm=i(5449),Qm=i(88942);function Gm(e){return(0,de.d4)((t=>{const i=t.appContext.popup;if(!e||e===(null==i?void 0:i.type))return i}))}var Km=i(91905);const Ym=(0,a.memo)((()=>{const{css:e,s:t}=(0,pe.I)(Xm),i=(0,xe.c)(),{brandName:r}=(0,fe.U)(),n=Gm("choosePhone"),a=pn((0,Qm.t)(null==n?void 0:n.entityId),"phone");return(0,s.jsx)(Zm.B,{children:(0,s.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,s.jsx)("div",Object.assign({className:e(t.caption)},{children:i._t("Выберите номер для звонка")})),(0,s.jsx)("div",Object.assign({className:e(t.message)},{children:i._t("Пожалуйста, скажите, что узнали номер в %1",[r])})),(0,s.jsx)("div",Object.assign({className:e(t.phones)},{children:a.map((({text:i,value:r,comment:n},a)=>(0,s.jsxs)("a",Object.assign({className:e(t.phone),href:`tel:${r}`},{children:[(0,s.jsx)(Km.b,{color:he.T.green_30ad00}),(0,s.jsxs)("span",Object.assign({className:e(t.text)},{children:[(0,s.jsx)("span",Object.assign({className:e(t.value)},{children:i||r})),n&&(0,s.jsx)("span",Object.assign({className:e(t.comment)},{children:n}))]}))]}),a)))}))]}))})}));Ym.displayName="ChoosePhonePopup";const Xm=(0,pe.r)({root:{padding:28,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},ye.lead),{marginTop:24}),message:{marginTop:12},phones:{marginTop:16,width:"100%"},phone:{paddingTop:16,paddingBottom:16,display:"flex",alignItems:"center"},text:{marginStart:16,display:"flex",flexDirection:"column"},value:{},comment:Object.assign({marginTop:2,color:he.T.gray_929292},ye.small)});var Jm=i(99937);const eg=(0,a.memo)((()=>{var e;const{css:t,s:i}=(0,pe.I)(tg),r=(0,xe.c)(),{frame:n,entity:o}=(0,Jr.Z)(),{featureVideoInGallery:c}=(0,fe.U)(),d=o&&(0,Gs.O)(o)?(0,Ks.F)(o.rubrics):void 0,l=(0,Br.l7)({objectId:n.entityId},{enabled:"menu"===(null==n?void 0:n.tab)&&"branch"===(null==o?void 0:o.type)}),u=l.data?(null===(e=l.data.albums.find((e=>e.id===M.ge)))||void 0===e?void 0:e.count)||0:void 0,{bssRef:p}=(0,le.E)(c?void 0:(({size:e})=>(t,i)=>{const s=(0,W.bB)(i.appContext.frames,"entity");if(void 0!==e&&s)return{uiElement:{name:"addPricePhotoSuccess",ownerName:"cardPrices",frameUuid:s.id},payload:{productOffersList:{entity:{id:s.entityId,type:"branch"},size:e},placeItem:(0,Di.t)({state:i,entityFrameId:s.id}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0}}}})({size:u})),m="menu"===d?r._t("Фотография появится в разделе Меню сразу после модерации: обычно на проверку уходит 1-2 дня"):r._t("Фотография появится в разделе с ценами сразу после модерации: обычно на проверку уходит 1-2 дня"),g=(0,de.wA)(),h=(0,a.useCallback)((()=>{g((0,cn.fs)())}),[g]);return(0,s.jsx)(ua.T,Object.assign({onClose:h},{children:(0,s.jsxs)("div",Object.assign({ref:p,className:t(i.root)},{children:[(0,s.jsx)("div",Object.assign({className:t(i.icon)},{children:(0,s.jsx)(Jm.Q,{})})),(0,s.jsx)("div",Object.assign({className:t(i.caption)},{children:r._t("Знаете цену и другим подсказываете. Спасибо!")})),(0,s.jsx)("div",Object.assign({className:t(i.message)},{children:m})),(0,s.jsx)("div",Object.assign({className:t(i.button)},{children:(0,s.jsx)(ue.A,Object.assign({onClick:h},{children:r._t("Хорошо")}))}))]}))}))}));eg.displayName="MenuPhotoThankPopup";const tg=(0,pe.r)({root:{padding:90,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},icon:{width:304,height:180},caption:Object.assign(Object.assign({},ye.lead),{marginTop:32}),message:{marginTop:16},button:{marginTop:32}});var ig=i(3135);const sg=(0,a.memo)((()=>{var e,t;const{css:i,s:r}=(0,pe.I)(rg),n=(0,xe.c)(),o=(0,de.wA)(),c=Gm("erir"),d=(0,ig.R)(c),l=!(null===(e=null==d?void 0:d.blocks)||void 0===e?void 0:e.length)&&!(null==d?void 0:d.isLoading)&&!(null==d?void 0:d.wasLoading),{onCopy:u,renderIdInput:p}=(0,ig.m)(),m=(0,a.useCallback)((()=>{o((0,cn.fs)())}),[o]);return(0,a.useEffect)((()=>{l&&o((0,cn.fs)())}),[]),l?null:(0,s.jsx)(ua.T,Object.assign({onClose:m},{children:(0,s.jsxs)("div",Object.assign({className:i(r.root)},{children:[(0,s.jsx)("div",Object.assign({className:i(r.caption)},{children:n._t("О рекламодателе")})),(0,s.jsx)("div",Object.assign({className:i(r.info)},{children:(null==d?void 0:d.isLoading)?(0,s.jsx)(Sp.Z,{}):(null===(t=null==d?void 0:d.blocks)||void 0===t?void 0:t.length)?(0,s.jsxs)(s.Fragment,{children:[d.blocks.map((({erid:e,legalName:t},n)=>(0,s.jsx)("div",Object.assign({className:i(r.block)},{children:(0,s.jsxs)(li.u,Object.assign({inline:!0},{children:["description"in d&&d.description&&(0,s.jsx)("span",Object.assign({className:i(r.description)},{children:d.description})),t&&t,e&&(0,s.jsx)("span",Object.assign({className:i(r.erid)},{children:`erid: ${e}`})),"warning"in d&&d.warning&&(0,s.jsx)("p",Object.assign({className:i(r.warning)},{children:d.warning}))]}))}),n))),!!d.erid&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ue.A,Object.assign({styles:r.link,onClick:u},{children:n._t("Скопировать ID")})),p(d.erid)]})]}):n._t("Не удалось загрузить данные.")}))]}))}))}));sg.displayName="ErirPopup";const rg=(0,pe.r)({root:{padding:24,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},ye.lead),{marginTop:24}),info:{marginTop:12,textAlign:"center"},block:{marginTop:12,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},link:{marginTop:20,marginBottom:20},description:{paddingBottom:10},warning:{padding:"10px 0"}}),ng=()=>(0,s.jsx)(zt.w,{loader:Ft.b.newYearPromoPopup,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),ag=e=>(0,s.jsx)(zt.w,{loader:Ft.b.mobileAppPromoBannerPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N}),og=e=>(0,s.jsx)(zt.w,{loader:Ft.b.otelloChooseBookingParamsPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:Mr.N});var cg=i(69935);var dg=i(66089),lg=i(43793);const ug={32:"4504222397630173",38:"5348647327760881",21:"2956110025720010",9:"1267260165455895",1:"141360258613345",30:"4222747420917890",40:"5630122304471834",19:"2674635049009413",25:"3519059979141128",18:"2533897560653928",33:"4644959885983809",28:"3941272444207172",11:"1548735142166607",31:"4363484909273106",24:"3378322490785844",27:"11260016975675394",17:"2393160072298497",7:"985785188745271",23:"3237585002430511",13:"1830210118877480",36:"5067172351050327",35:"4926434862694425",114:"16044696473293721",43:"6052334769537063",241:"1267655302447163",3:"422835235324469",37:"5207909839405058",4:"563572723679253",2:"282097746968728",44:"6193072257892359",15:"2111685095587875",16:"2252422583943339",113:"15903958954410051",8:"1126522677100564",74:"10415196908552284",77:"10837409373618180",88:"12385521745526786",59:"8304134583222334",41:"5770859792826456",90:"12666996722237442",206:"70030076128121878",80:"11259621838684168",70:"9852246955130881",52:"7318972164734977",50:"7037497188024321",47:"6615284722958337",53:"7459709653090305",5:"704310212034621",115:"16185433961648964",58:"8163397094867289",97:"13652159140724744",39:"5489384816115713",34:"4785697374339092",22:"3096847514075285",55:"7741184629801014"},pg=((0,h.n5)("openOtelloPopupIfNeeded",(()=>(0,h.Q2)((e=>{const t=e.appContext.frames[0];return t?"search"===t.type?((e,t)=>{var i,s;if(!e.config.featureOtelloPopupInSearch)return(0,h.lQ)();if(!e.config.isHumanFromSeo)return(0,h.lQ)();const r=(0,c.MJ)(e),n=r?ug[r]:void 0;if(!n)return(0,h.lQ)();const a=(0,lg.X)(t),o=(0,Wa.s8)({state:e,searchId:a}),d=(0,dg.l)(null===(s=null===(i=o.data)||void 0===i?void 0:i.searchAttributes)||void 0===s?void 0:s.query_context);return(null==d?void 0:d.includes("269"))?(0,cn.PB)({id:(0,Y.W7)(),type:"otelloChooseBookingParamsPopup",subtype:"search",targetId:n,ownerFrameId:t.id,isClosableByClickingOutside:!0}):(0,h.lQ)()})(e,t):"entity"===t.type?((e,t)=>{var i,s,r;if(!e.config.featureOtelloPopupInCard)return(0,h.lQ)();if(!e.config.isHumanFromSeo)return(0,h.lQ)();const n=null===(i=(0,u.Tq)({state:e,entityId:t.entityId,searchId:t.searchId}))||void 0===i?void 0:i.data;if(!n)return(0,h.lQ)();const a=null===(s=(0,cg.d)(n))||void 0===s?void 0:s.adsBuyHere;return a&&(null===(r=a.actions)||void 0===r?void 0:r.find((e=>e.value.includes("otello.ru"))))?(0,cn.PB)({id:(0,Y.W7)(),type:"otelloChooseBookingParamsPopup",subtype:"hotel",targetId:t.entityId,ownerFrameId:t.id,isClosableByClickingOutside:!0}):(0,h.lQ)()})(e,t):(0,h.lQ)():(0,h.lQ)()})))),()=>(0,s.jsx)(zt.w,{loader:Ft.b.installAppToSeeFriendsPopup,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}));var mg=i(80982);const gg=()=>(0,s.jsx)(zt.w,{loader:Ft.b.authFriendsOnMapPopup,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),hg=()=>(0,s.jsx)(zt.w,{loader:Ft.b.invitingFriendsOnMapPopup,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),fg=()=>(0,s.jsx)(zt.w,{loader:Ft.b.mobileFriendsOnMapPopup,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),vg=()=>(0,s.jsx)(zt.w,{loader:Ft.b.competitionNoFriends,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N}),bg=()=>(0,s.jsx)(zt.w,{loader:Ft.b.competitionHaveFriends,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N});i(56475);var yg=i(16316);const xg=()=>(0,s.jsx)(zt.w,{loader:Ft.b.mediaUploader,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N});var jg=i(74798);const wg=()=>{const e=(0,xe.c)(),t=(0,de.wA)(),{isMobileDevice:i,brandName:r}=(0,fe.U)(),{css:n,s:a}=(0,pe.I)(Ig),o=(0,de.d4)((e=>e.session.platform)),c=e._t("Присоединяйтесь к поездке в приложении %1",[r]),d=e._t("Скачайте приложение и перейдите по ссылке ещё раз"),l=(0,Ne.zP)({platform:o,type:"meetPopup"}),u=()=>{t((0,cn.fs)())};return(0,s.jsx)(s.Fragment,{children:i?(0,s.jsx)(Zm.B,Object.assign({withCloseButton:!0,onClose:u},{children:(0,s.jsxs)("div",Object.assign({className:n(a.root)},{children:[(0,s.jsx)("div",Object.assign({className:n(a.bg)},{children:(0,s.jsx)(pa.i,{src:"/public/friendsOnMap/userRelationDifferenceBackground.png"})})),(0,s.jsxs)("div",Object.assign({className:n(a.text)},{children:[(0,s.jsx)("p",Object.assign({className:n(a.titleMobile)},{children:c})),(0,s.jsx)("p",Object.assign({className:n(a.paragraph)},{children:d}))]})),(0,s.jsxs)("div",Object.assign({className:n(a.buttons)},{children:[(0,s.jsx)(Os.$,Object.assign({appearance:"primary",wide:!0,experimentalStyles:a.storeButton,external:!0,href:l},{children:e._t("Открыть в приложении")})),(0,s.jsx)(Os.$,Object.assign({appearance:"noncontrast",wide:!0,noBorder:!0,onClick:u},{children:e._t("Скрыть")}))]}))]}))})):(0,s.jsx)(ua.T,Object.assign({withCloseButton:!0,onClose:u},{children:(0,s.jsxs)("div",Object.assign({className:n(a.popup)},{children:[(0,s.jsx)(pa.i,{src:"/public/friendsOnMap/userRelationDifferenceBackground.png",width:323,height:182,isLoadingForced:!0}),(0,s.jsx)("h2",Object.assign({className:n(a.title)},{children:c})),(0,s.jsx)("p",Object.assign({className:n(a.content)},{children:d})),(0,s.jsx)(jg.E,{qrText:"",contentText:""})]}))}))})},Ig=(0,pe.r)((({mobile:e})=>({popup:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:56,paddingBottom:42,paddingStart:e?20:45,paddingEnd:e?20:45},title:Object.assign(Object.assign({},ye.leadMedium),{paddingTop:20,paddingBottom:16,paddingStart:0,paddingEnd:0}),button:{paddingTop:32,maxWidth:e?"auto":303,width:"100%"},qrCode:{marginTop:20,"& canvas":{width:90,height:90}},root:{padding:32,display:"flex",flexDirection:"column",alignItems:"center",gap:24},text:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,whiteSpace:"pre-wrap"},titleMobile:Object.assign(Object.assign({},ye.leadMedium),{textAlign:"center"}),paragraph:{textAlign:"center"},bg:{width:265,height:265,marginTop:-20,marginBottom:-30},buttons:{width:216,display:"flex",flexDirection:"column",alignItems:"center",gap:8},storeButton:{background:he.T.green_30ad00},content:{marginBottom:20}})));var Cg=i(16244);const _g=()=>{const e=(0,fe.U)(),{s:t,css:i}=(0,pe.I)(kg),r=(0,de.d4)((e=>e.appContext.popup)),n=(0,ot.I)(cn.fs);if(!r)return null;const a="isPopupGlassDark"in r&&r.isPopupGlassDark,o=(()=>{switch(r.type){case"feedback":return(0,s.jsx)(Wu,{type:r.subtype});case"createReview":case"editReview":return(0,s.jsx)(Qu,{popup:r});case"photoUploader":return e.featureVideoInGallery?(0,s.jsx)(xg,{}):(0,s.jsx)(Zu,{});case"typedFeedback":return(0,s.jsx)(Gu,{popup:r});case"editFavorite":return(0,s.jsx)(Ku,{popup:r});case"videoPlayer":return(0,s.jsx)(Yu.O,Object.assign({},r));case"entityVideoPlayer":return(0,s.jsx)(Xu,{popup:r});case"editUserProfile":return(0,s.jsx)(Mp,{popup:r});case"deleteUserProfile":return(0,s.jsx)(Rp,{popup:r});case"subscribers":return(0,s.jsx)(Hp,{});case"subscriptions":return(0,s.jsx)(Up,{});case"recommendations":return(0,s.jsx)(qm,{});case"successfulSubscriptions":return(0,s.jsx)(Vm,{popup:r});case"noFriends":return(0,s.jsx)($m.h,{});case"social":return(0,s.jsx)(Wm,{source:r.source});case"sharing":return(0,s.jsx)(Ju,{popup:r});case"complaint":return(0,s.jsx)(rm,{popup:r});case"emailConfirmation":return(0,s.jsx)(Fp,{popup:r});case"addReviewComment":return(0,s.jsx)(jm,{popup:r});case"deliveryOrder":return(0,s.jsx)(Im,{popup:r});case"cart":return(0,s.jsx)(wm,{popup:r});case"sendOrder":return(0,s.jsx)(Cm,{popup:r});case"thanksForReview":return(0,s.jsx)(_m,{});case"thanksForPhoto":return(0,s.jsx)(km,{});case"personalDataAgreement":return(0,s.jsx)(Om,{withDecline:r.withDecline});case"smmTipPopup":return(0,s.jsx)(Sm,{popup:r});case"smmCheckout":return(0,s.jsx)(Tm,{popup:r});case"phoneConfirmationPopup":return(0,s.jsx)(Hm,{phone:r.phone,withDecline:r.withDecline,source:r.source,error:r.error});case"phonePopup":return(0,s.jsx)(Dm,{type:r.subtype});case"choosePhone":return(0,s.jsx)(Ym,{});case"menuPhotoThank":return(0,s.jsx)(eg,{});case"erir":return(0,s.jsx)(sg,{});case"newYearPromo":return(0,s.jsx)(ng,{});case"otelloChooseBookingParamsPopup":return(0,s.jsx)(og,{popup:r});case"mobileAppPromoBannerPopup":return(0,s.jsx)(ag,{promoType:r.promoType});case"installAppToSeeFriends":return(0,s.jsx)(pg,{});case"editUserFavoritesPopup":return(0,s.jsx)(mg.Iu,{popup:r});case"mobileFriendsOnMapPopup":return(0,s.jsx)(fg,{});case"invitingFriendsOnMapPopup":return(0,s.jsx)(hg,{});case"competitionNoFriendsOnMapPopup":return(0,s.jsx)(vg,{});case"competitionHaveFriendsOnMapPopup":return(0,s.jsx)(bg,{});case"authFriendsOnMapPopup":return(0,s.jsx)(gg,{});case"guideOnbordingPopup":return(0,s.jsx)(Cg.y,{});case"layersControl":return(0,s.jsx)(sl.SV,Object.assign({},r));case"friendInOtherDomain":return(0,s.jsx)(ce.u,Object.assign({},r));case"broadcastEnded":return(0,s.jsx)(wa,Object.assign({},r));case"userRelationDifferencePopup":return(0,s.jsx)(yg.ZC,{publicUserId:r.publicUserId});case"deloPromo":return(0,s.jsx)(Ur,{entity:r.entity});case"meet":return(0,s.jsx)(wg,{});case"guideBookmarks":return(0,s.jsx)(Rl.mH,Object.assign({},r));default:return null}})();return o?(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:r.id}},{children:(0,s.jsx)("div",Object.assign({className:i(t.popup)},{children:(0,s.jsx)(qu.A,Object.assign({isDark:a,onClick:()=>{r.isClosableByClickingOutside&&!r.isModal&&n()}},{children:o}))}))})):null},kg=(0,pe.r)({popup:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}});var Og=i(68217);const Sg=(0,Qt.tr)((e=>({notifications:e.appContext.weak.notifications}))),Tg=(0,Qt.Yn)((e=>({onNotificationClick(t){e((0,$p._)({id:t}))}})));function Eg({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M19.19 12.14l.44-2.21a3 3 0 0 0-2-3.44l-2.15-.71-.38.77a22.31 22.31 0 0 1-4.75 6.18L10 13v11.94l10.17.61h.31a5 5 0 0 0 4.88-3.93l1.85-8.49zm4.21 9.06a3 3 0 0 1-3.11 2.36l-8.29-.5V14a24.08 24.08 0 0 0 4.48-5.75l.53.18a1 1 0 0 1 .66 1.15l-.86 4.32 8 1zM6 13h2v12H6z"})}))}class Mg extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.notification.id)}}render(){const{title:e,message:t,icon:i,s:r,bssRef:n}=this.props;return(0,s.jsxs)("div",Object.assign({ref:n,className:(0,Pt.AH)(r.notification)},be.dx.n("wat-notification"),be.dx.t("error"===i?"error":"success"),{onClick:this.handleClick},{children:[(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.icon,"error"===i&&r._error)},{children:(0,s.jsx)(Eg,{})})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.title)},{children:e})),(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(r.message)},{children:t}))]}))}componentDidMount(){this.hideTimer=window.setTimeout((()=>{this.handleClick()}),6e3)}componentWillUnmount(){window.clearTimeout(this.hideTimer)}}Mg.displayName=(0,qt.d)("src/modules/notifications/components/notification");const Ng={notification:{background:he.T.white,paddingTop:20,paddingBottom:20,paddingStart:56,paddingEnd:12,boxShadow:vo.E.popup,borderRadius:ge.Vq.isolate,cursor:"pointer",position:"relative",animationName:{from:{transform:"translateY(30px)",opacity:0},to:{transform:"translateY(0)",opacity:1}},animationDuration:`${Yi.S.short}ms`},icon:{color:he.T.green_299400,position:"absolute",top:16,start:12},_error:{color:he.T.red_fe5000,transform:"rotate(180deg)"},title:Object.assign(Object.assign({},ye.regularBold),{marginBottom:4}),message:Object.assign({},ye.regular)},Lg=(0,At.f)((e=>{const{notification:t}=e,i=t.payload.bssName;if(i)return{uiElement:{name:i,frameUuid:e.notification.id},payload:t.payload.payload}}))((0,Vs.J)((({notification:e})=>{const{type:t,payload:i}=e;return{title:i.title,message:i.message,icon:"success"===t?"success":"error"}}))((0,Pt.Xy)(Ng)(Mg)));class Pg extends a.PureComponent{constructor(){super(...arguments),this.handleNotificationClick=e=>{this.props.onNotificationClick(e)}}render(){const{notifications:e,s:t}=this.props;return e.length?(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(t.root)},{children:e.slice(-3).map((e=>(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(t.item)},{children:(0,s.jsx)(Lg,{notification:e,onClick:this.handleNotificationClick},e.id)}),e.id)))})):null}}Pg.displayName=(0,qt.d)("src/modules/notifications");const Rg=(0,Qt.Ng)(Sg,Tg)((0,Pt.Xy)((({mobile:e})=>({root:{position:"absolute",top:72,end:e?"initial":16,width:e?"100%":304,boxSizing:"border-box",paddingStart:e?20:0,paddingEnd:e?20:0},item:{marginBottom:16}})))(Pg));function Ag(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"46",height:"20",viewBox:"0 0 46 20",fill:"none"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.94557 4C3.10921 4 0.981934 5.72727 1.00012 8.72727H3.63648C3.60012 7.52727 4.36375 6.36364 5.94557 6.36364C7.14557 6.36364 7.90921 7.16364 7.90921 8.18182C7.90921 9.23636 7.07284 9.81818 5.72739 10.4727C3.96375 11.3273 2.90921 11.7273 1.00012 12.3636V15.8182H10.4547V13.4545H4.56375C5.47513 13.0746 6.3622 12.6575 7.16375 12.2727C9.29102 11.2545 10.5456 10.1091 10.5456 8.05455C10.5456 5.58182 8.69102 4 5.94557 4ZM14.6365 6.54545H20.091V4.18182H12.091V15.8182H14.6365V6.54545ZM23.9092 4.18182H21.3638V15.8182H23.891L28.6365 8.38182V15.8182H31.1819V4.18182H28.6365L23.9092 11.6182V4.18182ZM43.9637 11.4545H41.3274C40.9274 12.7455 39.7092 13.6364 38.2728 13.6364C36.1819 13.6364 34.8183 11.8364 34.8183 10C34.8183 8.16364 36.1456 6.36364 38.3456 6.36364C39.8001 6.36364 40.9274 7.25455 41.3274 8.54545H43.9637C43.5819 5.94545 41.5274 4 38.2728 4C34.6728 4 32.2728 6.52727 32.2728 10C32.2728 13.4727 34.6728 16 38.2728 16C41.5274 16 43.5819 14.0909 43.9637 11.4545Z",fill:"currentColor"})}))}function Bg(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"20",fill:"none",viewBox:"0 0 40 20"},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M2 8.727C1.982 5.727 4.05 4 6.808 4c2.669 0 4.472 1.582 4.472 4.054 0 2.055-1.22 3.2-3.288 4.219-.778.382-1.644.909-2.527 1.181h5.903V16H2v-3.34c1.856-.636 2.881-1.333 4.596-2.187 1.308-.655 2.12-1.237 2.12-2.291 0-1.018-.742-1.818-1.908-1.818-1.538 0-2.28 1.163-2.245 2.363H2zM23.635 9.636v.91c0 3-1.98 5.454-5.568 5.454-3.447 0-5.815-2.527-5.815-6s2.298-6 5.903-6c3.094 0 5.02 1.836 5.48 4h-2.563c-.442-1.036-1.538-1.636-2.846-1.636-2.245 0-3.5 1.781-3.5 3.636 0 1.854 1.273 3.636 3.483 3.636 1.378 0 2.527-.69 2.88-1.818h-3.358V9.636h5.904zM27.453 16h-2.475V4h2.475v12zM38.43 7.636h-2.564c-.248-.781-.919-1.454-2.421-1.454-1.29 0-1.945.509-1.945 1.236 0 .891 1.237 1.146 2.793 1.418l.068.012c2.047.36 4.139.727 4.139 3.425C38.5 14.8 36.467 16 33.727 16c-2.527 0-4.79-1.527-5.037-3.818h2.563c.318.945 1.255 1.636 2.598 1.636 1.29 0 2.015-.436 2.015-1.272 0-1.032-1.505-1.28-3.01-1.53l-.1-.016c-1.61-.273-3.872-1.018-3.872-3.455 0-2.2 1.874-3.545 4.65-3.545 2.739 0 4.63 1.418 4.895 3.636z"})}))}const zg=(0,a.memo)((()=>{const{brandName:e,lang:t}=(0,fe.U)();if("Urbi"===e)return null;const i=!1;return"ru"===t?(0,s.jsxs)(Fg,{children:[(0,s.jsx)(Ag,{}),i]}):(0,s.jsxs)(Fg,{children:[(0,s.jsx)(Bg,{}),i]})})),Fg=({children:e})=>{const{css:t,s:i}=(0,pe.I)(Hg),{lang:r}=(0,fe.U)(),n="ru"===r?"https://dev.2gis.ru":"https://dev.2gis.com";return(0,s.jsx)(ue.A,Object.assign({external:!0,href:n,styles:i.root},{children:(0,Y.oE)(e).map(((e,r)=>(0,s.jsx)("div",Object.assign({className:t(i.item)},{children:e}),r)))}))},Hg=(0,pe.r)({root:{display:"flex",justifyContent:"flex-end",height:16,marginBottom:3},item:{marginStart:8,color:he.T.gray_262626}}),Ug=(0,a.memo)((()=>{const{s:e,css:t}=(0,pe.I)(Dg),{comma:i}=(0,fe.U)(),r=(0,xe.c)(),{licenseAgrUrl:n,privacyUrl:a}=Bu({place:"map-footer"});return(0,s.jsxs)("div",Object.assign({className:t(e.copyright)},{children:[(0,s.jsx)(zg,{}),(0,s.jsx)(ue.A,Object.assign({color:"dark",external:!0,href:n},{children:r._t("Лицензионное соглашение")})),i," ",(0,s.jsx)(ue.A,Object.assign({color:"dark",external:!0,href:a},{children:r._t("Политика конфиденциальности").toLowerCase()}))]}))})),Dg=(0,pe.r)({copyright:Object.assign(Object.assign({position:"absolute",bottom:16,end:72,textAlign:"right"},ye.tiny),{userSelect:"none"})});class Vg extends a.PureComponent{render(){const{s:e,links:t}=this.props;return(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(e.root)},be.dx.n("wat-awesome-dash"),{children:t.map((({url:t,name:i},s)=>(0,a.createElement)("a",Object.assign({},be.dx.n("wat-awesome-dash-link"),{key:s,className:(0,Pt.AH)(e.item),href:t}),i)))}))}}Vg.displayName=(0,qt.d)("src/modules/seoDash");const $g={root:{position:"absolute",bottom:0,left:0,right:0,height:21,overflowY:"scroll",background:he.T.white},item:Object.assign(Object.assign({},ye.lead),{display:"inline-block",margin:"0 4px",color:he.T.blue_0072ce})},Wg=(0,lo.M)({selectors:()=>({seoStoreData:e=>e.data.seoStore}),handlers:{}})((0,Vs.J)((({seoStoreData:e})=>{var t,i;if(null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.links)||void 0===i?void 0:i.length)return{links:e.data.links}}))((0,Pt.Xy)($g)(Vg)));var qg=i(84082),Zg=i(52342),Qg=i(27127);const Gg=(0,h.n5)("handleEditClick",(e=>(0,h.K2)((0,T.PC)(),(0,Zg.D)(e),(0,Qg.c)())));var Kg=i(74887);const Yg={onEditClick:Gg};class Xg extends a.PureComponent{constructor(){super(...arguments),this.handleEditClick=()=>{this.props.onEditClick(this.props.toast.item)}}render(){const{title:e,s:t,i18n:i}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,Pt.AH)(t.root)},be.dx.n("wat-added-to-collection"),{children:[(0,s.jsx)("span",Object.assign({className:(0,Pt.AH)(t.title)},{children:e})),(0,s.jsx)(Os.$,Object.assign({dataN:"wat-change-collection-button",onClick:this.handleEditClick,compact:!0,appearance:"primary"},{children:i.tp._t("Изменить")}))]}))}}const Jg={root:{display:"flex",alignItems:"center",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:12,width:"max-content",maxWidth:312,boxSizing:"border-box",wordBreak:"break-word",background:he.T.white,borderRadius:ge.Vq.default,boxShadow:vo.E.popup,"& > button":{flexShrink:0}},title:{marginEnd:12}},eh=(0,Pt.Xy)(Jg)((0,Rt.Q)()(Xg)),th=(0,lo.M)({selectors:({toast:e})=>({collection:(0,qg.nq)(e.collectionId)}),handlers:Yg})((0,Vs.J)(((e,t)=>{const{collection:i}=e,{tp:s}=t;if(i)return{title:s._t("Добавлено в «%1»",[(0,Kg.j)(i,t)])}}))(eh));var ih=i(24963),sh=i(86291),rh=i(79086);const nh=({onClose:e,timeout:t,children:i,targetBoundingClientRect:r,to:n,offset:o})=>{const c=a.useRef(null);return(0,sh.o)(c,e,t),(0,ih.W)(c,e),(0,s.jsx)(rh.w,Object.assign({innerRef:c,targetBoundingClientRect:r,to:n,offset:o||8},{children:i}))};const ah=(0,a.memo)((({type:e,to:t})=>{const{css:i,s:r,dir:n}=(0,pe.I)(oh),o=(0,ot.I)(Qg.c),d=(0,xe.c)(),{bssRef:l}=(0,le.E)((u={type:e},(e,t)=>{const i=function(e){if("layer_exchange"===e)return"exchangeCurrencyLayerPromo"}(u.type);if(i)return{uiElement:{name:i,frameUuid:t.appContext.staticFrames.map.id}}}));var u;const p=(0,de.d4)(c.n$),m=(0,a.useMemo)((()=>"centerEnd"===t?[r._center,"rtl"===n&&r._rtl]:r._default),[t]),g=(0,a.useMemo)((()=>{switch(e){case"layer_metro":return d._t("Включите&nbsp;слой&nbsp;с&nbsp;метро, так удобнее планировать маршруты");case"ppng":return d._gg("Теперь строим маршруты\n для грузового транспорта!");case"layer_realty_heatmap":return(null==p?void 0:p.flags.metro)?d._gg("Покажем,&nbsp;сколько&nbsp;минут&nbsp;идти&nbsp;пешком&nbsp;до&nbsp;метро"):d._gg("Недвижимость&nbsp;города&nbsp;теперь&nbsp;на&nbsp;карте.\nВыбирайте&nbsp;её&nbsp;в&nbsp;отдельном&nbsp;слое");case"layer_realty_sublayers":return(null==p?void 0:p.flags.metro)?d._gg("Включите&nbsp;тепловую&nbsp;карту&nbsp;доступности&nbsp;метро"):d._gg("Включите&nbsp;тепловую&nbsp;карту\nс&nbsp;ценами&nbsp;аренды&nbsp;или&nbsp;продажи");case"layer_photo":return d._t("Прекрасное&nbsp;рядом&nbsp;—&nbsp;посмотрите!\nПоказываем&nbsp;на&nbsp;карте&nbsp;фотографии&nbsp;города");case"layer_exchange":return d._gg("Курсы&nbsp;валют на&nbsp;карте");case"exchange_input":return d._gg("Курс&nbsp;выгодней\nпри&nbsp;обмене&nbsp;большей&nbsp;суммы");case"layer_road_accident":return d._gg("Аварийные места на карте");case"layer_tourism":return d._t("Туристические места")}}),[e]);return(0,s.jsx)("div",Object.assign({className:i(r.tooltip,m),onClick:o,ref:l},be.dx.n("wat-layer-promo"),be.dx.t(e),{children:g}))})),oh=(0,pe.r)({tooltip:{background:he.T.blue_028eff,color:he.T.white,borderRadius:ge.Vq.default,boxShadow:vo.E.popup,paddingTop:12,paddingBottom:8,paddingStart:16,paddingEnd:16,boxSizing:"border-box",margin:"auto",userSelect:"none",position:"relative",whiteSpace:"pre-wrap","::before":{content:'""',width:0,height:0,border:"4px solid transparent",borderBottomColor:he.T.blue_028eff,position:"absolute"}},_default:{"::before":{top:0,start:"50%",marginTop:-8,marginStart:-4}},_center:{"::before":{marginTop:-4,marginStart:-8,top:"50%",start:0,transform:"rotate(-90deg)"}},_rtl:{"::before":{transform:"rotate(90deg)"}}}),ch=()=>{const e=(0,de.d4)((e=>e.appContext.weak.toast)),t=(0,ot.I)(Qg.c),i=a.useCallback((()=>{t()}),[]);if(!e)return null;switch(e.type){case"addedToCollection":return(0,s.jsx)(nh,Object.assign({onClose:i,timeout:3e3,targetBoundingClientRect:e.targetBoundingClientRect,to:"bottomBottomStart"},{children:(0,s.jsx)(th,{toast:e})}));case"showPromoToast":return(0,s.jsx)(nh,Object.assign({onClose:i,timeout:2e4,targetBoundingClientRect:e.targetBoundingClientRect,to:e.to,offset:e.offset},{children:(0,s.jsx)(ah,{type:e.subtype,to:e.to})}));default:return null}};var dh=i(4986);const lh=a.memo((()=>{const[e,t]=(0,a.useState)(void 0);(0,Mm.A)({type:"map:hint",handler:e=>{t(e)}});const{s:i,css:r}=(0,pe.I)(uh);if(!e||"undefined"==typeof window)return null;const n=(0,dh.K)(e.point);return(0,s.jsx)(rh.w,Object.assign({targetBoundingClientRect:n,to:"bottomEnd",offset:8,pointerEvents:"none"},{children:(0,s.jsx)("div",Object.assign({className:r(i.hint)},{children:e.text}))}))}));lh.displayName="Hint";const uh=(0,pe.r)({hint:Object.assign(Object.assign({},ye.regular),{background:he.T.white,boxShadow:vo.E.popup,borderRadius:ge.Vq.default,padding:"4px 8px",whiteSpace:"nowrap"})});var ph=i(53180),mh=i(63235),gh=i(15714),hh=i(92771),fh=i(35606),vh=i(5096),bh=i(60776);const yh=(0,h.n5)("getEntityByPoint",(e=>(0,h.Q2)((t=>{const i=t.appContext.zoom;if(i)return(0,h.K2)((0,v.Cl)((s=>(0,fh.tc)({point:e.point,zoom:Math.ceil(i),regionId:(0,c.MJ)(t)||"0",searchId:e.searchId,viewpoint:s}))),(0,h.Q2)((t=>{const i=(0,vh.A)({state:t,searchId:e.searchId});if(!i.meta||"error"===i.meta.status)return;if(!i.data||!i.data.items.length)return;const s=i.data.items[0],r=(0,u.Tq)({state:t,entityId:s});return r.data?"point"===r.data.type?(0,bh.v)({point:e.point,shouldCenterMap:!1}):(0,R.BJ)({entityId:r.data.id,frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,isOpenedFromMap:e.isOpenedFromMap,trackBssOnLoading:e.trackBssOnLoading,skipFetchEntity:!0}):void 0})))})))),xh=(0,h.n5)("openEntityFromMap",(({mapAdsId:e,entityId:t,point:i,entityIcon:s,isCommercial:r,trackBssOnLoading:n})=>{const a=(0,Y.W7)(),o=(0,Y.W7)(),c=(0,Y.W7)(),d=(0,Y.W7)();return(0,h.K2)((0,T.PC)(),(0,Is.WH)(),(0,mh.B)(),(0,v.eU)(G.$J,hh.x),(0,gh.BS)({frameId:a,entityId:t,searchId:c,gtaId:d,statusId:o,point:i,entityIcon:s,isCommercial:r}),t?jh({entityId:t,point:i,frameId:a,statusId:o,gtaId:d,searchId:c,mapAdsId:e,trackBssOnLoading:n}):yh({point:i,frameId:a,statusId:o,searchId:c,gtaId:d,trackBssOnLoading:n,isOpenedFromMap:!0}))})),jh=(0,h.n5)("getEntityById",(e=>(0,h.K2)((0,R.BJ)({entityId:(0,Y.ox)(e.entityId),frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,mapAdsId:e.mapAdsId,trackBssOnLoading:e.trackBssOnLoading,isOpenedFromMap:!0}),(0,v.kE)(e.frameId,(t=>{if(!t||"pending"!==t.type)return(0,h.lQ)();const i=(0,Y.W7)(),s=(0,Y.W7)(),r=(0,Y.W7)();return yh({point:e.point,frameId:e.frameId,statusId:i,searchId:s,gtaId:r,trackBssOnLoading:e.trackBssOnLoading})})))));var wh=i(11006);const Ih=(0,h.n5)("clickMap",(({entityId:e,point:t,center:i,type:s,isCommercial:r,sysCode:n,isPersonal:a,isCityCommercial:o,isPremiumCommercial:c,entityIcon:d})=>{const l=i?{lon:i[0],lat:i[1]}:t;return(0,Ei.Hw)((t=>(0,v.RC)({hashmap:e=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},isRealty:e=>"realty"===e.appContext.activeLayer,poiCategory:e=>(0,wh.e)(e,{checkPremium:!1})},(({hashmap:i,isRealty:u,poiCategory:p})=>{const m=e=>{var i,d;return"rmbMenuItem"!==s?function(e){const{entity:t,type:i,sysCode:s,isCommercial:r,isPersonal:n,isCityCommercial:a,isPremiumCommercial:o,isModel3d:c,isContext:d,forcedEventOrdinal:l}=e;switch(i){case"poi":return(0,ph.CU)({sysCode:s,isCommercial:r,isPersonal:n,isCityCommercial:a,isPremiumCommercial:o,isContext:d,forcedEventOrdinal:l,entity:t});case"routePlatformPoint":return(0,ph.dH)({forcedEventOrdinal:l});default:return(0,ph.EQ)({entityId:null==t?void 0:t.id,isModel3d:c,forcedEventOrdinal:l})}}({entity:e,type:s,sysCode:n,isCommercial:r,isPersonal:a,isCityCommercial:o,isPremiumCommercial:c,isModel3d:null===(d=null===(i=null==e?void 0:e.ads)||void 0===i?void 0:i.options)||void 0===d?void 0:d["3d"],isContext:p?"branch"===(null==e?void 0:e.type)&&e.poi_category===p:void 0,forcedEventOrdinal:t}):(0,h.lQ)()};return u&&i&&e&&void 0!==i[e]?Qe.Pf.signals.withFrame((t=>Qe.Pf.signals.open({entity:{id:e,type:"building"},suggestId:null==t?void 0:t.suggestId}))):u?(0,Ie.P)(xh({entityId:e,point:l,entityIcon:d,isCommercial:r,trackBssOnLoading:m})):xh({entityId:e,point:l,entityIcon:d,isCommercial:r,trackBssOnLoading:m})}))))}));var Ch=i(38337),_h=i(77424),kh=i(75456);const Oh=e=>{const{type:t,lonLat:i}=e,s={type:"point",lonLat:i},r="dirTo"===t?[void 0,s]:[s,void 0];return(0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"directions")),(e=>{if(e){const s=e.points.length-1,r="dirTo"===t?s:0,n=(0,_h.n)({type:"point",lonLat:i}),a=(0,kh.b)(n,e.points,r)||e.points;return(0,Ch.J)({frameId:e.id,tab:e.tab,framePoints:a})}return(0,je.P)({points:r})}))},Sh=(0,h.n5)("contextMenuClick",(e=>{const{type:t,lonLat:i,entityId:s}=e;return Th(t,i,s)})),Th=(e,t,i)=>{switch(e){case"info":return Ih({type:"rmbMenuItem",point:t,entityId:i});case"dirTo":return Oh({type:"dirTo",lonLat:t});case"dirFrom":return Oh({type:"dirFrom",lonLat:t});case"share":return(0,h.K2)(Ih({type:"rmbMenuItem",point:t,entityId:i}),(0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"entity")),(e=>(0,Kd.T)({frameId:null==e?void 0:e.id}))))}};var Eh=i(30158);const Mh=({color:e="currentColor"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M17 3a4 4 0 1 1-3.017 6.626l-3.07 1.536a4.016 4.016 0 0 1 0 1.676l3.07 1.536a4 4 0 1 1-.895 1.789l-3.07-1.537a4 4 0 1 1 0-5.253l3.07-1.535A4 4 0 0 1 17 3zm0 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10-5a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})),Nh=({color:e="currentColor"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 21a6 6 0 0 1-5.996-5.775L7 15l-.001-2.1A5.002 5.002 0 0 1 8 3a5 5 0 0 1 1 9.9V15a4 4 0 0 0 7.995.2L17 15v-4h2v4a6 6 0 0 1-6 6zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9-2V7h2v2h-2z"})})),Lh=({color:e="currentColor"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M9 3c3.2 0 5.9 2.6 6 5.8V11.1c2.7.6 4.4 3.2 3.9 5.9-.5 2.3-2.5 4-4.9 4-2.8 0-5-2.2-5-5 0-2.4 1.7-4.4 4-4.9V9c0-2.2-1.8-4-4-4-2.1 0-3.9 1.7-4 3.8V13H3V9c0-3.3 2.7-6 6-6zm5 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-9 2v2H3v-2h2z"})}));var Ph=i(32288);function Rh(e){return{info:"whatIsHere",dirTo:"routeHere",dirFrom:"routeFromHere",share:"sendLink"}[e]}const Ah=(0,pe.r)({wrapper:{boxShadow:vo.E.popup,borderRadius:ge.Vq.default,background:he.T.white,cursor:"pointer"},list:{boxSizing:"border-box",position:"relative",boxShadow:vo.E.innerBorderBottomBase,"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:8,paddingEnd:12,listStyleType:"none",userSelect:"none",":hover":{background:he.T.gray_f2f2f2,color:he.T.blue_0072ce}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,marginEnd:8}}),Bh=(0,At.f)((e=>({uiElement:{name:"placeCardMapActionsPopup",ownerName:void 0,frameUuid:e.ownerFrameId}})),((e,t)=>({trackRMBItemClick(i,s){e((0,v.eU)((e=>s?(0,u.Tq)({state:e,entityId:s}).data:void 0),(e=>{const s={uiElement:{name:Rh(i),ownerName:"placeCardMapActionsPopup",frameUuid:t.ownerFrameId},action:"tap",payload:e?{placeItem:(0,Ph.ij)({entity:e})}:void 0};return(0,Ei.cD)(s)})))},trackRMBClick(i,s){const r={uiElement:{name:"map"===i||"model"===i?"mapObject":"POI",ownerName:"map",frameUuid:t.ownerFrameId},action:"rightClick",payload:s?{POI:{category:s.sysCode?{id:s.sysCode}:void 0,adsHighlight:s.isCommercial||!1}}:void 0};return e((0,Ei.cD)(r))}})))((e=>{const{css:t,s:i}=(0,pe.I)(Ah),r=(0,xe.c)(),n=(0,a.useRef)(null),{trackRMBItemClick:o,trackRMBClick:c,bssRef:d}=e,[l,u]=(0,a.useState)(void 0),p=(0,ot.I)(Sh);(0,Mm.A)({type:"map:contextmenu",handler:e=>{var t;"map"!==e.origin&&"poi"!==e.origin&&"model"!==e.origin||(u({lonLat:(0,Eh.w)(e),point:(t=e,{x:t.point[0],y:t.point[1]}),entityId:"poi"===e.origin?e.target.id:void 0}),c(e.origin,"poi"===e.origin?e.target:void 0))}}),(0,Mm.A)({type:"common:escapeKeyUp",handler:()=>{u(void 0)},stopIfHandled:!0,priority:ni.b.FrameElement});const m=(0,a.useMemo)((()=>{if(l)return(0,dh.K)({top:l.point.y,left:l.point.x})}),[l]),g=(0,Oi.D)((e=>{l&&l.lonLat&&(p({type:e.type,lonLat:l.lonLat,entityId:l.entityId}),o(e.type,l.entityId),u(void 0))}));(0,ih.W)(n,(()=>u(void 0)));const h=[{title:r._t("Что здесь?"),type:"info"},{title:r._t("Маршрут сюда"),type:"dirTo"},{title:r._t("Маршрут отсюда"),type:"dirFrom"},{title:r._t("Отправить ссылку"),type:"share"}],f=(0,a.useCallback)((e=>{switch(e){case"info":return(0,s.jsx)(Fu,{color:he.T.gray_262626});case"dirTo":return(0,s.jsx)(Lh,{color:he.T.gray_262626});case"dirFrom":return(0,s.jsx)(Nh,{color:he.T.gray_262626});case"share":return(0,s.jsx)(Mh,{color:he.T.gray_262626});default:return null}}),[]);return m?(0,s.jsx)(rh.w,Object.assign({targetBoundingClientRect:m,to:"bottomEnd",offset:0},{children:(0,s.jsx)("nav",Object.assign({className:t(i.wrapper),ref:n},be.dx.n("wat-context-menu"),{children:(0,s.jsx)("ul",Object.assign({className:t(i.list),ref:d},{children:h.map(((e,r)=>(0,a.createElement)("li",Object.assign({},be.dx.n("wat-context-menu-item"),be.dx.t(e.type),{key:r,className:t(i.item),onClick:()=>g(e)}),(0,s.jsx)("div",Object.assign({className:t(i.icon)},{children:f(e.type)})),e.title)))}))}))})):null}));var zh=i(39115),Fh=i(18909),Hh=i(59954);const Uh=(0,h.n5)("fetchEntityByEntranceIfNeeded",(e=>(0,v.eU)((0,Fh.v$)(e.id),(t=>t.data?(0,h.lQ)():(0,Fh.Rt)(e)))));function Dh(e){const t=(0,zh.Zs)(e);if(!t)return(0,mh.B)();const i="marker"in e?e.marker:void 0,{point:s,origin:r}=e,n="poi"===e.origin?{isCommercial:e.target.isCommercial,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial,isPremiumCommercial:e.target.isPremiumCommercial}:void 0;return(0,h.K2)(("poi"===r||"marker"===r)&&(0,h.v6)((()=>{Og.o.set((()=>({id:t,point:s,marker:i,poi:n,origin:r})))})),(0,h.Q2)((r=>{var a;const o=r.data.entity.profile[t];if("marker"===e.origin&&"tUgc"===(null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.source))return;const c=(0,G.uI)(r),d=o&&o.data&&"success"===o.meta.status;if(d&&!c)return;const l=!!c&&r.data.searchContext[`${c}_${t}`];return d&&c&&l?void 0:"poi"===e.origin?e.target.sysCode===Hh.lO?(0,h.K2)(Uh({id:t}),(0,v.eU)((0,Fh.v$)(t),(e=>Og.o.get()?(0,Y.O9)(e.meta)&&"success"===e.meta.status&&(0,Y.O9)(e.data)&&(0,Y.O9)(e.data.id)?(0,h.v6)((()=>{var t;const r=null===(t=e.data)||void 0===t?void 0:t.id;if(!r)return(0,h.lQ)();Og.o.set((()=>({id:r,poi:n,point:s,marker:i,origin:"poi"})))})):(0,mh.B)():(0,h.lQ)()))):(0,R.x7)({id:t,searchId:void 0}):"marker"===e.origin&&(null==i?void 0:i.data)?(0,R.x7)({id:t,searchId:c,hash:(0,Y.OV)(i.id)}):void 0})))}function Vh(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas"),i=!(!t.getContext("webgl",e)&&!t.getContext("experimental-webgl",e)),s=document.createElement("canvas");return`${i?"available":"unavailable"},${!(!s.getContext("webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0}))&&!s.getContext("experimental-webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0})))?"good-perf":"fail-perf"}`}}catch(e){}return"none"}var $h=i(44293),Wh=i(84876),qh=i(94014);function Zh(e){return e>=11}var Qh=i(92695);const Gh=36e5,Kh={};const Yh=e=>{const{locale:t,segmentId:i}=e;if(t&&i)return{baseLocale:t,segmentId:i}};var Xh=i(99781),Jh=i(26948);const ef={};const tf={};var sf=i(47791);const rf={};var nf=i(54621),af=i(66318);let of;setInterval((()=>{const e=+new Date-Gh;for(const t of Object.keys(Kh))Kh[t]<e&&delete Kh[t]}),Gh);const cf=(e,t)=>({mouseout:i=>{var s;const r="poi"===i.origin,n="marker"===i.origin&&"catalog"===(null===(s=i.marker.data)||void 0===s?void 0:s.source);if((0,q.l)(sf.By,t.experiments)===sf.Yc&&(r||n)){if((0,Jh.QY)())return;return Jh.e1.set((()=>{})),(0,Jh.OH)(),void(0,Jh.zF)((()=>{(0,Jh.QY)()||e((0,Xh.s)())}),200)}if("map"!==i.origin&&"model"!==i.origin){if("ppnot"===i.origin)return e((0,N.c)({type:"map:mouseout",event:i}));if("geometry"===i.origin&&i.geometry.eventData&&"routePlatformPoint"===i.geometry.eventData.type)return e((0,Wh.I)());e((0,Is.tJ)()),of&&clearTimeout(of),of=setTimeout((()=>{e((0,mh.B)()),of=void 0}),100)}},mouseover:i=>{var s;const r="poi"===i.origin,n="marker"===i.origin&&"catalog"===(null===(s=i.marker.data)||void 0===s?void 0:s.source);if((0,q.l)(sf.By,t.experiments)===sf.Yc&&(r||n))return Jh.e1.set((()=>{})),of&&clearTimeout(of),(0,Jh.OH)(),void(0,Jh.zF)((()=>{const t=(0,zh.Zs)(i);e((0,h._7)(Dh(i),t&&(0,D.Ip)({realtyHoveredId:t})))}),50);if("map"===i.origin||"model"===i.origin)return;if("ppnot"===i.origin)return e((0,N.c)({type:"map:mouseover",event:i}));if("geometry"===i.origin&&i.geometry.eventData&&"routePlatformPoint"===i.geometry.eventData.type)return e((0,qh.V)({text:i.geometry.eventData.name,point:{lon:i.geometry.position[0],lat:i.geometry.position[1]}}));const a=(0,zh.Zs)(i);a&&("marker"===i.origin&&e((0,D.Ip)({hoveredId:a})),Qh.k.stopTracker(e),of&&clearTimeout(of),of=setTimeout((()=>{e(Dh(i)),of=void 0}),50))},click:t=>{if("model"===t.origin){const{target:{id:i,isCommercial:s,sublayer:r}}=t;e((0,Ei.Hw)((e=>(0,ph.EQ)({isModel3d:!0,adsHighlight:s,sublayer:r,entityId:i,forcedEventOrdinal:e}))))}e((0,h._7)((0,N.c)({type:"map:click",event:t}),(0,D.Ip)({hoveredId:void 0,realtyHoveredId:void 0})))},contextmenu:t=>{e((0,N.c)({type:"map:contextmenu",event:t}))},dragend:t=>{e((0,N.c)({type:"map:dragend",event:t}))},moveend(t){Qh.p.stopTracker(e),e((0,Is.$b)(t)),e((0,N.c)({type:"map:moveend",event:t}))},move(t){e(function(e){return(0,h.K2)((0,mh.B)(),(0,N.c)({type:"map:move",event:e}))}(t))},performancecaveat(){e((0,Si.TE)(["Map","Performance","Slow",void 0,{nonInteraction:!0}]))},floorcomplexchange(t){var i;e((i=t.complex,(0,v.RC)({entityFrame:e=>(0,W.pS)(e.appContext.frames),floors:e=>e.appContext.floors,catalogMarkersData:G.Tr},(({entityFrame:e,floors:t,catalogMarkersData:s})=>void 0!==i?(0,mc.iw)({currentFloor:(0,zh.GF)(i,t,e,s),floorNames:i.floorNames,firmsToFloorIndexMap:i.firmsToFloorIndexMap,id:i.id}):(0,mc.s_)()))))},rulerchange(t){e((0,Me.JE)({points:t.points}))},zoomend(t){Zh(t.zoom)||e((0,Wh.I)())},adsIconForPoiShown({adsId:t,ownerOrgId:i,donorBranchId:s,view:r,position:n,segmentId:a}){Kh[s]||(!function(e){Kh[e]=+new Date}(s),e((0,v.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:H.u},(({mapBssUuid:e,dataLocale:o})=>(0,Ei.X_)({showEventKey:(0,Y.W7)(),autoEvent:!0,uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:e},payload:{buyHereIcon:{commentShown:"iconWithLabel"===r,contentOwner:{adsPosition:"buyHereOnMap",adsId:t,org:i}},placeItem:{entity:{id:s,type:"branch",segmentInfo:Yh({locale:o,segmentId:a})},geoPosition:(0,Mi.U)({lon:n[0],lat:n[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}})))))},interactionstart(){e((0,N.c)({type:"map:interactionstart",event:void 0}))},modelhide(t){const{id:i,isCommercial:s,sublayer:r}=t;(function(e){return!!rf[e]})(i)||(!function(e){rf[e]=!0}(i),e((0,ph.$S)({entityId:i,adsHighlight:s,sublayer:r})))},modelshow(t){const{id:i,isCommercial:s,sublayer:r}=t;(function(e){return!!ef[e]})(i)||(!function(e){ef[e]=!0}(i),e((0,ph.Ak)({entityId:i,adsHighlight:s,sublayer:r})))},commpoishow(t){t.commPois.forEach((({id:t,adsPriority:i})=>{(function(e){return!!tf[e]})(t)||(!function(e){tf[e]=!0}(t),e((0,h.K2)((0,_a.J)({id:t,searchId:(0,Y.W7)()}),(0,ph.Br)({id:t,adsPriority:i}))))}))},drawMarkers(i){(0,q.l)(nf.By,t.experiments)===nf.Yc&&e(af.O.N.trackShowSearchResultsMarkers(i))}});class df extends a.Component{shouldComponentUpdate(){return!1}render(){return(0,s.jsx)("div",Object.assign({className:(0,Pt.AH)(this.props.s.wrapper),style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#f6f2de"}},{children:(0,s.jsx)("div",{id:"map",style:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0}})}))}}df.displayName=(0,qt.d)("src/modules/map/components/mapWrapper");const lf=(0,Pt.Xy)({wrapper:{"& *":{userSelect:"none"}}})(df);var uf=i(58309),pf=i(823),mf=i(73546);var gf=i(76298);const hf=(e,{exchangeSearch:t})=>{const i=(0,gf.w)(e);if(!i)return(0,h.lQ)("Marker with unknown type clicked");switch(i.source){case"favorites":return ff(e);case"tUgc":return function(e,t){return(0,h.K2)((0,T.PC)(),(0,h.Q2)((e=>(0,Ei.cD)({uiElement:{name:"tUGCPOI",frameUuid:e.appContext.staticFrames.map.id},payload:{tUGC:{id:t.id,category:(0,uf.O)(t.event),mode:(0,pf.$)(e)}},action:"tap"}))),function({id:e,isOpenedFromMap:t}){return(0,A.fL)({type:"tUgc",eventId:e,id:(0,Y.W7)(),isOpenedFromMap:t})}({id:t.id,isOpenedFromMap:!0}))}(0,i);case"exchange":return function(e,t,i){return(0,h.K2)((0,mh.B)(),(0,ph.$0)(e,i),(0,R.UP)({id:t.branch.id,type:"branch",point:{lon:e.lonLat[0],lat:e.lonLat[1]},isOpenedFromMap:!0}))}(e,i,t);default:return(0,h.lQ)(`Click in marker ${JSON.stringify(i)} is unhandled`)}};function ff(e){return(0,h.K2)((0,mh.B)(),(0,ph.Xr)(),(0,mf._)({type:(t=e.type,t.match(/^(personal)(?:_|$)/)?"private":"public"),favoriteId:e.id,shouldCenterMap:!1,isOpenedFromMap:!0}));var t}const vf=(0,h.n5)("clickEntrance",(({id:e,point:t})=>{const i=(0,Y.W7)(),s=(0,Y.W7)();let r=(0,Y.W7)(),n=(0,Y.W7)();return(0,h.K2)((0,T.PC)(),(0,Is.WH)(),(0,mh.B)(),(0,ph.CU)({sysCode:Hh.lO}),(0,A.fL)({id:i,type:"pending",subtype:"entity",searchId:n,gtaId:s,statusId:r,point:t,entranceId:e}),Uh({id:e,statusId:r}),(0,v.eU)((0,Fh.v$)(e),(({data:e,meta:a})=>!(0,Y.O9)(e)||!(0,Y.O9)(e.id)||a&&"error"===a.status?(0,A.oy)(i,(e=>Object.assign(Object.assign({},e),{type:"error",code:a&&"error"===a.status?a.code:500,subtype:"entity"}))):(r=(0,Y.W7)(),n=(0,Y.W7)(),(0,R.BJ)({entityId:e.id,isOpenedFromMap:!0,frameId:i,statusId:r,searchId:n,gtaId:s,clickPoint:t})))))})),bf=(0,h.n5)("clickAdsIconForPoi",(({adsId:e,donorBranchId:t,position:i,ownerOrgId:s,view:r,segmentId:n})=>(0,h.K2)((0,v.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:H.u},(({mapBssUuid:a,dataLocale:o})=>(0,Ei.cD)({uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:a},action:"tap",payload:{buyHereIcon:{commentShown:"iconWithLabel"===r,contentOwner:{adsPosition:"buyHereOnMap",adsId:e,org:s}},placeItem:{entity:{id:t,type:"branch",segmentInfo:Yh({locale:o,segmentId:n})},geoPosition:(0,Mi.U)({lon:i[0],lat:i[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}}))),xh({entityId:t,mapAdsId:e,point:{lon:i[0],lat:i[1]}})))),yf=(0,h.n5)("clickEtaMarker",(({routeId:e})=>(0,v.eU)((e=>(0,W.bB)(e.appContext.frames,"entity")),(t=>"route"===(null==t?void 0:t.entityType)?(0,h.lQ)():(0,R.UP)({type:"route",id:e,isOpenedFromMap:!0})))));function xf(e,t){const i=(0,Eh.w)(e);if(i)switch(e.origin){case"adsIconForPoi":return bf(e.markerData);case"marker":return hf(e.marker,t);case"photo":return(e=>{const{entityId:t,photoId:i}=e;return(0,h.K2)((0,R.lQ)({id:t,searchId:void 0}),(0,ws.o6)({entityId:t},(e=>e.data?(0,Ui.z)({entityId:t,photoId:i,entityType:e.data.type,searchId:(0,Y.W7)()}):(0,h.lQ)())))})({entityId:e.markerData.objectId,photoId:e.markerData.photoId});case"poi":return e.target.sysCode===Hh.lO?vf({id:e.target.id,point:i}):Ih({entityId:e.target.id,point:i,center:e.target.center,type:"poi",entityIcon:e.poiIcon,isCommercial:e.target.isCommercial||!1,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial,isPremiumCommercial:e.target.isPremiumCommercial});case"etaMarker":return yf({routeId:e.routeId});case"map":return Ih({entityId:e.targetId,point:i,type:"map"});case"model":return e.target.sysCode===Hh.lO?vf({id:e.target.id,point:i}):Ih({entityId:e.target.id,point:i,type:"model"});case"geometry":return(0,h.K2)((0,Wh.I)(),Ih({entityId:e.geometry.eventData.id,point:i,type:e.geometry.eventData.type}));default:return}}function jf(e){return{id:e.id,type:"kilometer_road_sign"===e.type?"point":e.type,geometry:e.geometry&&e.geometry.selection}}var wf=i(73865);const If=(0,Zt.Mz)([({state:e})=>(0,W.K$)(e.appContext.frames,["entity","realtyCard"])],(e=>!(!e||!Qe.jC.isFrameRealtyCard(e)&&!(0,si.n)(e))&&e.showNearbyParkings)),Cf=(0,Zt.Mz)([({state:e})=>function(e){const t=(0,W.pS)(e.appContext.frames),i=e.appContext.frames.find(Qe.jC.isFrameRealtyCard);if(!t&&!i)return;if(t&&i)return;const s=(null==t?void 0:t.entityId)||(0,wf.X)(e);return s?(0,u.DE)({state:e,entityId:s}).data:void 0}(e),({state:e})=>e.appContext.zoom<=12,({state:e})=>(0,W.Y4)(e.appContext.frames),If],((e,t,i,s)=>{if(i&&i.entityId)return{items:[jf({id:i.entityId})]};if(!e)return;const r=s&&"links"in e&&e&&e.links&&e.links.nearest_parking||[];if(!t&&"adm_div"===e.type&&("region"===e.subtype||"district_area"===e.subtype))return;var n,a;const o=("group"in e?(n=e.group,a="geometry"in e?e.geometry:void 0,n?n.reduce(((e,t)=>{const i=jf({id:t.id,type:t.type,geometry:a});return i?e.concat(i):e}),[]):[]):[]).concat(jf(e)||[],r);return o.length?{items:o}:void 0}));var _f=i(73766);const kf=[],Of=e=>e.point?[e.point.lon,e.point.lat]:e.source_point?[e.source_point.lon,e.source_point.lat]:[],Sf=(e,t,i)=>{const s=e.map((e=>{var s;const r=e.collection_id&&(null===(s=null==i?void 0:i[e.collection_id])||void 0===s?void 0:s.color),n=(0,_f.si)(e.collection_id,r),a="public"===t?"public":function(e){return e&&_f.Tw.includes(e)?`personal_${e.slice(1)}`:"personal"}(n);return{key:e.id,id:e.id,lonLat:Of(e),type:a,data:{source:"favorites",entityId:e.object_id}}}));return{indexHashMap:e.reduce(((e,t,i)=>(t.object_id&&(e[t.object_id]=i),e)),{}),markers:s||kf}};var Tf=i(74961);const Ef=(0,Tf.cq)(),Mf=(0,Zt.Mz)([({state:e})=>{if((0,qe.G)(e.appContext.frames))return;const t=(0,G.M_)(e),i=t&&(0,ae.HX)(t);return i?(0,Tf.c_)(i)(e):Ef(e)},({state:e})=>(0,qg.b1)(e)],((e,t)=>{if(e)return Sf(e,"personal",t)}));var Nf=i(96891);const Lf=(0,Zt.Mz)([({state:e})=>Pf(e),({state:e})=>(0,c.MJ)(e),({state:e})=>(0,qe.G)(e.appContext.frames)],((e,t,i)=>{if(i)return;const s=e?(0,Nf.q)(e,t):void 0;return s?Sf(s,"public"):void 0})),Pf=(0,Zt.Mz)([G.M_,Ru.vu,e=>e.data.entity.profile],((e,t,i)=>{const s=e&&(0,ae.HX)(e),r=s?t[s]:void 0;if(r)return r.map((e=>{if(e.object_id){const t=i[e.object_id];if(t){const i=t.data;return Object.assign(Object.assign({},e),{point:Rf(i,e)})}}return e}))}));function Rf(e,t){return t.point?t.point:e&&"point"in e?e.point:void 0}const Af=3600,Bf=86400,zf=172800,Ff=604800,Hf=1209600,Uf=1e3;var Df;!function(e){e[e.mon=1]="mon",e[e.tue=2]="tue",e[e.wed=3]="wed",e[e.thu=4]="thu",e[e.fri=5]="fri",e[e.sat=6]="sat",e[e.sun=7]="sun"}(Df||(Df={}));const Vf=(e,t)=>{const{day:i,start_hour:s,finish_hour:r,start_minute:n,finish_minute:a}=t,o=new Date(e*Uf);o.setSeconds(0),o.setMilliseconds(0);const c=o.getDay(),d=Df[i],l=o.getDate()+(d-c+7)%7;o.setDate(l),o.setHours(s,n,0,0);const u=Math.floor(o.getTime()/Uf),p=23===r&&59===a;o.setHours(p?24:r,p?0:a,0,0);return[u,Math.floor(o.getTime()/Uf)]},$f=e=>e.reduce(((e,t)=>{if(!e.length)return[t];const i=e[e.length-1];return i[1]>=t[0]?[...e.slice(0,e.length-1),[i[0],t[1]]]:[...e,t]}),[]),Wf=(e,t)=>{if(!(null==t?void 0:t.length))return!0;const i=t.map((t=>Vf(e,t)));i.sort(((e,t)=>e[0]-t[0]));return $f(i).some((([t,i])=>qf(e,t,i)))},qf=(e,t,i)=>{if("number"!=typeof t)return!0;if("number"==typeof i&&t>=i)return!0;const s=i||Number.MAX_SAFE_INTEGER;if(e>=t&&e<=s)return!0;if(e>s)return!1;const r=s-t,n=t-e;return r<43200?n<=Af:r<zf?n<=21600:r<Hf?n<=Bf:n<=Ff};var Zf=i(74867);const Qf=e=>{const{event:t,userId:i,zoomStyle:s}=e;return t.user.id===i||!!((e,t)=>{switch(t){case"SHOW_ALL_MARKERS":return!0;case"SHOW_SMALL_MARKERS":return[3,4,5,6,7].includes(e.road);case"SHOW_LARGE_MARKERS":return"camera"!==e.type&&[5,6,7].includes(e.road);case"SHOW_MAIN_MARKERS":return"camera"!==e.type&&"comment"!==e.type&&[5,6,7].includes(e.road);default:return!1}})(t,s)&&("restriction"!==t.type||((e,t)=>{if(!t)return!0;const{finish_time:i,start_time:s,wdays:r}=t,n=Math.floor(e/Uf);return qf(n,s,i)&&Wf(n,r)})(Date.now(),t.data))},Gf=(e,t,i)=>{if(!Qf({userId:i,zoomStyle:t,event:e}))return[];switch(e.location.type){case"MultiPoint":return((e,t)=>{if("Point"===e.location.type)return[];if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return[];const i="camera"===e.type?(0,Zf.e)(e):e.type;return e.location.coordinates.map(((t,s)=>({key:`${e.id}_${s}`,id:`${e.id}_${s}`,lonLat:t,immersiveHeight:e.location.height,type:i,data:{type:i,id:e.id,source:"tUgc",event:e}})))})(e,t);case"Point":const i=((e,t)=>{if("Point"!==e.location.type)return;if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return;const i="camera"===e.type?(0,Zf.e)(e):e.type;return{key:e.id,id:e.id,lonLat:e.location.coordinates,immersiveHeight:e.location.height,type:i,data:{type:i,id:e.id,source:"tUgc",event:e}}})(e,t);return i?[i]:[];default:return[]}},Kf=[],Yf=(0,Zt.Mz)([({state:e})=>e.appContext.showTrafficOnMap,({state:e,tUgcMarkersState:t})=>{if((0,c.JC)(e))return t},({state:e})=>{return(t=(0,G.jq)(e))>16?"SHOW_ALL_MARKERS":t>14?"SHOW_SMALL_MARKERS":t>12?"SHOW_LARGE_MARKERS":t>10?"SHOW_MAIN_MARKERS":"NO_MARKERS";var t},({state:e})=>(0,We.LE)(e),({state:e})=>{return!!(t=(0,W.K$)(e.appContext.frames,["product","search"]))&&("search"===t.type||"product"===t.type);var t}],((e,t,i,s,r)=>r?{markers:Kf,indexHashMap:{}}:e&&t&&"NO_MARKERS"!==i?((e,t,i)=>{const s=[],r={},n=[...e];return n.sort(((e,t)=>t.rate-e.rate)),n.forEach((e=>{const n=Gf(e,t,i),a=s.length;return n.forEach(((e,t)=>{r[e.id]=a+t})),s.push(...n)})),{markers:s,indexHashMap:r}})(t,i,s):{markers:Kf,indexHashMap:{}}));var Xf=i(18047),Jf=i(40931);function ev({labelingWidth:e=6,labelingHeight:t=6,isDisabled:i=!1}){if(!i)return{width:e,height:t,offset:[-e/2,-t/2]}}var tv=i(94787),iv=i(47856);const sv=(0,Zt.Bj)((function(e,t,i,r,n,a,o,c,d,l){var u,p,m,g,h,f,v,b,y,x,j,w,I,C;const _=null===(u=o.styles[c]||o.styles.default)||void 0===u?void 0:u.icons,k="commercial-logo"===e&&Boolean(d)?"pin-commercial-logo":"commercial"===e?"pin-commercial":"pin",O=null!==(m=null===(p=null==_?void 0:_[k])||void 0===p?void 0:p.normal)&&void 0!==m?m:null===(h=null===(g=o.styles.pin.icons)||void 0===g?void 0:g[k])||void 0===h?void 0:h.normal,S=null!==(v=null===(f=(0,tv.$Y)(null==O?void 0:O.img))||void 0===f?void 0:f.cloneNode(!0))&&void 0!==v?v:(0,tv.BN)();if((null==d?void 0:d.fullUrl)&&"pin-commercial-logo"===k){null===(b=null==S?void 0:S.getElementById("icon_image"))||void 0===b||b.setAttribute("href",null==d?void 0:d.fullUrl);const e=(0,iv.S)(null==d?void 0:d.baseUrl);(null==e?void 0:e.fullUrl)&&d.width<iv.c&&(null===(y=null==S?void 0:S.getElementById("icon_image_hi_res"))||void 0===y||y.setAttribute("href",null==e?void 0:e.fullUrl))}l&&(null===(x=null==S?void 0:S.getElementById("marker_color_fill"))||void 0===x||x.setAttribute("fill",l),null===(j=null==S?void 0:S.getElementById("marker_color_fill2"))||void 0===j||j.setAttribute("fill",l),null===(w=null==S?void 0:S.getElementById("marker_color_stroke"))||void 0===w||w.setAttribute("stroke",l));const[T,E]=null!==(I=null==O?void 0:O.size)&&void 0!==I?I:[30,48],M=null!==(C=null==O?void 0:O.offset)&&void 0!==C?C:[.5,1];let N;try{N=S?(0,Jf.qV)((0,s.jsx)(n,{icon:S,width:T,height:E})):""}catch(e){N=""}return[{html:N,width:T,height:E,offset:[-T*M[0],-E*M[1]],coordinates:[i,r],isInteractive:!0,isAnimated:!0,animationDuration:300,zIndex:a,data:{type:"czar",czarType:e,id:t},labeling:ev("pin-commercial-logo"===k?{labelingWidth:T,labelingHeight:E}:{isDisabled:!0})}]}));const rv=(0,Zt.Bj)((function(e,t){const i=e.entityId,s=i?null==t?void 0:t.markers[t.indexHashMap[i]]:void 0,r=(0,Y.oE)([e.pointFromFrame,nv(s),e.pointFromEntity]);if(!r||!r.length)return;const n=(({markerType:e,withAds:t,hasCzarIcon:i,isCommercial:s})=>("commercial"===e||t||s)&&i?"commercial-logo":"commercial"===e||t?"commercial":"default")({markerType:null==s?void 0:s.type,withAds:Boolean(e.withAds),hasCzarIcon:Boolean(e.czarIcon),isCommercial:e.isCommercial}),a="catalog"===(null==s?void 0:s.data.source)&&s.data.friends?he.T.green_1ba136:e.color;return{id:i,entityId:e.entityId,buildingId:e.buildingId,lonLat:[r[0].lon,r[0].lat],type:n,czarIcon:e.czarIcon,color:a}}));function nv(e){if(!e)return;const[t,i]=e.lonLat;return{lon:t,lat:i}}const av=(0,Zt.Mz)([({state:e})=>"exchange"===e.appContext.activeLayer,({exchangeMarkersState:e})=>e],((e,t)=>{if(e&&(null==t?void 0:t.markersData))return{indexHashMap:t.markersData.hashMap,markers:t.markersData.markers}})),ov=(0,Zt.Mz)([({state:e})=>e.appContext.weak.hoveredId,av,Xf.z],((e,t,i)=>{if(!t)return Hh.t0;const s=i.entityId,r=e&&t.indexHashMap?t.indexHashMap[e]:void 0,n=s&&t.indexHashMap?t.indexHashMap[s]:void 0;return{hoveredMarkerIndices:void 0!==r?[r]:Hh.Ml,hiddenMarkerIndices:void 0!==n?[n]:Hh.Ml}})),cv=({icon:e,width:t,height:i})=>{var r,n;const{css:a,s:o}=(0,pe.I)(dv),c=null!==(n=null===(r=e.querySelector("svg"))||void 0===r?void 0:r.outerHTML)&&void 0!==n?n:"";return(0,s.jsx)("div",{className:a(o.scale),style:{width:t,height:i},dangerouslySetInnerHTML:{__html:c}})},dv=(0,pe.r)({scale:{animationName:{"0%":{transform:"scale(0)"},"23%":{transform:"scale(1.15)"},"50%":{transform:"scale(0.96)"},"100%":{transform:"scale(1)"}},animationTimingFunction:"linear",animationDuration:"0.6s",animationIterationCount:1,transformOrigin:"bottom center"}});var lv=i(37383),uv=i(18396);let pv;const mv=(0,Zt.Mz)([({state:e})=>(0,W.Su)(e.appContext.frames),({state:e})=>{const t=(0,W.Su)(e.appContext.frames);if(t)return(0,Wa.s8)({state:e,searchId:(0,lg.X)(t)||""})},({state:e})=>(0,G.Tr)(e),({state:e})=>(0,Wa.Iv)({state:e,searchId:(0,G.rL)(e)||""})],((e,t,i,s)=>!(0,uv.O)(e)||(null==t?void 0:t.meta)&&(null==t?void 0:t.data)&&"loading"!==t.meta.status?(pv&&s&&"loading"===s.meta.status||(pv=i),pv):pv)),gv=(0,Zt.Mz)([Xf.z,mv,lv.M,({state:e})=>(0,G.QS)(e)],((e,t,i,s)=>{const r=rv(e,t);return(null==r?void 0:r.id)?sv(r.type,r.entityId,r.lonLat[0],r.lonLat[1],cv,M.iF.czars,i,s,e.czarIcon,r.color):Hh.Ml})),hv=(0,Zt.Mz)([ov],(e=>({exchange:e}))),fv=(0,Zt.Mz)([Mf,Lf,Yf,av,({state:e})=>e.appContext.isDataViewerMinimized,({state:e})=>e.config.isMobileDevice],((e,t,i,s,r,n)=>{if(n&&!r)return Hh.t0;const a={};return a.favorites=t?t.markers:e?e.markers:Hh.Ml,a.tUgc=i.markers||Hh.Ml,a.exchange=(null==s?void 0:s.markers)||Hh.Ml,a}));var vv=i(19263);const bv=Math.pow(2,32);function yv(e,t,i){const s=function(e,t){const i=e*bv/360,s=Math.sin((n=t,n*Math.PI/180)),r=Math.log((1+s)/(1-s))*bv/(4*Math.PI);var n;return[i,r]}(e,t),r=wv(i),n=Math.floor((s[0]+Math.pow(2,31))/r),a=Math.floor((s[1]+Math.pow(2,31))/r),o=xv(n,a,i),c=jv(o[0],o[1]),d=xv(n+1,a+1,i);return[c,jv(d[0],d[1])]}function xv(e,t,i){const s=wv(i),r=2147483648;return[e*s-r,t*s-r]}function jv(e,t){const i=360*e/bv,s=-2*Math.PI/bv;return[i,90-2*(Math.atan(Math.exp(t*s))/Math.PI*180)]}function wv(e){return Math.pow(2,32-e)}var Iv=i(12154);const Cv="#5d86dd",_v=(0,Zt.Mz)([e=>e.session.godmode,e=>(0,G.n1)(e),Iv.u],((e,t,i)=>{var s;if(!e)return Hh.Ml;if(!(0,V.o)("mapDebugMode")||!t||200!==t.code||!i||"query"!==i.searchType)return Hh.Ml;const r=null===(s=t.search_attributes)||void 0===s?void 0:s.cluster_zoom;return r?t.items.map((e=>{const{lon:t,lat:i}=e,[s,n]=yv(t,i,r);return{type:"polyline",points:[s,[n[0],s[1]],n,[s[0],n[1]],s],clickable:!1,style:{fillOpacity:.4,strokeOpacity:1,fillColor:Cv,strokeColor:Cv,width:2,strokeWidth:0}}})):Hh.Ml})),kv=(0,Zt.Mz)([e=>e.session.godmode,G.Tr],((e,t)=>{if(!e)return Hh.Ml;return(0,V.o)("mapDebugMode")&&t?t.markers.map((e=>({type:"circleMarker",position:e.lonLat,radius:3,clickable:!1,style:{fillColor:"#ffffff",strokeColor:"#dd8a26",strokeWidth:1}}))):Hh.Ml})),Ov=(0,Zt.Mz)([_v,kv],((e,t)=>[...e,...t]));var Sv=i(38024),Tv=i(47054),Ev=i(34179);function Mv(e){if(!e)return;return[...e].reverse().reduce(((e,t)=>{const i=t.geometry;return"MultiPolygon"!==i.type||e.push(Object.assign(Object.assign({},t.properties),{coordinates:i.coordinates.map((e=>e.map((e=>function(e){let t=[0,0];return e.map((([e,i])=>{const[s,r]=t,n=[Number((s+e).toFixed(5)),Number((r+i).toFixed(5))];return t=n,n}))}(e)))))})),e}),[])}var Nv=i(33581);const Lv=[],Pv="#959faa",Rv="#ffffff",Av={fillColor:"#3389ed",fillOpacity:1,strokeOpacity:1,strokeColor:he.T.white,strokeWidth:3,width:7},Bv={fillColor:he.T.blue_028eff,fillOpacity:1,strokeOpacity:.2,strokeColor:he.T.blue_028eff,strokeWidth:17,width:7},zv=[["interpolate",["linear"],["zoom"],10,"#ff563180",12,"#ff563166",13,"#ff56314d",15,"#ff563133"],["interpolate",["linear"],["zoom"],10,"#ffd46c80",12,"#ffd46c66",13,"#ffd46c4d",15,"#ffd46c33"],["interpolate",["linear"],["zoom"],10,"#7fcd3380",12,"#7fcd3366",13,"#7fcd334d",15,"#7fcd3333"],["interpolate",["linear"],["zoom"],10,"#0c780580",12,"#0c780566",13,"#0c78054d",15,"#0c780533"]],Fv=(0,Zt.Mz)([e=>e.session.geolocation.allowed,e=>e.session.geolocation.position,e=>e.session.geolocation.accuracy],((e,t,i)=>{if(!e||!t)return Lv;const s=[];return i&&s.push({type:"circleMarker",radius:Bv.width||0,position:[t.lon,t.lat],clickable:!1,style:Bv}),s.push({type:"circleMarker",radius:Av.width||0,position:[t.lon,t.lat],clickable:!0,style:Av}),s}));const Hv=(0,Zt.Mz)([function(e){const t=(0,W.pS)(e.appContext.frames);if(!t)return;const i=t.routeId||t.entityId;return(0,u.DE)({state:e,entityId:i}).data},e=>Zh(e.appContext.zoom),function(e){const t=(0,W.pS)(e.appContext.frames);return t?t.activeDirectionId:void 0},e=>Ml.j._.get(e)&&e.appContext.zoom>=M.o0],((e,t,i,s)=>{let r=[];if(!e)return Lv;const n=(e=>"route"===e.type?e:!(0,Sv.g)(e)||void 0===e.routes||"metro"!==e.subtype&&"mcc"!==e.route_type&&"mcd"!==e.route_type?void 0:e.routes[0])(e);if(!n)return Lv;const a="route"===e.type?n.route_logo:(0,Sv.g)(e)&&"metro"===e.subtype?e.route_logo:void 0,o=!!(0,Tv.C)(a),c=n.directions;if(!c||!c.length)return Lv;const d=i||c[0].id,l=n.color||"#5d86dd";let u=[];return c.forEach((e=>{const i=e.id===d,n=function(e,t,i,s,r){var n;if(!e.geometry.selection)return;const a=(0,vv.sX)(e.geometry.selection);if(!a)return;const o=[],c=s?Rv:i||Pv,d=a.map((e=>[e.lon,e.lat])),l=[];r&&(null===(n=e.geometry.immersion)||void 0===n||n.forEach((e=>{var t;const i=null===(t=(0,vv.sX)(e.selection))||void 0===t?void 0:t.map((e=>[e.lon,e.lat]));i&&l.push({zlevel_first:e.zlevel_first,zlevel_last:e.zlevel_last,immersive_height_first:e.immersive_height_first,immersive_height_last:e.immersive_height_last,points:i})})));return o.push({type:"polyline",points:d,clickable:!0,immersion:l,eventData:{id:e.id},style:{fillColor:c,strokeColor:s?i:Rv,strokeOpacity:1,width:6,strokeWidth:2}}),e.platforms.forEach(((r,n)=>{var a,d;if(!(i&&t||0===n||n===e.platforms.length-1))return;if(!r.geometry.centroid)return;const l=(0,vv.iL)(r.geometry.centroid);l&&o.push({type:"circleMarker",clickable:!0,radius:0===n||n===e.platforms.length-1?s?8:7:s?6:5,position:[l.lon,l.lat],immersiveHeight:null===(d=null===(a=r.geometry)||void 0===a?void 0:a.immersion)||void 0===d?void 0:d.immersive_height,style:{fillColor:Rv,strokeColor:s?i:c,strokeOpacity:1,strokeWidth:2},eventData:{type:"routePlatformPoint",id:r.id,name:r.name}})})),o}(e,t,i?l:void 0,o,s);n&&(i?u=n:r=[...r,...n])})),[...r,...u]}));const Uv=(0,Zt.Mz)([Ev.H,c.n$,Nv.C],((e,t,i)=>{var s;if(!t||"realtyWalkDistance"!==i)return Lv;const r=Mv(null===(s=e[t.id])||void 0===s?void 0:s.data);return r?r.reduce(((e,t,i)=>(t.coordinates.forEach((t=>{e.push({type:"polygon",points:t,style:{fillColor:zv[i],strokeWidth:0},clickable:!1})})),e)),[]):Lv}));const Dv=(0,Zt.Mz)([Hv,Fv,Ov,Uv],((e,t,i,s)=>{const r=[...e,...t,...i,...s];return r.length?r:Lv}));var Vv=i(88266),$v=i(45302),Wv=i(65668),qv=i(53769);const Zv=(e,t)=>"pedestrian"!==e?function(e){switch(e){case"fast":case"normal":case"slow":case"slow-jams":case"no-traffic":case"free":case"fluid":return e;default:return"ignore"}}(null==t?void 0:t.color):"zlevel-negative"===(null==t?void 0:t.zlevel)?"pedestrian-underground":"pedestrian";var Qv=i(34533),Gv=i(38695);var Kv=i(77664),Yv=i(40301);const Xv=e=>{const{position:t,isCyrillicLang:i,isStartPoint:s,isFinishPoint:n}=e;if(s){return{size:[22,22],offset:[11,11],img:`${(0,r.c)()}directions/pointA.svg`}}if(n){return{size:[22,22],offset:[11,11],img:i?`${(0,r.c)()}directions/pointB.svg`:`${(0,r.c)()}directions/pointBLatin.svg`}}const a={size:[22,22],offset:[11,11],img:`${(0,r.c)()}directions/pointIntermediate.svg`},o=["pointIntermediate","pointIntermediateOne","pointIntermediateTwo","pointIntermediateThree","pointIntermediateFour","pointIntermediateFive","pointIntermediateSix","pointIntermediateSeven","pointIntermediateEight","pointIntermediateNine","pointIntermediateTen"];return Object.assign(Object.assign({},a),{img:`${(0,r.c)()}directions/${t>0&&t<=10?o[t]:o[0]}.svg`})};var Jv=i(78926),eb=i(45396);const tb={ppna:void 0,ppnot:void 0},ib=(0,Zt.Mz)([e=>{const{state:t}=e,i=(0,we.yj)(t);return i?i.tab:M.ye},e=>{const{state:t}=e,i=(0,we.yj)(t);return i?i.points:void 0},e=>{const{state:t}=e,i=(0,we.yj)(t);return i?i.activeDirectionId:void 0},e=>{const{state:t}=e,i=(0,we.yj)(t);return i?(0,$v.l4)({state:t,searchId:(0,lg.X)(i)||""}):void 0},e=>{const{isCyrillicLang:t}=e;return!!t}],((e,t,i,s,r)=>{const n=t&&function(e,t,i){const s=(0,Kv.J)(e,t);if(!s.length)return;return s.map(((e,t)=>!(0,Wv.p)(e)&&(0,Y.O9)(e.lonLat)?{position:[e.lonLat.lon,e.lonLat.lat],icon:Xv({position:t,isCyrillicLang:i,isFinishPoint:t===s.length-1,isStartPoint:0===t})}:void 0))}(t,e,r);if(!n||n.every((e=>!(0,Y.O9)(e))))return tb;if(!s||!s.data||"success"!==s.meta.status){const t={points:n,routes:[]},i="loading"===(null==s?void 0:s.meta.status)||void 0;return"bus"===e?{ppnot:t,isRoutesLoading:i}:{ppna:t,isRoutesLoading:i}}const{data:a}=s;switch(a.type){case"ppna":case"ppng":case"pedestrian":return{ppna:Object.assign({points:n},rb(a.type,a.items,i))};case"ppnot":return{ppnot:Object.assign({points:n},nb(a.items,i))}}})),sb=(0,Zt.Mz)([e=>{const{state:t}=e;return t.appContext.weak.hoveredDirection},ib,e=>{var t;return null===(t=(0,Jv.nN)(e.state))||void 0===t?void 0:t.directionId}],((e,t,i)=>t.ppnot?Object.assign(Object.assign({},t),{ppnot:Object.assign(Object.assign(Object.assign({},t.ppnot),e),{routes:i?t.ppnot.routes.filter((e=>e.id===i)):t.ppnot.routes})}):t));function rb(e,t,i){const s=[],r=(0,Qv.r)(i,t);return t.forEach((t=>{const i={id:t.id,sections:[]};t.begin_pedestrian_path&&i.sections.push(Object.assign({type:"pedestrian",geometry:t.begin_pedestrian_path.geometry.selection},t.begin_pedestrian_path.geometry.immersive_line?{immersive_line:t.begin_pedestrian_path.geometry.immersive_line}:{})),(t.maneuvers||[]).forEach((t=>{const s=t.outcoming_path&&t.outcoming_path.geometry;s&&s.forEach((t=>{i.sections.push(Object.assign({type:Zv(e,t),geometry:t.selection},t.immersive_line?{immersive_line:t.immersive_line}:{}))}))})),t.end_pedestrian_path&&i.sections.push(Object.assign({type:"pedestrian",geometry:t.end_pedestrian_path.geometry.selection},t.end_pedestrian_path.geometry.immersive_line?{immersive_line:t.end_pedestrian_path.geometry.immersive_line}:{})),s.push(i)})),{routes:s,activeRouteId:r}}function nb(e,t){const i=[],s=(0,Qv.r)(t,e);return e.forEach((e=>{const t={id:e.id,movements:[]};e.movements.forEach((e=>{var i,s,r,n;const a=e.alternatives?e.alternatives[0].geometry:[],o=function(e){if("mcc"===e||"mcd"===e)return"metro";return e}(e.waypoint.subtype),c=function(e){return!!e&&!!(0,Tv.C)(e.waypoint.route_logo)}(e);let d;for(let l=0;l<a.length;l++){const u=ab(a[l],o);let p=null!==(i=a[l].immersive_height_last)&&void 0!==i?i:0,m=null!==(s=a[l].immersive_height_first)&&void 0!==s?s:0;const g=(0,eb.s)(a[l].selection);for(;l<a.length-1&&ob({first:a[l],second:a[l+1],waypointType:o});)(0,eb.s)(a[l+1].selection).slice(1).forEach((e=>{g.push(e)})),void 0===d&&(d=l),p=null!==(r=a[l+1].immersive_height_last)&&void 0!==r?r:0,m=null!==(n=a[d].immersive_height_first)&&void 0!==n?n:0,l++;const h=`LINESTRING(${g.map((([e,t])=>`${e} ${t}`)).join(",")})`,f=(0,qv.V)(e,c,u),v="metro"===o;t.movements.push(Object.assign({id:e.id,type:u?"pedestrian-underground":e.type,waypointType:o,geometry:[Object.assign(Object.assign({},a[l]),{immersive_height_first:v?0:m,immersive_height_last:v?0:p,selection:h})],waypointColor:(0,Gv.t)(e),lineColor:f,hoveredLineColor:c?f:(0,Yv.F)(f,.5)},c&&e.waypoint.color?{borderColor:e.waypoint.color,hoveredBorderColor:(0,Yv.F)(e.waypoint.color,.7)}:void 0))}})),i.push(t)})),{routes:i,activeRouteId:s}}function ab(e,t){return("pedestrian"===t||"start"===t||"finish"===t)&&((e.z_first||0)<0||(e.z_last||0)<0)}const ob=({first:e,second:t,waypointType:i})=>{if(!e||!t)return!1;const s="pedestrian"===i||"start"===i||"finish"===i,r=ab(t,i)===ab(e,i);if(s)return r;return cb(e.z_first,e.z_last)===cb(t.z_first,t.z_last)};function cb(e,t){const i=null!=e?e:0,s=null!=t?t:0;return i<0||s<0?Math.min(i,s):Math.max(i,s)}var db=i(83878);const lb=(0,Zt.Mz)([e=>e.appContext.showTrafficOnMap],(e=>e?{}:void 0));var ub=i(84759),pb=i(40133);var mb=i(96536);const gb="personalizedPoi",hb="withPersonalized",fb=((0,q.n)({name:gb,percentRange:[0,.1],groups:[hb,"controlGroup"]}),(0,Zt.Mz)([({state:e})=>e.config,({state:e})=>!!lb(e),({state:e})=>{const{ppnot:t,ppna:i,isRoutesLoading:s}=sb({state:e,isCyrillicLang:e.config.isCyrillicLang});return!(!(null==t?void 0:t.routes.length)&&!(null==i?void 0:i.routes.length))||s},({state:e})=>e.appContext.activeLayer,({state:e})=>(e=>{var t,i,s;const r=(0,W.pS)(e.appContext.frames,e.appContext.graveyard);if(r){const n=(0,pb.o)(e,r);return!!(null===(s=null===(i=null===(t=null==n?void 0:n.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.poi)||void 0===s?void 0:s.is_premium)||"branch"===(null==n?void 0:n.type)&&!!n.poi_category}return void 0!==(0,W.bB)(e.appContext.frames,"search")})(e),({state:e})=>(0,wh.e)(e),({state:e})=>e.appContext.relief,({state:e})=>(e=>{var t,i,s,r;const n=(0,W.bB)(e.appContext.frames,"entity"),a=(0,W.bB)(e.appContext.frames,"search");if(n){const o=(0,pb.o)(e,n),c=!!(null===(s=null===(i=null===(t=null==o?void 0:o.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.poi)||void 0===s?void 0:s.is_premium);if(a){const{profile:t}=(0,mb.Y)(e,a);return 1===(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.searchType)&&c}return c}return!1})(e),ub.t,({state:e})=>(0,Pl.E)(e)&&Ml.j._.get(e),({state:e})=>e.data.profile.data.poiPersonalizedPriorities],((e,t,i,s,r,n,a,o,c,d,l)=>{const u=(null==c?void 0:c.includes("//"))?{iconsPath:`${c}images/`,fontsPath:`${c}fonts/`,modelsPath:`${c}models/`}:void 0,p=(0,q.l)(gb,e.experiments)===hb,m=null==l?void 0:l.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:!0})),{});return{id:c,styleOptions:u,globalAttributes:Object.assign(Object.assign(Object.assign(Object.assign({searchOn:r,trafficOn:t||i||!1,parkingOn:"parkings"===s,terrainEnabled:a,globeEnabled:e.featureGlobe},e.featureMapBenchmark?{}:{graphicsPreset:e.isMobileDevice?"normal":"immersive"}),{premiumSelected:o,immersiveRoadsOn:d}),p?{highPriorityIds:m}:{}),n?{poiCategory:n}:{})}}))),vb=(0,Zt.Bj)((e=>e.rasterTileServerUrl?{url:(t,i,s)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${i}&z=${s}&ts=realty_resident_rent`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0)),bb=(0,Zt.Bj)((e=>e.rasterTileServerUrl?{url:(t,i,s)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${i}&z=${s}&ts=realty_resident_sale`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0));const yb={fast:"#22aa01",normal:"#ffc402",slow:"#f72000","slow-jams":"#81020d","no-traffic":"#0f6ec1",ignore:"#0f6ec1",pedestrian:"#626262","pedestrian-underground":"#626262",inactive:"#b4bcd2",border:"#ffffff",border2:(0,Yv.F)(he.T.gray_141414,1),hovered:"#000000",free:"#00991C",fluid:"#FE5000"},xb=({base:e,pedestrian:t,inactive:i})=>({normal:e,fast:e,ignore:e,"no-traffic":e,slow:e,"slow-jams":e,free:e,fluid:e,pedestrian:t,"pedestrian-underground":t,inactive:i}),jb=(e,t)=>({color:t[e],hiddenPartColor:t[e]+Math.trunc(102).toString(16).padStart(2,"0"),hoveredColor:t.hovered,borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),wb=(0,Zt.Mz)([({config:e})=>e],(({baseDomain:e})=>{const t=e.split(".");return((e,t="ru")=>({regionDomain:t,lineStylesByZoom:{14:xb({base:{width:5.73,borderWidth:3,border2Width:.5},pedestrian:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5}}),20:xb({base:{width:10.5,borderWidth:5.5,border2Width:.8},pedestrian:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5}})},lineStyles:{normal:jb("normal",e),fast:jb("fast",e),ignore:jb("ignore",e),"no-traffic":jb("no-traffic",e),slow:jb("slow",e),"slow-jams":jb("slow-jams",e),pedestrian:jb("pedestrian",e),"pedestrian-underground":jb("pedestrian-underground",e),inactive:jb("inactive",e),free:jb("free",e),fluid:jb("fluid",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}}}))(yb,t[t.length-1])}));var Ib=i(35079);const Cb=(0,Ib.F)(Ib.l),_b=(0,Zt.Mz)([({config:e})=>e],(()=>Cb));function kb(e,t,i,s){return t+i/s*e}const Ob=(0,Zt.Mz)([e=>e.appContext.showSnow],(e=>"off"===e.status?{enabled:!1,dispersion:0,particleNumber:0,velocityX:0,velocityY:0,velocityZ:0,size:0,color:[]}:Object.assign({enabled:"on"===e.status},function(e){const t=[0,0,200,5e3,6],i=[600,0,800,5e4,8],s=[1200,-1e3,1300,1e5,8];let r=s;return e<=0?r=t:e<50?r=i.map(((i,s)=>kb(e,t[s],i-t[s],50))):e<100&&(r=s.map(((t,s)=>kb(e-50,i[s],t-i[s],50)))),{velocityX:r[0],velocityY:r[1],velocityZ:r[2],particleNumber:r[3],size:r[4],dispersion:200,color:[255,255,255,.8]}}(e.intensity))));var Sb=i(3398);const Tb=(0,Sb.createModel)("etaByViewport",(({services:e},t)=>({fetch(){return(0,Pe.sH)(this,void 0,void 0,(function*(){return(yield e.etaApi.getData(t)).data}))}})),(({fetch:e},t,{config:i})=>{e();const s=setInterval((()=>{e()}),i.etaRefreshTime);return({clearData:e})=>{clearInterval(s),e()}})),Eb=(0,Sb.createModel)("etaByDirections",(({services:e},t)=>({fetch(){return(0,Pe.sH)(this,void 0,void 0,(function*(){return(yield e.etaApi.getCurrentDirectionsData(t)).data}))}})),(({fetch:e},t,{config:i})=>{e();const s=setInterval((()=>{e()}),i.etaRefreshTime);return({clearData:e})=>{clearInterval(s),e()}}));var Mb=i(64631),Nb=i(54752);const Lb=(0,db.Mz)([e=>(0,W.bB)(e.appContext.frames,"entity"),e=>{const t=(0,W.bB)(e.appContext.frames,"entity"),i=(null==t?void 0:t.entityId)?(0,u.DE)({state:e,entityId:t.entityId}).data:void 0;return"route"===(null==i?void 0:i.type)?i:void 0}],((e,t)=>{if(!(null==e?void 0:e.id)||!(null==t?void 0:t.directions)||0===t.directions.length)return;const i=t.directions.map((({id:e})=>({id:e,type:"route",subtype:t.subtype})))||Hh.Ml;return{frame:{id:e.id,type:e.type},entity:{id:t.id,type:t.type,subtype:t.subtype},directions:i}}));var Pb=i(76127);const Rb=(0,db.Mz)([e=>(0,W.bB)(e.appContext.frames,"directions")],(e=>{if(e&&(0,we.Iz)(e))return(0,lg.X)(e)})),Ab=(0,db.Mz)([e=>{var t,i;return null===(i=null===(t=(0,$v.l4)({state:e,searchId:Rb(e)||""}))||void 0===t?void 0:t.data)||void 0===i?void 0:i.items},e=>(0,W.bB)(e.appContext.frames,"directions")],((e,t)=>!t||"directions"!==t.type&&"bus"!==t.tab?Hh.Ml:e||Hh.Ml));const Bb=(0,db.Mz)([e=>{const t=(0,W.bB)(e.appContext.frames,"directions");if(t&&"bus"===t.tab)return t},Ab],((e,t)=>{var i;const s=(null==e?void 0:e.activeDirectionId)||(null===(i=t[0])||void 0===i?void 0:i.id),r=function(e){var t;if(!(null===(t=null==e?void 0:e.movements)||void 0===t?void 0:t.length))return Hh.Ml;const i=e.movements.reduce(((e,t)=>{var i;if(t){const s=t.routes_groups?t.routes_groups[0]:void 0;null===(i=null==s?void 0:s.routes)||void 0===i||i.map((t=>{var i;(null===(i=null==t?void 0:t.direction_ids)||void 0===i?void 0:i.length)&&e.push(...t.direction_ids.map((e=>({id:e,type:"route",subtype:t.subtype}))))}))}return e}),[]),s=(0,Pb.h)(i,(({id:e,type:t,subtype:i})=>`${t}:${e}:${i}`));return s.length?s:Hh.Ml}(t.find((e=>e.id===s)));if((null==e?void 0:e.id)&&0!==r.length)return{frame:{id:e.id,type:e.type},entity:{id:s,type:"routeResult"},directions:r}})),zb=(0,db.Mz)([e=>(0,W.bB)(e.appContext.frames,"entity"),e=>{const t=(0,W.bB)(e.appContext.frames,"entity"),i=(null==t?void 0:t.entityId)?(0,u.DE)({state:e,entityId:t.entityId}).data:void 0;if(t&&i&&(0,Sv.g)(i)&&("stop"===(null==i?void 0:i.subtype)||"tram"===i.subtype))return i}],((e,t)=>{if(!(null==e?void 0:e.id)||!(null==t?void 0:t.routes)||0===t.routes.length)return;const i=t.routes.reduce(((e,t)=>{var i,s;return e.concat(null!==(s=null===(i=t.direction_ids)||void 0===i?void 0:i.map((e=>({id:null==e?void 0:e.toString(),type:"route",subtype:t.subtype}))))&&void 0!==s?s:Hh.Ml)}),[]);return{frame:{id:e.id,type:e.type},entity:{id:t.id,type:t.type,subtype:t.subtype},directions:i}})),Fb=(0,db.Mz)([Lb,Bb,zb],((e,t,i)=>{var s;return null!==(s=null!=e?e:t)&&void 0!==s?s:i}));const Hb={arrowIcon:(0,Jf.qV)((0,s.jsx)((function({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34"},{children:(0,s.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,s.jsx)("g",Object.assign({fill:e,fillRule:"nonzero",stroke:"#FFF",strokeWidth:"1.5",transform:"translate(-388 -169)"},{children:(0,s.jsx)("g",Object.assign({transform:"matrix(1 0 0 -1 389 202)"},{children:(0,s.jsx)("path",{d:"M13 0c7.18 0 13 5.82 13 13a13 13 0 01-7.053 11.563L13 31.5l-5.946-6.937A13 13 0 010 13C0 5.82 5.82 0 13 0z"})}))}))}))}))}),{})),transport:{bus:{icon:(0,Jf.qV)((0,s.jsx)((function({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,s.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,s.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,s.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,s.jsx)("path",{fill:"#FFF",d:"M13 5.638c3.259 0 5.703.873 5.703.873v3.118h1.14v3.243l-1.14.815v5.864H17.56c-.45 0-.814-.691-.814-1.14H9.253c0 .449-.365 1.14-.814 1.14H7.297v-5.864l-1.14-.815V9.629h1.14V6.511S9.741 5.638 13 5.638zm3.136 9.351a.856.856 0 100 1.711.856.856 0 000-1.71zm-6.272 0a.856.856 0 100 1.711.856.856 0 000-1.71zm7.127-6.5H9.01v4.562c0 .44.357.798.798.798h6.386c.44 0 .798-.358.798-.798V8.489z"})]}))}))}))}),{})),color:"#1A73F0"},tram:{icon:(0,Jf.qV)((0,s.jsx)((function({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,s.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,s.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,s.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,s.jsx)("path",{fill:"#FFF",d:"M9.562 19.521l-.83 1.662H7.07l.83-1.662h1.662zm8.309 0l.83 1.662H17.04l-.831-1.662h1.662zM9.457 4.031a20.176 20.176 0 016.37-.078l.492.078-.011.064h.01l-.53 3.035c1.274.19 2.224.455 2.656.588l.257.084V17.86l-5.815 1.661L7.07 17.86V7.802l.258-.084a18.412 18.412 0 012.66-.588l-.53-3.034.01-.001-.01-.064zm6.752 11.336a.831.831 0 100 1.662.831.831 0 000-1.662zm-6.647 0a.831.831 0 100 1.662.831.831 0 000-1.662zm7.478-5.816H8.73v3.324c0 .426.321.777.734.825l.097.006h6.647c.426 0 .777-.321.825-.734l.006-.097V9.55zm-4.154-4.568c-.652 0-1.304.034-1.958.102l.39 1.892a19.312 19.312 0 013.14 0l.39-1.892a18.836 18.836 0 00-1.962-.102z"})]}))}))}))}),{})),color:"#EB5A2B"},shuttle_bus:{icon:(0,Jf.qV)((0,s.jsx)((function({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,s.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,s.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,s.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,s.jsx)("path",{fill:"#FFF",d:"M15.566 5.158l.603 1.89c1.158.237 1.962.504 1.962.504l.502 3.421h1.21v1.71l-.856.856v5.987h-1.71a.855.855 0 01-.856-.855H9.579a.855.855 0 01-.855.855h-1.71v-5.987l-.856-.855v-1.71h1.218l.492-3.422s.804-.267 1.963-.503l.603-1.891h5.132zm.855 10.092a.855.855 0 100 1.71.855.855 0 000-1.71zm-6.842 0a.855.855 0 100 1.71.855.855 0 000-1.71zm3.42-6.842c-1.338 0-2.706.27-3.596.49l-.546 3.786h8.299L16.6 8.899c-.89-.22-2.26-.491-3.601-.491zm1.712-1.96h-.684v.685h.684V6.45zm-2.737 0h-.684v.685h.684V6.45zm1.368 0h-.684v.685h.684V6.45zm.685-.683h-.685v.684h.685v-.684zm-1.369 0h-.684v.684h.684v-.684z"})]}))}))}))}),{})),color:"#BF17A9"},trolleybus:{icon:(0,Jf.qV)((0,s.jsx)((function({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,s.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,s.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,s.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,s.jsx)("path",{fill:"#FFF",d:"M12.247 3.446v2.585a19.556 19.556 0 011.917.01l.649-2.595h.855v2.732c2.061.264 3.421.75 3.421.75v3.36h.856v2.566l-.856.855v5.987h-.855a.856.856 0 01-.855-.855H8.826a.856.856 0 01-.855.855h-.855v-5.987l-.856-.855v-2.566h.855v-3.36s1.44-.514 3.599-.772l.678-2.71h.855zM9.681 15.42a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm6.842 0a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm.856-5.987H8.826v3.42c0 .473.383.856.855.856h6.842a.856.856 0 00.856-.855V9.433z"})]}))}))}))}),{})),color:"#C48900"},river_transport:{icon:(0,Jf.qV)((0,s.jsx)((e=>{var{color:t="currentColor"}=e,i=(0,Pe.Tt)(e,["color"]);return(0,s.jsxs)("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_171_294)"},{children:[(0,s.jsx)("path",{opacity:"0.95",d:"M12.9999 25.3499C19.8206 25.3499 25.3499 19.8206 25.3499 12.9999C25.3499 6.17919 19.8206 0.649902 12.9999 0.649902C6.17919 0.649902 0.649902 6.17919 0.649902 12.9999C0.649902 19.8206 6.17919 25.3499 12.9999 25.3499Z",fill:t}),(0,s.jsx)("path",{d:"M11.0586 6H14.9399V6.92855H11.0586V6Z",fill:"white"}),(0,s.jsx)("path",{d:"M16.3393 10.901L13.1665 9.74345C13.0583 9.70407 12.939 9.70407 12.8308 9.74345L9.65797 10.901V8.60957C9.65797 8.19388 10.0044 7.8569 10.4317 7.8569H15.5656C15.9929 7.8569 16.3393 8.19388 16.3393 8.60957V10.901Z",fill:"white"}),(0,s.jsx)("path",{d:"M8.70013 19.6253C8.61449 19.6846 8.53353 19.7407 8.44973 19.79L6 13.5L9.34917 12.2782L12.5228 11.1202H13.4772L20 13.5L17.5475 19.7957C17.4587 19.7436 17.3724 19.6842 17.281 19.6207C16.8225 19.2648 16.2532 19.071 15.6667 19.0715C15.0799 19.0717 14.5109 19.2659 14.0528 19.6224C13.7569 19.8661 13.3817 20 12.9937 20C12.606 20 12.2308 19.8661 11.9351 19.6222C11.4768 19.2659 10.9077 19.0717 10.321 19.0715C9.73444 19.0713 9.16494 19.265 8.70645 19.6209L8.70013 19.6253Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_171_294"},{children:(0,s.jsx)("rect",{width:"26",height:"26",fill:"white"})}))})]}))}),{})),color:"#12A5B2"}}};function Ub(){var e;const t=(0,de.wA)(),{featureImmersiveEta:i,etaStyle:s}=(0,fe.U)(),r=(0,de.d4)(G.Pz),n=(0,de.d4)((e=>e.appContext.zoom)),o=(0,de.d4)((e=>"eta"===e.appContext.activeLayer)),c=function(){const e=(0,de.d4)(Fb);return(0,a.useMemo)((()=>{var t;return null!==(t=null==e?void 0:e.directions.map((e=>e.id)))&&void 0!==t?t:Hh.Ml}),[null==e?void 0:e.directions])}(),d=c.join(),l=(0,Mb.z)({delay:1e4}),u=(0,de.d4)((e=>Ml.j._.get(e)&&e.appContext.zoom>=M.o0));let p,m="none";l&&(c.length?(p=Eb({directions:c,needImmersion:u}),m="frame"):o&&(p=Tb({viewport:r,zoom:n,needImmersion:u}),m="map")),(0,a.useEffect)((()=>{o&&t(Ml.j._.set(!0))}),[t,o]);const g=(0,Nb.fn)(p),h=(0,a.useMemo)((()=>(e=>({frameId:t},i)=>{if("none"===e)return;if("map"===e)return{uiElement:{name:"vehiclesOnMap",frameUuid:t,ownerName:"ctxLayer"}};const s=Fb(i);return s?{uiElement:{name:"vehiclesOnMap",frameUuid:s.frame.id,ownerName:"entity"===s.frame.type?"directoryObjectCardScreen":"routeCtxScreen"},payload:{vehiclesOnMap:{routes:s.directions.map((e=>({entity:e,enableETA:!1}))),owner:{entity:s.entity}}}}:void 0})(m)),[m,d]),{sendShowEvent:f}=(0,le.E)(h,{forceSendShowIfParamsChanged:[m,d]});(0,a.useEffect)((()=>{var e;g.data&&g.data.devices.length>0&&(null===(e=f.current)||void 0===e||e.call(f))}),[m,c,f,null===(e=g.data)||void 0===e?void 0:e.devices.length,g.data]);const v=(0,a.useMemo)((()=>Object.assign(Object.assign({},Hb),{transport:Object.fromEntries(Object.entries(Hb.transport).map((([e,t])=>[e,Object.assign(Object.assign({modelSrc:i?`https://disk.2gis.com/online-demo/eta/${e}.glb`:void 0},t),s[e])])))})),[]);return(0,a.useMemo)((()=>g.data?{devices:g.data.devices,styles:v}:void 0),[g,v])}const Db=["metro"],Vb=(0,Zt.Mz)([({state:e})=>$b(e)],(e=>e?{activeGroup:"metro",allowedFloorIds:[]}:void 0)),$b=e=>{var t;const i=null===(t=(0,c.n$)(e))||void 0===t?void 0:t.code;return e.config.featureMetrostationScheme&&!!i&&e.config.metroSchemeProjects.includes(i)&&("metro"===e.appContext.activeLayer||(e=>{const t=(0,W.bB)(e.appContext.frames,"direction"),i=Ab(e),s=t&&"directionId"in t?i.find((e=>e.id===t.directionId)):void 0;return(s?[s]:i).some((e=>{var t;return null===(t=e.waypoints)||void 0===t?void 0:t.some((e=>Db.includes(e.subtype)))}))})(e))},Wb=["ru","en","az","uz","ar","kk","hy","ka"],qb=(0,Zt.Bj)((e=>[e])),Zb=(0,Zt.Mz)([({state:e})=>e.config.isMobileDevice?0:(0,Po.b)(e),({rtl:e})=>e],((e,t)=>({[t?"right":"left"]:e}))),Qb=(0,Zt.Mz)([({state:e})=>e.appContext.center.lon,({state:e})=>e.appContext.center.lat],((e,t)=>[e,t])),Gb=(0,db.j8)({viewport:Zb,center:Qb,zoom:({state:e})=>e.appContext.zoom,pitch:({state:e})=>e.appContext.pitch,rotation:({state:e})=>e.appContext.rotation,minZoom:({state:e})=>(0,ic.m)({project:(0,c.n$)(e),is3d:e.session.is3dEnabled}).min,maxZoom:({state:e})=>(0,ic.m)({project:(0,c.n$)(e),is3d:e.session.is3dEnabled}).max,lang:({state:e})=>{const t=e.appContext.lang;return Wb.includes(t)?t:"en"},projectList:({state:e})=>{const t=(0,c.n$)(e);return qb(t)},htmlMarkers:gv,markers:fv,markersState:hv,markersSettings:lv.M,floors:Vv.Q,floorGroups:Vb,select:Cf,personalPoi:({state:e})=>(0,G.Fq)(e),geometry:({state:e})=>Dv(e),entrances:({state:e})=>function(e){const t=e.appContext.frames.find((e=>"entity"===e.type)),i=e.appContext.frames.find(Qe.jC.isFrameRealtyCard);if(!t||!i){if(t&&"entity"===t.type&&t.isShowEntrance)return(0,Yt.xf)({state:e,entityId:t.entityId,entranceId:t.entranceId,searchId:t.searchId});if(i&&i.isShowEntrance){const t=(0,wf.X)(e);if(!t)return;return(0,Yt.xf)({state:e,entityId:t,entranceId:i.entranceId})}}}(e),traffic:({state:e})=>lb(e),ppna:({state:e,isCyrillicLang:t})=>{var i;return null===(i=sb({state:e,isCyrillicLang:t}))||void 0===i?void 0:i.ppna},ppnaSettings:({state:e,config:t})=>wb({state:e,config:t}),ppnot:({state:e,isCyrillicLang:t})=>{var i;return null===(i=sb({state:e,isCyrillicLang:t}))||void 0===i?void 0:i.ppnot},ppnotSettings:({state:e,config:t})=>_b({state:e,config:t}),ruler:({state:e})=>e.appContext.ruler.isActive?e.appContext.ruler:void 0,style:({state:e})=>fb({state:e}),photos:({state:e})=>"photos"===e.appContext.activeLayer,rasterTileSource:function({state:e,config:t}){switch(e.appContext.activeSublayer){case"realtyPriceRent":return vb(t);case"realtyPriceSale":return bb(t);default:return}},snow:({state:e})=>Ob(e)});var Kb=i(79911),Yb=i(90380),Xb=i(93818),Jb=i(98787),ey=i(84917);const ty={0:"fast",1:"normal",2:"slow",3:"ignore",4:"no-traffic",5:"slow-jams",6:"free",7:"fluid"},iy=(0,h.n5)("updateSharingRouteCache",(({edges:e})=>(0,v.eU)((e=>e.appContext.friendsOnMap.sharedRoute),(t=>t?fa({route_id:t.routeId,route_request_id:t.routeRequestId},(t=>{if(t){const i=t.routes[0].sections.map((t=>{const i=e.find((e=>String(e.edge_id)===t.edge_id));return i?Object.assign(Object.assign({},t),{type:ty[i.color]}):t}));return Object.assign(Object.assign({},t),{routes:[Object.assign(Object.assign({},t.routes[0]),{sections:i})]})}return t})):(0,h.lQ)())))),sy=()=>{const e=(0,de.wA)(),t=(0,a.useRef)(null),i=(0,de.d4)((e=>e.appContext.friendsOnMap.sharedRoute));va({route_request_id:(null==i?void 0:i.trafficUpdateRequestId)||""},{enabled:!!(null==i?void 0:i.trafficUpdateRequestId),onSuccess:t=>e(iy(t))});const{data:s}=ha({route_id:(null==i?void 0:i.routeId)||"",route_request_id:(null==i?void 0:i.routeRequestId)||""},{enabled:!!i,onSuccess:s=>{if(i&&i.routeRequestId!==t.current){const r=(e=>((null==e?void 0:e.sections)||[]).reduce(((e,t)=>{const i=(0,vv.sX)(t.geometry);return i&&e.push(...i),e}),[]))(null==s?void 0:s.routes[0]);e((0,ey.E)(r)),t.current=i.routeRequestId}}});return(0,a.useMemo)((()=>i&&s?{ppna:s}:{}),[s,i])},ry=3e5,ny=(0,a.memo)((e=>{const{mapHandlers:t,bssRef:i,trackWebGlSupport:r,trackVideoadapter:n,subscribeOnMapClick:o,removeListener:c}=e,d=(0,fe.U)(),{isCyrillicLang:u,rtl:p,currencies:m,is12h:g}=d,h=(0,a.useContext)(Kb.R),f=(0,Yb.F)(),v=(0,Jb.M)({staleTime:6e5,cacheTime:18e5,refetchInterval:ry,refetchOnWindowFocus:!0}),b=(0,a.useMemo)((()=>e=>"undefined"!=typeof window?Gb({state:e,i18n:h,isCyrillicLang:u,rtl:p,currencies:m,is12h:g,config:d,exchangeMarkersState:f,tUgcMarkersState:v}):{}),[f,v]),y=(0,de.d4)(b),x=(0,de.d4)((e=>e.session.is3dEnabled)),j=(0,a.useMemo)((()=>(e=>({mapsapi:{tileServer:e.mapsapiTileServer+"&ts="+e.mapsapiTileset,retinaTileServer:e.mapsapiTileServer+"&ts="+e.mapsapiRetinaTileset,arabicTileServer:e.mapsapiArabicTileServer,arabicRetinaTileServer:e.mapsapiArabicRetinaTileServer,poiMetaServer:e.mapsapiPoiMetaServer,retinaPoiMetaServer:e.mapsapiRetinaPoiMetaServer,arabicPoiMetaServer:e.mapsapiArabicPoiMetaServer,arabicRetinaPoiMetaServer:e.mapsapiArabicRetinaPoiMetaServer,previewTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiTileset,previewRetinaTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiRetinaTileset,protocol:e.mapsapiTileProtocol},mapgl:Object.assign({zmkTileServer:e.jakartaZmkTileServer,photoTileServer:e.photoTileServer,tileServer:""!==e.jakartaTileServer?e.jakartaTileServer:void 0,tileProtocol:""!==e.jakartaTileProtocol?e.jakartaTileProtocol:void 0,tileSet:""!==e.jakartaTileSet?e.jakartaTileSet:void 0,modelsTilesUrl:""!==e.jakartaModelsTilesUrl?e.jakartaModelsTilesUrl:void 0,modelsTileSet:""!==e.jakartaModelsTileSet?e.jakartaModelsTileSet:void 0,commercialTileSet:""!==e.jakartaCommercialTileSet?e.jakartaCommercialTileSet:void 0,key:""!==e.jakartaVectorTilesKey?e.jakartaVectorTilesKey:void 0,hasLimitedFunctionality:e.featureReadOnly,useRtlTextPlugin:e.mapUseRtlTextPlugin,bssUrl:""!==e.bssV3Url?e.bssV3Url:void 0,disableBssStatisticsForCommPoi:!0,maxZmksInViewport:3,minZoomToShowZmk:15.5,minZoomToShowZmkTitle:18.25,webglVersion:2,cityCommPoiLabelingConfig:{0:{topBottom:500,leftRight:500},11:{topBottom:250,leftRight:250},12:{topBottom:170,leftRight:170}},loopWorld:e.featureLoopWorld,trafficMinZoom:9,bssHostAppParams:{product:Number(e.clientId),userId:e.userId,sessionId:e.sessionId},modelShowHideEventsSublayers:e.modelShowHideEventsSublayers},e.featureMapBenchmark?{graphicsPreset:"auto"}:{}),godmode:e.godmode}))(d)),[]),[w,I]=(0,a.useState)(x?"3d":"2d");(0,a.useEffect)((()=>{(0,l.vU)(y,t,j,w).catch((()=>{I("2d")}))}),[w]);const C=Ub(),_=sy();(0,a.useEffect)((()=>{(0,l.cA)(Object.assign(Object.assign(Object.assign({},y),{eta:C}),_),w)}),[y,w,C,_]);const k=(0,Xb.H)(),O=(0,a.useMemo)((()=>({exchangeSearch:k.data})),[k]);return(0,a.useEffect)((()=>{r(),n()}),[]),(0,a.useEffect)((()=>{const e=(0,Y.W7)();return o(e,(e=>xf(e,O))),()=>{c(e)}}),[O]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",Object.assign({ref:i,dir:"ltr"},{children:(0,s.jsx)(lf,{})}))})}));ny.displayName="MapContainer";const ay=(0,In.N)()((0,de.Ng)(void 0,((e,t)=>({mapHandlers:cf(e,t.config),trackWebGlSupport(){e((0,Si.TE)(["Map","WebGL",Vh(),void 0,{nonInteraction:!0}]))},trackVideoadapter(){e((0,Si.TE)(["Map","Videoadapter",(0,$h.Z)(),void 0,{nonInteraction:!0}]))},subscribeOnMapClick(t,i){e((0,N.q2)({id:t,type:"map:click",handler:i,stopIfHandled:!0,priority:ni.b.Map}))},removeListener(t){e((0,N.f)({id:t}))}})))((0,At.f)(ph.K7)(ny)));var oy=i(3741);const cy=()=>{const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>t(!0)),[]),e?(0,s.jsx)("div",{className:"is_app_healthy",style:{display:"none"}}):null},dy=()=>(0,s.jsx)(zt.w,{loader:Ft.b.gdprCookieBanner,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N});var ly=i(2829),uy=i(63213),py=i(83104),my=i(27431),gy=i(86676),hy=i(74690),fy=(i(26485),i(21282)),vy=i(44724),by=i(86366),yy=i(66688),xy=i(1346),jy=i(47128),wy=i(12055);const Iy=(0,a.memo)((()=>{const{s:e,css:t}=(0,pe.I)(Cy),{featureReadOnly:i,feature2gisAwardPromoAnnouncement:r,feature2gisAwardPromoMain:n,featureOtelloDashboardIcon:a,featurePromoRrf:o}=(0,fe.U)(),{bssRef:d}=(0,le.E)((0,fy.a)()),l=(0,de.d4)(c.MJ),u=(0,de.d4)((e=>{var t;return null===(t=(0,c.Hv)(e))||void 0===t?void 0:t.data})),p=o&&(0,jy.a)(u,wy.c),m=a&&(0,by.a)(l),g=(0,ot.I)(my.G),f=(0,ot.I)(hy.u),v=[];m&&v.push((0,s.jsx)(yy.P,{isMobile:!0},"otello")),v.push((0,s.jsx)(py.D,{onClick:g},"rubricator")),i||v.push((0,s.jsx)(gy.J,{onClick:f},"favorites")),function(){const e=(0,de.wA)();(0,Mm.A)({handler:()=>{e((0,h.Q2)((e=>!e.appContext.isDataViewerMinimized&&(0,Me.X_)({isMinimized:!0}))))},type:"map:interactionstart"})}();const b=r||n;return(0,s.jsxs)("div",Object.assign({ref:d,className:t(e.root)},be.dx.n("wat-frame"),be.dx.t("dashboard"),{children:[(0,s.jsx)("div",Object.assign({className:t(e.dashboard)},{children:(0,s.jsx)(uy.l,{ownerName:"dashboardFrame",where:"Dashboard",moreButtons:v})})),b&&(0,s.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,s.jsx)(vy.M,{})})),p&&(0,s.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,s.jsx)(xy.Q,{})})),!1]}))}));const Cy=(0,pe.r)({root:{background:he.T.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},promo:{padding:"8px 16px",boxShadow:`inset 0 1px 0  ${he.T.gray_e6e6e6}`},dashboard:{padding:16}});var _y=i(42744),ky=i(91414),Oy=i(38851);const Sy=(0,a.memo)((({frame:e})=>{switch(e.type){case"realty":return(0,s.jsx)(Pa.Wm,{});case"realtyCard":return(0,s.jsx)(Ct.bS,{});case"entity":case"pending":return(0,s.jsx)(bn,{});case"product":return(0,s.jsx)(ky.n,{});case"search":return(0,s.jsx)(_y.k,{});case"guide":case"collection":return(0,s.jsx)(Oy.K,{});case"userPublicProfile":return(0,s.jsx)(Ty,{withLabel:!0});case"dashboard":return null;default:return(0,s.jsx)(Ty,{})}}));Sy.displayName="MapNavFooter";const Ty=(0,a.memo)((({withLabel:e})=>{const t=[(0,Yr.n)({isLabelShown:e})];return(0,s.jsx)(Gr.L,Object.assign({appearance:"transparent"},{children:t.map(((e,t)=>e&&(0,s.jsx)(Gr.j,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))})),Ey=(0,a.memo)((({position:e,showTopControls:t})=>{const{css:i,s:r}=(0,pe.I)(My),{featureNewYear:n,feature2gisAwardsMapControl:a}=(0,fe.U)(),o=(0,de.d4)(c.n$),d=a;return(0,s.jsxs)("div",Object.assign({className:i(r.root)},{children:["top"===e&&(0,s.jsxs)("div",Object.assign({className:i(r.controlsContainer)},{children:[(0,s.jsxs)("div",Object.assign({className:i(r.controls)},{children:[(0,s.jsx)("div",Object.assign({className:i(r._autoPointerEvents,r._marginEnd)},{children:(0,s.jsx)(sl.In,{})})),n&&(0,s.jsx)("div",Object.assign({className:i(r._autoPointerEvents)},{children:(0,s.jsx)(Yo,{})})),(0,s.jsx)("div",Object.assign({className:i(r._autoPointerEvents,r._hideIfEmpty)},{children:(0,s.jsx)(cl,{projectId:null==o?void 0:o.id,isMobile:!0})})),(0,s.jsx)("div",Object.assign({className:i(r._autoPointerEvents)},{children:d&&(0,s.jsx)(kl,{})})),(0,s.jsx)(pi.P,{children:(0,s.jsx)("div",Object.assign({className:i(r._marginStartAuto,r._autoPointerEvents)},{children:(0,s.jsx)(jd,{})}))})]})),(0,s.jsx)("div",Object.assign({className:i(r.controls)},{children:(0,s.jsx)("div",Object.assign({className:i(r._marginStartAuto,r._autoPointerEvents,r._controlPaddingTop)},{children:(0,s.jsx)(Bd,{})}))})),(0,s.jsx)("div",Object.assign({className:i(r.floorsControl,r._autoPointerEvents)},{children:(0,s.jsx)(Nc,{})}))]})),"bottom"===e&&(0,s.jsx)("div",Object.assign({className:i(r.controlsContainer)},{children:(0,s.jsxs)("div",Object.assign({className:i(r.controls,r._relative)},{children:[!t&&(0,s.jsx)("div",Object.assign({className:i(r._autoPointerEvents)},{children:(0,s.jsx)(sl.In,{})})),(0,s.jsx)(pi.P,{children:(0,s.jsxs)("div",Object.assign({className:i(r._autoPointerEvents,r._marginStartAuto)},{children:[(0,s.jsx)("div",Object.assign({className:i(r._absoluteCentered)},{children:(0,s.jsx)(oy.l,{})})),(0,s.jsx)(Zc,{})]}))})]}))}))]}))}));Ey.displayName="MobileMapControls";const My=(0,pe.r)({root:{width:"100%",pointerEvents:"none"},controlsContainer:{padding:12},controls:{display:"flex"},_controlPaddingTop:{paddingTop:8},_marginStartAuto:{marginStart:"auto"},_marginEnd:{marginEnd:8},_autoPointerEvents:{pointerEvents:"auto"},_hideIfEmpty:{":empty":{display:"none"}},_relative:{position:"relative"},_absoluteCentered:{position:"absolute",left:"50%",transform:"translateX(-50%)"},floorsControl:{position:"fixed",top:"50%",left:12,transform:"translate(0, -50%)"}}),Ny=e=>({frameId:t})=>({uiElement:{name:"closePromo",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}}),Ly=e=>({frameId:t})=>({uiElement:{name:"toStore",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}});var Py=i(7098);function Ry(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"49",height:"9",viewBox:"0 0 49 9"},{children:(0,s.jsx)("path",{fill:"#FF9500",d:"M4.5 0l1.188 3H9L6.644 5.261 7.5 8.5l-3-1.695-3 1.695.923-3.173L0 3h3.271L4.5 0zm10 0l1.188 3H19l-2.356 2.261L17.5 8.5l-3-1.695-3 1.695.923-3.173L10 3h3.271L14.5 0zm10 0l1.188 3H29l-2.356 2.261L27.5 8.5l-3-1.695-3 1.695.923-3.173L20 3h3.271L24.5 0zm10 0l1.188 3H39l-2.356 2.261L37.5 8.5l-3-1.695-3 1.695.923-3.173L30 3h3.271L34.5 0zM49 3h-3.312L44.5 0l-1.229 3H40l2.423 2.327L41.5 8.5l3-1.695 3 1.695-.856-3.239L49 3zm-4.5 3.025V1.5l.792 2H47.5l-1.571 1.501.571 2.156-2-1.132z"})}))}var Ay=i(61979),By=i(98626);const zy=(0,Ye.V)("closeMobileAppBanner",(0,Xe.T)("appContext",((e,{isClosed:t})=>Object.assign(Object.assign({},e),{isMobileAppBannerClosed:t})))),Fy=(0,a.memo)((()=>{const{s:e,css:t}=(0,pe.I)(Hy),i=(0,xe.c)(),{brandName:r}=(0,fe.U)(),n=(0,de.d4)((e=>e.session.platform)),o=(0,Ne.zP)({platform:n,type:"mobilePromo"}),c=(0,de.d4)((e=>e.appContext.isMobileAppBannerClosed)),d=(0,ot.I)(zy),{bssRef:l,useBssHandler:u}=(0,le.E)((({frameId:e},t)=>(0,Bt.f_)({state:t,name:"appPromoFrame",uuid:e}))),p=(0,le.E)((m="mobilePromo",({frameId:e})=>({uiElement:{name:"appPromo",ownerName:"appPromoFrame",frameUuid:e},payload:{appPromoInfo:{type:m}}})));var m;const g=u(Ny,{type:"mobilePromo"}),h=u(Ly,{type:"mobilePromo"}),f=(0,a.useCallback)((()=>{h()}),[h]),v=(0,a.useCallback)((()=>{g(),d({isClosed:!0})}),[g,d]);if(c||!o)return null;const b=i._t("%1 лучше в&nbsp;приложении",[r]),y=(0,Py.M)(n);return(0,s.jsxs)("div",Object.assign({className:t(e.root),ref:l},be.dx.n("wat-top-promo"),{children:[(0,s.jsxs)("a",Object.assign({suppressHydrationWarning:!0,className:t(e.link),target:"_blank",href:o,onClick:f,ref:p.bssRef},{children:[(0,s.jsx)("div",Object.assign({className:t(e.logo)},{children:(0,s.jsx)(Ay.z,{})})),(0,s.jsxs)("div",Object.assign({className:t(e.info)},{children:[(0,s.jsx)("div",Object.assign({className:t(e.title)},{children:b})),(0,s.jsxs)("span",Object.assign({className:t(e.stat)},{children:[(0,s.jsx)(Ry,{}),(0,s.jsx)("span",Object.assign({className:t(e.additionalInfo)},{children:y.reviews}))]})),(0,s.jsx)("div",Object.assign({className:t(e.download)},be.dx.n("wat-top-downland"),{children:i._t("Загрузить приложение")}))]}))]})),(0,s.jsxs)("div",Object.assign({className:t(e.closeAndAds)},{children:[(0,s.jsx)("div",Object.assign({className:t(e.close),onClick:v},be.dx.n("wat-top-close"),{children:(0,s.jsx)(Io.b,{})})),(0,s.jsx)("div",{children:(0,s.jsx)(By.Q,{small:!0,gray:!0,source:"banner",erid:["2Ranyn95sQ4"],legalName:'ООО "ДубльГИС"',rating:0})})]}))]}))}));Fy.displayName="MobileAppPromoSmartBanner";const Hy=(0,pe.r)({root:{position:"relative",display:"flex",background:"white",width:"100%",padding:"12px 20px",boxSizing:"border-box",flexShrink:0,zIndex:2,"@media (max-width: 320px)":{padding:"12px 16px"}},closeAndAds:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end"},close:{display:"flex",justifyContent:"center",alignItems:"flex-start",color:"#bbbbbb",flex:1},logo:{width:64,height:64,"& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:64,padding:"0 12px",color:he.T.black},title:Object.assign(Object.assign({},ye.regular),{lineHeight:"16px","@media (max-width: 320px)":Object.assign(Object.assign({},ye.small),{lineHeight:"18px"})}),stat:{display:"flex",alignItems:"center",padding:"4px 0px"},additionalInfo:Object.assign(Object.assign({},ye.small),{lineHeight:ye.small.fontSize,paddingStart:4,color:he.T.gray_929292}),download:Object.assign(Object.assign({},ye.regular),{textDecoration:"none",color:he.T.blue_0672ad,display:"flex",justifyContent:"space-between","@media (max-width: 320px)":Object.assign({},ye.small)})}),Uy=(0,bo.S)(),Dy=(0,a.memo)((()=>{const{s:e,css:t}=(0,pe.I)(Vy),i=(0,de.d4)((e=>e.appContext.frames[0]||{id:e.appContext.staticFrames.dashboard.id,type:"dashboard"})),r=(0,de.d4)((e=>Uy({state:e,frameId:i.id}))),n=(0,de.d4)((e=>!!e.appContext.isDataViewerMinimized)),a=(0,de.d4)((e=>e.appContext.staticFrames.map.id)),o=(0,fe.U)(),c=(0,Ro.F)(i,r,o),d=c||"sharingGeo"===i.type;return(0,s.jsxs)("div",Object.assign({className:t(e.root)},{children:[(0,s.jsx)("div",Object.assign({className:t(e.mobilePromoWrapper)},{children:(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:i.id}},{children:(0,s.jsx)(Fy,{})}))})),(0,s.jsxs)("div",Object.assign({className:t(e.base)},{children:[(c||d)&&(0,s.jsxs)("div",Object.assign({className:t(e.topContentWrapper)},{children:[c&&(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:i.id}},{children:(0,s.jsx)("div",Object.assign({className:t(e.searchBarWrapper)},{children:(0,s.jsx)(fo,{frame:i,frameContext:r})}))})),d&&(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:a}},{children:(0,s.jsx)("div",Object.assign({className:t(c&&e.controlsBelowSearchBar)},{children:(0,s.jsx)(Ey,{position:"top"})}))}))]})),(0,s.jsxs)("div",Object.assign({className:t(e.bottomContentWrapper,n&&e._minimized)},{children:[(0,s.jsxs)("div",Object.assign({className:t(e.aboveBottomContent)},{children:[(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:a}},{children:(0,s.jsx)(Ey,{position:"bottom",showTopControls:d})})),n&&(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:i.id}},{children:(0,s.jsxs)("div",Object.assign({className:t(e.footer)},be.dx.n("wat-footer-map"),{children:[(0,s.jsx)(Sy,{frame:i}),(0,s.jsx)(jt,{})]}))}))]})),"dashboard"===i.type&&(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:i.id}},{children:(0,s.jsxs)("div",Object.assign({className:t(e.dashboardWrapper)},{children:[(0,s.jsx)(Iy,{}),(0,s.jsx)(jt,{})]}))})),"sharingGeo"===i.type&&(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:i.id}},{children:(0,s.jsx)("div",Object.assign({className:t(e.dashboardWrapper)},{children:(0,s.jsx)(Sa,{frame:i})}))}))]})),"dashboard"!==i.type&&"sharingGeo"!==i.type&&(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:i.id}},{children:(0,s.jsx)("div",Object.assign({className:t(e.frameWrapper,n&&e._minimized)},{children:(0,s.jsx)(za,{frame:i,frameContext:r})}))}))]}))]}))})),Vy=(0,pe.r)({root:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",pointerEvents:"none"},base:{flexGrow:1,flexShrik:1,display:"flex",position:"relative",zIndex:ly.f.base,pointerEvents:"none"},mobilePromoWrapper:{flexGrow:0,flexShrink:0,pointerEvents:"auto"},topContentWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},searchBarWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:ly.f.top},controlsBelowSearchBar:{marginTop:56},footer:{pointerEvents:"auto"},frameWrapper:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:ly.f.base,pointerEvents:"auto"},_minimized:{transform:"translate3d(0, 100%, 0)"},bottomContentWrapper:{position:"absolute",bottom:0,width:"100%",transform:"translate3d(0, 0, 0)",transition:"transform .3s"},aboveBottomContent:{position:"absolute",width:"100%",bottom:"100%"},dashboardWrapper:{pointerEvents:"auto"}});var $y=i(97423),Wy=i(37163);const qy=a.memo((()=>{const{css:e,s:t}=(0,pe.I)(Zy),i=(0,xe.c)(),r=(0,de.wA)(),n=(0,de.d4)((e=>e.appContext.activeSublayer)),a={realtyPriceSale:[i._gg("Дешевле"),i._gg("Дороже")],realtyPriceRent:[i._gg("Дешевле"),i._gg("Дороже")],realtyWalkDistance:[i._gg("< 5 мин"),i._gg("5-10"),i._gg("10-20"),i._gg("20-30")]},o=(0,Oi.D)((()=>{r((0,Wy.Hq)())}));return"realtyPriceSale"!==n&&"realtyPriceRent"!==n&&"realtyWalkDistance"!==n?null:(0,s.jsx)(s.Fragment,{children:n&&(0,s.jsxs)("div",Object.assign({className:e(t.temperatureBlock)},{children:[(0,s.jsx)("div",Object.assign({className:e(t.scaleWrapper)},{children:(0,s.jsx)($y.B,{segments:"realtyWalkDistance"===n?M.Ac:M.pA,labels:a[n],labelFontSize:13,labelsMarginTop:4,labelsJustifyContent:"realtyWalkDistance"===n?"space-around":void 0})})),(0,s.jsx)("div",Object.assign({onClick:o},{children:(0,s.jsx)(Io.b,{color:he.T.gray_cccccc})}))]}))})}));qy.displayName="TemperatureScaleControl";const Zy=(0,pe.r)({temperatureBlock:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:0,marginStart:8,marginEnd:8,paddingTop:8,paddingBottom:4,paddingStart:8,paddingEnd:8,backgroundColor:he.T.white,borderRadius:8,boxShadow:"0 3px 10px rgba(38, 38, 38, 0.15)"},scaleWrapper:{width:"100%",paddingEnd:8}});var Qy=i(62372),Gy=i(9539);const{use:Ky}=(0,ma.VZ)("infoStory",(e=>({services:t})=>(0,Pe.sH)(void 0,void 0,void 0,(function*(){return yield t.infoStoriesApi.getItem(e)}))),{cacheTime:1/0,staleTime:1/0}),Yy=(0,Gy.A)(Date.now(),"xxx");var Xy=i(61120);function Jy(){return!Xy.S$&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}var ex=i(14880);const tx=(0,a.memo)((({children:e})=>{const{css:t,s:i}=(0,pe.I)(ix);return(0,s.jsx)("div",Object.assign({className:t(i.progress)},{children:e}))})),ix=(0,pe.r)({progress:{height:2,background:"rgba(255, 255, 255, .3)",borderRadius:4,flexGrow:1}}),sx=(0,a.memo)((({activeState:e,slideIntervalCompletePercent:t})=>{const{css:i,s:r}=(0,pe.I)(rx),n=(0,a.useMemo)((()=>{switch(e){case"current":return{transform:`scaleX(${t/100})`};case"finished":return{width:"100%"};default:return{width:0}}}),[e,t]);return(0,s.jsx)(tx,{children:(0,s.jsx)("div",{style:n,className:i(r.progress)})})})),rx=(0,pe.r)({progress:{background:he.T.white,height:"100%",maxWidth:"100%",borderRadius:4,transformOrigin:"center left",backfaceVisibility:"hidden",perspective:1e3}}),nx=(0,a.memo)((({slideIntervalCompletePercent:e,slides:t,activeSlideIndex:i})=>{const{css:r,s:n}=(0,pe.I)(ax);return(0,s.jsx)("div",Object.assign({className:r(n.progressArr)},be.dx.n("wat-slide-progress-bar"),{children:(0,s.jsx)("div",Object.assign({className:r(n.wrapper)},{children:t.map((({id:t},r)=>{const n=r===i?"current":r<i?"finished":"inactive";return(0,s.jsx)(sx,{slideIntervalCompletePercent:e,activeState:n},`progress_slide_${t}`)}))}))}))})),ax=(0,pe.r)({progressArr:{zIndex:2,width:"100%"},wrapper:{gap:4,display:"flex",flexGrow:"stretch",width:"100%"}});function ox({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 4C24.4183 4 28 7.58172 28 12V20C28 24.4183 24.4183 28 20 28H12C7.58172 28 4 24.4183 4 20V12C4 7.58172 7.58172 4 12 4H20ZM20 6H12C8.7616 6 6.12243 8.56557 6.00414 11.7751L6 12V20C6 23.2384 8.56557 25.8776 11.7751 25.9959L12 26H20C23.2384 26 25.8776 23.4344 25.9959 20.2249L26 20V12C26 8.7616 23.4344 6.12243 20.2249 6.00414L20 6ZM14 12V20H18V12H20V20H18H14H12V12H14Z",fill:e})}))}function cx({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 12C28 7.58172 24.4183 4 20 4H12C7.58172 4 4 7.58172 4 12V20C4 24.4183 7.58172 28 12 28H20C24.4183 28 28 24.4183 28 20V12ZM12 6H20L20.2249 6.00414C23.4344 6.12243 26 8.7616 26 12V20L25.9959 20.2249C25.8776 23.4344 23.2384 26 20 26H12L11.7751 25.9959C8.56557 25.8776 6 23.2384 6 20V12L6.00414 11.7751C6.12243 8.56557 8.7616 6 12 6ZM14.2399 20.8058C13.7663 21.073 13.2061 21.0642 12.7416 20.7814C12.2776 20.4992 12 19.999 12 19.4444V12.5556C12 12.001 12.2776 11.5008 12.7416 11.2186C13.2061 10.9358 13.7663 10.927 14.2394 11.1942L20.65 14.64C21.1397 14.917 21.5 15.4252 21.5 16C21.5 16.5753 21.1402 17.083 20.65 17.36L14.2399 20.8058ZM14 13.3564L19 16L14 18.6438V13.3564Z",fill:e})}))}const dx=(0,a.memo)((({pause:e,onToggle:t})=>{const{css:i,s:r}=(0,pe.I)(lx);return(0,s.jsx)("button",Object.assign({"data-n":"wat-story-pause-toggle",className:i(r.button),onClick:e=>{e.stopPropagation(),t()}},{children:e?(0,s.jsx)(cx,{}):(0,s.jsx)(ox,{})}))})),lx=(0,pe.r)({button:{background:"transparent",border:"none",color:he.T.white,width:32,height:32,zIndex:3}});var ux=i(75704);const px=(0,a.memo)((({slideWidth:e,offset:t,nextSlide:i,prevSlide:r,size:n})=>{const{s:a,css:o,dir:c}=(0,pe.I)(mx);if(void 0===e)return null;const d=e=>{if("left"===e)"ltr"===c?r():i();else"ltr"===c?i():r()},l=e+2*t;return(0,s.jsxs)("div",Object.assign({className:o(a.root)},{children:[(0,s.jsx)("div",Object.assign({onClick:()=>d("left")},be.dx.n("wat-carusel-arrow-left"),{style:Object.assign({marginInlineEnd:`0 ${l}px`},n?{width:`${n}px`,height:`${n}px`}:{}),className:o(a.arrow)},{children:(0,s.jsx)(Co.i,{direction:"start",icon:ux.B,size:18})})),(0,s.jsx)("div",Object.assign({onClick:()=>d("right")},be.dx.n("wat-carusel-arrow-right"),{style:Object.assign({marginInlineStart:`${l}px`},n?{width:`${n}px`,height:`${n}px`}:{}),className:o(a.arrow)},{children:(0,s.jsx)(Co.i,{direction:"end",icon:ux.B,size:18})}))]}))}));px.displayName="CaruselArrows";const mx=(0,pe.r)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:.7,pointerEvents:"none",transition:`${Yi.S.short}ms ${Yi.l.base}`,"*:hover>&":{opacity:1}},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,Xi.m)(he.T.black,0),color:he.T.white,pointerEvents:"auto",userSelect:"none",transition:`${Yi.S.short}ms ${Yi.l.base}`,cursor:"pointer",border:"1px solid",borderColor:(0,Xi.m)(he.T.white,.7),":hover":{background:(0,Xi.m)(he.T.black,.6),borderColor:he.T.white}}});var gx=i(54405);const hx=(0,a.memo)((({storySlide:e,onComplaint:t,erid:i,legalName:r,onAdsClick:n,showComplaintButton:a=!0})=>{var o,c;const{s:d,css:l}=(0,pe.I)(fx),{isMobileDevice:u}=(0,fe.U)(),p=u&&(i||r||(null===(o=e.footnote)||void 0===o?void 0:o.warning)),m=(0,Oi.D)((e=>{e.preventDefault(),t()}));return(0,s.jsx)("div",Object.assign({className:l(d.footer)},be.dx.n("wat-stories-footer"),{children:(0,s.jsxs)("div",Object.assign({className:l(d.end)},{children:[(0,s.jsx)("div",Object.assign({className:l(d.ads)},{children:(0,s.jsx)("div",Object.assign({className:l(d.adsInfoLink),onTouchStart:p?n:void 0},{children:(0,s.jsx)(By.Q,{small:!0,erid:i,legalName:r,gray:!0,source:"banner",description:null===(c=e.footnote)||void 0===c?void 0:c.warning})}))})),a&&(0,s.jsx)("div",Object.assign({className:l(d.trash)},be.dx.n("wat-stories-footer-complaint"),{onClick:m},{children:(0,s.jsx)(gx.N,{color:he.T.gray_929292})}))]}))}))})),fx=(0,pe.r)((({mobile:e})=>({footer:{position:e?"relative":"absolute",bottom:0,left:e?0:"unset",right:0,paddingTop:e?6:16,paddingEnd:e?16:24,paddingBottom:e?6:16,paddingStart:16,display:"flex",justifyContent:"flex-end",flexDirection:e?"column":"row",alignItems:"center"},end:{display:"flex",justifyContent:e?"space-between":"flex-end",alignItems:"center",width:"100%",gap:12,paddingBottom:12,paddingTop:12},ads:{display:"flex",color:he.T.gray_929292,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},adsInfoLink:{display:"inline-block",cursor:"pointer"},trash:{cursor:"pointer",display:"flex"}})));function vx({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 11.7637V20.775H10.1716L15.5858 26.1892C16.1578 26.7612 17.018 26.9323 17.7654 26.6228C18.0155 26.5192 18.2365 26.3685 18.4199 26.1836L17 24.7637V24.775L11 18.775H6V13.7637L4 11.7637ZM8.66816 10.775L5.92894 8.0358L4.51472 9.45001L5.83973 10.775L7.83973 12.775L17 21.9353L19 23.9353L21.8995 26.8348L23.3137 25.4206L22.0833 24.1901L21 23.1069L19 21.1069L17 19.1069L10.6682 12.775L8.66816 10.775ZM12.2483 11.5267L10.8341 10.1125L15.5858 5.36081C16.1578 4.78881 17.018 4.6177 17.7654 4.92726C18.5127 5.23682 19 5.9661 19 6.77502V18.2784L17 16.2784V6.77502L12.2483 11.5267ZM22.5331 21.8116L23.9801 23.2586C24.7535 22.7525 25.4435 22.1203 26.05 21.362C27.35 19.7373 28 17.8667 28 15.75C28 13.6333 27.35 11.7623 26.05 10.137C24.75 8.51233 23.0667 7.46667 21 7V9.05C22.5 9.48333 23.7083 10.3167 24.625 11.55C25.5417 12.7833 26 14.1833 26 15.75C26 17.3167 25.5417 18.7167 24.625 19.95C24.0446 20.7309 23.3473 21.3514 22.5331 21.8116ZM21 11.725V19.775C21.7833 19.4083 22.396 18.8623 22.838 18.137C23.2793 17.4123 23.5 16.625 23.5 15.775C23.5 14.9083 23.2793 14.1083 22.838 13.375C22.396 12.6417 21.7833 12.0917 21 11.725Z",fill:e})}))}function bx({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 10.775V20.775H10.1716L15.5858 26.1892C16.1578 26.7612 17.018 26.9323 17.7654 26.6228C18.5127 26.3132 19 25.5839 19 24.775V6.77502C19 5.9661 18.5127 5.23682 17.7654 4.92726C17.018 4.6177 16.1578 4.78881 15.5858 5.36081L10.1716 10.775H4ZM17 24.775L11 18.775H6V12.775H11L17 6.77502V24.775ZM21 22.45V24.5C23.0667 24.0333 24.75 22.9873 26.05 21.362C27.35 19.7373 28 17.8667 28 15.75C28 13.6333 27.35 11.7623 26.05 10.137C24.75 8.51233 23.0667 7.46667 21 7V9.05C22.5 9.48333 23.7083 10.3167 24.625 11.55C25.5417 12.7833 26 14.1833 26 15.75C26 17.3167 25.5417 18.7167 24.625 19.95C23.7083 21.1833 22.5 22.0167 21 22.45ZM21 11.725V19.775C21.7833 19.4083 22.396 18.8623 22.838 18.137C23.2793 17.4123 23.5 16.625 23.5 15.775C23.5 14.9083 23.2793 14.1083 22.838 13.375C22.396 12.6417 21.7833 12.0917 21 11.725Z",fill:e})}))}const yx=(0,a.memo)((({muted:e,onToggle:t})=>{const{css:i,s:r}=(0,pe.I)(xx);return(0,s.jsx)("button",Object.assign({className:i(r.button),onClick:e=>{e.stopPropagation(),t()}},{children:e?(0,s.jsx)(vx,{}):(0,s.jsx)(bx,{})}))})),xx=(0,pe.r)({button:{background:"transparent",border:"none",color:he.T.white,width:32,height:32,zIndex:3}});var jx=i(26185),wx=i(86664);const Ix=({story:e,slide:t,position:i})=>({frameId:s})=>{const r=(0,jx.N)({slide:t}),n=(0,wx.i)({story:e,position:i});return{uiElement:{frameUuid:s,name:"storyBranchLink",ownerName:"storyItem",position:i},action:"tap",payload:{storiesList:n,storyItem:r}}},Cx="storiesFrame";i(60545);const _x=()=>({frameId:e},t)=>(0,Bt.f_)({state:t,uuid:e,name:Cx});var kx=i(88114);const Ox=({footnote:e,orgId:t,onClick:i})=>{const{css:r,s:n}=(0,pe.I)(Sx),a=(0,Td.P)({type:"organizationBranches",id:t}),o=(0,de.wA)(),c=(0,Oi.D)((()=>{o((0,wl.f8)({orgId:t})),i()}));return(0,s.jsx)("div",Object.assign({className:r(n.orgInfo)},{children:(0,s.jsxs)(ue.A,Object.assign({styles:n.link,onClick:c,href:a},{children:[e.logoUrl&&(0,s.jsx)(kx.E,{width:40,height:40,borderRadius:32,srcSet:`${(0,ts.m)(e.logoUrl,"80x80")} 2x`,src:(0,ts.m)(e.logoUrl,"40x40")}),(0,s.jsxs)("div",Object.assign({className:r(n.info)},{children:[e.title,e.subtitle&&(0,s.jsx)("span",Object.assign({className:r(n.subtitle)},{children:e.subtitle}))]}))]}))}))},Sx=(0,pe.r)({orgInfo:{paddingStart:12,marginTop:12,width:"max-content",minHeight:40,"& div:first-child":{flexShrink:0}},info:{display:"flex",flexDirection:"column",gap:2},link:Object.assign(Object.assign({display:"flex",alignItems:"center",gap:12,color:he.T.white,textDecoration:"none"},ye.regularMedium),{":hover":{color:he.T.white}}),subtitle:Object.assign(Object.assign({},ye.regular),{color:"#ffffffb2"})});const Tx=(0,a.memo)((({story:e,onSlidesEnd:t,onPrevStoryNeed:i,onStoryComplaint:r,controls:n,mediaSlideStyles:o,isFirstStory:c,isLastStory:d,isPopupOpened:l,storyPosition:u,slideIndexAPI:p,entity:m,trackBssTap:g,onButtonClick:h,onOrgInfoClick:f,isDesktop:v,slideSizes:b})=>{var y;const x=(()=>{const[e,t]=(0,a.useState)(!0),[i,s]=(0,a.useState)(Date.now()),r=(0,a.useCallback)((()=>{t((e=>!e)),s(e?Date.now():void 0)}),[e]),n=(0,a.useCallback)((e=>{t(e),s(e?Date.now():void 0)}),[t]);return{pause:e,setPause:n,togglePause:r,startPauseTime:i}})(),[j,w]=(0,a.useState)(!1),[I,C]=(0,a.useState)(!1),_=(0,a.useRef)(null),k=null===(y=_.current)||void 0===y?void 0:y.clientWidth,{css:O,s:S}=(0,pe.I)(Ex),T=(0,a.useRef)(),{bssRef:E}=(0,le.E)(_x()),{locale:M}=(0,fe.U)(),N=(0,Oi.D)((()=>{C(!0)})),L=(0,Oi.D)((()=>{C(!1)})),P=(({pauseAPI:{pause:e},onRefresh:t})=>{const[i,s]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0),o=(0,a.useRef)(null),c=(0,Oi.D)((()=>{s(!0)})),d=(0,Oi.D)((()=>{s(!1)}));(0,a.useEffect)((()=>{o.current&&(e?o.current.pause():o.current.play())}),[e]);const l=(0,Oi.D)((()=>{t(),o.current&&o.current.load()})),u=(0,Oi.D)((()=>{n((e=>!e))})),p=(0,Oi.D)((e=>{o.current&&(o.current.currentTime=e)}));return{ref:o,wait:c,play:d,buffered:i,refresh:l,getCompleteIntervalPercent:()=>{const e=o.current?o.current.currentTime/o.current.duration*100:0;return Number.isNaN(e)?0:e},handlePrevFirstStory:()=>{p(0)},muted:r,toggleMuted:u,setCurrentTime:p}})({pauseAPI:x,onRefresh:L}),R=(0,Oi.D)((()=>{"hidden"!==document.visibilityState||x.pause||x.setPause(!0),"visible"===document.visibilityState&&x.pause&&!l&&j&&x.setPause(!1)})),A=(0,Mb.z)({onChange:R}),B=(0,Oi.D)((()=>{var t;const i=ex.YH.getStorySlides(e),s=null!==(t=i[p[0]])&&void 0!==t?t:i[0];ex.YH.getSlideUrl(s)&&(w(!1),C(!1),x.setPause(!0))})),{nextSlide:z,prevSlide:F,activeSlide:H,activeSlideIndex:U,slideIntervalCompletePercent:D}=((e,t)=>{var i,s;const r=ex.YH.getStorySlides(e),{onSlidesEnd:n,onSlidesChange:o,onPrevStoryNeed:c,pauseAPI:d,isFirstStory:l,isLastStory:u,onPrevFirstStory:p,getCompleteIntervalPercent:m,slideIndexAPI:g,trackBssTap:h}=t,[f,v]=g,{defaultStorySwipeInterval:b}=(0,fe.U)();(0,a.useEffect)((()=>{v(0),o(),C(0)}),[o,v,e.id]);const y=null!==(i=r[f])&&void 0!==i?i:r[0],x=(null===(s=r.at(-1))||void 0===s?void 0:s.id)===y.id,j=(0,Oi.D)((()=>{o(),C(0),v((e=>e+1!==r.length?e+1:(n(),e)))})),w=(0,Oi.D)((()=>{C(0),v((e=>e-1>=0?(o(),e-1):(l?p&&p():c(),e)))})),[I,C]=(0,a.useState)(0),_=(0,a.useRef)(I),k=(0,a.useRef)(),O=(0,a.useRef)(0);_.current=I;const S=()=>{void 0===k.current&&(k.current=Jy());const e=Jy(),t=e-k.current;k.current=e,C((e=>{const i="image"===ex.YH.getSlideType(y)?e+100*t/ex.YH.getImageSlideDuration(y,b):m?m():0;return _.current=i,i})),_.current<100?O.current=requestAnimationFrame(S):(cancelAnimationFrame(O.current),h&&!(u&&x)&&h({title:y.title,slideId:y.id,name:"storyForward",actionType:"autoTap"}),j())};return(0,a.useLayoutEffect)((()=>(Xy.S$||d.pause||(k.current=Jy(),O.current=requestAnimationFrame(S)),()=>{cancelAnimationFrame(O.current)})),[d.pause,y.id]),{activeSlide:y,nextSlide:j,prevSlide:w,activeSlideIndex:f,slideIntervalCompletePercent:I}})(e,{onSlidesEnd:t,onPrevStoryNeed:i,onSlidesChange:B,pauseAPI:x,isFirstStory:c,isLastStory:d,getCompleteIntervalPercent:P.getCompleteIntervalPercent,onPrevFirstStory:P.handlePrevFirstStory,slideIndexAPI:p,trackBssTap:g}),V=(0,Oi.D)((()=>{w(!0),A&&!l&&x.setPause(!1)})),$=(({onRefresh:e,url:t,slideId:i,onLoad:s})=>{const r=(0,a.useRef)(null),n=(0,Oi.D)((()=>{e(),r.current&&(r.current.src=`${t}?t=${Date.now()}`)}));return(0,a.useEffect)((()=>{var e;(null===(e=r.current)||void 0===e?void 0:e.complete)&&s()}),[i,s]),{ref:r,refresh:n}})({url:ex.YH.getSlideUrl(H),onRefresh:L,slideId:H.id,onLoad:V}),W=(e,t)=>{g&&g({title:H.title,slideId:H.id,name:e,actionType:null!=t?t:"tap"})},q=(0,Oi.D)((e=>{"touchstart"!==e.type&&e.preventDefault(),x.pause||(T.current=setTimeout((()=>{x.setPause(!0),W("storyPause","longtap")}),200))})),Z=(0,Oi.D)((()=>{x.pause?x.togglePause():(x.togglePause(),W("storyPause"))})),Q=(0,Oi.D)((e=>{e.preventDefault(),j&&!I&&(T.current&&clearTimeout(T.current),x.pause&&!P.buffered&&x.setPause(!1))})),G=(0,Oi.D)((e=>{e.preventDefault();const t=Date.now(),i=x.startPauseTime&&t-x.startPauseTime;x.pause&&i&&i>800||(z(),W("storyForward")),Q(e)})),K=(0,Oi.D)((e=>{e.preventDefault();const t=Date.now(),i=x.startPauseTime&&t-x.startPauseTime;x.pause&&i&&i>800||(F(),W("storyBack")),Q(e)})),Y=(0,Oi.D)((t=>{e.id&&(t.stopPropagation(),"ArrowLeft"===t.key&&(F(),W("storyBack")),"ArrowRight"===t.key&&(z(),W("storyForward")))})),X=(0,Oi.D)((()=>{z(),W("storyForward")})),J=(0,Oi.D)((()=>{F(),W("storyBack")})),ee=(0,Oi.D)((()=>{r()}));(0,a.useEffect)((()=>{const e=l||!j;e!==x.pause&&x.setPause(e)}),[l,j]),(0,a.useEffect)((()=>(document.addEventListener("keyup",Y),()=>{document.removeEventListener("keyup",Y)})),[Y]),(0,a.useEffect)((()=>{var e;(null===(e=P.ref.current)||void 0===e?void 0:e.readyState)&&P.ref.current.readyState>0&&(V(),P.setCurrentTime(0))}),[H.id,V]);const{useBssHandler:te}=(0,le.E)(),ie=te(Ix,{story:e,slide:H,position:U+1,locale:M}),se=(0,Oi.D)((()=>{ie(),f()})),re=j,ne=j&&P.ref.current,ae=ex.YH.isAdStory(e),oe=("discovery"===e.source||"fmcg"===e.source||"info"===e.source)&&("discovery"===H.source||"fmcg"===H.source||"info"===H.source)&&Boolean(e.orgId),ce=(0,Oi.D)((e=>{h(e)})),de="info"!==e.source||!!e.orgId;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ep.j,{innerRef:E,desktopWidth:v?b.original.width:void 0,backgroundColor:"none",header:(0,s.jsx)(xt.h,{children:(0,s.jsx)("div",{className:O(S.header)})}),body:(0,s.jsx)("div",Object.assign({style:Object.assign({},b.styles),ref:_},{children:(0,s.jsx)(ex.q7,{onButtonClick:ce,entity:m,storyPosition:u,slidePosition:U+1,story:e,imageAPI:$,videoAPI:P,isContentLoaded:j,mediaSlideStyles:o,slideSizes:b,activeSlide:H,onSlideLoaded:V,onMouseUp:Q,onMouseDown:q,onTouchStart:q,onTapNext:G,onTapPrev:K,onError:N,hasContentLoadingError:I,topContent:(0,s.jsxs)("div",Object.assign({className:O(S.topContent)},{children:[(0,s.jsx)(nx,{slideIntervalCompletePercent:D,activeSlideIndex:U,slides:ex.YH.getStorySlides(e)}),(0,s.jsxs)("div",Object.assign({className:O(S.controls)},{children:[re&&(0,s.jsx)(dx,{pause:x.pause,onToggle:Z}),ne&&(0,s.jsx)(yx,{muted:P.muted,onToggle:P.toggleMuted}),n]}))]}))})})),bodyFooter:oe&&H.footnote&&e.orgId&&(0,s.jsx)(Ox,{onClick:se,orgId:e.orgId,footnote:H.footnote}),footer:de&&(0,s.jsx)(xt.h,{children:(0,s.jsx)(hx,{storySlide:H,storyId:e.id,erid:e.erid,legalName:e.legalName,onComplaint:ee,showComplaintButton:ae,onAdsClick:q})})}),(0,s.jsx)(xt.j,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(px,{offset:28,nextSlide:X,prevSlide:J,slideWidth:k,size:40}),de&&(0,s.jsx)(hx,{storySlide:H,showComplaintButton:ae,storyId:e.id,erid:e.erid,legalName:e.legalName,onComplaint:ee})]})})]})})),Ex=(0,pe.r)({topContent:{paddingStart:16,paddingEnd:16,paddingTop:16,paddingBottom:8,display:"flex",flexDirection:"column",gap:12},controls:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",width:"100%"},header:{height:16,width:"100%"}}),Mx=(Nx=Tx,class extends a.PureComponent{constructor(){super(...arguments),this.displayName=`WithErrorBoundary(${Nx.displayName||Nx.name||"Unnamed"})`}componentDidCatch(e,t){const i=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"",{level:s="fatal",subtype:r,onError:n,skipLog:a}=this.props;a||(0,K.vV)({message:i,level:s,id:"VytiO",payload:{type:"exception",subtype:r,stack:e.stack}}),n&&n()}render(){return(0,s.jsx)(Nx,Object.assign({},this.props))}});var Nx;const Lx=(0,h.n5)("openStoryComplaintPopup",(({storyId:e,segmentId:t})=>(0,cn.PB)({id:(0,Y.W7)(),type:"complaint",subtype:"story",itemId:e,segmentId:t})));var Px=i(93404),Rx=i(32443);const Ax=({sizes:e,onClose:t})=>{const i=(0,xe.c)(),{css:r,s:n}=(0,pe.I)(Bx);return(0,s.jsxs)("div",Object.assign({style:Object.assign(Object.assign({},e),{height:"100%"===e.height?"95%":e.height}),className:r(n.stub)},{children:[t&&(0,s.jsx)("button",Object.assign({type:"button",className:r(n.closeButton),onClick:t},{children:(0,s.jsx)(Px.b,{color:he.T.white})})),(0,s.jsx)(Rx.C,{color:he.T.white}),(0,s.jsx)("p",Object.assign({className:r(n.text)},{children:i._t("История больше не доступна")}))]}))},Bx=(0,pe.r)({stub:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:he.T.gray_262626,borderRadius:16},closeButton:{position:"absolute",top:30,right:16,display:"flex"},text:{width:220,color:he.T.white,fontWeight:ye.fontWeight.medium,fontSize:24,lineHeight:"32px",textAlign:"center"}});var zx=i(89379);const Fx=new Array(10).fill(void 0),Hx=184,Ux=({isLoading:e,data:t,borderRadius:i=22,currentStoryId:r,currentStoryWidth:n,onStoryClick:o,entity:c})=>{const{css:d,s:l}=(0,pe.I)(qx),u=t||(e?Fx:void 0),{isStoryViewed:p}=ex.Ii.useStoriesViewsChecker(),{caruselOffset:m,caruselTotalWidth:g,swipeDirection:h}=(({data:e,currentStoryId:t,currentStoryWidth:i,miniStoryWidth:s,gap:r,arrowWidth:n})=>{const o=(null==e?void 0:e.length)?(s+r)*((null==e?void 0:e.length)-1)+2*r+2*n+i:0,c=2*r+n+(i-s)/2,d=(0,a.useMemo)((()=>{var i;return null!==(i=null==e?void 0:e.findIndex((e=>e.id===t)))&&void 0!==i?i:0}),[e,t]),l=(r+s)*d+s/2+c-r,[u,p]=(0,a.useState)(void 0),m=(0,a.useRef)(void 0),g=(0,a.useCallback)((({prevIndex:e,currentIndex:t})=>{void 0!==e&&t!==e&&p(t>e&&"next"===u?"next_again":t>e?"next":"prev"===u?"prev_again":"prev"),t===e&&p(void 0)}),[u]);return(0,a.useEffect)((()=>{void 0!==d&&d!==m.current&&g({prevIndex:m.current,currentIndex:d}),m.current=d}),[d,g]),{caruselOffset:l,caruselTotalWidth:o,swipeDirection:u}})({currentStoryWidth:n,miniStoryWidth:Hx,gap:32,arrowWidth:40,data:t,currentStoryId:r}),f=(e,t)=>({entity:c,story:e,position:t+1,isStoryViewer:!0,isHide:r===(null==e?void 0:e.id)});return(null==u?void 0:u.length)?(0,s.jsx)("div",Object.assign({className:d(l.root,h&&l[h]),style:{width:`${g}px`,transform:`translate(-${m}px, -50%)`}},{children:(0,s.jsx)(zx.h,Object.assign({gap:32},{children:u.map(((e,t)=>{var n;return(0,s.jsx)("div",Object.assign({className:d(l.item,(null==e?void 0:e.id)===r&&l.active_item)},{children:(0,s.jsx)(ex.Vf,{story:e,borderRadius:i,isNotViewed:!p(null==e?void 0:e.id),isTextMedium:!0,isStoryViewer:!0,bssShowFunction:()=>ex.Ii.bss.miniStoryBss.bssShow(f(e,t)),bssActionFunction:ex.Ii.bss.miniStoryBss.bssTap,bssActionParams:f(e,t),onClick:o})}),`${t}-viewer${(null==e?void 0:e.id)&&(null===(n=null==e?void 0:e.content)||void 0===n?void 0:n.preview)||"skeleton"}`)}))}))})):null};Ux.displayName="StoryViewerGallery";const Dx={"0%":{marginStart:Hx},"100%":{marginStart:0}},Vx={"0%":{marginStart:Hx},"50%":{marginStart:92},"100%":{marginStart:0}},$x={"0%":{marginStart:-184},"100%":{marginStart:0}},Wx={"0%":{marginStart:-184},"50%":{marginStart:-92},"100%":{marginStart:0}},qx=(0,pe.r)({root:{position:"absolute",top:"50%",left:"50%",transform:"translateY(-50%)",animationTimingFunction:"linear",animationDuration:"0.3s"},item:{flexShrink:0,flexGrow:0,width:Hx,height:216},active_item:{flex:1,opacity:0},next:{animationName:Dx},next_again:{animationName:Vx},prev:{animationName:$x},prev_again:{animationName:Wx}});i(24271);const Zx=e=>(0,s.jsx)(zt.w,{loader:Ft.b.discountPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(Mr.J,{asyncStatus:e})}),Qx=(0,a.memo)((({entity:e,stories:t,isLoading:i,isError:r,currentStoryId:n,withGallery:o,frameId:c})=>{var d;const{css:l,s:u}=(0,pe.I)(Gx),p=(0,de.wA)(),m=(0,de.d4)((e=>!e.config.isMobileDevice)),[g,f]=(0,a.useState)(),v=Boolean((0,de.d4)((e=>e.appContext.popup)))||!!g,{renderErrorFrameId:b}=(0,de.d4)(Qy.N.getPopupSelector),y=(0,a.useState)(0),[x,j]=y,w=(0,a.useMemo)((()=>null==t?void 0:t.findIndex((e=>e.id===n))),[t,n]),I=void 0!==w&&w>-1?null==t?void 0:t[w]:void 0,C=void 0!==w&&-1!==w?w+1:void 0,_=I?ex.YH.getStorySlides(I)[x]:void 0,k=r||!!t.length&&!I,O=(0,Oi.D)((()=>{p((0,h.K2)(Qy.N.closePopupAction(),(0,T.PC)()))})),{useBssHandler:S}=(0,le.E)(),E=S(ex.Ii.bss.storiesNavigationBss.bssTap,{story:I,entity:e,storyPosition:C,frameId:c}),M=e=>{E&&_&&(E({title:_.title,slideId:_.id,name:"storiesFrame",actionType:null!=e?e:"close"}),window.removeEventListener("popstate",U))},N=(0,Oi.D)((()=>{const e=void 0!==w&&-1!==w&&t[w+1];e?F(e):(M("autoClose"),O())})),L=(0,Oi.D)((()=>{const e=void 0!==w&&t[w-1];e&&F(e)})),P=(0,Oi.D)((e=>{n&&(e.stopPropagation(),"Escape"===e.key&&(M(),O()))}));(0,a.useEffect)((()=>(document.addEventListener("keyup",P),()=>{document.removeEventListener("keyup",P)})),[P]);const R=(0,Oi.D)((()=>{M(),O()})),B=(0,Oi.D)((e=>{"discount"===e.button.action.type&&e.button.action.value?f(e):R()})),z=(0,Oi.D)((()=>f(void 0))),F=(0,Oi.D)((e=>{j(0),p(Qy.N.setCurrentPopupAction({currentStoryId:e.id}))})),H=(0,Oi.D)((()=>{I&&ex.YH.isAdStory(I)&&p(Lx({storyId:I.id,segmentId:String(I.projectId)}))})),U=(0,Oi.D)((()=>{M()}));(0,a.useEffect)((()=>{window.addEventListener("popstate",U,{once:!0})}),[U]);const D=ex.Ii.useSlideSizes(),V={objectFit:m?"contain":"cover"},$=!!I&&(null==I?void 0:I.id)===t[0].id,W=!!I&&(null==I?void 0:I.id)===(null===(d=t.at(-1))||void 0===d?void 0:d.id),q=I&&0!==ex.YH.getStorySlides(I).length&&void 0!==w&&w>-1,Z=(0,Oi.D)((()=>{b&&p((0,A.oy)(b,(e=>Object.assign(Object.assign({},e),{type:"error",code:500,subtype:"entity"}))))}));return(0,a.useEffect)((()=>{q&&p(ex.Ii.markStoryAsViewed(I.id))}),[p,q,null==I?void 0:I.id]),(0,s.jsx)(Ha.X.Provider,Object.assign({value:{frameId:c}},{children:(0,s.jsxs)(Qy.f,Object.assign({onCloseClick:R},{children:[i&&(0,s.jsx)(Sp.Z,{}),q&&(0,s.jsxs)(s.Fragment,{children:[m&&o&&(0,s.jsx)(xt.j,{children:(0,s.jsx)(Ux,{entity:e,data:t,currentStoryId:null==I?void 0:I.id,isLoading:i,onStoryClick:F,currentStoryWidth:D.original.width})}),(0,s.jsx)(Mx,{isDesktop:m,onButtonClick:B,onOrgInfoClick:R,slideIndexAPI:y,storyPosition:w+1,entity:e,slideSizes:D,mediaSlideStyles:V,onSlidesEnd:N,onPrevStoryNeed:L,isPopupOpened:v,onStoryComplaint:H,isFirstStory:$,isLastStory:W,story:I,trackBssTap:E,controls:!m&&(0,s.jsx)("button",Object.assign({className:l(u.closeButton),onClick:R},{children:(0,s.jsx)(Px.b,{})})),subtype:"StoriesComponentError",skipLog:!1,onError:Z})]}),k&&(0,s.jsx)(Ax,{sizes:D.styles,onClose:m?void 0:O}),g&&(0,s.jsx)(Zx,Object.assign({},g,{onCloseClick:z}))]}))}))})),Gx=(0,pe.r)({closeButton:{background:"transparent",color:he.T.white,border:"none",display:"flex",justifyContent:"center",alignItems:"center",gridColumn:12,zIndex:3}}),Kx=({currentStoryId:e,popupId:t})=>{const{data:i,isLoading:r,isError:n}=((e,t=!0)=>{const i=(0,fe.U)().lang,s=(0,de.d4)(c.zN);return Ky({id:e,utcOffset:Yy,locale:i,region:s},{enabled:t})})(e),o=(0,a.useMemo)((()=>i?[i]:[]),[i]);return(0,s.jsx)(Qx,{withGallery:!1,stories:o,currentStoryId:e,frameId:t,isLoading:r,isError:n})};var Yx=i(49062);const Xx=({currentStoryId:e,popupId:t})=>{const i=(0,de.d4)((e=>(0,W.bB)(e.appContext.frames,"entity"))),r=(0,de.d4)((e=>i&&(0,u.DE)({state:e,entityId:i.entityId}))),n=Yx._.useIsDiscountsContext()?"discounts_stories":"organization_stories",{data:a,isLoading:o,isError:c}=ex.Ii.useFirmStories({entity:null==r?void 0:r.data,bannerSlot:n}),{stories:d=[]}=ex.Ii.useStoriesRotation(a);return(null==r?void 0:r.data)?(0,s.jsx)(Qx,{withGallery:!0,entity:r.data,stories:d,currentStoryId:e,frameId:t,isLoading:o,isError:c}):null},Jx=({currentStoryId:e,popupId:t})=>{const i=(0,Ps.U)("search"),{data:r,isLoading:n,isError:a}=ex.Ii.useDiscoveryStories(i),{stories:o=[]}=ex.Ii.useStoriesRotation(r);return(0,s.jsx)(Qx,{withGallery:!0,stories:o,currentStoryId:e,frameId:t,isLoading:n,isError:a})},ej=({currentStoryId:e,popupId:t})=>{const i=(0,de.d4)((e=>(0,W.bB)(e.appContext.frames,"entity"))),r=(0,de.d4)((e=>i&&(0,u.DE)({state:e,entityId:i.entityId}))),{data:n=[],isLoading:a,isError:o}=ex.Ii.useFmcgStories(i),{stories:c=[]}=ex.Ii.useStoriesRotation(n);return(null==r?void 0:r.data)?(0,s.jsx)(Qx,{withGallery:!0,entity:r.data,stories:c,currentStoryId:e,frameId:t,isLoading:a,isError:o}):null},tj=()=>{const{type:e,currentStoryId:t,popupId:i}=(0,de.d4)(Qy.N.getPopupSelector);if(!t||!i)return null;switch(e){case"info":return(0,s.jsx)(Kx,{currentStoryId:t,popupId:i});case"discovery":return(0,s.jsx)(Jx,{currentStoryId:t,popupId:i});case"fmcg":return(0,s.jsx)(ej,{currentStoryId:t,popupId:i});case"firm":return(0,s.jsx)(Xx,{currentStoryId:t,popupId:i});default:return null}},ij=({previousMapView:e})=>{var t;const i=(0,de.wA)(),{featureFriends:r,isMobileDevice:n,friendsDebugToken:o}=(0,fe.U)(),c=(0,de.d4)((e=>e.appContext.activeLayer)),d=void 0!==(0,Ps.U)("userPublicProfile"),l="friends"===c,u=(0,de.d4)((e=>e.appContext.friendsOnMap.hasSharingSession)),p=null===(t=(0,de.d4)(We.ug).data)||void 0===t?void 0:t.public_user_id,m=(0,de.d4)(We.x3)||!!o,g=(0,de.d4)(We.x3),f=(0,de.d4)(We.sX)&&!o,v=(0,de.d4)(We.sX),b=ce.$.useOpenFriendInOtherDomainPopup();(0,a.useEffect)((()=>{g&&i(ce.$.cleanFriendInOtherDomainModel())}),[g,i]),(0,a.useEffect)((()=>{v&&e&&b(e)}),[v,b,e]),(0,a.useEffect)((()=>{l&&n&&!d?i((0,cn.PB)({id:(0,Y.W7)(),type:"mobileFriendsOnMapPopup"})):l&&f&&!e&&!d&&i((0,cn.PB)({id:(0,Y.W7)(),type:"authFriendsOnMapPopup"}))}),[i,f,l,n,d,e]);return r&&l&&!n&&m||r&&u?(0,s.jsx)(It.zy,{onSelectUser:(e,t)=>{var s,r;const n=null===(r=null===(s=e[t])||void 0===s?void 0:s.session)||void 0===r?void 0:r.sessionId;i(n?(({sessionId:e})=>(0,h.K2)((0,T.PC)(),(0,A.fL)({id:(0,Y.W7)(),type:"sharingGeo",sessionId:e})))({sessionId:n}):Ue.M.openPublicProfile({userId:t}))},selfUserId:p}):null},sj=()=>(0,s.jsx)(zt.w,{loader:Ft.b.immersivePromoTour,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:Mr.N});var rj=i(43751);var nj=i(9763),aj=i(63312);const oj=(0,h.n5)("fillstateRealtyMarkers",(()=>(0,h.gd)(Qe.Pf.signals.withFrame((e=>(0,v.RC)({entity:t=>{var i;const s=null==e?void 0:e.suggestId;return s?null===(i=(0,u.DE)({state:t,entityId:s}))||void 0===i?void 0:i.data:void 0},viewpoint:G.Pz},(({entity:t,viewpoint:i})=>e&&Qe.Pf.isFrameRealtySearch(e)?!t||(0,aj.A)(t)||(0,nj.H)(t)?Ct.QU.effects.fetchMarkers({filters:e.filterValues,categoryId:e.categoryId,viewpoint:i}):Ct.QU.effects.fetchMarkers({filters:e.filterValues,categoryId:e.categoryId,viewpoint:i,entityId:t.id}):(0,h.lQ)())))))));const cj=a.memo((()=>{const{featureRealty:e}=(0,fe.U)(),t=(0,de.d4)((e=>(0,W.bB)(e.appContext.frames,"realty")));return e&&t?(0,s.jsx)(dj,{frame:t}):null})),dj=({frame:e})=>(function(e){const t=(0,de.wA)(),i=(0,de.d4)(G.iK);a.useEffect((()=>{t(oj())}),[i,e.categoryId,e.filterValues,e.suggestId,t])}(e),function(e){const t=(0,de.wA)();(0,a.useEffect)((()=>{t(Ct.QU.signals.restorePersistedVisitedMarkers())}),[t]),(0,a.useEffect)((()=>{e.entity&&"building"===e.entity.type&&t(Ct.QU.signals.saveVisitedMarker({buildingId:e.entity.id,categoryId:e.categoryId}))}),[e.entity,e.categoryId,t])}(e),null),lj=Math.pow(10,7),uj=65,pj=10,mj={coordinates:[0,0,lj],modelSrc:"https://disk.2gis.com/styles/assets/models/east1-2-ae1e1bb19bdcd8d7b6aec614c193859664c1f16dd6f640d709aec22ddf48c54a.glb",scale:1e5,minZoom:1,maxZoom:5,offset:[0,0,0],rotation:[0,0,0],interactive:!0},gj=(0,a.memo)((()=>((0,pl.e)(((e,{GltfModel:t})=>{let i=!1,s=!1,r=null,n=null;const a=()=>{i=!i},o=()=>{i&&(i=!1)},c=new t(e,mj);c.on("click",a);const d=e.getContainer();d.addEventListener("click",o);const l=()=>{s||(s=!0,r=null,n=requestAnimationFrame(p))},u=()=>{s&&null!==n&&(cancelAnimationFrame(n),n=null,s=!1)},p=t=>{r||(r=t);const s=(t-r)%4e4/4e4;let a=pj+180+180*(2*s-1);a>180&&(a-=360);const o=Math.sin(s*Math.PI*2)*uj,d=a+90,l=Math.sin(.5*Math.PI+s*Math.PI*2)*uj;c.transform([{coordinates:[a,o,lj],duration:0},{rotation:[-l,d,0],duration:0}]),i&&e.setCenter([a,o],{duration:0}),n=requestAnimationFrame(p)},m=(0,Y.nF)((()=>{e.getZoom()>5?(u(),o()):l()}),200);return e.on("zoom",m),l(),()=>{u(),d.removeEventListener("click",o),c.off("click",a),e.off("zoom",m),c.destroy()}}),[]),null)));class hj extends a.Component{constructor(){super(...arguments),this.state={errorMessage:"",error:""},this.render=()=>{const{mapFrameId:e,friendInOtherDomain:t,isImmersivePromoRunning:i,config:r}=this.props,{featureSputnik:n,featureGlobe:a}=r;return this.state.error?(0,s.jsx)(Fl,{base:(0,s.jsx)(s.Fragment,{}),bottom:(0,s.jsx)(s.Fragment,{}),top:(0,s.jsxs)("div",Object.assign({style:{padding:"16px",width:"100%",height:"100%",boxSizing:"border-box",background:"#fff"}},{children:[(0,s.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,s.jsx)(yr.$,{code:500})})),(0,s.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,s.jsxs)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:[`Session id: ${this.props.config.sessionId}`,(0,s.jsx)("br",{}),`User id: ${this.props.config.userId}`,(0,s.jsx)("br",{}),`${this.state.error}`]}))]}))}):(0,s.jsx)(Fl,{bottom:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(Ha.X.Provider,Object.assign({value:{frameId:e}},{children:[(0,s.jsx)(ay,{}),(0,s.jsx)(xt.j,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ug,{}),(0,s.jsx)(lh,{}),(0,s.jsx)(Al,{})]})}),(0,s.jsx)(cj,{})]})),i&&(0,s.jsx)(sj,{}),(0,s.jsx)(xt.j,{children:(0,s.jsx)($u,{})}),(0,s.jsx)(xt.h,{children:(0,s.jsx)(qy,{})}),(0,s.jsx)(cy,{})]}),base:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(xt.j,{children:(0,s.jsx)(Fo,{})}),(0,s.jsx)(xt.h,{children:(0,s.jsx)(Dy,{})}),(0,s.jsx)("div",{id:"photoViewer"}),(0,s.jsx)(tj,{}),(0,s.jsx)(ij,{previousMapView:t.previousMapView}),n&&a&&(0,s.jsx)(gj,{})]}),top:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Wg,{}),(0,s.jsx)(xt.j,{children:(0,s.jsx)(oy.l,{})}),(0,s.jsx)(_g,{}),(0,s.jsx)(Rg,{}),(0,s.jsx)(xt.j,{children:(0,s.jsx)(ch,{})}),(0,s.jsxs)(Ha.X.Provider,Object.assign({value:{frameId:e}},{children:[(0,s.jsx)(Og.m,{}),(0,s.jsx)(Bh,{})]})),(0,s.jsx)("div",{id:"confirm",style:{width:"100%",height:"100%",pointerEvents:"none",visibility:"hidden"}}),(0,s.jsx)(dy,{}),(0,s.jsx)(xt.h,{children:(0,s.jsx)($u,{})}),(0,s.jsx)("div",{id:"tooltips",style:{position:"absolute",inset:0,pointerEvents:"none"}})]})})}}componentDidCatch(e,t){const i=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"";(0,K.vV)({message:i,level:"error",id:"tb3ic",payload:{type:"exception",subtype:"appRender",stack:e.stack}}),this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`})}componentDidMount(){this.props.restoreVisitedRealtyItems()}}const fj=(0,de.Ng)((e=>({mapFrameId:e.appContext.staticFrames.map.id,friendInOtherDomain:e.appContext.friendInOtherDomain,isImmersivePromoRunning:rj.y.S.get(e)})),(e=>({restoreVisitedRealtyItems(){e(Ct.QU.signals.restorePersistedVisitedItems())}})))((0,Rt.Q)()((0,In.N)()(hj)));var vj=i(58767),bj=i(8834),yj=i(75041),xj=i(71448),jj=i(36501);var wj=i(46512),Ij=i(26516),Cj=i(27307),_j=i(95014),kj=i(61696),Oj=i(40268),Sj=i(18691),Tj=i(92533),Ej=i(86769);const Mj=(0,h.n5)("updateEverythingWhenUserLoggedIn",(()=>(0,v.RC)({userId:e=>e.session.userId,userData:e=>(0,We.ug)(e).data},(({userId:e,userData:t})=>(function(e){var t;if(window.clickstream&&e){const i=null===(t=e.identities)||void 0===t?void 0:t.find((({provider:e})=>"sberid"===e));i&&window.clickstream.profileUpdater.setProfileID("clientId",i.provider_user_id,!1)}}(t),(0,h.NV)((({featureVideoInGallery:i,featureCart:s})=>{var r;return(0,h._7)("auto"===(null===(r=(0,dt.G7)())||void 0===r?void 0:r.runningAfterAuth)&&(0,dt.cZ)(),(0,kj.a)({userId:e,authId:t?t.user_id:void 0}),(0,Cj._)(),(0,_j.v)(),!!t&&!!t.user_id&&(0,h._7)((0,Sj.Wy)(),i?(0,Ej.invalidateMediaByAlbum)({albumId:M.Qh}):(0,Sj.Jz)({albumId:M.Qh}),(0,Oj.PH)(),s&&(0,Tj.Y)({})))})))))));var Nj=i(15417),Lj=i(23205),Pj=i(16654),Rj=i.n(Pj),Aj=i(88632);function Bj(){return window.clickstream&&window.clickstream.profileUpdater.setProfileID("clientId","",!1),(0,h.K2)((0,Lj.g)(),(0,Nj.B)(),(0,Aj.d)(),(0,v.eU)(We.ug,(e=>{var t;return"error"===(null===(t=e.meta)||void 0===t?void 0:t.status)&&401===e.meta.code?(0,h.v6)((()=>{Pj.remove("2gis_sdk_token")})):(0,h.lQ)()})),(0,dt.BP)())}var zj=i(91171),Fj=i(50334);function Hj(e,t){return e.on("login",(e=>{"redirect_url"in e&&e.redirect_url?window.location.assign(e.redirect_url):t.dispatch((0,f.QY)((({tp:e})=>(0,$p.D)((0,Wp.z)({title:e._t("Ошибка!"),message:e._t("Что-то пошло не так. Попробуйте ещё раз.")})))))})),e.on("actualize",(()=>t.dispatch(function(e){let t;return(0,h.K2)((0,v.RC)({isUserLoggedIn:We.x3,isUserStatusUnknown:We.Us},(({isUserLoggedIn:e,isUserStatusUnknown:i})=>(i||(t=e),(0,h.lQ)()))),(0,sp.y)({}),(0,wj.r)({}),(0,v.eU)(We.x3,(i=>void 0!==t&&i===t?(0,h.lQ)():"refresh"===e?i?Mj():Bj():i?Mj():(0,h.lQ)())))}("refresh")))),e.on("logout",(()=>{window.location.reload()})),e}var Uj=i(88166);let Dj;var Vj=i(46303),$j=i(49971),Wj=i(27337);let qj="";var Zj=i(31629);const Qj=(0,i(59754).lQ)("turnAutoPageViewOn"),Gj=(0,h.n5)("showEmailUpdateNotification",(()=>(0,v.eU)((e=>e.appContext.weak.emailVerificationStatus),(e=>{const t=t=>"error"===e?t._t("Что-то пошло не так"):t._t("Готово"),i=t=>"error"===e?t._t("Попробуйте еще раз!"):t._t("Электронная почта подтверждена");return!!e&&(0,h.K2)((0,f.QY)((({tp:s})=>"error"===e?(0,$p.D)((0,Wp.z)({title:t(s),message:i(s)})):(0,$p.D)((0,Wp.k)({title:t(s),message:i(s)})))),(0,D.Ip)({emailVerificationStatus:void 0}))}))));var Kj=i(33190);function Yj(e){const{metric:t,label:i}=e;!function(e){if("undefined"!=typeof navigator&&"sendBeacon"in navigator){const t=new Blob([JSON.stringify(e)],{type:"text/plain; charset=UTF-8"});navigator.sendBeacon("/_/metrics",t)}}({[t.name]:{value:t.value,label:i}})}var Xj=i(64438),Jj=i(25872);var ew=i(44178);const tw=(0,h.n5)("syncStateFromLS",(()=>(0,h._7)(Ml.j._.syncLS(((e,t)=>e||t)),rj.y.P.syncLS())));function iw(e,t,i){window.isServerRendered=!1,e.dispatch((0,Zj.v)()),e.dispatch((0,Uj.J)()),e.dispatch(Gj()),e.dispatch((0,we.Sy)((e=>{var t;if(!e||e.filterValuesByTab.truck)return(0,h.lQ)();const i=null===(t=(0,Xj.z)())||void 0===t?void 0:t.ppng;return i?(0,h.K2)((0,we.GQ)(e.id,(e=>Object.assign(Object.assign({},e),{filterValuesByTab:Object.assign(Object.assign({},e.filterValuesByTab),{truck:i})}))),"truck"===e.tab&&(0,Jj.J)()):(0,h.lQ)()}))),e.dispatch((0,ew.I)()),function(e){let t;const i=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,Uj.J)({forced:!0})),i()}))}),6e4))};i()}(e.dispatch),function(e){let t;const i=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,O.ib)({time:Date.now()})),i()}))}),6e4))};i()}(e.dispatch),e.dispatch((0,Go.Wb)()),e.dispatch(tw()),i.featureReadOnly?e.dispatch((0,Vj.Y)({name:"userId"})):function(e){function t(){const t=e.getState(),i=t.session.userId,s=(0,We.ug)(t).data;e.dispatch((0,kj.a)({userId:i,authId:s?s.user_id:void 0}))}e.dispatch((0,$c.Gp)({userId:e.getState().session.userId})),t(),function e(){Dj||(Dj=window.setTimeout((()=>{window.requestIdleCallback((()=>{t(),Dj=void 0,e()}))}),9e5))}()}(e);const s=e.getState(),r="true"===fl.IG.local.getItem("geolocationAllowed");"online"!==s.session.platform&&r&&e.dispatch((0,$c.S8)()),t&&(window.sdk={ui:t.ui,logout:t.logout},Hj(t,e),t.actualize(),setTimeout((()=>{e.dispatch((0,$j.f)())}),666),function(e){switch(qj.toLowerCase()){case"#flightaround":setTimeout((()=>{e((0,Wj.c)(e))}),1e3);break;case"#hidedataviewer":e((0,Me.X_)({isMinimized:!0}))}}(e.dispatch),e.dispatch(Qj()),document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.body.classList.remove("_pi"),document.body.classList.add("_ki"))}),!0),document.addEventListener("mousedown",(function(){document.body.classList.remove("_ki"),document.body.classList.add("_pi")}),!0),setTimeout((()=>{var e;e={device_type:i.isMobileDevice?"mobile":"desktop"},(0,Kj.IN)((t=>Yj({metric:t,label:e}))),(0,Kj.lt)((t=>Yj({metric:t,label:e}))),(0,Kj.fK)((t=>Yj({metric:t,label:e}))),(0,Kj.zB)((t=>Yj({metric:t,label:e}))),(0,Kj.Ck)((t=>Yj({metric:t,label:e})))}),111))}function sw(){if("undefined"!=typeof window&&window.performance)return Object.assign(Object.assign(Object.assign({type:"client_start"},function(){const e=window.performance.timing;return{waiting:e.responseStart-e.requestStart,download:e.responseEnd-e.responseStart,scriptLoading:e.domInteractive-e.domLoading,interactive:e.domInteractive-e.fetchStart,complete:e.domComplete-e.fetchStart,full:e.loadEventEnd-e.navigationStart}}()),function(){const e=window.navigator.connection||{};return{rtt:e.rtt,downlink:e.downlink}}()),function(){if(!performance.getEntriesByType)return{};const e=performance.getEntriesByType("navigation"),t=e&&e.length?e[0]:void 0;if(!t)return{};return{navigationType:t.type}}())}var rw=i(72185),nw=i(9481);class aw{constructor(){this.localStorageApi=new nw.R("feedback","feedback")}get(e){return(0,Pe.sH)(this,void 0,void 0,(function*(){try{return yield this.localStorageApi.get(e)}catch(e){}}))}set(e,t){return(0,Pe.sH)(this,void 0,void 0,(function*(){try{yield this.localStorageApi.set(e,t)}catch(e){}}))}}function ow(e,t){t&&t.trace&&t.trace.events&&t.trace.events.map((t=>{if("sapphire"===t.category){const i=`https://search.2gis.one/onlinedebug?text=${encodeURIComponent(t.body)}`,s=`Перейти на debug-поиска по ссылке: ${i}`;console.group(e),console.log(s),function(e){if("undefined"==typeof window)return;const t={text:e},i=new CustomEvent("FromPage",{detail:t});window.dispatchEvent(i)}(i),console.log(t.body),console.groupEnd()}}))}const cw=e=>t=>{const{debug:i}=t;return ow(e,i),t},dw=e=>t=>{const{debug:i}=t.data;return ow(e,i),t};var lw=i(19297);function uw(e){var t,i;const{data:{meta:s,result:r}}=e;if([400,403,500].includes(s.code)){const e=s.error?`${s.error.message} (${s.code})`:`Unknown WebAPI error (${s.code})`;if(500===s.code)throw new lw.Dr(e,s.code);if(403===s.code&&"apiKeyIsBlocked"===(null===(t=s.error)||void 0===t?void 0:t.type))throw new lw.Dr(e,s.code);const r=new Error(e);throw r.name=(null===(i=s.error)||void 0===i?void 0:i.type)||r.name,r}return Object.assign(Object.assign({},r),{code:s.code,error:s.error})}var pw=i(88618);const mw=["sort","work_time","has_reviews","has_reviews_on_flamp","has_site","has_photos","has_rating","subway","opened_after_date","rubric_id","district_id","friends_were_here","value_filters[rubric]"],gw=["bound"];function hw(e,t=gw){const i={};return(0,Y.jJ)(e,((e,s)=>{if(!e||!s)return;s.split(pw.xt).forEach((s=>{-1===t.indexOf(s)&&("work_time"!==s||"today,alltime"!==e?-1===mw.indexOf(s)?i["attr["+s+"]"]=e:i[s]=e:i["attr[work_round_the_clock]"]="true")}))})),i}const fw=["bound","sort"];const vw={search:["adm_div.city","adm_div.district","adm_div.district_area","adm_div.division","adm_div.living_area","adm_div.place","adm_div.region","adm_div.settlement","attraction","branch","building","crossroad","foreign_city","gate","parking","road","route","station","street","coordinates","kilometer_road_sign"],suggest:["adm_div.city","adm_div.district","adm_div.district_area","adm_div.division","adm_div.living_area","adm_div.place","adm_div.region","adm_div.settlement","attraction","building","crossroad","foreign_city","road","route_type","route","station.metro","station","street","user_queries","rubric","meta_rubric"],objectSuggest:["adm_div.region","adm_div.district_area","adm_div.city","adm_div.settlement","adm_div.district","adm_div.living_area","adm_div.division","adm_div.place","street","branch","brand","building","road","attraction","crossroad","route","route_type","station","station.metro","user_queries","attribute","rubric","meta_rubric","org","special","coordinates","coordinates_additional","kilometer_road_sign"]},bw=(0,Zt.Bj)(((e,t)=>{const i=vw[e];if(0===t.length)return i.join(",");const s=t.split(",");return i.filter((e=>-1===s.indexOf(e))).join(",")}));function yw(e){const[t,i]=e;return{viewpoint1:`${xw(t.lon)},${xw(t.lat)}`,viewpoint2:`${xw(i.lon)},${xw(i.lat)}`}}function xw(e){return Number(e).toFixed(6)}function jw(e,t){if("true"!==t.bound)return{};const[i,s]=e;return{point1:`${i.lon},${i.lat}`,point2:`${s.lon},${s.lat}`}}function ww(e){return e?`${e.lon},${e.lat}`:void 0}const Iw=e=>e?Object.assign({},yw(e)):{};function Cw(e){return Object.keys(e).map((t=>{const i=!1===e[t]?"false":e[t];return i&&"object"==typeof i?{key:t,value:JSON.stringify(i)}:{key:t,value:(i||"").toString()}})).sort(((e,t)=>e.key<t.key?-1:e.key>t.key?1:0)).map((e=>e.value)).join("")}function _w(e){return e.split("?")[0].replace(/^[^/]*\/\/[^/]+\//,"/")}const kw=[22,4147,1234,11],Ow=kw[0]+kw[3],Sw=kw[1]+kw[2];function Tw(e,t,i,s=""){const r=Cw(t);return Ew(_w(e)+r+s+i)}function Ew(e){const t=e.length;let i=Sw;for(let s=0;s<t;s+=1)i=i*Ow+e.charCodeAt(s),i>>>=0;return i}const Mw={"items.locale":!0,"items.flags":!0,search_attributes:!0,"items.search_attributes.best_keyword":!0,"items.adm_div":!0,"items.city_alias":!0,"items.region_id":!0,"items.segment_id":!0,"items.reviews":!0,"items.point":!0,request_type:!0,context_rubrics:!0,query_context:!0,"items.links":!0,"items.name_ex":!0,"items.name_back":!0,"items.org":!0,"items.group":!0,"items.dates":!0,"items.external_content":!0,"items.contact_groups":!0,"items.comment":!0,"items.ads.options":!0,"items.email_for_sending.allowed":!0,"items.stat":!0,"items.stop_factors":!0,"items.description":!0,"items.geometry.centroid":!0,"items.geometry.selection":!0,"items.geometry.style":!0,"items.timezone_offset":!0,"items.context":!0,"items.level_count":!0,"items.address":!0,"items.is_paid":!0,"items.access":!0,"items.access_comment":!0,"items.for_trucks":!0,"items.is_incentive":!0,"items.paving_type":!0,"items.capacity":!0,"items.schedule":!0,"items.schedule_special":!0,"items.floors":!0,"items.floor_id":!0,"items.floor_plans":!0,dym:!0,ad:!0,"items.rubrics":!0,"items.routes":!0,"items.platforms":!0,"items.directions":!0,"items.barrier":!0,"items.reply_rate":!0,"items.purpose":!0,"items.purpose_code":!0,"items.attribute_groups":!0,"items.route_logo":!0,"items.has_goods":!0,"items.has_apartments_info":!0,"items.has_pinned_goods":!0,"items.has_realty":!0,"items.has_exchange":!0,"items.has_payments":!0,"items.has_dynamic_congestion":!0,"items.is_promoted":!0,"items.congestion":!0,"items.delivery":!0,"items.order_with_cart":!0,search_type:!0,"items.has_discount":!0,"items.metarubrics":!0,"items.detailed_subtype":!0,"items.temporary_unavailable_atm_services":!0,"items.poi_category":!0,"items.has_ads_model":!0},Nw={getRegion:["items.code","items.uri_code","items.uri_aliases","items.name_grammatical_cases","items.time_zone","items.statistics","items.domain","items.locale","items.locales","items.satellites","items.bounds","items.country_code","items.zoom_level","items.default_pos","items.flags"].join(","),getRoute:["items.region_id","items.segment_id"].join(","),getItemList:Object.keys((0,Y.cJ)(Mw,["items.level_count","items.platforms","items.directions","items.barrier","items.dates","items.contact_groups","items.stop_factors","items.has_exchange","items.congestion","items.has_dynamic_congestion"])).join(","),getItemListNoKeyWords:Object.keys((0,Y.cJ)(Mw,["items.level_count","items.platforms","items.directions","items.barrier","items.dates","items.contact_groups","items.stop_factors","items.has_exchange","items.congestion","items.has_dynamic_congestion","items.search_attributes.best_keyword"])).join(","),getItemListWithoutContextRubrics:Object.keys((0,Y.cJ)(Mw,["items.level_count","items.platforms","items.directions","items.barrier","items.attribute_groups","items.dates","items.contact_groups","items.email_for_sending.allowed","items.stop_factors","context_rubrics","query_context","items.has_exchange","items.congestion","items.has_dynamic_congestion","items.search_attributes.best_keyword"])).join(","),getItem:Object.keys((0,Y.cJ)(Mw,["dym","items.search_attributes.best_keyword"])).concat(["items.structure_info.material","items.structure_info.floor_type","items.structure_info.gas_type","items.structure_info.year_of_construction","items.structure_info.elevators_count","items.structure_info.is_in_emergency_state","items.structure_info.project_type"]).join(","),getSuggestions:["items.name_ex","items.rubrics","items.org","items.adm_div","items.routes","items.type","items.subtype","items.address","items.search_attributes.personal_priority","items.search_attributes.dgis_source_type","items.search_attributes.dgis_found_by_address","items.search_attributes.dgis_ad_type","items.search_attributes.dgis_ad_rubric_id","items.segment_id","items.region_id","items.locale","items.group","items.context","search_attributes","items.flags","items.has_exchange","items.ads.options","items.has_ads_model"].join(","),getSuggestionsWithBrand:["items.name_ex","items.brand","items.rubrics","items.org","items.adm_div","items.routes","items.type","items.subtype","items.address","items.search_attributes.personal_priority","items.search_attributes.dgis_source_type","items.search_attributes.dgis_found_by_address","items.search_attributes.dgis_ad_type","items.search_attributes.dgis_ad_rubric_id","items.segment_id","items.region_id","items.locale","items.group","items.context","search_attributes","items.flags","items.has_exchange","items.ads.options","items.has_ads_model"].join(","),markers:["items.ads","items.name","items.stop_factors","items.reviews","items.schedule","items.schedule_special","items.context","items.name_ex","items.timezone_offset","items.flags","items.has_exchange","items.temporary_unavailable_atm_services","items.friends","search_attributes","items.has_ads_model"].join(","),getItemByEntrance:["items.locale","items.adm_div","items.region_id","items.segment_id","items.group","items.address","items.floors"].join(",")};function Lw(e){switch(e){case 6:case 7:return"adm_div.region,adm_div.district_area";case 8:case 9:case 10:return"adm_div.city,adm_div.region,adm_div.district_area,adm_div.settlement,road";case 11:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division";case 12:case 13:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district";case 14:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad";case 15:case 16:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place";case 17:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking";case 18:case 19:case 20:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking,gate";default:return"adm_div.region"}}const Pw=6e4;function Rw(e){const{timeToLive:t,errorTtl:i=Pw,staleWhileRevalidate:s=!1}=e;return{timeToLive:t,errorTtl:i,staleWhileRevalidate:s,data:{}}}function Aw(e){const{key:t,store:i,request:s}=e,{data:r,timeToLive:n,errorTtl:a,staleWhileRevalidate:o}=i;if("undefined"!=typeof process){const e=process.env.DESKTOP_DISABLE_SERVER_CACHE;if("true"===String(e).toLowerCase())return s()}let c=r[t];if(!c||c.expires<Date.now()){const e=Date.now()+n;if(c&&o){c.expires=e;const t=s().then((e=>(c.promise=t,e))).catch((()=>(c.expires=Date.now()+a,c.promise))).catch((()=>{}))}else c={promise:s().catch((e=>{throw c.expires=Date.now()+a,e})),expires:e},r[t]=c}return c.promise}function Bw(e,t){const i=e.items,s={},r={};for(const e of i){if((0,Y.Im)(e.default_pos)){(0,K.vV)({message:`Region without default_pos: ${e.code} `,level:"fatal",requestId:t.requestId,id:"dh57w",payload:{type:"exception",subtype:"InvalidRegion",data:JSON.stringify(e)}});continue}s[e.id]=e,s[e.code]=e;const i=r[e.country_code];(!(null==i?void 0:i.statistics.org_count)||e.statistics.org_count&&e.statistics.org_count>i.statistics.org_count)&&(r[e.country_code]=e)}return{result:{items:i,mapByCode:s,mapByCountry:r}}}const zw=e=>{const t=(0,eb.s)(e).reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]]);return{zoom:13,lon:(t[0][0]+t[1][0])/2,lat:(t[0][1]+t[1][1])/2}};function Fw(e){return 404===e.code?{}:e.items.reduce(((e,t)=>{const{region_id:i,id:s,name:r,alias:n,country_code:a,simple_geometry:o}=t;return e[s]={id:s,region_id:i||"0",name:r,country_code:a,alias:n,default_pos:zw(o)},e}),{})}var Hw=i(67461),Uw=i(34764);const Dw=Rw({timeToLive:6e4,staleWhileRevalidate:!0}),Vw=Rw({timeToLive:6e4,staleWhileRevalidate:!0});class $w{constructor(e,t){this.request=e,this.KEY=t.webApiKey,this.a="baf4c54e9dae";const i=t.webApiUrl,s=t.webApi3Url;this.RUBRICATOR_GET_URL=`${s}rubricator/get`,this.RUBRICATOR_DASHBOARD_URL=`${s}rubricator/dashboard`,this.RUBRICATOR_LIST_URL=`${s}rubricator/list`,this.RUBRICS_TREE_URL=`${i}catalog/rubric/list`,this.DETECT_REGION_URL=`${s}dashboard/geo/items`,this.ADS_ADVISE_GTA_ONLINE=`${s}ads/advise/gta/online`,this.SEARCH_FIRM_URL=`${s}items`,this.GET_ITEM_URL=`${s}items/byid`,this.SEARCH_GEO_URL=`${s}items/geocode`,this.SEARCH_CLUSTERED_MARKERS_URL=`${s}markers/clustered`,this.SEARCH_MARKERS_URL=`${s}markers`,this.SUGGESTS_URL=`${i}suggest/list`,this.OBJECTS_SUGGESTS_URL=`${s}suggests`,this.PROFILE_URL=`${s}profile/data`,this.REGIONS_URL=`${i}region/list`,this.SETTLEMENTS_URL=`${s}aliases`,this.REGION_INFO=`${i}region/get`,this.BRANCH_GET_URL=`${i}catalog/branch/get`,this.BRANCH_LIST_URL=`${i}catalog/branch/list`,this.GET_ITEM_BY_ENTRACE_URL=`${s}items/byentrance`,this.METRO_STATIONS_URL=`${i}transport/station/list`,Xy.S$&&(this.REQUEST_ID=t.requestId),this.sendPrivacyData=!t.featureReadOnly,this.userId=t.userId,this.sessionId=t.sessionId,this.appVersion=(0,Hw.v)(t.commitIsoDate),this.excludeTypesFromSearch=t.excludeTypesFromSearch,this.debugMode=t.srchdbgmd,this.searchDeviceType=t.searchDeviceType,this.searchUserHash=t.searchUserHash,this.featureDiscoveryKeywords=t.featureDiscoveryKeywords,this.featureClusteredMarkers=t.featureClusteredMarkers,this.featureBrand=t.featureBrand}getRegionsList({locale:e}){return Aw({key:e||"",store:Dw,request:()=>{const t={fields:Nw.getRegion,key:this.KEY,locale:e,page_size:2e3};return this.request(this.REGIONS_URL,this.extendParams(t,this.REGIONS_URL)).then(uw).then((e=>Bw(e,{requestId:this.REQUEST_ID}))).catch((0,Fj.eY)("regionsList",t,this.REQUEST_ID))}})}getSettlementsList({locale:e}){return Aw({key:e,store:Vw,request:()=>{const t={key:this.KEY,locale:e};return this.request(this.SETTLEMENTS_URL,this.extendParams(t,this.SETTLEMENTS_URL)).then(uw).then(Fw).catch((e=>{if("itemNotFound"===(null==e?void 0:e.name))return{};throw e})).catch((0,Fj.eY)("aliases",t,this.REQUEST_ID))}})}searchByQuery({query:e,page:t=1,pageSize:i,regionId:s,viewpoint:r,filters:n={},withFilters:a=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,adsIds:u,cityId:p,accessToken:m,isNonFixableQuery:g,withReversedCoordinates:h=!1}){const f=l||(this.featureDiscoveryKeywords?Nw.getItemList:Nw.getItemListNoKeyWords)+(a?",filters,widgets":"")+(this.featureBrand?",items.brand":""),v=e&&!u?e:void 0,b=(y=this.excludeTypesFromSearch,bw("search",y)+(h?",coordinates_additional":""));var y;const x=v&&g?`"${v}"`:void 0,j=Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,region_id:"0"!==s?s:void 0,q:null!=x?x:v,sort_point:ww(c),fields:f,type:b,page_size:i||M.Uq,ads_id:u,page:t,locale:d,allow_deleted:!0,location:ww(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,city_id:p},o?{is_viewport_change:!0}:{}),yw(r)),hw(n)),jw(r,n));return this.request(this.SEARCH_FIRM_URL,this.extendParams(j,this.SEARCH_FIRM_URL,m?{headers:{Authorization:`Bearer ${m}`}}:void 0)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("searchFirmByQuery",j,this.REQUEST_ID))}getSearchFilters({regionId:e,query:t,viewpoint:i,rubrId:s,locale:r,filters:n={},sortPoint:a}){const o=s?{rubric_id:s}:{q:t},c=Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,locale:r},o),{region_id:"0"!==e?e:void 0,page:1,page_size:1,type:bw("search",this.excludeTypesFromSearch),fields:"filters,widgets",allow_deleted:!0,location:ww(a),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash}),yw(i)),hw((0,Fd.Up)(n,["rubric_id",...Object.values(Uw.nr)])));return this.request(this.SEARCH_FIRM_URL,this.extendParams(c,this.SEARCH_FIRM_URL)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("getSearchFilters",c,this.REQUEST_ID))}getSearchFilialsFilters({orgId:e,viewpoint:t,locale:i}){const s=Object.assign({key:this.KEY,locale:i,org_id:e,page:1,page_size:1,fields:"filters,widgets",search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},yw(t));return this.request(this.SEARCH_FIRM_URL,this.extendParams(s,this.SEARCH_FIRM_URL)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("getSearchFilters",s,this.REQUEST_ID))}getSearchBrandFilters({brandId:e,viewpoint:t,locale:i}){const s=Object.assign({key:this.KEY,locale:i,brand_id:e,page:1,page_size:1,fields:"filters,widgets",search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},yw(t));return this.request(this.SEARCH_FIRM_URL,this.extendParams(s,this.SEARCH_FIRM_URL)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("getSearchFilters",s,this.REQUEST_ID))}searchByPoint({point:e,zoom:t,locale:i,viewpoint:s}){const r=Math.round(Math.min(t,M.N)),n=Object.assign({key:this.KEY,point:`${e.lon},${e.lat}`,type:Lw(r),fields:Nw.getItemListNoKeyWords,page_size:1,locale:i},Iw(s));return this.request(this.SEARCH_GEO_URL,this.extendParams(n,this.SEARCH_GEO_URL)).then(uw).then(cw(this.SEARCH_GEO_URL)).catch((0,Fj.eY)("searchByPoint",n,this.REQUEST_ID))}clusteredMarkersQuery({query:e,filters:t={},rubrId:i,buildingId:s,orgId:r,brandId:n,isViewportChanged:a=!1,viewpoint:o,locale:c,mapSize:d,attrId:l,markersWithLogoIds:u,adsIds:p,sortPoint:m,accessToken:g}){const h=!e||l||p?void 0:e,f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,map_width:d.width,map_height:d.height,locale:c,q:h,rubric_id:i,building_id:s,org_id:r,brand_id:n,allow_deleted:!0,ads_id:p,type:bw("search",this.excludeTypesFromSearch),location:ww(m),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},function(e){return e?{[`attr[${e}]`]:!0}:{}}(l)),a?{is_viewport_change:!0}:{}),yw(o)),jw(o,t)),function(e){return hw(e,fw)}(t)),(null==u?void 0:u.length)?{marker_ids:u.join(",")}:{}),{fields:Nw.markers}),v=this.featureClusteredMarkers?this.SEARCH_CLUSTERED_MARKERS_URL:this.SEARCH_MARKERS_URL;return this.request(v,this.extendParams(f,v,g?{headers:{Authorization:`Bearer ${g}`}}:void 0)).then(dw(v)).then(uw).catch((0,Fj.eY)("clusteredMarkersQuery",f,this.REQUEST_ID))}getInfrastructure({rubrIds:e,radius:t,center:i,locale:s,screen:r}){const n={key:this.KEY,map_width:r.width,map_height:r.height,locale:s,radius:t,lon:i.lon,lat:i.lat,rubric_id:e.join(","),type:bw("search",this.excludeTypesFromSearch),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,fields:Nw.markers};return this.request(this.SEARCH_MARKERS_URL,this.extendParams(n,this.SEARCH_MARKERS_URL)).then(dw(this.SEARCH_MARKERS_URL)).then(uw).catch((0,Fj.eY)("getInfrastructure",n,this.REQUEST_ID))}searchFilials({orgId:e,page:t=1,pageSize:i,regionId:s,viewpoint:r,filters:n={},withFilters:a=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,searchDisableClippingByRelevance:u=!0,cityId:p,accessToken:m}){const g=l||`${this.featureDiscoveryKeywords?Nw.getItemList:Nw.getItemListNoKeyWords}${a?",filters,widgets":""}${this.featureBrand?",items.brand":""}`,h=Object.assign(Object.assign(Object.assign(Object.assign({page:t,page_size:i||M.Uq,org_id:e,region_id:"0"!==s?s:void 0,sort_point:ww(c),fields:g,key:this.KEY,type:"branch",locale:d,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,search_disable_clipping_by_relevance:u,location:ww(c),city_id:p},hw(n)),o?{is_viewport_change:!0}:{}),yw(r)),jw(r,n));return this.request(this.SEARCH_FIRM_URL,this.extendParams(h,this.SEARCH_FIRM_URL,m?{headers:{Authorization:`Bearer ${m}`}}:void 0)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("searchFilials",h,this.REQUEST_ID))}searchByBrand({brandId:e,page:t=1,pageSize:i,regionId:s,viewpoint:r,filters:n={},withFilters:a=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,searchDisableClippingByRelevance:u=!0,cityId:p,accessToken:m}){const g=l||`${this.featureDiscoveryKeywords?Nw.getItemList:Nw.getItemListNoKeyWords}${a?",filters,widgets":""},items.brand`,h=Object.assign(Object.assign(Object.assign(Object.assign({page:t,page_size:i||M.Uq,brand_id:e,region_id:"0"!==s?s:void 0,sort_point:ww(c),fields:g,key:this.KEY,type:"branch",locale:d,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,search_disable_clipping_by_relevance:u,location:ww(c),city_id:p},hw(n)),o?{is_viewport_change:!0}:{}),yw(r)),jw(r,n));return this.request(this.SEARCH_FIRM_URL,this.extendParams(h,this.SEARCH_FIRM_URL,m?{headers:{Authorization:`Bearer ${m}`}}:void 0)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("searchBrand",h,this.REQUEST_ID))}searchByBuildingId({buildingId:e,viewpoint:t,page:i=1,filters:s,locale:r,fields:n}){const a=s?hw(s):void 0,o=Object.assign(Object.assign({key:this.KEY,building_id:e,fields:n||Nw.getItemListWithoutContextRubrics,locale:r,page_size:M.Uq,page:i},Iw(t)),a);return this.request(this.BRANCH_LIST_URL,this.extendParams(o,this.BRANCH_LIST_URL)).then(uw).then(cw(this.BRANCH_LIST_URL)).catch((0,Fj.eY)("fetchInBuildingList",o,this.REQUEST_ID))}searchInBuildingByQuery({buildingId:e,page:t=1,query:i,filters:s,viewpoint:r,locale:n,fields:a,withFilters:o=!1,sortPoint:c}){const d=a||Nw.getItemListNoKeyWords+(o?",filters,widgets":"")+(this.featureBrand?",items.brand":""),l=s?hw(s):void 0,u=Object.assign(Object.assign({key:this.KEY,building_id:e,q:i,fields:d,page_size:M.Uq,search_type:"indoor",locale:n,page:t,location:ww(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,allow_deleted:!0},l),Iw(r));return this.request(this.SEARCH_FIRM_URL,this.extendParams(u,this.SEARCH_FIRM_URL)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("searchInBuildingByQuery",u,this.REQUEST_ID))}searchByPlaceId({placeId:e,viewpoint:t,page:i=1,filters:s,locale:r,fields:n}){const a=s?hw(s):void 0,o=Object.assign(Object.assign({key:this.KEY,place_id:e,fields:n||Nw.getItemListWithoutContextRubrics,locale:r,page_size:M.Uq,page:i},Iw(t)),a);return this.request(this.SEARCH_FIRM_URL,this.extendParams(o,this.SEARCH_FIRM_URL)).then(uw).then(cw(this.SEARCH_FIRM_URL)).catch((0,Fj.eY)("searchByPlaceId",o,this.REQUEST_ID))}searchOnTerritoryByQuery({placeId:e,page:t=1,query:i,filters:s,viewpoint:r,locale:n,fields:a,withFilters:o=!1,sortPoint:c}){const d=a||Nw.getItemListNoKeyWords+(o?",filters,widgets":"")+(this.featureBrand?",items.brand":""),l=s?hw(s):void 0,u=Object.assign(Object.assign({key:this.KEY,place_id:e,q:i,fields:d,page_size:M.Uq,search_type:"indoor",locale:n,page:t,location:ww(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,allow_deleted:!0},l),Iw(r));return this.request(this.SEARCH_FIRM_URL,this.extendParams(u,this.SEARCH_FIRM_URL)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("searchInTerritoryByQuery",u,this.REQUEST_ID))}searchMaintainers({buildingId:e,page:t=1,withStandardPageSize:i=!1,viewpoint:s,locale:r,fields:n}){const a=Object.assign({servicing:!0,servicing_group:"default",page_size:i?M.Uq:void 0,key:this.KEY,building_id:e,locale:r,fields:n||Nw.getItemListNoKeyWords,page:t},Iw(s));return this.request(this.BRANCH_LIST_URL,this.extendParams(a,this.BRANCH_LIST_URL)).then(uw).then(cw(this.BRANCH_LIST_URL)).catch((0,Fj.eY)("searchMaintainers",a,this.REQUEST_ID))}searchProviders({buildingId:e,page:t=1,withStandardPageSize:i=!1,viewpoint:s,locale:r,fields:n}){const a=Object.assign({servicing:!0,servicing_group:"internet",page_size:i?M.Uq:void 0,key:this.KEY,building_id:e,locale:r,fields:n||Nw.getItemListNoKeyWords,page:t},Iw(s));return this.request(this.BRANCH_LIST_URL,this.extendParams(a,this.BRANCH_LIST_URL)).then(uw).then(cw(this.BRANCH_LIST_URL)).catch((0,Fj.eY)("searchProviders",a,this.REQUEST_ID))}searchSuggestionsByQuery({regionId:e,query:t,types:i,type:s,locale:r}){const n={key:this.KEY,locale:r,q:t,region_id:"0"!==e?e:void 0,types:i&&i.length?i.join(","):bw("suggest",this.excludeTypesFromSearch),type:s};return this.request(this.SUGGESTS_URL,this.extendParams(n,this.SUGGESTS_URL)).then(uw).then(cw(this.SUGGESTS_URL)).catch((0,Fj.eY)("searchSuggestionsByQuery",n,this.REQUEST_ID))}searchObjectSuggestions({query:e,types:t,locale:i,regionId:s,viewpoint:r,sortPoint:n,suggesterType:a,personalRecords:o}){const c=`${this.excludeTypesFromSearch}${this.featureBrand?"":",brand"}`,d=t?t.join(","):bw("objectSuggest",c),l=Object.assign(Object.assign({key:this.KEY,q:e,suggesttype:a},yw(r)),{region_id:"0"!==s?s:void 0,fields:this.featureBrand?Nw.getSuggestionsWithBrand:Nw.getSuggestions,type:"route_endpoint"===a?`${d},parking`:d,location:ww(n),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,locale:i}),u=o&&o.length>0?{method:"post",data:{personal_records:o}}:void 0;return this.request(this.OBJECTS_SUGGESTS_URL,this.extendParams(l,this.OBJECTS_SUGGESTS_URL,u)).then(dw(this.OBJECTS_SUGGESTS_URL)).then(uw).catch((0,Fj.eY)("searchObjectSuggestions",u?Object.assign(Object.assign({},u),l):l,this.REQUEST_ID))}getProfile({userId:e,authId:t}){const i={key:this.KEY,user_id:e,auth_id:t};return this.request(this.PROFILE_URL,this.extendParams(i,this.PROFILE_URL)).then(uw).catch((0,Fj.eY)("getProfile",i,this.REQUEST_ID))}getItem({id:e,fields:t,locale:i,clickPoint:s,viewpoint:r,contextRubrics:n,adsId:a,mapAdsId:o,searchCtx:c}){const d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({id:e,key:this.KEY,locale:i,fields:t||Nw.getItem+(this.featureBrand?",items.brand":""),clickPoint:s?`${s.lon},${s.lat}`:void 0},c?{search_ctx:c}:{}),function(e){return e&&e.length?e.reduce(((e,t)=>(e[t.group]=e[t.group]||[],e[t.group].push(t.id),e)),[]).reduce(((e,t,i)=>(e[`context_rubrics[${i}]`]=t.join(","),e)),{}):{}}(n)),Iw(r)),a?{ads_id:a}:{}),o?{map_ads_id:o}:{});return this.request(this.GET_ITEM_URL,this.extendParams(d,this.GET_ITEM_URL)).then(dw(this.GET_ITEM_URL)).then(uw).catch((0,Fj.eY)("getItem",d,this.REQUEST_ID))}fetchApartments(e){const t={id:e.id,key:this.KEY,locale:e.locale,fields:"items.links,items.links.database_entrances.apartments_info"},i=this.extendParams(t,this.GET_ITEM_URL),s={Authorization:`Bearer ${e.accessToken}`};return this.request(this.GET_ITEM_URL,Object.assign(Object.assign({},i),{headers:s})).then(uw).catch((0,Fj.eY)("fetchApartments",t,this.REQUEST_ID))}getItems({ids:e,fields:t,locale:i,clickPoint:s,viewpoint:r}){const n=Object.assign({id:e.join(","),key:this.KEY,locale:i,fields:t||Nw.getItem+(this.featureBrand?",items.brand":""),clickPoint:s?`${s.lon},${s.lat}`:void 0},Iw(r));return this.request(this.GET_ITEM_URL,this.extendParams(n,this.GET_ITEM_URL)).then(dw(this.GET_ITEM_URL)).then(uw).catch((0,Fj.eY)("getItem",n,this.REQUEST_ID))}getProfiles({ids:e,viewpoint:t,locale:i},s){const r=Object.assign({id:e.join(","),key:this.KEY,locale:i,fields:s||Nw.getItemListNoKeyWords,allow_deleted:!0},Iw(t));return this.request(this.BRANCH_GET_URL,this.extendParams(r,this.BRANCH_GET_URL)).then(uw).then(cw(this.BRANCH_GET_URL)).catch((0,Fj.eY)("getProfiles",r,this.REQUEST_ID))}getRegionById({id:e,locale:t}){const i=t=>({result:t.result.mapByCode[e]}),s=function({key:e,store:t}){const i=t.data[e];if(i)return t.staleWhileRevalidate||i.expires>Date.now()?i.promise:void 0}({key:t||"",store:Dw});if(s)return s.then(i);const r={fields:Nw.getRegion,id:e,key:this.KEY,locale:t};return this.request(this.REGION_INFO,this.extendParams(r,this.REGION_INFO)).then(uw).then((e=>Bw(e,{requestId:this.REQUEST_ID}))).then(i).catch((0,Fj.eY)("getRegionById",r,this.REQUEST_ID))}searchFirmByRubric({page:e=1,rubrId:t,regionId:i,viewpoint:s,filters:r={},sortPoint:n,pageSize:a,locale:o,fields:c,withFilters:d=!1,cityId:l,accessToken:u,bestKeyword:p}){const m=c||`${this.featureDiscoveryKeywords?Nw.getItemList:Nw.getItemListNoKeyWords}${d?",filters,widgets":""}${this.featureBrand?",items.brand":""}`,g=Object.assign(Object.assign(Object.assign(Object.assign({page:e,page_size:a||M.Uq,rubric_id:t,region_id:"0"!==i?i:void 0,sort_point:ww(n),fields:m,key:this.KEY,locale:o,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,location:ww(n),city_id:l},p&&{search_query_context:{best_keyword:p}}),yw(s)),jw(s,r)),hw(r));return this.request(this.SEARCH_FIRM_URL,this.extendParams(g,this.SEARCH_FIRM_URL,u?{headers:{Authorization:`Bearer ${u}`}}:void 0)).then(dw(this.SEARCH_FIRM_URL)).then(uw).catch((0,Fj.eY)("searchFirmByRubric",g,this.REQUEST_ID))}searchFirmByAttribute({page:e=1,attrId:t,regionId:i,viewpoint:s,filters:r={},sortPoint:n,pageSize:a,locale:o,fields:c,withFilters:d=!1,accessToken:l}){const u=c||`${this.featureDiscoveryKeywords?Nw.getItemList:Nw.getItemListNoKeyWords}${d?",filters,widgets":""}${this.featureBrand?",items.brand":""}`,p=Object.assign(Object.assign(Object.assign({page:e,page_size:a||M.Uq,[`attr[${t}]`]:!0,region_id:"0"!==i?i:void 0,sort_point:ww(n),fields:u,key:this.KEY,locale:o,allow_deleted:!0,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,location:ww(n)},yw(s)),jw(s,r)),hw(r));return this.request(this.SEARCH_FIRM_URL,this.extendParams(p,this.SEARCH_FIRM_URL,l?{headers:{Authorization:`Bearer ${l}`}}:void 0)).then(uw).then(cw(this.SEARCH_FIRM_URL)).catch((0,Fj.eY)("searchFirmByAttribute",p,this.REQUEST_ID))}getRubric(e){const t={id:e.id,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale,key:this.KEY};return this.request(this.RUBRICATOR_GET_URL,this.extendParams(t,this.RUBRICATOR_GET_URL)).then(uw).catch((0,Fj.eY)("getRubric",e,this.REQUEST_ID))}getDashboard(e){const t=e.viewpoint?yw(e.viewpoint):{},i=Object.assign(Object.assign({region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale},t),{key:this.KEY});return this.request(this.RUBRICATOR_DASHBOARD_URL,this.extendParams(i,this.RUBRICATOR_DASHBOARD_URL)).then(uw).catch((0,Fj.eY)("getDashboard",e,this.REQUEST_ID))}getRubricatorList(e){const t=Object.assign(Object.assign({parent_id:e.parentId,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale},yw(e.viewpoint)),{key:this.KEY});return this.request(this.RUBRICATOR_LIST_URL,this.extendParams(t,this.RUBRICATOR_LIST_URL)).then(uw).catch((0,Fj.eY)("getRubricatorList",e,this.REQUEST_ID))}getRubricsTree(e){if("0"===e.regionId)return Promise.resolve([]);const t={key:this.KEY,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale,fields:"items.rubrics"};return this.request(this.RUBRICS_TREE_URL,this.extendParams(t,this.RUBRICS_TREE_URL)).then(uw).then((e=>{if(200!==e.code)throw new lw.Dr("Rubrics tree not found",404);return e.items})).catch((0,Fj.eY)("getRubricsTree",e,this.REQUEST_ID))}detectRegion(e){const t={key:this.KEY,locale:e.locale,limit:1,zoom_level:Math.min(e.zoomLevel,M.N),k_area:.25,k_distance:.45,k_branches:.05,k_from_region:.25,min_percent_intersection_of_screen:5,distance_to_field:"board",geometry:e.geometry};return this.request(this.DETECT_REGION_URL,this.extendParams(t,this.DETECT_REGION_URL)).then(uw).catch((0,Fj.eY)("detectRegion",e,this.REQUEST_ID))}getAdsAdviseGtaOnline(e){const t={key:this.KEY},i="0"!==e.regionId&&e.regionId?+e.regionId:void 0,s={withCredentials:this.sendPrivacyData,method:"post",data:Object.assign(Object.assign({},this.enableDebug()),{shv:this.appVersion,user_id:this.sendPrivacyData?this.userId:void 0,key:this.KEY,auth_user_id:e.authUserId,locale:e.locale,product_id:e.productId,viewport:e.viewport,query:e.query,region_id:i,user_location:e.userLocation,banner_slot:e.bannerSlot,query_context_rubrics:e.rubrics})};return this.request(this.ADS_ADVISE_GTA_ONLINE,this.extendParams(t,this.ADS_ADVISE_GTA_ONLINE,s)).then(uw).catch((0,Fj.eY)("getAdsAdvise",e,this.REQUEST_ID))}getItemByEntrance({id:e,locale:t}){const i={id:e,key:this.KEY,locale:t,fields:Nw.getItemByEntrance};return this.request(this.GET_ITEM_BY_ENTRACE_URL,this.extendParams(i,this.GET_ITEM_BY_ENTRACE_URL)).then(dw(this.GET_ITEM_BY_ENTRACE_URL)).then(uw).catch((0,Fj.eY)("getItemByEntrance",i,this.REQUEST_ID))}getMetroStations({projectId:e}){const t={key:this.KEY,region_id:e,station_type:"metro",page_size:1e3,fields:"items.routes"};return this.request(this.METRO_STATIONS_URL,this.extendParams(t,this.METRO_STATIONS_URL)).then(uw).catch((0,Fj.eY)("getMetroStations",t,this.REQUEST_ID))}enableDebug(){return this.debugMode?{debug:this.debugMode}:{}}extendParams(e,t,i){const s=Object.assign({withCredentials:this.sendPrivacyData},i),r=Object.assign(Object.assign(Object.assign({},e),this.enableDebug()),{"stat[sid]":this.sessionId,"stat[user]":this.sendPrivacyData?this.userId:void 0,shv:this.appVersion});return Object.assign({params:Object.assign(Object.assign({},r),{r:Tw(t,r,this.a)})},s)}}var Ww=i(52524),qw=i(98767);function Zw(e,t){return Object.assign(Object.assign({},(0,Ww.Z)(e,t)),function(e,t){const{photoApiKeyProfile:i,photoApiKey:s,photoApiUrl:r,requestId:n}=t;function a(e){return{"Auth-Version":"2.0","Auth-Token":e}}return{addPhoto({uid:t,objectId:o,objectType:c,albumCode:d,locale:l,regionId:u,accessToken:p,isReplaced:m,isMenuPhoto:g}){const h=new FormData;h.append("key","profile"===c?i:s),h.append("object_id",o),h.append("object_type",c),h.append("album_code",d),h.append("locale",l),h.append("region_id",u),h.append("items[0][uid]",t),g&&h.append("items[0][tag_code]","price_list_image"),m&&h.append("replace","true");const f=a(p);return e(`${r}2.0/photo/add`,{method:"post",headers:f,data:h}).then(qw.Fj).catch((0,Fj.eY)("addPhotos",{objectId:o,objectType:c,albumCode:d},n))},deletePhoto({objectId:t,objectType:i,photoId:o,accessToken:c}){const d=new FormData;d.append("key",s),d.append("object_id",t),d.append("object_type",i),d.append("id",o);const l=`${r}2.0/photo/delete`,u=a(c);return e(l,{method:"post",headers:u,data:d}).then(qw.bT).catch((0,Fj.eY)("deletePhoto",{objectId:t,objectType:i,photoId:o,accessToken:c},n))},uploadPhoto({id:t,hash:o,file:c,accessToken:d,objectType:l}){const u=new FormData;u.append("key","profile"===l?i:s),u.append("items[0][id]",t),u.append("items[0][hash]",o),u.append("items[0][file]",c,c.name),u.append("preview_size",Ww.C);const p=a(d);return e(`${r}2.0/photo/upload`,{method:"post",headers:p,data:u,timeout:6e4}).then(qw.BZ).catch((0,Fj.eY)("uploadPhoto",{id:t,hash:o,fileName:c.name,accessToken:d},n))}}}(e,t))}class Qw{constructor(e,t){this.request=e,this.URL=t.profileApiUrl,this.REQUEST_ID=t.requestId,this.userId=t.userId}clearSearchHistory({authId:e}={}){const t={ts:Date.now(),userId:e?this.userId:void 0},i=e?`${this.URL}/authuser/${e}/profile/history/clear`:`${this.URL}/user/${this.userId}/profile/history/clear`;return this.request(i,{withCredentials:!1,method:"post",params:t}).then((()=>({code:200}))).catch((0,Fj.eY)("clearSearchHistory",t,this.REQUEST_ID))}}var Gw=i(79435);const Kw={branches:["meta.providers","meta.branch_rating","meta.branch_reviews_count","meta.total_count","reviews.hiding_reason","reviews.is_verified","reviews.emojis"].join(","),geo:["meta.providers","meta.geo_rating","meta.geo_reviews_count","meta.total_count","reviews.hiding_reason"].join(","),orgs:["meta.org_rating","meta.org_reviews_count","meta.total_count","reviews.object.address","reviews.hiding_reason","reviews.is_verified"].join(","),user:["reviews.object.address","reviews.object.logo","reviews.object.name","reviews.object.is_deleted","reviews.hiding_reason","reviews.is_verified","reviews.emojis"].join(","),create:["reviews.hiding_reason"].join(","),edit:["reviews.hiding_reason"].join(",")};class Yw{constructor(e,t){this.PAGE_SIZE=50,this.request=e,this.BASE_URL=t.reviewApiUrl,this.REQUEST_ID=t.requestId,this.KEY=t.reviewApiKey}getBranchReviews({id:e,offset:t,isAdvertiser:i=!1,withAnswer:s,ratings:r,unconfirmed:n,pageSize:a=this.PAGE_SIZE,accessToken:o,facts:c,newtworkTimeout:d,locale:l}){const u={limit:a,offset:t,ratings:r,is_advertiser:i,with_answer:s,fields:Kw.branches,without_my_first_review:!!o,rated:!n,facts:c,sort_by:"friends",key:this.KEY,locale:l};return this.request(`${this.BASE_URL}branches/${e}/reviews`,{params:u,headers:Object.assign({},o?{Authorization:`Bearer ${o}`}:void 0),withCredentials:!1,timeout:d}).then(Jw).catch((0,Fj.eY)("getBranchReviews",u,this.REQUEST_ID))}getGeoReviews({id:e,offset:t,pageSize:i=this.PAGE_SIZE,ratings:s,accessToken:r,newtworkTimeout:n,locale:a}){const o={limit:i,offset:t,ratings:s,fields:Kw.geo,sort_by:"friends",without_my_first_review:!!r,key:this.KEY,locale:a};return this.request(`${this.BASE_URL}geo/${e}/reviews`,{params:o,headers:Object.assign({},r?{Authorization:`Bearer ${r}`}:void 0),withCredentials:!1,timeout:n}).then(Jw).catch((0,Fj.eY)("getGeoReviews",o,this.REQUEST_ID))}getOrgReviews({id:e,offset:t,withAnswer:i,ratings:s,accessToken:r,unconfirmed:n,pageSize:a=this.PAGE_SIZE,facts:o,newtworkTimeout:c,locale:d}){const l={limit:a,offset:t,ratings:s,with_answer:i,fields:Kw.orgs,without_my_first_review:!!r,rated:!n,facts:o,sort_by:"friends",key:this.KEY,locale:d};return this.request(`${this.BASE_URL}orgs/${e}/reviews`,{params:l,headers:Object.assign({},r?{Authorization:`Bearer ${r}`}:void 0),withCredentials:!1,timeout:c}).then(Jw).catch((0,Fj.eY)("getReviews",l,this.REQUEST_ID))}getUserReviews(e){const t={limit:this.PAGE_SIZE,locale:e.locale,fields:Kw.user,offset_date:e.offset,sort_by:"date_edited",key:this.KEY},i=`${this.BASE_URL}users/2gis/${e.userId}/reviews`;return this.request(i,{params:t,headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then(tI).catch((0,Fj.eY)("getUserReviews",t,this.REQUEST_ID))}getUserReviewsByObject(e){const t=`${this.BASE_URL}users/2gis/${e.userId}/reviews/by-objects`;return this.request(t,{method:"get",params:{objects_ids:e.entityId,limit:1,fields:Kw.user,key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then(tI).catch((0,Fj.eY)("getUserReviews",(0,Y.cJ)(e,["accessToken"]),this.REQUEST_ID))}createReview(e){var t;const i=(0,Gw.J)();i.append("object_id",e.id),i.append("object_type",e.type),(null===(t=e.photos)||void 0===t?void 0:t.length)&&i.append("photo_ids",e.photos.join(",")),i.append("rating",e.rating.toString()),e.text.length>0&&i.append("text",e.text),i.append("fields",Kw.create),e.sourceId&&(i.append("source_type","sbol"),i.append("source_id",e.sourceId));const s=`${this.BASE_URL}reviews`;return this.request(s,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:i,withCredentials:!1}).then(iI).catch((t=>{var i,s;const r=null===(i=null==t?void 0:t.details)||void 0===i?void 0:i.response;if(403===(null==r?void 0:r.status)&&"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===(null===(s=r.data)||void 0===s?void 0:s.error_code))throw{code:403,name:r.data.error_code,message:r.data.message,skipLog:!0};return(0,Fj.eY)("createReview",e,this.REQUEST_ID)(t)}))}postReviewPhotos(e){const{accessToken:t,image:i}=e,s=`${this.BASE_URL}photos`,r=new FormData;return r.append("images[]",i),this.request(s,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${t}`},data:r}).then((({data:e})=>e)).catch((0,Fj.eY)("postReviewPhotos",e,this.REQUEST_ID))}editReview(e){var t;const i=(0,Gw.J)();i.append("rating",e.rating.toString()),e.text.length>0&&i.append("text",e.text),i.append("fields",Kw.edit),e.photos&&i.append("photos",e.photos.join(",")),(null===(t=e.new_photos)||void 0===t?void 0:t.length)&&i.append("new_photos",e.new_photos.join(","));const s=`${this.BASE_URL}reviews/${e.id}`;return this.request(s,{method:"patch",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:i,withCredentials:!1}).then(iI).catch((0,Fj.eY)("editReview",(0,Y.cJ)(e,["accessToken"]),this.REQUEST_ID))}validateReview(e){const{text:t}=e,i=`${this.BASE_URL}reviews/validate`,s=new FormData;return s.append("text",t),this.request(i,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Accept:"application/json"},data:s}).then((({data:e})=>e)).catch((0,Fj.eY)("validateReview",e,this.REQUEST_ID))}likeReview(e){const t=`${this.BASE_URL}reviews/${e.id}/likes`;return this.request(t,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Fj.eY)("likeReview",(0,Y.cJ)(e,["accessToken"]),this.REQUEST_ID))}unlikeReview(e){const t=`${this.BASE_URL}reviews/${e.id}/likes`;return this.request(t,{method:"delete",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Fj.eY)("likeReview",(0,Y.cJ)(e,["accessToken"]),this.REQUEST_ID))}getReviewComments({id:e,offset:t,limit:i,locale:s}){const r={limit:i,offset_date:t,key:this.KEY,locale:s};return this.request(`${this.BASE_URL}reviews/${e}/comments`,{params:r,withCredentials:!1}).then(eI).catch((0,Fj.eY)("getReviewComments",r,this.REQUEST_ID))}deleteReview({id:e,accessToken:t,locale:i}){const s={id:e,key:this.KEY,locale:i},r=`${this.BASE_URL}reviews/${e}`;return this.request(r,{method:"delete",params:s,headers:{Authorization:`Bearer ${t}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Fj.eY)("deleteReview",s,this.REQUEST_ID))}getReview({id:e,locale:t}){const i={id:e,key:this.KEY,locale:t},s=`${this.BASE_URL}reviews/${e}`;return this.request(s,{params:i,withCredentials:!1}).then((e=>e.data)).catch((0,Fj.eY)("getReview",i,this.REQUEST_ID))}deleteComment({id:e,accessToken:t,locale:i}){const s={id:e,key:this.KEY,locale:i},r=`${this.BASE_URL}comments/${e}`;return this.request(r,{method:"delete",params:s,headers:{Authorization:`Bearer ${t}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Fj.eY)("deleteComment",s,this.REQUEST_ID))}sendReviewComplaint(e){const t=(0,Gw.J)();t.append("id",e.id),t.append("text",e.text);const i=`${this.BASE_URL}reviews/${e.id}/complaints`;return this.request(i,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:t,withCredentials:!1}).then((()=>({code:200}))).catch((e=>{const t=e.details.response;if(t&&400===t.status&&"INVALID_PARAMETER_TEXT"===t.data.error_code)throw{name:"ComplaintError",message:"INVALID_PARAMETER_TEXT",code:400};throw e})).catch((0,Fj.eY)("sendReviewComplaint",(0,Y.cJ)(e,["accessToken"]),this.REQUEST_ID))}sendReviewCommentAnswer({id:e,text:t,accessToken:i,locale:s}){const r=`${this.BASE_URL}reviews/${e}/comments`,n={id:e,key:this.KEY,locale:s},a=(0,Gw.J)();return a.append("text",t),this.request(r,{method:"post",params:n,data:a,headers:{Authorization:`Bearer ${i}`},withCredentials:!1}).then((e=>({comment:e.data.comment,code:200}))).catch((e=>{const t=e.details.response;if(t&&400===t.status&&"INVALID_PARAMETER_TEXT"===t.data.error_code)throw{name:"ReviewCommentError",message:"INVALID_PARAMETER_TEXT",code:400};throw e})).catch((0,Fj.eY)("sendReviewCommentAnswer",n,this.REQUEST_ID))}getFacts(e){const{id:t,type:i,isAdvertiser:s}=e,r=`${this.BASE_URL}objects/${i}/${t}/facts`,n={is_advertiser:s,key:this.KEY,locale:e.locale};return this.request(r,{params:n,withCredentials:!1}).then(Xw).catch((0,Fj.eY)("getFacts",e,this.REQUEST_ID))}getRatings(e){const{id:t,forOrg:i}=e,s=i?`${this.BASE_URL}orgs/${t}/ratings`:`${this.BASE_URL}objects/${t}/ratings`,r={key:this.KEY};return this.request(s,{params:r,withCredentials:!1}).then((e=>({ratings:e.data.ratings,code:200}))).catch((0,Fj.eY)("getRatings",e,this.REQUEST_ID))}getReviewSummary(e){const{id:t,locale:i}=e,s=`${this.BASE_URL}objects/${t}/summary`,r={locale:i,key:this.KEY};return this.request(s,{params:r}).then((e=>({text:e.data.text}))).catch((0,Fj.eY)("getReviewSummary",e,this.REQUEST_ID))}}function Xw({data:e}){return{code:e.meta.code,data:e.facts}}function Jw({data:e}){return{items:e.reviews?e.reviews:[],total:e.meta.branch_reviews_count||e.meta.org_reviews_count||e.meta.geo_reviews_count||0,rating:e.meta.branch_rating||e.meta.geo_rating||0,orgRating:e.meta.org_rating||0,totalForRequest:e.meta.total_count||0,hasMore:!!e.meta.next_link,code:200===e.meta.code?e.meta.code:(0,lw.F6)(e.meta.code)}}function eI({data:e}){return{comments:e.comments,total:e.comments.length||0,code:200===e.meta.code?e.meta.code:(0,lw.F6)(e.meta.code)}}function tI({data:e}){const t=e.reviews?e.reviews:[];return{items:t,total:e.total_count||t.length,totalForRequest:e.total_count||t.length,code:200===e.meta.code?e.meta.code:(0,lw.F6)(e.meta.code)}}function iI({data:e}){if(!e.review)throw new Error("There is no review in create review response");return{items:[e.review],total:1,code:200}}function sI({data:e}){return e.result&&e.result.items?{items:e.result.items,total:e.result.total_count||0,code:200}:{items:[],total:0,code:200}}function rI(e,t){const{discountsApiUrl:i,requestId:s}=t;return{getDiscounts:({id:t})=>e(`${i}filials/${t}/discounts`).then(sI).catch((0,Fj.eY)("getDiscounts",{id:t},s))}}class nI{constructor(e,t){this.request=e,this.URL=t.shortonizerUrl,this.REQUEST_ID=t.requestId}createShortLink(e){const t={mode:"json",encoded:!0,url:e};return this.request(this.URL,{params:t}).then(aI).catch((0,Fj.eY)("createShortLink",t,this.REQUEST_ID))}}function aI(e){const{data:t,status:i,config:s}=e;return 200===i&&t&&t.shorturl||!s.params?t.shorturl:s.params.url}const oI={name:"FeedbackError",message:"Длина поля message не должна превышать 10000 символов",code:400};class cI{constructor(e,t){this.request=e,this.FEEDBACK_URL=t.feedbackApiUrl,this.MEDIA_COMPLAIN_URL=`${t.photoApiUrl}2.0/feedback/add`,this.REQUEST_ID=t.requestId,this.photoApiKey=t.photoApiKey}sendFeedback(e){if(e.message.length>=1e4)return Promise.reject(oI);const t=this.createFormDataFeedback(e);return this.request(this.FEEDBACK_URL,{method:"post",data:t,withCredentials:!1}).then(dI).catch((0,Fj.eY)("sendFeedback",e,this.REQUEST_ID))}createFormDataFeedback(e){const t=(0,Gw.J)();if(t.append("special[product]",e.product),t.append("useJson","true"),t.append("special[city]",e.city),t.append("email",e.emailValue||""),t.append("message",e.message||""),t.append("type",e.errorType||""),t.append("sourceUrl",e.sourceUrl),t.append("screenWidth",e.screen.width.toString()),t.append("screenHeight",e.screen.height.toString()),t.append("user_id",e.userId),t.append("session_id",e.sessionId),e.accessToken&&t.append("authorizationToken",e.accessToken),e.routeName&&t.append("routeName",e.routeName),e.routeNumber&&t.append("routeNumber",e.routeNumber),e.filialId&&t.append("filialId",e.filialId),e.files&&e.files.forEach((e=>t.append("file[]",e,e.name))),e.place&&t.append("place",e.place),e.placeTitle&&t.append("placeTitle",e.placeTitle),e.mapType&&t.append("rawParams[mapType]",e.mapType),e.category&&t.append("rawParams[category]",e.category),e.hardwareInfo&&t.append("rawParams[hardwareInfo]",e.hardwareInfo),e.raw)for(const i in e.raw){const s=e.raw[i];s&&t.append(`rawParams[${i}]`,s)}return t.append("lang",e.lang),t}sendMediaComplaint(e){if(e.message.length>=1e4)return Promise.reject(oI);const t=this.createFormDataMediaComplaint(e),i=new URLSearchParams({key:this.photoApiKey});return this.request(this.MEDIA_COMPLAIN_URL,{method:"post",data:t,withCredentials:!0,headers:Object.assign({},e.accessToken&&{Authorization:`Bearer ${e.accessToken}`}),params:i}).then(lI).catch((0,Fj.eY)("sendFeedback",e,this.REQUEST_ID))}createFormDataMediaComplaint(e){const t=(0,Gw.J)();return t.append("email",e.emailValue||""),t.append("description",e.message||""),t.append("media_id",e.photoId),t}}function dI({data:e}){if("ok"!==e.result)throw{name:"FeedbackError",message:e.result,code:400};return{code:200}}function lI({data:e}){if(200!==e.meta.code)throw{name:"FeedbackError",message:e.result,code:400};return{code:200}}function uI(e){var t;const{data:i}=e;if("error"in i){const e=new Error(i.error);throw e.name=i.status,e}const{meta:s,result:r}=i;if([400,403,500].includes(s.code)){const e=s.error?`${s.error.message} (${s.code})`:`Unknown MarketAPI error (${s.code})`;if(500===s.code)throw new lw.Dr(e,s.code);const i=new Error(e);throw i.name=(null===(t=s.error)||void 0===t?void 0:t.type)||i.name,i}return Object.assign(Object.assign({},r),{code:s.code,error:s.error})}function pI(e){const[t,i]=e;return{point1:`${t.lon},${t.lat}`,point2:`${i.lon},${i.lat}`}}function mI(e){const t={};return(0,Y.jJ)(e,((e,i)=>{e&&(t[i]=e)})),t}const gI=([e,t])=>({id:e,label:e,count:3,children:t?t.map(gI):[]}),hI=gI(["Товары",[["Автотовары",[["Шины",[]]]],["Лекарства",[["Лекарства",[]],["Витамины",[]],["БАД",[]],["Медицинские изделия",[]]]],["Строительные материалы",[["Брус",[]],["Доски",[]],["ДСП",[]],["МДФ",[]],["Фанера",[]],["Шпаклевка",[]],["Штукатурка",[]],["Кирпич",[]],["Гипсокартон",[]],["Межкомнатные двери",[]],["Входные двери",[]]]],["Отделочные материалы",[["Ламинат",[]],["Линолеум",[]],["Обои",[]],["Керамическая плитка",[]],["Керамогранит",[]],["Краски",[]],["Эмали",[]]]],["Сантехника",[["Ванны",[]],["Унитазы",[]],["Смесители",[]],["Душевые кабины",[]],["Раковины",[]]]],["Электроинструмент",[["Дрели",[]],["Перфораторы",[]],["УШМ (Болгарки)",[]],["Шуруповёрты",[]]]],["Крепёжные изделия",[["Гвозди",[]],["Саморезы",[]],["Болты",[]],["Дюбели",[]]]]]]),fI=["69","4","46","25","33","78","31","9","65","41","11","21","40","5","58","23","7","10","73","86","32","29","12","19","45","6","74","1","76","2","48","16","24","44","18","38","43","54","39","81","47","97","22","3","36","13","83","17","35","53","15","50","28"],vI={feature_config:"categories_without_fake_first_level,range_price_type_supported,from_price_type_supported"};class bI{constructor(e,t){this.request=e;const i=t.marketApiUrl;this.GET_SUGGESTIONS_URL=`${i}product/suggest`,this.SEARCH_PRODUCTS_URL=`${i}product/items`,this.SEARCH_PRODUCTS_BY_BRANCH_URL=`${i}product/items_by_branch`,this.GET_OFFERS_URL=`${i}offer/items`,this.GET_OFFERS_GROUPED_BY_ORG_URL=`${i}offer/items_by_org`,this.GET_PRODUCT_OFFER_WITH_ITEMS=`${i}offer/items_with_products`,this.GET_REALTY_URL=`${i}realty/items`,this.GET_REALTY_MARKERS=`${i}realty/markers`,this.GET_EXCHANGE_ITEMS=`${i}currency_exchange/items`,this.GET_EXCHANGE_MARKERS=`${i}currency_exchange/markers`,this.GET_EXCHANGE_ITEMS_BY_BRANCH=`${i}currency_exchange/items_by_branch`,this.SBER_MM_CC_CHECKOUT=`${i}partner/smm/cc/checkout`,this.GET_PRICE_LIST_IMAGES=`${i}price_list_images/items_by_branch`,this.GET_GEO_BY_ID_URL=`${t.marketGeoApiUrl}product/items_by_geo`,this.REQUEST_ID=t.requestId,this.CLIENT_ID=t.clientId}getProjectCategories({projectId:e}){return fI.includes(e)?Promise.resolve({code:200,categories:hI}):Promise.reject({code:404})}getSuggestions(e){const{query:t,branchId:i,viewpoint:s,locale:r}=e;return this.request(this.GET_SUGGESTIONS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({},vI),{q:t,branch_id:i}),pI(s)),{locale:r,types:"category,org_product,raw_product"})}).then(uI).catch((0,Fj.eY)("getSuggestions",e,this.REQUEST_ID))}searchProductsById(e){return this.searchProducts(e)}getBranchCategoriesAndProducts(e){return this.getProductsByBranch(e)}searchBranchProducts(e){return this.getProductsByBranch(Object.assign(Object.assign({},e),{page:e.page||1}))}getOffers(e){const{productId:t,buildingId:i,viewpoint:s,locale:r,page:n=1,filters:a={}}=e;return this.request(this.GET_OFFERS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({product_id:t,building_id:i},pI(s)),{locale:r,page:n,page_size:M.H0}),mI(a)),vI)}).then(uI).catch((0,Fj.eY)("getOffers",e,this.REQUEST_ID))}getOffersGroupedByOrg(e){const{productId:t,buildingId:i,viewpoint:s,locale:r,page:n=1,filters:a={}}=e;return this.request(this.GET_OFFERS_GROUPED_BY_ORG_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({product_id:t,building_id:i},pI(s)),{locale:r,page:n,page_size:M.H0}),mI(a)),vI)}).then(uI).catch((0,Fj.eY)("getOffersGroupedByOrg",e,this.REQUEST_ID))}getRealtyItem(e){const{id:t,locale:i}=e,s={platform_code:this.CLIENT_ID,locale:i,id:t};return this.request(`${this.GET_REALTY_URL}/${t}`,{params:s}).then(uI).catch((0,Fj.eY)("getRealtyItem",s,this.REQUEST_ID))}getRealtyMarkers(e){const{category_ids:t,viewpoint:i,locale:s,geo_id:r,filters:n}=e,a=Object.assign(Object.assign(Object.assign({platform_code:this.CLIENT_ID,category_ids:t},pI(i)),{locale:s,geo_id:r}),mI(n||{}));return this.request(this.GET_REALTY_MARKERS,{params:a}).then(uI).catch((0,Fj.eY)("getRealtyMarkers",a,this.REQUEST_ID))}getRealtyItems(e){const{category_ids:t,viewpoint:i,page:s=1,locale:r,filters:n,pageSize:a,geometry:o,geo_id:c,sort:d,platformCode:l}=e,u=Object.assign(Object.assign(Object.assign({platform_code:l||this.CLIENT_ID,category_ids:t},pI(i)),{page:s,locale:r,page_size:a||M.iE,geometry:o,geo_id:c,sort:d}),mI(n||{}));return this.request(this.GET_REALTY_URL,{params:u}).then(uI).catch((0,Fj.eY)("getRealtyItems",u,this.REQUEST_ID))}getRealtyForEntityTab(e){const{geoId:t,locale:i,page:s}=e,r=Object.assign({geo_id:t,locale:i,page:s,page_size:M.iE},this.CLIENT_ID?{product_id:this.CLIENT_ID}:void 0);return this.request(this.GET_GEO_BY_ID_URL,{params:r}).then(uI).catch((0,Fj.eY)("getRealtyForEntityTab",e,this.REQUEST_ID))}getProductOfferWithItems(e){const{branchId:t,productIds:i,locale:s}=e,r={branch_id:t,product_ids:i.slice(0,50).join(","),locale:s};return this.request(this.GET_PRODUCT_OFFER_WITH_ITEMS,{params:r}).then(uI).catch((0,Fj.eY)("getProductOfferWithItems",e,this.REQUEST_ID))}getExchangeItems(e){const t=Object.assign({locale:e.locale,currency:e.currency,volume:e.volume,action:e.action,page:e.page,page_size:e.page_size},pI(e.viewpoint));return this.request(this.GET_EXCHANGE_ITEMS,{params:t}).then(uI).catch((0,Fj.eY)("getExchangeItems",e,this.REQUEST_ID))}getExchangeMarkers(e){const t=Object.assign({locale:e.locale,currency:e.currency,volume:e.volume,action:e.action},pI(e.viewpoint));return this.request(this.GET_EXCHANGE_MARKERS,{params:t}).then(uI).catch((0,Fj.eY)("getExchangeMarkers",e,this.REQUEST_ID))}getExchangeByBranch(e){const t={locale:e.locale,branch_id:e.branch_id};return this.request(this.GET_EXCHANGE_ITEMS_BY_BRANCH,{params:t}).then(uI).catch((0,Fj.eY)("getExchangeByBranch",e,this.REQUEST_ID))}sberMMCheckout(e){const t=e.payload;return this.request(this.SBER_MM_CC_CHECKOUT,{data:t,method:"post",params:{locale:e.locale}}).then((e=>e.data)).catch((e=>{var t,i;const s=null===(i=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.response)||void 0===i?void 0:i.data;if(s)return s;throw e})).catch((0,Fj.eY)("sberMMCheckout",e,this.REQUEST_ID))}getPriceListImages(e){return this.request(this.GET_PRICE_LIST_IMAGES,{params:{locale:e.locale,branch_id:e.branchId}}).then(uI).then((e=>e[0])).catch((0,Fj.eY)("getPriceListImages",e,this.REQUEST_ID))}searchProducts(e){const{query:t,productId:i,buildingId:s,viewpoint:r,locale:n,page:a=1,filters:o={},category_ids:c,page_size:d}=e;return this.request(this.SEARCH_PRODUCTS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({q:t,product_id:i,building_id:s},pI(r)),{locale:n,page:a,page_size:d||M.S0}),c?{category_ids:c}:{}),mI(o)),vI)}).then(uI).catch((0,Fj.eY)("searchProducts",e,this.REQUEST_ID))}getProductsByBranch(e){const{query:t,branchId:i,locale:s,page:r,filters:n={}}=e,a=Object.assign(Object.assign({q:t,branch_id:i,locale:s,page:r,page_size:M.H0},mI(n)),vI);return this.request(this.SEARCH_PRODUCTS_BY_BRANCH_URL,{params:a}).then(uI).catch((0,Fj.eY)("searchProducts",e,this.REQUEST_ID))}}function yI(e){return Object.keys(e).reduce(((t,i)=>e[i]?[...t,`${i}=${e[i]}`]:t),[]).join("&")}const xI=(e,t)=>({getUserInfo:({accessToken:i,refreshToken:s})=>e(`${t.authUrl}users/me`,{method:"get",params:{access_token:i}}).then((e=>({data:e.data,access_token:i,refresh_token:s}))).catch((0,Fj.eY)("getUserInfo",{},t.requestId)),deleteProfile(i){const{accessToken:s,locale:r="ru_RU"}=i;return e(`${t.authUrl}users/me`,{method:"delete",params:{access_token:s,locale:r}}).then((()=>Promise.resolve())).catch((0,Fj.eY)("deleteProfile",{},t.requestId))},confirmRegistration:i=>e(`${t.authUrl}users/me/confirmation`,{method:"post",data:yI({grant_type:"email"}),params:{access_token:i.accessToken}}).then((()=>Promise.resolve())).catch((0,Fj.eY)("confirmRegistration",{},t.requestId)),fetchOauthToken:i=>e(`${t.authUrl}oauth/token`,{method:"post",data:yI(i)}).then((e=>e.data)).catch((0,Fj.eY)("fetchOauthToken",{grant_type:i.grant_type},t.requestId)),revokeToken:i=>e(`${t.authUrl}oauth/revoke`,{method:"post",data:yI({access_token:i.access_token,refresh_token:i.refresh_token})}).catch((0,Fj.eY)("revokeToken",{},t.requestId)),getPhoneConfirmationCode:i=>e(`${t.authUrl}confirmation/sms-code`,{method:"post",params:{locale:i.locale||"ru_RU",client_id:i.authClientId,access_token:i.accessToken},data:yI({action:i.action,phone:encodeURIComponent(i.phone),segment_id:i.segmentId})}).then((e=>e.data)).catch((e=>(0,lw.Yr)("confirmationCode",t.requestId,e))),confirmPhone:i=>e(`${t.authUrl}users/me/phone`,{method:"put",params:{locale:i.locale||"ru_RU",client_id:i.authClientId,access_token:i.accessToken},data:yI({phone:encodeURIComponent(i.phone),confirmation_code:i.confirmationCode})}).then((e=>e.data)).catch((e=>(0,lw.Yr)("confirmPhone",t.requestId,e))),updateUserInfo:i=>e(`${t.authUrl}users/me`,{method:"patch",params:{locale:i.locale||"ru_RU",client_id:i.authClientId,access_token:i.accessToken},data:yI(i.userInfo)}).then((e=>e.data)).catch((0,Fj.eY)("updateUserInfo",{userInfo:i.userInfo},t.requestId)),updateEmail:i=>e(`${t.authUrl}users/me/email`,{method:"put",params:{locale:i.locale||"ru_RU",client_id:i.authClientId,access_token:i.accessToken},data:yI({new_email:i.email})}).then((e=>e.data)).catch((0,Fj.eY)("updateEmail",i,t.requestId)),confirmEmail:i=>e(`${t.authUrl}users/me/confirmation`,{method:"post",params:{locale:i.locale||"ru_RU",access_token:i.accessToken},data:yI({grant_type:"email"})}).then((e=>e.data)).catch((0,Fj.eY)("updateEmail",i,t.requestId))});class jI{constructor(e,t){this.request=e,this.videoServiceVersion=t.videoServiceVersion,this.REQUEST_ID=t.requestId}getVideoData(e){return this.request(`${e}/${this.videoServiceVersion}`,{withCredentials:!1}).then((e=>{if(null!==e.data&&"object"==typeof e.data)return e.data;throw new Error("response is not json data")})).catch((0,Fj.eY)("getVideoData",{url:e},this.REQUEST_ID))}}function wI(e){return`{ ${Object.keys(e).reduce(((t,i)=>{const s=e[i];switch(typeof s){case"object":{const e=s;return s?Array.isArray(e)?`${t} ${i}: [ ${e.map(wI).join(", ")} ]`:`${t} ${i}: ${wI(e)}`:t}case"string":return`${t} ${i}: "${s.replace(/"/g,"'")}"`;case"number":return`${t} ${i}: ${s}`;case"boolean":return`${t} ${i}: ${s}`;default:return t}}),"").trim()} }`}class II{constructor(e,t){this.request=e,this.domain=t.aggregatorUrl+"/normalized",this.config=t}updateProfile(e){const{first_name:t,middle_name:i,last_name:s,accessToken:r,locale:n,requestId:a,avatarUrl:o,public_identity_accepted:c}=e,d=function(e){return`updateUser {\n    updateMeInfo(partialUser: ${wI({first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,avatar_url:e.avatarUrl,public_identity_accepted:e.public_identity_accepted})}) {\n      id\n      display_name\n      ${e.first_name?"first_name":""}\n      ${e.middle_name?"middle_name":""}\n      ${e.last_name?"last_name":""}\n      ${e.avatarUrl?"avatar_url":""}\n      ${void 0!==e.public_identity_accepted?"public_identity_accepted":""}\n    }\n  }`}({first_name:t,middle_name:i,last_name:s,public_identity_accepted:c,avatarUrl:o}),l={accessToken:r,locale:n},u=`mutation ${d}`;return this.submitGraphQLRequest({params:l,query:u,requestId:a}).then((t=>t.data.data.updateMeInfo.entities.users[e.userId])).catch((0,Fj.eY)("updateProfile",e,a))}updateEmail(e){return this.request(`${this.config.authUrl}users/me/email`,{method:"put",params:{locale:e.locale,client_id:e.clientId,access_token:e.accessToken},data:yI({new_email:e.email})}).then((t=>{if(t.data.code&&200!==t.data.code&&204!==t.data.code)throw t.data;return{id:e.userId,new_email:e.email}})).catch((0,Fj.eY)("updateEmail",e,this.config.requestId))}deleteProfile(e){const{accessToken:t,locale:i,requestId:s}=e,r={accessToken:t,locale:i};return this.submitGraphQLRequest({params:r,query:"mutation {\n    deleteMe\n  }",requestId:s}).then((e=>({isDeleted:e.data.data.deleteMe}))).catch((0,Fj.eY)("deleteProfile",e,s))}submitGraphQLRequest({params:e,query:t}){const i={session_token:e.accessToken,locale:e.locale};return this.request(this.domain,{method:"post",data:t,params:i,headers:{"content-type":"application/graphql","Auth-Version":"2.0",Accept:"*/*"}})}}function CI(...e){if(window.gtag){const[t,i,s,r,n]=e,a=Object.assign(Object.assign(Object.assign({category:t},s&&{label:s}),r&&{value:r}),n&&{fieldsObject:n});window.gtag("event",i,a)}}function _I(e){window.gtag&&window.gtag("event","ChangeProject",{project_id:e})}function kI(){window.gtag&&window.gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted"})}let OI="";function SI(){return{trackGoogleEvent:CI,changeGoogleProjectId:_I,setGoogleConsentGranted:kI,trackPageview:()=>{var e;window.gtag&&window.gtag("event","page_view",{page_path:window.location.pathname+window.location.search,page_location:window.location.origin+window.location.pathname+window.location.search,page_title:document.title}),window.ym_default&&window.ym_default("hit",window.location.origin+window.location.pathname+window.location.search,{title:document.title}),jn(),(null===(e=window.fbqImageTrack)||void 0===e?void 0:e.isImgMethod)&&((new Image).src=`https://www.facebook.com/tr?id=${window.fbqImageTrack.counterId}&ev=PageView&hash=${Math.random()}`),function(){function e(){window.tnsCounter2gis_ru.hit(void 0,window.location.href,(OI||document.referrer).replace(/\*/g,"%2a")),OI=window.location.origin+window.location.pathname}(window.tnsCounter2gis_ru||window.tnscounter_callback)&&(window.tnsCounter2gis_ru?e():window.tnscounter_callback.push(e))}()}}}class TI{constructor(e,t){this.request=e,this.REQUEST_ID=t.requestId,this.FEEDBACK_URL=`${t.dataFeedbackApiUrl}feedback`,this.FEEDBACKS_PER_PAGE=t.feedbacksPerPage}sendFeedback(e){const{feedback:t,userToken:i}=e,s={data:this.createData(t),method:"post",withCredentials:!0,headers:Object.assign({},i&&{Authorization:`Bearer ${i}`}),timeout:0};return this.request(this.FEEDBACK_URL,s).then(this.formatApiResponse).catch((0,Fj.eY)("typedFeedback",{url:this.FEEDBACK_URL,data:s},this.REQUEST_ID))}getUserFeedbacks(e){const t={Authorization:`Bearer ${e.accessToken}`};return this.request(this.FEEDBACK_URL,{method:"get",headers:t,params:{locale:e.locale,offset:e.offset,limit:this.FEEDBACKS_PER_PAGE}}).then((e=>({items:e.data.items}))).catch((0,Fj.eY)("getUserFeedbacks",{url:this.FEEDBACK_URL,data:{offset:e.offset,locale:e.locale}},this.REQUEST_ID))}getUserFeedbacksCount(e){const t={Authorization:`Bearer ${e.accessToken}`};return this.request(`${this.FEEDBACK_URL}/count`,{method:"get",headers:t}).then((e=>({total:e.data.total}))).catch((0,Fj.eY)("getUserFeedbacksCount",{url:this.FEEDBACK_URL},this.REQUEST_ID))}createData(e){const t=(0,Gw.J)(),{user:i,attachments:s}=e,r=(0,Pe.Tt)(e,["user","attachments"]);return s&&s.forEach((e=>{t.append("attachments[]",e,e.name)})),t.append("feedback",JSON.stringify(Object.assign(Object.assign({},r),{user:i}))),t}formatApiResponse({data:e}){if(!e.feedback_id)throw{name:"DataFeedbackError",message:e.message,code:400};return{code:200,message:e.message,feedbackId:e.feedback_id}}}const EI=15e3;function MI(e,t){const{favoritesApiUrl:i,requestId:s}=t,r=()=>({timestamp:String(Date.now())});return{syncPublicFavorites({filter:t}){const n=Object.assign(Object.assign({},r()),{payload:{favorites:{filter:t}}});return e(`${i}public/sync`,{method:"post",data:n,headers:{"Content-Type":"application/json"},timeout:EI}).then((e=>e.data.favorites)).catch((0,Fj.eY)("syncPublicFavorites",n,s))},syncPersonalFavorites({last_sync:t,objects:n,access_token:a}){const o=`${i}personal/collections/sync`,c=Object.assign(Object.assign({},r()),{access_token:a,payload:{personal_favorites:{last_sync:t,objects:n}}});return e(o,{method:"post",data:c,headers:{"Content-Type":"application/json"},timeout:EI}).then((e=>e.data.personal_favorites)).catch((0,Fj.eY)("syncPersonalFavorites",c,s))},syncPlaces({last_sync:t,objects:n,access_token:a}){const o=`${i}personal/places/sync`,c=Object.assign(Object.assign({},r()),{access_token:a,payload:{places:{last_sync:t,objects:n}}});return e(o,{method:"post",data:c,headers:{"Content-Type":"application/json"},timeout:EI}).then((e=>e.data.places)).catch((0,Fj.eY)("syncPlaces",c,s))}}}let NI={sync:{lastSync:"0",lastSyncAttr:{project_id:{}}},objects:{},changes:{}};const LI={sync:{lastSync:"0",lastSyncAttr:{project_id:{}}},objects:{},changes:{}};function PI(){let e=LI,t=LI;return{getPublic:()=>Promise.resolve(NI),setPublic:e=>(NI=e,Promise.resolve()),getPersonal:()=>Promise.resolve(e),setPersonal:t=>(e=t,Promise.resolve()),getPlaces:()=>Promise.resolve(t),setPlaces:e=>(t=e,Promise.resolve()),clearPersonal:()=>(e=LI,Promise.resolve()),clearPlaces:()=>(t=LI,Promise.resolve())}}function RI({data:e}){return{items:"object"==typeof e?e:[],total:"object"==typeof e?e.length:0,code:200}}function AI({data:e}){return{items:"object"==typeof e&&e.transport||[],total:"object"==typeof e&&e.transport&&e.transport.length||0,code:200}}function BI({data:e}){return{items:"object"==typeof e?e.result:[],total:"object"==typeof e?e.result.length:0,code:200}}function zI(e,t,i){const s=Math.floor(Date.now()/1e3);return t.reduce(((r,{platformCount:n,directionId:a},o)=>{const c=t.reduce(((e,t,i)=>i<o?e+t.platformCount:e),0),d=c+n,l=e.data.responses.slice(c,d).map((({schedules:e})=>function(e,t,i,s){const r=e.filter((({direction_id:e})=>e===t)),n=r.some((({schedule:e})=>"precise"===e.type&&e.forecast)),a=r.filter((({schedule:e})=>n?"precise"===e.type&&e.forecast:"precise"===e.type)).map((({schedule:e})=>n||"precise"!==e.type?Math.ceil((e.start_time-i)/60-s):e.precise_time));return a}(e,a,s,i)));return[...r,l]}),[])}function FI(e){switch(e.split("_")[0]){case"ar":return"ar";case"az":return"az";case"en":return"en";case"es":return"es";case"it":return"it";case"cs":return"cs";case"uz":return"uz";case"kk":return"kk";case"hy":return"hy";case"ka":return"ka";default:return"ru"}}var HI=i(80739);function UI(e){return Hh.qt.includes(e)}function DI(e){const t=function(e={}){const t=e[Hh.$C];return t?(0,HI.v)(t).filter(UI):[]}(e);return t.length?t:Hh.qt}function VI(e,t){const[i,s]=e;return{topLeft:{x:i.lon,y:i.lat},bottomRight:{x:s.lon,y:s.lat},zoom:t}}function $I(e){return e.map(((t,i)=>({type:0===i||i===e.length-1?"pedo":"pref",x:t.lonLat.lon,y:t.lonLat.lat,object_id:t.entityId,floor_id:t.floorId})))}const WI=["dangerous_cargo","explosive_cargo"],qI=["max_perm_mass","mass","axle_load","height","width","length"];function ZI(e){if(!e)return;const t={};return(0,Y.jJ)(e,((e,i)=>{if((0,Y.O9)(e))if((e=>WI.includes(e))(i))t[i]="true"===e;else if((e=>qI.includes(e))(i)){const s=parseFloat(e);Number.isNaN(s)||(t[i]=s)}})),Object.keys(t).length>0?t:void 0}function QI(e,t){const{ppnotApiUrl:i,ppnotTypesApiUrl:s,ppnaApiUrl:r,pedestrianApiUrl:n,ppngApiUrl:a,requestId:o,webApiKey:c}=t,d="baf4c54e9dae";return{ppnot({points:t,zoom:s,locale:r,viewpoint:n,needImmersion:a,filterValues:l,projectCode:u}){const p=`${i}/${u}`,m=t[0],g=t[t.length-1],h={locale:FI(r),enable_schedule:!0,source:{point:m.lonLat,object_id:m.entityId,name:"Source"},target:{point:g.lonLat,object_id:g.entityId,name:"Target"},transport:DI(l),purpose:"routeSearch",viewport:VI(n,s),start_time:Math.ceil(Date.now()/1e3),need_immersion:a},f={key:c};return e(p,{method:"post",params:Object.assign(Object.assign({},f),{r:Tw(p,f,d,JSON.stringify(h))}),data:h}).then(RI).catch((e=>(e.response&&404!==e.response.status&&(0,Fj.eY)("directionsApi.pedestrian",{projectCode:u,data:h},o),{items:[],total:0,code:200})))},ppnotTypes({projectCode:t}){const i=`${s}/filters/${t}`,r={},n={key:c};return e(i,{method:"post",params:Object.assign(Object.assign({},n),{r:Tw(i,n,d,JSON.stringify(r))}),data:r}).then(AI).catch((0,Fj.eY)("directionsApi.ppnotTypes",{projectCode:t},o))},ppna({points:t,zoom:i,locale:s,viewpoint:n,needImmersion:a}){const l=`${r}/global`,u={locale:FI(s),point_a_name:"Source",point_b_name:"Target",points:$I(t),purpose:"autoSearch",type:"online5",extended_colors:!0,viewport:VI(n,i),need_immersion:a},p={key:c};return e(l,{method:"post",params:Object.assign(Object.assign({},p),{r:Tw(l,p,d,JSON.stringify(u))}),data:u}).then(BI).catch((0,Fj.eY)("directionsApi.ppna",{data:u},o))},pedestrian({points:t,zoom:i,locale:s,viewpoint:r,projectCode:a,useIndoor:l}){const u=`${n}/${a}`,p={locale:FI(s),point_a_name:"Source",point_b_name:"Target",points:$I(t),type:"pedestrian",purpose:"autoSearch",viewport:VI(r,i),use_indoor:l},m={key:c};return e(u,{method:"post",params:Object.assign(Object.assign({},m),{r:Tw(u,m,d,JSON.stringify(p))}),data:p}).then(BI).catch((0,Fj.eY)("directionsApi.pedestrian",{projectCode:a,data:p},o))},ppng({points:t,zoom:i,locale:s,viewpoint:r,needImmersion:n,filterValues:l}){const u=`${a}/global`,p=ZI(l),m=Object.assign(Object.assign({locale:FI(s),point_a_name:"Source",point_b_name:"Target",points:$I(t),purpose:"autoSearch",type:"truck_jam",alternative:0,viewport:VI(r,i)},p&&{truck_params:p}),{need_immersion:n}),g={key:c};return e(u,{method:"post",params:Object.assign(Object.assign({},g),{r:Tw(u,g,d,JSON.stringify(m))}),data:m}).then(BI).catch((0,Fj.eY)("directionsApi.ppng",{data:m},o))},searchPlatformsSchedule({project:t,platforms:i,entity:r,timezoneOffset:n}){const a=`${s}/search_schedule`,l={key:c},u=Math.ceil(Date.now()/1e3),p=(r.directions||[]).map((({id:e,platforms:t})=>({directionId:e,platformCount:t.length}))),m={requests:i.flat().map((e=>({type:"full_day_platform",project:t,request:{departure_time:u,platforms:[e],routes:[r.id]}})))};return e(a,{method:"post",params:Object.assign(Object.assign({},l),{r:Tw(a,l,d,JSON.stringify(m))}),data:m}).then((e=>zI(e,p,n))).catch((0,Fj.eY)("directionsApi.searchPlatformsSchedule",{data:m},o))},searchDirectionsInterval({project:t,directions:i,timezoneOffset:r}){const n=`${s}/search_schedule`,a={key:c},l=Math.ceil(Date.now()/1e3),u={requests:i.map((e=>({type:"interval_trip",project:t,request:{departure_time:l,direction_id:e}})))};return e(n,{method:"post",params:Object.assign(Object.assign({},a),{r:Tw(n,a,d,JSON.stringify(u))}),data:u}).then((e=>function(e,t){const i=e=>Math.ceil(1e3*e-6e4*t);return e.data.responses.map((e=>{if(!e.work_hours)return e;const t=i(e.work_hours.start_time),s=i(e.work_hours.finish_time);return Object.assign(Object.assign({},e),{work_hours:{start_time:t,finish_time:s}})}))}(e,r))).catch((0,Fj.eY)("directionsApi.searchDirectionsInterval",{data:u},o))}}}function GI(e,t){return{trafficScore(i){const s=(0,Y.bG)(t.trafficApiUrl,{s:Math.floor(10*Math.random()).toString(10),regionCode:i.regionCode});return e(s,{headers:{Accept:"text/plain"}}).then((e=>{const t=e.data.match(/^'(\d{1,2}),?([+-])?'$/);return t&&void 0!==t[1]?+t[1]:0}))}}}function KI(e,t){return{getUserAchievements(i){const{locale:s,accessToken:r}=i,n=`${t.achievesApiUrl}achieves`;return e(n,{params:{locale:s,fields:"meta.contest_progress_weeks"},headers:{Accept:"application/json",Authorization:`Bearer ${r}`}}).then((({data:e})=>e))}}}function YI(e,t){return{getUserContestStatus(i){const{locale:s,contestId:r,accessToken:n}=i,a=`${t.contestApiUrl}contests/${r}`;return e(a,{params:{locale:s,accessToken:n},headers:{Accept:"application/json",Authorization:`Bearer ${n}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getUserContestStatus",i,t.requestId))},joinUser(i){const{locale:s,contestId:r,accessToken:n}=i,a=`${t.contestApiUrl}contests/${r}/join`;return e(a,{method:"post",params:{locale:s,access_token:n},headers:{Accept:"application/json",Authorization:`Bearer ${n}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("joinUser",i,t.requestId))}}}function XI({data:e}){return e?{items:e,code:200}:{items:[],code:200}}function JI(e){return 202===e.status?{code:200}:{code:500}}function eC(e,t){const{pusherApiUrl:i,requestId:s}=t;return{fetchDevices:({authToken:t})=>e(`${i}devices`,{method:"get",headers:{"auth-token":t}}).then(XI).catch((0,Fj.eY)("fetchDevices",{authToken:t},s)),messageMe(t){const r=`${i}messages/me`,{authToken:n,deviceId:a,title:o,body:c,url:d}=t;return e(r,{method:"post",headers:{"auth-token":n},data:{app_instance_ids:[a],data:{title:o,body:c,url:d}}}).then(JI).catch((0,Fj.eY)("messageMe",t,s))}}}function tC(e){return e&&e.data&&e.data.length?{items:e.data,total:e.data.length,code:200}:{items:[],total:0,code:200}}const iC='["camera","crash","roadwork","restriction","comment","other"]';function sC(e,t){const{tugcApiUrl:i,requestId:s}=t;return{getUserLayers({regionCode:t}){const r={project:t,layers:iC};return e(`${i}layers/user`,{params:r}).then(tC).catch((0,Fj.eY)("getLayers",r,s))},get2GisLayers({regionCode:t}){const r={project:t,layers:iC};return e(`${i}layers/2gis`,{params:r}).then(tC).catch((0,Fj.eY)("getLayers",r,s))},getPhotos({eventId:t}){const r={id:t};return e(`${i}event/photo`,{params:r}).then(tC).catch((0,Fj.eY)("getLayers",r,s))}}}function rC(e,t){const{paymentsApiUrl:i,requestId:s,userId:r}=t,n="online";return{checkoutOrder(a){const{idempotencyKey:o,entityId:c,orgId:d,user:l,cart:u,comment:p,accessToken:m,locale:g}=a;return e(`${i}payments/api/1.0/checkout`,{method:"post",data:{orgId:d,branchId:c,user:l,cart:u,comment:p},headers:nC({accessToken:m,platform:n,commitIsoDate:t.commitIsoDate,bssUserId:r,idempotencyKey:o,locale:g}),withCredentials:!1}).then((e=>({code:200,total:1,items:[e.data]}))).catch((0,Fj.eY)("checkoutOrder",a,s))},checkoutDelivery(a){const{idempotencyKey:o,entityId:c,orgId:d,user:l,cart:u,delivery:p,payment:m,comment:g,accessToken:h,locale:f}=a;return e(`${i}payments/api/2.0/checkout`,{method:"post",data:{orgId:d,branchId:c,user:l,cart:u,delivery:p,payment:m,comment:g},headers:nC({accessToken:h,platform:n,commitIsoDate:t.commitIsoDate,bssUserId:r,idempotencyKey:o,locale:f}),withCredentials:!0}).then((e=>e.data)).catch((0,Fj.eY)("checkoutDelivery",a,s))},getOrders(s){const{accessToken:a,locale:o}=s;return e(`${i}payments/api/2.0/orders`,{params:{limit:999},headers:nC({accessToken:a,platform:n,commitIsoDate:t.commitIsoDate,bssUserId:r,idempotencyKey:void 0,locale:o})}).then((e=>e.data)).catch((0,Fj.eY)("getOrders",s,t.requestId))},cancelOrder(s){const{accessToken:a,locale:o,orderId:c}=s;return e(`${i}payments/api/2.0/orders/${c}/cancel`,{method:"post",headers:nC({accessToken:a,platform:n,commitIsoDate:t.commitIsoDate,bssUserId:r,idempotencyKey:void 0,locale:o})}).then((e=>e.data)).catch((0,Fj.eY)("cancelOrder",s,t.requestId))},getDeliveryCalculation(s){const{orgId:a,branchId:o,cart:c,delivery:d,locale:l}=s;return e(`${i}payments/api/2.0/calculate`,{method:"post",headers:nC({accessToken:void 0,platform:n,commitIsoDate:t.commitIsoDate,bssUserId:r,idempotencyKey:void 0,locale:l}),data:{orgId:a,branchId:o,cart:c,delivery:d}}).then((e=>e.data)).catch((e=>{var t,i,s;if("delivery_not_available_at_point"===(null===(s=null===(i=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.response)||void 0===i?void 0:i.data)||void 0===s?void 0:s.code))throw{name:"DeliveryNotAvailableError",message:e.details.response.data.message};throw e})).catch((0,Fj.eY)("getDeliveryCalculation",s,t.requestId))},getOrdersShort(s){const{accessToken:r,locale:a,type:o}=s;return e(`${i}payments/api/2.0/orders/short`,{params:{type:o},headers:nC({accessToken:r,platform:n,commitIsoDate:t.commitIsoDate,bssUserId:t.userId,idempotencyKey:void 0,locale:a})}).then((e=>e.data)).catch((0,Fj.eY)("getOrdersShort",s,t.requestId))}}}function nC(e){const{idempotencyKey:t,accessToken:i,platform:s,commitIsoDate:r,bssUserId:n,locale:a}=e;return Object.assign(Object.assign(Object.assign({},t?{"X-Idempotency-Key":t}:void 0),i?{Authorization:`Bearer ${i}`}:void 0),{"X-Device-Platform":"undefined"!=typeof window&&(navigator.standalone||matchMedia&&matchMedia("(display-mode: standalone)").matches)?"pwa":s,"X-App-Version":(0,Hw.v)(r),"X-Bss-User-Id":n,"X-Locale":a||""})}function aC(e,t){return{getData(i){const[s,r]=i.viewport;return e(`${t.etaApiUrl}/points/viewport`,{method:"post",data:{viewport:{topLeft:{x:s.lon,y:s.lat},bottomRight:{x:r.lon,y:r.lat},zoom:i.zoom},type:"online5",immersive:i.needImmersion}})},getCurrentDirectionsData(i){const{directions:s}=i;return e(`${t.etaApiUrl}/points/directions`,{method:"post",data:{directions:s,type:"online5",immersive:i.needImmersion}})},getHasBusInViewport(i){const[s,r]=i.viewport;return e(`${t.etaApiUrl}/points/has_bus_in_viewport`,{method:"post",data:{viewport:{topLeft:{x:s.lon,y:s.lat},bottomRight:{x:r.lon,y:r.lat},zoom:i.zoom},type:"online5"}})}}}function oC(e,t){return{getUserFriendsActivityByObjects(i){const{accessToken:s,objectsIds:r,maxFriendsPerObject:n}=i,a=`${t.userActivityApiUrl}activities/by-friends`;return e(a,{params:{max_friends_per_object:n||10,objects_ids:r.join(","),fields:"activities.friends.user,activities.friends.types,activities.friends.items,activities.total_friends"},headers:{Accept:"application/json",Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getUserFriendsActivityByObjects",i,t.requestId))},getUserActivity(i){const{accessToken:s}=i,r=`${t.userActivityApiUrl}activities/counters`;return e(r,{headers:{Accept:"application/json",Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getUserActivity",i,t.requestId))}}}function cC(e,t){return{getTaxaProviders(i){const{regionId:s}=i,r=`${t.taxaApiUrl}providers`;return e(r,{params:{region_id:s,screen:"card"},headers:{Accept:"application/json"}}).then((({data:e})=>e)).catch((0,Fj.eY)("getTaxaProviders",i,t.requestId))},searchTaxi(i){const{point1:s,point2:r,regionId:n}=i,a=`${t.taxaApiUrl}route/calculate`;return e(a,{method:"post",headers:{Accept:"application/json"},data:{point1:s,point2:r,region_id:n,screen:"card"}}).then((({data:e})=>e)).catch((0,Fj.eY)("searchTaxi",i,t.requestId))}}}function dC(e,t){return{getWalkDistanceData(i){const{regionId:s}=i;return e(`https://disk.2gis.com/transport-reach/${s}.json`).then((({data:e})=>e)).catch((0,Fj.eY)("getWalkDistanceData",i,t.requestId))},getRoadAccidentData(i){const{localityId:s}=i;return e(`https://disk.2gis.com/layers/dtp-stat/${s}.json`).then((({data:e})=>e)).catch((0,Fj.eY)("getRoadAccidentData",i,t.requestId))}}}function lC(e,t){return{getCollectionBySlug(i){const{slug:s}=i,r=(0,Pe.Tt)(i,["slug"]),n=`${t.otelloApiUrl}/hotel_collections/by_slug/${s}`;return e(n,{params:r}).then((({data:e})=>e)).catch((0,Fj.eY)("getCollectionBySlug",i,t.requestId))},getSeoPollSearcher(i){const{geoId:s,adults:r,checkin:n,checkout:a}=i,o=`${t.otelloFluidsearchSeoUrl}/poll-searcher`;return e(o,{method:"POST",data:{geo_id:s,adult_count:r,checkin_date:n,checkout_date:a}}).then((({data:e})=>e)).catch((0,Fj.eY)("getSeoPollSearcher",i,t.requestId))},getSeoPollSearcherProperties(i){const{sessionId:s,point:r,radius:n,sort:a,limit:o,page:c}=i,d=`${t.otelloFluidsearchSeoUrl}/poll-searcher/${s}/properties`;return e(d,{params:{by_radius:`${r.lon},${r.lat},${n}`,sort:a,limit:o,page:c}}).then((({data:e})=>e)).catch((0,Fj.eY)("getSeoPollSearcherProperties",i,t.requestId))}}}function uC(e,t){return{getData({start:i,durations:s,start_time:r,mode:n}){const a={simplify:!0,reverse:!1,start:i,durations:s,start_time:r,mode:n},o={key:t.webApiKey};return e(t.isochronesApiUrl,{method:"post",params:Object.assign(Object.assign({},o),{r:Tw(t.isochronesApiUrl,o,"baf4c54e9dae",JSON.stringify(a))}),data:a}).then((e=>e.data)).catch((0,Fj.eY)("getData",o,t.requestId))}}}function pC(e,t){return{getCongestion(i){const{id:s}=i,r=`${t.congestionApiUrl}congestion`;return e(r,{params:{branch_id:s}}).then((({data:e})=>e)).catch((0,Fj.eY)("getCongestion",i,t.requestId))}}}function mC(e,t){return{getUserChronologyPlaces(i){const{accessToken:s}=i,r=`${t.chronologyPlacesApiUrl}myplaces/authuser`,n={token:s,limit:M.zs};return e(r,{params:n,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>Object.assign(Object.assign({},e),{limit:n.limit}))).catch((0,Fj.eY)("getUserChronologyPlaces",i,t.requestId))},getUserChronologyPlacesByObjects(i){const{accessToken:s,ids:r}=i,n=`${t.chronologyPlacesApiUrl}myplaces/authuser/objects`,a={token:s,ids:r.join(","),limit:M.zs};return e(n,{params:a,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>Object.assign(Object.assign({},e),{limit:a.limit}))).catch((0,Fj.eY)("getUserChronologyPlacesByObjects",i,t.requestId))},approveChronologyPlace(i){const{accessToken:s,objectId:r}=i,n=`${t.checkinApiUrl}checkins`,a={object_id:r,source:"chronology",product_id:"34"};return e(n,{method:"post",data:`object_id=${r}&source=chronology&product_id=34`,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("approveChronologyPlace",a,t.requestId))},declineChronologyPlace(i){const{objectId:s,accessToken:r}=i,n=`${t.chronologyPlacesApiUrl}myplaces/authuser/${s}/decline`,a={token:r};return e(n,{method:"post",params:a,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("addChronologyPlace",a,t.requestId))}}}function gC(e,t){return{getCounters(i){const s=`${t.socialGraphApiUrl}social-graph/friends/counters`;return e(s,{headers:{Authorization:`Bearer ${i.accessToken}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getCounters",i,t.requestId))},getFriends(i){const{accessToken:s,limit:r=20,next_page_token:n,source:a,without_friends:o,offset:c}=i,d=`${t.socialGraphApiUrl}social-graph/friends`,l={limit:r,next_page_token:n,source:a,without_friends:o,offset:c};return e(d,{params:l,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getFriends",l,t.requestId))},getRecommendedFriends(i){const{accessToken:s,limit:r=20,next_page_token:n}=i,a=`${t.socialGraphApiUrl}social-graph/friends/all`,o={limit:r,next_page_token:n};return e(a,{params:o,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getRecommendedFriends",o,t.requestId))},getSubscribers(i){const{accessToken:s,limit:r=20,next_page_token:n}=i,a=`${t.socialGraphApiUrl}social-graph/friends/subscribers`,o={limit:r,next_page_token:n};return e(a,{params:o,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getSubscribers",o,t.requestId))},getSubscriptions(i){const{accessToken:s,limit:r=20,next_page_token:n}=i,a=`${t.socialGraphApiUrl}social-graph/friends/subscriptions`,o={limit:r,next_page_token:n};return e(a,{params:o,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getSubscriptions",o,t.requestId))},subscribe(i){const{accessToken:s,user_ids:r}=i,n=`${t.socialGraphApiUrl}social-graph/friends`;return e(n,{method:"post",headers:{Authorization:`Bearer ${s}`},data:{user_ids:r}}).catch((0,Fj.eY)("subscribeToFriends",{user_ids:r},t.requestId))},subscribeOnUser(i){const s=`${t.socialGraphApiUrl}social-graph/friend/${i.userId}`;return e(s,{method:"post",headers:{Authorization:`Bearer ${i.accessToken}`}}).catch((0,Fj.eY)("subscribeToUser",{userId:i.userId},t.requestId))},subscribeToAll(i){const{accessToken:s,excludedUserIds:r,source:n}=i,a=`${t.socialGraphApiUrl}social-graph/friends/all`;return e(a,{method:"post",params:{source:n},headers:{Authorization:`Bearer ${s}`},data:{user_ids:r}}).catch((0,Fj.eY)("subscribeToAllFriends",{user_ids:r,source:n},t.requestId))},unsubscribe(i){const{accessToken:s,user_ids:r}=i,n=`${t.socialGraphApiUrl}social-graph/friends`,a={user_ids:r.join(",")};return e(n,{method:"delete",params:a,headers:{Authorization:`Bearer ${s}`}}).catch((0,Fj.eY)("unsubscribe",a,t.requestId))},getUserFriendshipCounter(i){const{accessToken:s}=i,r={headers:{Authorization:`Bearer ${s}`}},n=`${t.socialGraphApiUrl}social-graph/users/friendship/counter`;return e(n,r).then((({data:e})=>e)).catch((0,Fj.eY)("getUserFriendsOnMap",i,t.requestId))},getUser(i){const{accessToken:s,id:r}=i,n={headers:{Authorization:`Bearer ${s}`}},a=`${t.socialGraphApiUrl}social-graph/users/${r}`;return e(a,n).then((({data:e})=>e)).catch((0,Fj.eY)("getUser",i,t.requestId))},getFriendsList(i){const{accessToken:s,limit:r=20,next_page_token:n}=i,a=`${t.socialGraphApiUrl}social-graph/users/friendship/list`,o={limit:r,next_page_token:n};return e(a,{params:o,headers:{Authorization:`Bearer ${s}`}}).then((({data:e})=>e)).catch((0,Fj.eY)("getFriendsList",o,t.requestId))}}}function hC(e,t){return{getGtaAdvise(i){const s=t.webApiKey,{regionId:r,authUserId:n,locale:a,viewport:o,query:c,userLocation:d,bannerSlot:l,object:u,objectId:p,queryContextRubrics:m}=i,g=`${t.casinoV3Url}advise/gta`,h=u||(p?{id:p}:void 0),f="0"!==r&&r?+r:void 0,v={withCredentials:!t.featureReadOnly,method:"post",data:{shv:(0,Hw.v)(t.commitIsoDate),userId:t.featureReadOnly?void 0:t.userId,key:s,authUserId:n,locale:a,productId:+t.clientId,viewport:o,query:c,projectId:f,userLocation:d,bannerSlot:l,object:h,queryContextRubrics:m},params:{key:s}};return e(g,v).then((({data:e})=>e.stories?Object.assign(Object.assign({},e),{stories:Object.assign(Object.assign({},e.stories),{objects:e.stories.objects.map((e=>Object.assign(Object.assign({},e),{content:Object.assign(Object.assign({},e.content),{slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"firm"})))}),source:"firm"})))})}):e)).catch((0,Fj.eY)("getAdsAdvise",i,t.requestId))}}}function fC({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):(t=e.meta.code,{result:"code",code:(0,lw.F6)(t)});var t}function vC(e,t){const{webApiKey:i,storyComplaintApiUrl:s,requestId:r}=t;return{sendStoryComplaint({segmentId:t,storyId:n,categoryCode:a,comment:o,userEmail:c,accessToken:d}){const l={segment_id:t,story_id:n,category_code:a,comment:o,source:{platform:"online"},user:{email:c}},u=function(e){return Object.assign(Object.assign({},e?{"Auth-Version":"2.0","Auth-Token":e}:void 0),{"Content-Type":"application/json","x-api-key":i})}(d);return e(`${s}v1/stories/complaints`,{method:"post",headers:u,data:l}).then(fC).catch((0,Fj.eY)("sendStoryComplaint",{segmentId:t,storyId:n,categoryCode:a,comment:o,userEmail:c},r))}}}function bC(e,t){return{getItem(i){const s=`${t.infoStoryUrl}3.0/stories/${i.id}`,r={method:"get",params:{locale:"ru",utcOffset:i.utcOffset,region:i.region,platform:"online_2gis",version:"1.0.0"}};return e(s,r).then((({data:e})=>Object.assign(Object.assign({},e),{source:"info",content:Object.assign(Object.assign({},e.content),{slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"info"})))})}))).catch((0,Fj.eY)("InfoStoriesApi.getItem",i,t.requestId))}}}var yC=i(33592);const xC=i(37397).$.join(",");function jC(e,t){const{requestId:i,locale:s,photosPerPage:r,photoApiUrl:n,photoApiKey:a,featureDiscoveryKeywords:o}=t;return{getMediaItemsByAlbums({objectId:t,albumId:c,accessToken:d,page_token:l,searchCtx:u,searchKeyword:p}){const m=new URLSearchParams(Object.assign(Object.assign(Object.assign({key:a,page_size:r.toString(),locale:s,preview_size:xC},l&&{page_token:l}),u&&{search_ctx:u}),p&&o?{search_keyword:p}:{}));return e(`${n}3.0/objects/${t}/albums/${c}/media`,{params:m,headers:Object.assign({},d?{"Auth-Version":"2.0","Auth-Token":d}:void 0)}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Fj.eY)("getMediaItemsByAlbums",m,i))},getMediaItemsLight({objectIds:t,size:s=M.du,searchCtx:r,searchKeywords:c}){if(t.length>25)throw new Error("getMediaItemsLight: objectIds.length must be less than 26");const d=new URLSearchParams(Object.assign(Object.assign({key:a,object_ids:t.join(","),preview_size:xC,size:s.toString()},r&&{search_ctx:r}),c&&o?{search_keywords:c}:{}));return e(`${n}3.0/media/light`,{params:d}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Fj.eY)("getMediaItemsLight",d,i))},getMediaItemsByIds(t){const r=`${n}3.0/media/by-id`,o=new URLSearchParams({key:a,id:t.join(","),preview_size:xC,locale:s});return e(r,{params:o}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Fj.eY)("getMediaItemsByIds",o,i))},getMediaUserItems({page:t,accessToken:o}){const c={key:a,preview_size:xC,page:t,size:r,locale:s,access_token:o};return e(`${n}3.0/users/me/media`,{params:c}).then((e=>{var t;if(e.data.error&&404!==(null===(t=e.data.meta)||void 0===t?void 0:t.code))throw new Error(e.data.error.message);return e.data})).catch((0,Fj.eY)("getMedtaUserItems",c,i))},uploadMediaFile({objectId:t,media:s,isMenuPhoto:r,accessToken:o}){const c=`${n}3.0/objects/${t}/media/init`,{file:d,id:l,type:u,hash:p}=s,m={media:[Object.assign({uid:l,type:u,size:d.size,hash:p},r?{album_id:M.ge}:{})]};return e(c,{method:"POST",params:{key:a},headers:Object.assign({},o?{"Auth-Version":"2.0","Auth-Token":o}:void 0),data:m,timeout:0}).then((t=>{if(t.data.errors)throw new Error(t.data.errors.map((e=>e.message)).join(", "));const i=t.data.media[0],{upload_url:s,finish_url:r,max_chunk_size:n,chunks_number:a}=i,o=function(e,t,i){const s=[];let r=0;for(;r<e.size;){const i=e.slice(r,r+t);s.push(i),r+=t}if(s.length!==i)throw new Error("Количество чанков не соответствует ожидаемому значению");const n=s.reduce(((e,t,i)=>(i%10==0&&e.push(s.slice(i,i+10)),e)),[]);return n}(d,n,a),c=(t,i,r=2,n=1e3)=>{const a={"Content-Type":"application/octet-stream","Chunk-Number":(i+1).toString()};return e(s,{method:"PUT",data:t,headers:a,timeout:0}).then((()=>{})).catch((e=>{if(r>0&&(e.details.response&&e.details.response.status>=500||"Network Error"===e.details.message))return new Promise((e=>{setTimeout((()=>{e(c(t,i,r-1,3*n))}),n)}));throw e}))},l=(e,t)=>{const i=e.map(((e,i)=>c(e,10*t+i)));return Promise.all(i)},u=(t=2,i=1e3)=>e(r,{method:"POST",timeout:0}).then((e=>e.data)).catch((e=>{if(t>0&&(e.details.response&&e.details.response.status>=500||"Network Error"===e.details.message))return new Promise((e=>{setTimeout((()=>{e(u(t-1,3*i))}),i)}));throw e}));return(()=>(0,Pe.sH)(this,void 0,void 0,(function*(){for(let e=0;e<o.length;e++){const t=o[e];yield l(t,e)}})))().then((()=>u().then((()=>({uid:i.uid,id:i.id,status:"success"})))))})).catch((0,Fj.eY)("uploadMediaFile",m,i))},deleteMedia({objectId:t,mediaId:s,accessToken:r}){const o=`${n}3.0/objects/${t}/media/${s}`,c=Object.assign({},r?{"Auth-Version":"2.0","Auth-Token":r}:void 0);return e(o,{method:"delete",headers:c,params:{key:a}}).then((e=>{var t;if(e.data.error&&404!==(null===(t=e.data.meta)||void 0===t?void 0:t.code))throw new Error(e.data.error.message);return{code:e.status,mediaId:s}})).catch((0,Fj.eY)("deleteMedia",{objectId:t,mediaId:s,accessToken:r},i))}}}function wC(e,t){return{subscribeSession(i){const s={method:"POST",headers:Object.assign(Object.assign({},i.token?{token:i.token}:{}),{"x-2gis-app-instance-id":i.userId})},r=`${t.sharingGeoUrl}/${i.sessionId}/subscriptions`;return e(r,s).then((({data:e})=>({id:e.sharer.profile.userId,isFriend:e.sharer.isFriend}))).catch((0,Fj.eY)("subscribeSession",i,t.requestId))}}}var IC=i(65671);(0,IC.UM)("SharingGeoApi",wC);function CC(e){return{lat:e.lat>90?90:e.lat<-90?-90:e.lat,lon:e.lon>180?180:e.lon<-180?-180:e.lon}}function _C(e,t){return{getActivitiesMarkers({publicUserId:i,viewpoint:s,distances:r,zindex:n,accessToken:a}){const o=`${t.hybridApiUrl}/activities/v1/users/${i}/markers`,c=function(e){if(2!==e.length)throw new Error("Invalid viewpoint");const t=CC(e[0]),i=CC(e[1]);return[t.lat,t.lon,t.lat,i.lon,i.lat,i.lon,i.lat,t.lon].join(",")}(s),d={key:t.hybridApiKey,clip:c,"search-nearby":"true",locales:t.locale,jurisdiction:t.defaultCountryCode,zindex:n,distances:r.join(","),"catalog-fields":"type,subtype,subtype_name,name,name_ex,address,access,purpose",features:t.featureVideoInGallery?"with_video":""};return e(o,Object.assign({method:"get",params:d},a?{headers:{Authorization:`Bearer ${a}`}}:{})).then((e=>function(e,t){const i=t["content-type"].split("boundary=")[1];return e.split(`--${i}`).map((e=>{const[t,i]=e.split("\r\n\r\n");return{headers:t.split("\r\n").reduce(((e,t)=>{const[i,s]=t.split(": ");return Object.assign(Object.assign({},e),{[i]:s})}),{}),body:null==i?void 0:i.replace(/\r\n$/,"")}})).filter((e=>e.body))}(e.data.toString(),e.headers))).then(kC).catch((0,Fj.eY)("getActivitiesMarkers",d,t.requestId))}}}const kC=e=>{if(e.length<2)throw new Error("Invalid response");const[t,i]=e.slice(0,2).map((e=>JSON.parse(e.body)));return t.result.markers.map(((e,t)=>{const s=i.result.activities[t];if(s)return Object.assign(Object.assign({},e),{activity:s})})).filter(Boolean)};function OC(e,t){return{getRouteById:i=>e(`${t.sharingRouteApiUrl}by-id/1.0.0`,{method:"POST",data:i}).then((({data:e})=>{const t=(0,Y.W7)(),i=e.result.points.length-1,s=e.result.edges.map((({geometry:e,color:t,immersive_height_begin:i,immersive_height_end:s,edge_id:r})=>Object.assign({edge_id:r,type:t||"no-traffic",geometry:e.wkt},(i||s)&&{immersive_line:[{position:0,height:i},{position:1,height:s}]})));return{activeRouteId:t,points:e.result.points.map((({lat:e,lon:t},s)=>({position:[t,e],icon:Xv({position:s,isFinishPoint:s===i,isStartPoint:0===s})}))),routes:[{id:t,sections:s}]}})).catch((0,Fj.eY)("SharingRouteApi.getRouteById",i,t.requestId)),getTrafficUpdate:i=>e(`${t.sharingRouteApiUrl}speed-by-id/1.0.0`,{method:"POST",data:i}).then((e=>e.data))}}(0,IC.UM)("SharingRouteApi",OC);function SC(e,t){return{getRecommendations({userId:i,regionId:s}){const r=`${t.adviceApiUrl}/recommendations/${i}`,n={project_ids:s};return e(r,{method:"get",params:n}).then((e=>{var t;return(null===(t=e.data.find((e=>e.user_id===i&&e.proj===s)))||void 0===t?void 0:t.recs)||[]})).catch((0,Fj.eY)("getRecommendations",n,t.requestId))}}}function TC(e){var{slug:t}=e,i=(0,Pe.Tt)(e,["slug"]);return Object.assign(Object.assign({},i),{id:t})}function EC(e){var t;if(!("result"in e.data))throw(null===(t=e.data)||void 0===t?void 0:t.error)||new Error("Unknown error");return e.data.result}function MC(e,t){const i={"x-api-key":t.webApiKey};return{getScenarios({projectId:s}){const r=`${t.guideApiUrl}/v1/scenarios`,n={"segment-id":s};return e(r,{method:"get",params:n,headers:i}).then(EC).then((e=>e.map((e=>Object.assign(Object.assign({},e),{scenario:TC(e.scenario)}))))).catch((0,Fj.eY)("getScenarios",n,t.requestId))},getMainCollections({projectId:s}){const r=`${t.guideApiUrl}/v1/collections`,n={"segment-id":s};return e(r,{method:"get",params:n,headers:i}).then(EC).then((e=>e.map(TC))).catch((0,Fj.eY)("getMainCollections",n,t.requestId))},getCollections({projectId:s,scenarioId:r,rubricIds:n}){const a=`${t.guideApiUrl}/v1/collections`,o={"segment-id":s,"scenario-slug":r,"rubric-ids":(null==n?void 0:n.join(","))||void 0,"catalog-fields":Nw.getItemList};return e(a,{method:"get",params:o,headers:i}).then(EC).then((e=>{var t,i,s,r;return Object.assign(Object.assign({},e),{scenario:TC(e.scenario),collections:e.collections.map((e=>Object.assign(Object.assign({},e),{collection:TC(e.collection)}))),count_objects:null!==(s=null!==(t=e.count_objects)&&void 0!==t?t:null===(i=e.objects)||void 0===i?void 0:i.length)&&void 0!==s?s:0,count_collections:null!==(r=e.count_collections)&&void 0!==r?r:e.collections.length})})).catch((0,Fj.eY)("getCollections",o,t.requestId))},getCollection({id:s,rubricIds:r}){const n=`${t.guideApiUrl}/v1/collection/${s}`,a={"rubric-ids":(null==r?void 0:r.join(","))||void 0,"catalog-fields":Nw.getItemList};return e(n,{method:"get",params:a,headers:i}).then(EC).then((e=>Object.assign(Object.assign({},e),{collection:TC(e.collection)}))).catch((0,Fj.eY)("getCollection",a,t.requestId))}}}(0,IC.UM)("GuideApi",MC);function NC(e,t){const{reviewApiUrl:i,reviewApiKey:s,locale:r,requestId:n}=t;return{getAvailableEmojis(){const t=`${i}reviews/options/emojis`,a=new URLSearchParams({key:s,locale:r});return e(t,{params:a}).then((e=>e.data)).catch((0,Fj.eY)("getAvailableEmoji",a,n))},addEmoji(t){const r=`${i}reviews/${t.reviewId}/likes/${t.emojiId}`,a=new URLSearchParams({key:s,locale:t.locale,emoji_id:t.emojiId,review_id:t.reviewId});return e(r,{method:"post",params:a,headers:{Authorization:`Bearer ${t.accessToken}`},withCredentials:!1}).then((()=>({code:204}))).catch((0,Fj.eY)("addEmoji",a,n))},removeEmoji(t){const r=`${i}reviews/${t.reviewId}/likes/${t.emojiId}`,a=new URLSearchParams({key:s,locale:t.locale,emoji_id:t.emojiId,review_id:t.reviewId});return e(r,{method:"delete",params:a,headers:{Authorization:`Bearer ${t.accessToken}`},withCredentials:!1}).then((()=>({code:204}))).catch((0,Fj.eY)("removeEmoji",a,n))},getListLikedEmoji(t){const a=`${i}reviews/${t.reviewId}/likes/${t.emojiId}`,o=new URLSearchParams({key:s,locale:r,emoji_id:t.emojiId,review_id:t.reviewId,page_size:t.paseSize});return e(a,{params:o,headers:{Authorization:`Bearer ${t.accessToken}`},withCredentials:!1}).then((e=>e.data)).catch((0,Fj.eY)("getListLikedEmoji",o,n))}}}function LC(e){const{getToken:t}=e;return{getToken(){return(0,Pe.sH)(this,void 0,void 0,(function*(){try{const e=yield t();return e&&"string"==typeof e?e:void 0}catch(e){return}}))}}}function PC({request:e,config:t}){const i=(i,s,r)=>{if(t.userAgent.includes("Chrome")||!t.userAgent.includes("Safari"))return;const{expires:n,domain:a,secure:o}=r||{},c=n&&function(e){return"number"==typeof e?1e3*e*60*60*24:e.getTime()-Date.now()}(n);if(!c||c<6048e5)return;const d=[{name:i,value:s,maxAge:c,domain:a,secure:o}];return e("/_/cookie",{method:"post",data:d}).catch((0,Fj.eY)("setHttpCookie",d,t.requestId)).catch((()=>{}))};return{set(e,t,s){return(0,Pe.sH)(this,void 0,void 0,(function*(){s?Pj.set(e,t,s):Pj.set(e,t),yield i(e,t,s)}))},get(e){const t=Pj.get(e);if(t)return-1===Hh.sl.indexOf(t)?t:void 0},delete:(e,t)=>Pj.remove(e,t),setStrict(e,t){return(0,Pe.sH)(this,void 0,void 0,(function*(){yield(0,yc.S)(e,t,i)}))},getStrict:V.o}}const RC={queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,keepPreviousData:!0,retry:!1,retryOnMount:!1}};var AC=i(48518);const BC=window.__customcfg;if((0,r.q)(BC.staticPath),window.location.href.includes("__emulate_fatal_error_3__"))throw new Error("Emulated fatal error #3");try{const e=function(e){const{featureReadOnly:t,isMobileDevice:i}=e;if(t)return;return function(e){const{locale:t,country:i}=e,s=(0,zj.WL)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]}),r={};return{on:(e,t)=>{r[e]=t},off:e=>{r[e]=void 0},ui:()=>(0,Pe.sH)(this,void 0,void 0,(function*(){var e,n;try{const{data:n}=yield s("/_/auth/sign_in",{method:"post",params:{redirect_url_after_sign_in:encodeURIComponent(window.location.href),country:i,locale:t}});null===(e=r.login)||void 0===e||e.call(r,n)}catch(e){(0,Fj.eY)("/_/auth/sign_in",{},void 0),null===(n=r.login)||void 0===n||n.call(r,{status:"error",code:500})}})),actualize:()=>(0,Pe.sH)(this,void 0,void 0,(function*(){var e,t;try{const{data:t}=yield s("/_/auth/refresh",{method:"post"});null===(e=r.actualize)||void 0===e||e.call(r,t)}catch(e){(0,Fj.eY)("/_/auth/refresh",{},void 0),null===(t=r.actualize)||void 0===t||t.call(r,{status:"error",code:500})}})),token:()=>Promise.resolve(Rj().get(M.no)),logout:()=>(0,Pe.sH)(this,void 0,void 0,(function*(){var e,t;try{yield s("/_/auth/logout",{method:"post"}),null===(e=r.logout)||void 0===e||e.call(r,{status:"success",code:200})}catch(e){null===(t=r.logout)||void 0===t||t.call(r,{status:"error",code:500}),(0,Fj.eY)("/_/auth/logout",{},void 0)}}))}}({isMobileDevice:i,locale:(0,Ij.R)(e.lang,e.defaultCountryCode),country:e.isMiddleEast?"urbi"===e.brandCode?"ae_urbi":"ae":e.defaultCountryCode.toLowerCase()})}(BC);window.addEventListener("error",(e=>{const{message:t,source:i,error:s}=e;(0,K.vV)({message:t,level:"warn",id:"ghmyb",payload:{type:"windowerror",source:i,stack:s.stack}})})),window.addEventListener("unhandledrejection",(e=>{const{reason:t}=e;(0,K.vV)({message:"string"==typeof t?t:t&&t.message,level:"warn",id:"ieey0",payload:{type:"unhandledrejection",stack:t&&t.stack}})})),window.onload=()=>{setTimeout((()=>{const e=sw();e&&(0,K.s2)({message:"Client performance",level:"info",id:"9bin6",payload:e})}),0)},(0,Nt.pz)(window.__classNames);const t=function(e){const t=new bj.TranslationController(((t,i)=>{(0,yj.l)(t,e.supportedLangs).then((e=>{i(t,e)})).catch((()=>{(0,K.vV)({message:`Fetch lang ${t} error`,level:"warn",id:"bu6p7",payload:{type:"network",subtype:"FetchLang"}}),i("ru",jj.A)}))}),(e=>{(0,K.vV)({message:"Error plural substitution",level:"warn",id:"2tfd5",payload:{type:"debug",subtype:"ErrorPluralSubstitution",data:e}})}),xj.CT);return new vj.F(t)}(BC);window.isServerRendered=!0,HC=window.location.hash,qj=HC||"";const r=function(e){const{config:t,sideEffects:i}=e,s=Object.assign({},(0,Fj.kC)(t.requestId)),r=(0,zj.WL)(t,{headers:s,GDPRAllowedServiceHosts:[t.webApi3Url,t.webApiUrl,t.ppnotApiUrl,t.ppnotTypesApiUrl,t.ppnaApiUrl,t.ppngApiUrl,t.pedestrianApiUrl,t.isochronesApiUrl]}),n=new aw;return function({overwrittenServices:e,request:t,config:i}){return Object.assign({analyticsApi:SI(),achievesApi:KI(t,i),contestApi:YI(t,i),webApi:new $w(t,i),photoApi:Zw(t,i),mediaApi:jC(t,i),storyComplaintApi:vC(t,i),aggregatorApi:new II(t,i),reviewsApi:new Yw(t,i),discountsApi:rI(t,i),shortonizerApi:new nI(t,i),profileApi:new Qw(t,i),videoApi:new jI(t,i),marketApi:new bI(t,i),authApi:xI(t,i),feedbackApi:new cI(t,i),dataFeedbackApi:new TI(t,i),favoritesApi:MI(t,i),favoritesStorage:PI(),directionsApi:QI(t,i),trafficApi:GI(t,i),pusherApi:eC(t,i),tUgcApi:sC(t,i),paymentsApi:rC(t,i),etaApi:aC(t,i),userActivityApi:oC(t,i),taxaApi:cC(t,i),diskApi:dC(t,i),otelloApi:lC(t,i),isochronesApi:uC(t,i),congestionApi:pC(t,i),chronologyPlacesApi:mC(t,i),socialGraphApi:gC(t,i),casinoApi:hC(t,i),infoStoriesApi:bC(t,i),publicProfileApi:(0,yC.FD)(t,i),sharingGeoApi:wC(t,i),hybridApi:_C(t,i),sharingRouteApi:OC(t,i),adviceApi:SC(t,i),guideApi:MC(t,i),emojiApi:NC(t,i)},e)}({overwrittenServices:{windowApi:_(),cookieApi:PC({request:r,config:t}),feedbackStorageApi:n,seoStoreApi:void 0,credentialsApi:LC({getToken:i.getToken})},request:r,config:t})}({config:BC,sideEffects:{getToken:e?e.token:()=>Promise.resolve(void 0)}}),c=(0,Sb.createModelContext)({services:r,config:BC}),u=new Op.QueryClient({defaultOptions:RC});(0,tv.x1)(),FC={reportUrl:BC.clickstreamUrl,deviceIdUrl:BC.clickstreamDeviceIdUrl,apiKey:BC.clickstreamApiKey,userId:BC.userId,countryCode:BC.defaultCountryCode},"undefined"!=typeof window&&"RU"===FC.countryCode&&FC.reportUrl&&window.clickstream&&(window.clickstream.setConfig({reportUrl:FC.reportUrl,deviceIdUrl:FC.deviceIdUrl,bufferSize:1,credentials:!1}),window.clickstream.setMeta({apiKey:FC.apiKey}),window.clickstream.setProfile({hashUserLoginId:FC.userId}),jn()),Promise.all([function(e,t,i,s){const r=Object.assign(Object.assign({},window.initialState),{config:t}),n=(0,o.$)({extraReducers:St(t),enhancers:[],initialState:r,config:t,uiMiddlewares:[d(e),(0,k.W)(t,X),e=>t=>i=>{switch(i.type){case"MAP/SET_VIEW":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,l.Q2)(t).then((e=>e.setView(i.payload)));break}case"MAP/GENERALIZE_MARKERS":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,l.Q2)(t).then((e=>e.generalizeMarkers()));break}}return t(i)},(0,Mt.ZT)(s,{config:t,services:i}),I(_(),t)],mwWithServices:[(0,Tt.P)(T.FU,t)],asyncExtraPayload:Et,apiServices:i});return Promise.resolve(n.dispatch(Q())).then((()=>n))}(t,BC,r,u),function(e){const t=window.preloadedComponentsList;if(!t||!t.length)return Promise.all([]);const i=t.map((t=>{const i=e[t];return i&&i.asyncImport?i.asyncImport():Promise.resolve()}));return Promise.all(i).catch((e=>{(0,K.vV)({id:"egvnll",level:"error",message:"Failed to fetch chunck",payload:{type:"network",subtype:"preloadComponents",error_data:JSON.stringify(e)}})}))}(Ft.b),t.setLocale({lang:BC.lang,countryCode:BC.defaultCountryCode}).catch((()=>{})),(0,tv.k8)(),(zC=BC.mapdbgmd,zC?Promise.all([i.e(4121),i.e(8906)]).then(i.bind(i,35444)).then((({enable:e})=>{e()})):Promise.resolve())]).then((([i])=>{var o;o=i.dispatch,window.addEventListener("resize",(0,Y.sg)((()=>{o((0,N.c)({type:"window:resize",event:void 0}))}),300)),window.addEventListener("popstate",(e=>{e.state&&o((0,N.c)({type:"window:popstate",event:e}))})),window.addEventListener("message",(e=>o((0,N.c)({type:"window:message",event:e})))),window.addEventListener("keydown",(e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){if(e.target instanceof Element){const t=e.target.localName;if(["input","textarea"].includes(t))return}switch(e.keyCode){case ro.aI:o((0,N.c)({type:"common:arrowLeftKeyDown",event:void 0}));break;case ro.fx:o((0,N.c)({type:"common:arrowRightKeyDown",event:void 0}));break;case ro.vx:o((0,N.c)({type:"common:arrowDownKeyDown",event:void 0}));break;case ro.En:o((0,N.c)({type:"common:arrowUpKeyDown",event:void 0}));break;case ro.zP:o((0,N.c)({type:"common:spaceKeyDown",event:void 0}))}}})),window.addEventListener("keyup",(e=>{e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||e.keyCode!==ro.aH||o((0,N.c)({type:"common:escapeKeyUp",event:void 0}))})),(e=>{const{platform:t,dispatch:i}=e;"android"===t&&("getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{var t;const s=!!(null===(t=e.find((e=>"ru.dublgis.dgismobile"===e.id||"ru.dublgis.dgismobile4preview"===e.id||"ru.dublgis.urbi"===e.id)))||void 0===t?void 0:t.id);i((0,Si.TE)(["NativeAppInfo",s?"Installed":"NotInstalled"]))})):i((0,Si.TE)(["NativeAppInfo","NoApi"])))})({dispatch:i.dispatch,platform:i.getState().session.platform}),(0,be.c)(BC.isDxEnabled),(0,n.c)(document.querySelector("#root"),(0,s.jsx)((function(){return(0,a.useEffect)((()=>{iw(i,e,BC)})),(0,s.jsx)(rw.b,Object.assign({i18n:t,config:BC,store:i,modelContext:c,services:r,queryClient:u},{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Op.Hydrate,Object.assign({state:window.__REACT_QUERY_STATE__},{children:(0,s.jsx)(fj,{})})),(0,s.jsx)(Cu,{})]})}))}),{}))})).catch((e=>{BC.isSearchBot||(0,K.vV)({id:"egvnj",level:"fatal",message:null==e?void 0:e.message,payload:{subtype:"ClientInitFailed",type:"exception",data:null==e?void 0:e.name,stack:null==e?void 0:e.stack}})}))}catch(yr){(0,K.vV)({message:"client entry error",level:"fatal",id:"h34h5",payload:{type:"exception",subtype:"ClientEntryError",stack:(0,AC.N)(yr)}})}var zC,FC,HC},63536:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});var s,r=i(69985);!function(e){e[e.Default=r.E]="Default",e[e.Map=r.E+1]="Map",e[e.Frame=r.E+2]="Frame",e[e.FrameElement=r.E+3]="FrameElement",e[e.Popup=r.E+4]="Popup",e[e.PopupElement=r.E+5]="PopupElement",e[e.Confirm=r.E+6]="Confirm"}(s||(s={}))},68443:(e,t,i)=>{"use strict";i.d(t,{I:()=>E});var s=i(82393),r=i(35023),n=i(90408),a=i(51451),o=i(67235),c=i(98638),d=i(54694),l=i(31222);function u(e,t,i){return t?Object.assign(Object.assign({},i),{[e]:t}):i}var p=i(81339),m=i(66698),g=i(12148),h=i(92448),f=i(46287),v=i(33682),b=i(76192);var y=i(66333),x=i(23020),j=i(52160),w=i(55143);var I=i(49109),C=i(67509),_=i(43751),k=i(54434),O=i(32474);const S=(0,y.Mz)([e=>e.appContext.weak.isLangRepresentedInOriginalRequest,e=>e.appContext.weak.showSlugsNeededOnlyForStartup,e=>e.appContext.weak.isMapViewRepresentedInOriginalRequest,e=>e.appContext.weak.mapInteractionStarted,e=>e.appContext.weak.emailVerificationStatus,e=>e.appContext.weak.reviewRating],((e,t,i,s,r,n)=>({isLangRepresentedInOriginalRequest:e,showSlugsNeededOnlyForStartup:t,isMapViewRepresentedInOriginalRequest:i,mapInteractionStarted:s,emailVerificationStatus:r,reviewRating:n}))),T=(0,y.Mz)([e=>e.appContext.activeLayer,e=>e.appContext.activeSublayer,e=>e.appContext.showTrafficOnMap],((e,t,i)=>({activeLayer:e,activeSublayer:t,showTrafficOnMap:i}))),E=(0,y.Mz)([s.n$,function(e){var t,i;const r=(0,s.wl)(e),n=r?(0,f.DE)({state:e,entityId:r}).data:void 0;return n?(0,w.f)(n)||(null===(i=null===(t=(0,j.b7)({state:e,id:n.region_id}))||void 0===t?void 0:t.data)||void 0===i?void 0:i.uri_code):(0,j.kB)(e)},x.iK,S,T,function(e){const t=[];if(!e.appContext.frames.length)return t;return e.appContext.frames.reduce(((t,i)=>{const s=function(e,t){var i,s,r,n;switch(e.type){case"search":if("query"===e.searchType){if(e.seoFakeEntityId)return;const t=(0,d.U)(e),i=(0,c.G)(e);return e.tabCatalog.isBuyHereRubric&&e.tabCatalog.rubricId?{type:"rubric",rubricId:e.tabCatalog.rubricId,filters:(0,c.G)(e),page:t>1?t:void 0}:{type:"search",query:e.query,rubricId:e.tabCatalog.rubricId,filters:i,page:t>1?t:void 0,attributeId:e.tabCatalog.attributeId}}if("filials"===e.searchType)return{type:"branches",orgId:e.orgId,filters:e.filterValues};if("brand"===e.searchType)return{type:"brand",brandId:e.brandId,filters:e.filterValues};if("inside"===e.searchType)return{type:"inside",objectId:e.objectId,filters:(0,c.G)(e),query:e.query};if("offers"===e.searchType)return{type:"offers",query:e.query,filters:(0,c.G)(e)};if("buyHere"===e.searchType||"fmcg"===e.searchType){const t=(0,d.U)(e);return{type:e.searchType,adsIds:e.adsIds,page:t>1?t:void 0,filters:(0,c.G)(e)}}return;case"prices":return{type:"prices",branchId:e.entityId,categoryId:e.categoryId};case"userProfile":return"places"===e.profileTab?{type:"profile",profileTab:e.profileTab}:"favorites"===e.profileTab?{type:"favorites"}:{type:"my",profileTab:e.profileTab||"places"};case"exchange":return{type:"exchange",page:e.page>1?e.page:void 0,filters:e.filterValues,calc:{action:e.action,currencyCode:e.currencyCode,volume:e.volume}};case"achievements":return{type:"achievements",group:e.groupName};case"directions":return e.isMetroSchemeMode?{type:"metroScheme",stub:"metro"}:{type:"directions",tab:e.tab!==m.ye?e.tab:void 0,points:e.points.map((e=>null===e||(0,g.Yk)(e)?void 0:e)),filters:(0,c.G)(e)};case"entity":if("point"===e.entityType)return{type:"geo",point:e.point};const a=(0,f.DE)({state:t,entityId:e.entityId}).data;return{type:(0,p.Z)(e.entityType),entityId:e.entityId,tab:a&&e.tab!==(0,l.w)(a)[0]?e.tab:void 0,query:"inside"===e.tab?e.tabInside&&e.tabInside.query:void 0,filters:(0,c.G)(e),point:e.point,entranceId:e.entranceId};case"product":return{type:"product",productId:e.productId,filters:u("b",e.buildingId,(0,c.G)(e))};case"gallery":return{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,p.Z)(e.entityType),photoId:e.photoId,entityId:e.entityId};case"offer":return{type:"offer",productId:e.productId};case"publicFavorites":return{type:e.subtype};case"collection":return{type:"private"===e.subtype?"private":"collection",collectionId:e.collectionId};case"rubricator":return{type:"rubrics"};case"rubric":return{type:"subrubrics",parentId:e.parentId};case"userFriendsActivity":return{type:"friends",entityId:e.entityId};case"realty":return{type:"realty",at:(null===(i=e.linkedEntity)||void 0===i?void 0:i.id)||null===(s=e.entity)||void 0===s?void 0:s.id,rc:null===(r=e.linkedEntity)||void 0===r?void 0:r.id,category:(0,h.$s)(e.categoryId)||"sale",filters:e.filterValues};case"realtyCard":const o=e.realtyId;if(!o)return;return{type:"realtyAd",id:o,tab:"ad"!==e.tab?e.tab:void 0};case"friendsList":return{type:"friendsList"};case"userPublicProfile":return{type:"user",userId:e.userId};case"sharingGeo":return{type:"geolocation",sessionId:e.sessionId};case"advice":return{type:"advice"};case"guide":return{type:"guide",scenarioId:e.scenarioId,rubricId:null===(n=e.rubricIds)||void 0===n?void 0:n.join(",")};case"currentReview":return{type:"review",reviewId:e.reviewId};case"error":return(0,v.y)(b.u,e.subtype)?{type:"error",subtype:e.subtype}:void 0}}(i,e);return s?[s,...t]:t}),[])},e=>e.appContext.popup,e=>e.appContext.lang,e=>e.appContext.floors,e=>e.session,e=>e.appContext.ruler,function(e){const t=e.appContext.showSnow;return t.allowSnowStyle?{type:"snow",intensity:"on"===t.status?t.intensity:void 0,allowSnowStyle:t.allowSnowStyle}:void 0},e=>e.appContext.friendRequest,e=>e.appContext.mapfriendsPage,e=>e.appContext.storiesPopupData,e=>e.appContext.friendInOtherDomain,e=>{var t;return"metro"===e.appContext.activeLayer&&Boolean(null===(t=(0,I.yj)(e))||void 0===t?void 0:t.isMetroSchemeMode)},e=>(0,k.E)(e)&&C.j._.get(e),_.y.S.get],((e,t,i,{isLangRepresentedInOriginalRequest:s,showSlugsNeededOnlyForStartup:c,isMapViewRepresentedInOriginalRequest:d,mapInteractionStarted:l,emailVerificationStatus:u,reviewRating:p},{activeLayer:m,activeSublayer:g,showTrafficOnMap:h},f,v,b,y,{is3dEnabled:x,statHash:j,utm:w},I,C,_,k,S,T,E,N,L)=>{const P=function(e){if(!e)return[];return Object.keys(e).map((t=>({type:t,value:e[t]})))}(w),R=t?{type:"region",code:t}:void 0,A=L?{type:"immersivePromo"}:void 0;if(A)return(0,r.oE)([R,A,{type:"campaign",value:"sharing_promo"}]);const B=v&&"createReview"===v.type&&!v.sourceId?{type:"addreview"}:void 0,z=v&&"editUserProfile"===v.type?{type:"preferences"}:void 0,F=v&&"createReview"===v.type&&v.sourceId?{type:"writeReview",source:v.sourceId}:void 0,H=S.currentStoryId?{type:M(S.type),storyId:S.currentStoryId}:void 0,U=v&&"typedFeedback"===v.type?{type:"addOrg"===v.subtype?"addOrg":"feedback"}:void 0,D=(0,n.m)({project:e,is3d:x}),V=v&&"newYearPromo"===v.type?{type:"new_year_promo"}:void 0,$=u?{type:"auth",status:u}:void 0,W=l||d?{type:"mapview",center:i.center,pitch:(0,a.qE)(i.pitch,o.kq,o.oB),rotation:(0,a.qE)(i.rotation,o.WN,o.Ks),zoom:(0,a.qE)(i.zoom,D.min,D.max)}:void 0,q=_?{type:"user",userId:_}:void 0,Z=k?{type:"mapfriends",page:k,userId:_}:void 0,Q=s?{type:"lang",lang:b}:void 0,G=y&&void 0!==y.currentFloor?{type:"floor",value:y.currentFloor}:void 0,K=j&&c?{type:"stat",value:j}:void 0,Y=I.isActive?{type:"ruler",points:I.points}:void 0,X=m&&"realty"!==m&&!E?{type:"layer",value:m}:void 0,J=g&&!O.Tv.isIsochroneSublayer(g)?{type:"sublayer",value:g}:void 0,ee=h?{type:"traffic"}:void 0,te=v&&"createReview"===v.type&&!v.sourceId&&p?{type:"reviewRating",value:p}:void 0,ie=T.previousMapView?{type:"previousMapView",value:T.previousMapView}:void 0,se=N?{type:"immersive",state:"on"}:void 0,re=v&&"meet"===v.type?{type:"meet",meetId:v.meetId}:void 0;return(0,r.oE)([Q,R,...f,B,F,U,G,W,...P,K,Y,X,J,ee,$,V,C,q,Z,H,z,te,ie,se,A,re])}));function M(e){switch(e){case"firm":return"firmStory";case"fmcg":return"fmcgStory";case"discovery":return"discoveryStory";default:return"story"}}},72185:(e,t,i)=>{"use strict";i.d(t,{P:()=>m,b:()=>g});var s=i(31085),r=i(14041),n=i(11540),a=i(79911),o=i(79594),c=i(13527),d=i(95e3),l=i(62508),u=i(37573),p=i(87017);const m=r.createContext({}),g=({config:e,i18n:t,store:i,modelContext:r,services:g,children:h,queryClient:f})=>{const v=(0,d.O4)(e),b={config:e,tp:t.tp,dateFns:t.dateFns,theme:v};return(0,s.jsx)(p.QueryClientProvider,Object.assign({client:f},{children:(0,s.jsx)(o.Kq,Object.assign({store:i},{children:(0,s.jsx)(m.Provider,Object.assign({value:i},{children:(0,s.jsx)(c.Q.Provider,Object.assign({value:e},{children:(0,s.jsx)(n._4,Object.assign({value:b},{children:(0,s.jsx)(d.O$,Object.assign({theme:v},{children:(0,s.jsx)(a.R.Provider,Object.assign({value:t},{children:(0,s.jsx)(u.e.Provider,Object.assign({value:g},{children:(0,s.jsx)(l.S.Provider,Object.assign({value:r},{children:h}))}))}))}))}))}))}))}))}))}},98787:(e,t,i)=>{"use strict";i.d(t,{M:()=>c,d:()=>d});var s=i(78170),r=i(14041),n=i(79594),a=i(82393);const{use:o}=(0,s.VZ)("tUGC events",(e=>({services:t})=>{const{regionCode:i}=e;return i?Promise.all([t.tUgcApi.getUserLayers({regionCode:i}),t.tUgcApi.get2GisLayers({regionCode:i})]):void 0}));function c(e){const t=(0,n.d4)(a.n$),i=(0,n.d4)((e=>e.appContext.showTrafficOnMap))&&(null==t?void 0:t.flags.traffic)?null==t?void 0:t.code:void 0,{data:s}=o({regionCode:i},e);return(0,r.useMemo)((()=>null==s?void 0:s.reduce(((e,t)=>[...e,...t.items]),[])),[s])}function d(e){const{id:t}=e,i=c({staleTime:1/0});return(0,r.useMemo)((()=>null==i?void 0:i.find((e=>e.id===t))),[i,t])}},3683:(e,t,i)=>{"use strict";i.d(t,{s:()=>o});var s=i(85608),r=i(78170),n=i(25877);function a({id:e,url:t,user:i,timestamp:s,preview_url:r}){return{id:e,url:t,creation_time:new Date(1e3*s).toISOString(),modification_time:new Date(1e3*s).toISOString(),owner:{id:i.auth_id||i.id,name:i.name},status:"active",block_reason:"",is_main:!0,is_visible:!0,preview_urls:{"656x340":(0,n.$)(r,{width:656,height:340}),"328x170":(0,n.$)(r,{width:328,height:170}),"232x232":(0,n.$)(r,{width:232,height:232}),"116x116":(0,n.$)(r,{width:116,height:116}),"176x176":(0,n.$)(r,{width:176,height:176}),"88x88":(0,n.$)(r,{width:88,height:88})}}}const{use:o}=(0,r.VZ)("tUGC photos",(e=>({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){return(yield t.tUgcApi.getPhotos(e)).items.map(a)}))))},14193:(e,t,i)=>{"use strict";i.d(t,{l:()=>s});const s=(e,t={checkByCtaList:!1})=>{const{checkByCtaList:i}=t;return i?(e=>{var t,i,s;return(null!==(s=null===(i=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.buy_here)&&void 0!==s?s:[]).filter((e=>!!e.cta_list))})(e):(e=>{var t,i,s;return(null!==(s=null===(i=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.buy_here)&&void 0!==s?s:[]).filter((e=>!!e.is_primary))})(e)}},86445:(e,t,i)=>{"use strict";i.d(t,{Gg:()=>k,OS:()=>D,mH:()=>r});var s={};i.r(s),i.d(s,{showMiniCard:()=>C,tapMiniCard:()=>_});var r={};i.r(r),i.d(r,{bss:()=>s,openAdviceFrame:()=>w,useGetRecommendationsQuery:()=>h});var n=i(31085),a=i(79594),o=i(85055),c=i(49157),d=i(92585),l=i(63041),u=i(43475),p=i(8365),m=i(46579),g=i(78170);const{use:h}=(0,g.VZ)("useGetRecommendations",(({userId:e,regionId:t})=>({services:i})=>e?i.adviceApi.getRecommendations({userId:e,regionId:t}):Promise.resolve([])),{staleTime:0,cacheTime:0});var f=i(12017),v=i(29787),b=i(78069),y=i(35023),x=i(7335),j=i(6618);const w=()=>(0,x.RC)({isAdviceAvailable:j.g},(({isAdviceAvailable:e})=>e?(0,f.K2)((0,v.PC)(),(0,b.fL)({id:(0,y.W7)(),type:"advice"})):(0,f.lQ)()));var I=i(7818);const C=({entity:e,position:t,listSize:i})=>({frameId:s})=>({uiElement:{name:"placeCardMini",ownerName:"adviceList",frameUuid:s,position:t},payload:{placeItem:(0,I.ij)({entity:e}),collectionList:{size:i}}}),_=({entity:e,position:t,listSize:i})=>({frameId:s})=>({uiElement:{name:"placeCardMini",ownerName:"adviceList",frameUuid:s,position:t},action:"tap",payload:{placeItem:(0,I.ij)({entity:e}),collectionList:{size:i}}}),k=({entity:e,position:t,listSize:i,isPhotosLoading:s,photos:r})=>{const g=(0,a.wA)(),{tabId:h}=(0,m.U)(),f=(0,o.G)((e=>e.session.time)),v=(0,c.T)(e),b=(0,o.G)((e=>e.appContext.weak.hoveredId))===e.id,y=(0,o.G)((e=>e.appContext.frames.find(d.n))),x=(null==y?void 0:y.entityId)===e.id,{useBssHandler:j}=(0,p.E)(),w=j(_,{entity:e,position:t,listSize:i}),{bssRef:I}=(0,p.E)(C({entity:e,position:t,listSize:i}));return(0,n.jsx)("div",Object.assign({ref:I},{children:(0,n.jsx)(u.U,{entity:e,tabId:h,time:f,entityTimeOffset:v,ownerName:"adviceList",position:t,shortScheduleFormat:!0,isActive:x,isHovered:b,isPhotosLoading:s,photos:r,isMediaRubric:!0,onClick:()=>{g((0,l.UP)({id:e.id,type:e.type})),w()},showAdviceFeedback:!0})}))};var O=i(14041),S=i(47016),T=i(41577),E=i(84175),M=i(99259);const N=({color:e})=>(0,n.jsxs)("svg",Object.assign({width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsxs)("g",Object.assign({filter:"url(#filter0_dd_775_6520)"},{children:[(0,n.jsx)("circle",{id:"marker_color_fill",cx:"10",cy:"8",r:"5",fill:e}),(0,n.jsx)("circle",{cx:"10",cy:"8",r:"4.0625",stroke:"white",strokeWidth:"1.875"})]})),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",Object.assign({id:"filter0_dd_775_6520",x:"4.76837e-07",y:"0.5",width:"20",height:"20",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"2.5"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_775_6520"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"1.25"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.875"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_775_6520",result:"effect2_dropShadow_775_6520"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_775_6520",result:"shape"})]}))})]})),L=({color:e})=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("g",Object.assign({filter:"url(#filter0_dd_4685_9645)"},{children:(0,n.jsx)("circle",{cx:"16",cy:"12",r:"10",fill:"white"})})),(0,n.jsx)("circle",{id:"marker_color_stroke",cx:"16",cy:"12",r:"6",fill:"white",stroke:e,strokeWidth:"3"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",Object.assign({id:"filter0_dd_4685_9645",x:"0",y:"0",width:"32",height:"32",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,n.jsx)("feColorMatrix",{result:"colorOut",in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0\n            0 0 0 0 0\n            0 0 0 0 0\n            0 0 0 0.35 0"}),(0,n.jsx)("feOffset",{result:"offOut",in:"colorOut",dx:"0",dy:"3"}),(0,n.jsx)("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:"3"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"})]}))})]})),P=({marker:e,isHovered:t})=>{const{css:i,s}=(0,E.I)(R),r="isSmall"in e&&e.isSmall?N:L;return(0,n.jsx)("div",Object.assign({className:i(s.root)},{children:(0,n.jsx)("div",Object.assign({className:i(s.marker)},{children:(0,n.jsx)(r,{color:t?M.T.red_e32608:M.T.blue_0168f9})}))}))},R=(0,E.r)({root:{cursor:"pointer",position:"relative",width:32,height:32},marker:{position:"absolute",top:0,left:0}});var A=i(77756),B=i.n(A),z=i(50595),F=i(9729);const H={bigMarkerSize:32,safeZone:2};function U(e){const t=(0,a.d4)(z.p);return(0,O.useMemo)((()=>{if(!e)return;const i=new(B()),s=[];return e.forEach((e=>{const r=function(e,t){const{lon:i,lat:s}=e.point,[r,n]=(0,F.lonLatToScreenPoint)([i,s],t),{bigMarkerSize:a,safeZone:o}=H;return{minX:r-a/2-o,maxX:r+a/2+o,minY:n-a/2-o,maxY:n+a/2+o}}(e,t);i.collides(r)?s.push(Object.assign(Object.assign({},e),{isSmall:!0})):(s.push(Object.assign(Object.assign({},e),{isSmall:!1})),i.insert(r))})),s}),[e,t])}const D=({entities:e})=>{const t=(0,a.wA)(),i=U(e.map((e=>e.point?{id:e.id,point:e.point,entity:e}:void 0)).filter(Boolean)),s=null==i?void 0:i.map((e=>Object.assign(Object.assign({},e),{size:e.isSmall?21:32,zIndex:e.isSmall?1:2}))),r=(0,O.useCallback)((e=>t((0,T.Z)({id:e}))),[t]);return s?(0,n.jsx)(S.Nr,{markers:s,onClick:r,MarkerMarkup:P,Tooltip:S.R5}):null}},57366:(e,t,i)=>{"use strict";i.d(t,{sO:()=>s,S0:()=>f});var s={};i.r(s),i.d(s,{checkAwardRegion:()=>g,getAwardsFilters:()=>p,isAwardFilterSelected:()=>m});var r=i(34764);const n=e=>({label:e._t("Поесть"),values:[r.nr.Restaurants,r.nr.Cafe,r.nr.Bar,r.nr.Confectionery,r.nr.Coffeeshop,r.nr.Streetfood,r.nr.Foodmall,r.nr.Shotglass]}),a=e=>({label:e._t("Авто"),values:[r.nr.Carservice,r.nr.Detailing]}),o=e=>({label:e._t("Красота"),values:[r.nr.BeautySalon,r.nr.Nailsalon,r.nr.Hairdressing,r.nr.Barbershop,r.nr.Spa,r.nr.Massage]}),c=e=>({label:e._t("Цветы"),values:[r.nr.Flowers]}),d=e=>({label:e._t("Здоровье"),values:[r.nr.Dental,r.nr.MedicalCenter]}),l=e=>({label:e._t("Гостиницы"),values:[r.nr.Hotel]}),u=e=>({label:e._t("Фитнес"),values:[r.nr.Fitness]}),p=e=>({food:n(e),health:d(e),beauty:o(e),auto:a(e),travel:l(e),flowers:c(e),fitness:u(e)}),m=(e,t)=>e.values.every((e=>"true"===t[e]));function g(e){var t;return!!e&&(!!h.has(e.name)||!!(null===(t=e.admDiv)||void 0===t?void 0:t.some((({name:e})=>h.has(e)))))}const h=new Set(["Москва","Санкт-Петербург","Новосибирск","Екатеринбург","Казань","Краснодар","Нижний Новгород","Челябинск","Самара","Уфа","Омск","Красноярск","Пермь","Абакан","Альметьевск","Армавир","Архыз","Астрахань","Барнаул","Владивосток","Владикавказ","Дзержинск","Ессентуки","Иркутск","Йошкар-Ола","Кемерово","Кисловодск","Кострома","Ленинск-Кузнецкий","Майкоп","Минеральные Воды","Набережные Челны","Нальчик","Находка","Нижневартовск","Нижнекамск","Новокузнецк","Прокопьевск","Пятигорск","Сочи","Тобольск","Тольятти","Томск","Тюмень","Уссурийск","Шерегеш","Волгоград","Воронеж","Ростов-на-Дону","Анапа","Архангельск","Бийск","Биробиджан","Братск","Благовещенск","Великий Новгород","Владимир","Геленджик","Горно-Алтайск","Дербент","Златоуст","Иваново","Ижевск","Калининград","Калуга","Киров","Курган","Курск","Липецк","Магнитогорск","Махачкала","Миасс","Мурманск","Нижний Тагил","Новороссийск","Новочебоксарск","Норильск","Обнинск","Озеро Байкал","Оренбург","Пенза","Петропавловск-Камчатский","Республика Алтай","Республика Карелия","Рязань","Саратов","Ставрополь","Сургут","Сыктывкар","Тверь","Тула","Улан-Удэ","Ульяновск","Хабаровск","Ханты-Мансийск","Чита","Чебоксары","Южно-Сахалинск","Якутск","Ярославль","Минск","Актау","Актобе","Алматы","Астана","Атырау","Караганда","Кокшетау","Щучинско-Боровская курортная зона","Щучинск","Костанай","Павлодар","Петропавловск","Семей","Тараз","Уральск","Усть-Каменогорск","Шымкент","Бишкек","Ташкент"]);var f=i(49429);i(40360)},15341:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var s=i(26289),r=i(83487),n=i(73874),a=i(49429);function o({state:e,frame:t}){var i,o;if("search"!==t.type||"query"!==t.searchType)return!1;const c=null===(o=null===(i=(0,s.o)({state:e,filtersId:t.tabCatalog.filtersId.actual}))||void 0===i?void 0:i.widgets)||void 0===o?void 0:o.main,d=c?(0,n.P)(c,r.n.Award2Gis):void 0;return(0,a.checkIfAwardsSearch)({searchType:t.searchType,awards2GisTags:d,config:e.config,query:t.query})}},73874:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});const s=(e,t)=>{var i,s;const r=e.find((e=>"buttons"===e.widget&&"tag"in e&&e.tag===t));return null===(s=null===(i=null==r?void 0:r.items)||void 0===i?void 0:i[0])||void 0===s?void 0:s[0].values}},49429:(e,t,i)=>{"use strict";i.r(t),i.d(t,{checkIfAwardsSearch:()=>d.q,getAwardsTagsFromWidgets:()=>s.P,useIsAwardsSearch:()=>c});var s=i(73874),r=i(46579),n=i(85055),a=i(26289),o=i(83487);function c(e){var t;const i=(0,r.U)(),c=e.tabCatalog.filtersId,l=(0,n.G)((e=>(0,a.o)({state:e,filtersId:c.actual}))),u=null===(t=null==l?void 0:l.widgets)||void 0===t?void 0:t.main;if(!u)return!1;const p=(0,s.P)(u,o.n.Award2Gis);return(0,d.q)({searchType:e.searchType,awards2GisTags:p,config:i,query:e.query})}var d=i(34791)},40360:(e,t,i)=>{"use strict";i.d(t,{O:()=>m});var s=i(31085),r=i(71064),n=i(99259),a=i(84175),o=i(8365),c=i(4013),d=i(14041),l=i(80552),u=i(76504),p=i(46579);const m=(0,d.memo)((({tag:e,name:t,ownerName:i,chip:n,iconUrl:d,link:l})=>{const{s:m,css:h}=(0,a.I)(g),{isSearchBot:f,lang:v}=(0,p.U)(),{bssRef:b,useBssHandler:y}=(0,o.E)((0,c.go)({tag:e,name:t,ownerName:i})),x=y(c.cT,{tag:e,name:t,ownerName:i,link:l});return l?(0,s.jsx)(r.A,Object.assign({external:!0,href:l,onClick:x},{children:(0,s.jsxs)("div",Object.assign({ref:b,className:h(m.root,n&&m._chip)},{children:[d&&(0,s.jsx)(u.O,{src:d,isLoadingForced:f,width:16,height:16,alt:"ru"===v?"Иконка":void 0}),(0,s.jsx)("span",Object.assign({className:h(m.text)},{children:t}))]}))})):(0,s.jsxs)("div",Object.assign({ref:b,className:h(m.root,n&&m._chip),onClick:x},{children:[d&&(0,s.jsx)(u.O,{src:d,isLoadingForced:f,width:16,height:16,alt:"ru"===v?"Иконка":void 0}),(0,s.jsx)("span",Object.assign({className:h(m.text)},{children:t}))]}))}));m.displayName="AwardLabel";const g=(0,a.r)({root:{display:"flex",alignItems:"center"},_chip:{paddingTop:7,paddingBottom:9,paddingInlineStart:10,paddingInlineEnd:14,backgroundColor:n.T.gray_f2f2f2,borderRadius:8},text:Object.assign(Object.assign({},l.small),{marginInlineStart:4,color:n.T.gray_262626})})},64306:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});const s={164:"cafe",161:"coffee",166:"coffee",112430:"coffee",111593:"coffee",15791:"sushi",112658:"candy",16677:"candy",111594:"candy",165:"fastfood",159:"bar",52248:"bar",162:"coffe_to_go",112656:"coffe_to_go",58871:"coffe_to_go",112719:"coffe_to_go",51459:"pizza"}},92771:(e,t,i)=>{"use strict";i.d(t,{x:()=>c});var s=i(12017),r=i(78069);var n=i(49206),a=i(18396),o=i(80905);const c=(0,s.n5)("replaceFrameInsideWithOriginalSearchIfNeeded",(e=>(0,s.Q2)((t=>{if(!e)return(0,s.lQ)();const i=t.appContext.frames.find(n.q);if(i){const s=function(e,t){for(const i of[...e].reverse())for(const e of i)if(t(e))return e}(t.appContext.graveyard,(t=>(0,a.O)(t)&&((0,o.Xk)(t)===e||(0,o.Rh)(t)===e)));if(s&&(0,a.O)(s))return(0,r.sr)(Object.assign(Object.assign({},s),{id:i.id}))}}))))},15770:(e,t,i)=>{"use strict";i.d(t,{ym:()=>v,EA:()=>b,bo:()=>S,MQ:()=>C});var s=i(31085),r=i(14041),n=i(8365),a=i(71064),o=i(81618),c=i(18887),d=i(84175),l=i(65932),u=i(40035),p=i(76504),m=i(27485);var g=i(25698),h=i(88836),f=i.n(h);const v=({id:e,title:t,searchId:i,placeCount:g,label:h,isActive:v,description:b,imageUrl:x,onClick:j,bssShowFunction:w})=>{const[I,C]=(0,r.useState)(0),{css:_,s:k}=(0,d.I)(y),{bssRef:O}=(0,n.E)(w&&w(),{forceSendShowIfParamsChanged:[i],threshold:.5}),S=(0,r.useRef)(null),T=(0,r.useRef)(null),E=(0,r.useRef)(null),{truncated:M,removed:N}=((e,t=122)=>{if(e.length<=t)return{truncated:e,removed:""};let i=e.slice(0,t);if(i.endsWith(" "))i=i.trimEnd();else{const e=i.lastIndexOf(" ");-1!==e&&(i=i.slice(0,e))}return{truncated:i,removed:e.slice(i.length).trimStart()}})(t),L=(0,r.useMemo)((()=>f()(N?N+" "+b:b||"",{whiteList:{},stripIgnoreTag:!0})),[b,N]),P=(0,c.P)({type:"collection",id:e}),{isHovered:R,onHover:A,onUnhover:B}=(0,m.B)(e);return(0,r.useEffect)((()=>{requestAnimationFrame((()=>{if(T.current&&E.current){const e=T.current.getBoundingClientRect().height,t=120-E.current.getBoundingClientRect().height;if(t<24)return;if(t>e)return void C(e);C(t)}}))}),[]),(0,s.jsxs)("div",Object.assign({className:_(k.root),onClick:j,ref:O},o.dx.n("wat-collection-minicard"),{children:[(0,s.jsx)("div",Object.assign({className:_(k.cover)},{children:!!x&&(0,s.jsx)(p.O,{src:`${x}320x202`,src2x:`${x}640x404`})})),(0,s.jsxs)("div",Object.assign({className:_(k.card,R&&k._hovered,v&&k._active),onMouseEnter:()=>{S.current&&(S.current.style.transform=`translateY(-${I}px)`),A()},onMouseLeave:()=>{S.current&&(S.current.style.transform="translateY(0)"),B()}},{children:[(0,s.jsxs)("div",Object.assign({className:_(k.header)},{children:[(0,s.jsx)(l.vw,{icon:(0,s.jsx)(u.y,{}),title:g.toString()}),h&&(0,s.jsx)(l.vw,{icon:h.icon_path,title:h.name})]})),(0,s.jsx)("div",Object.assign({className:_(k.body)},{children:(0,s.jsxs)("div",Object.assign({ref:S,className:_(k.content)},{children:[(0,s.jsx)("div",Object.assign({className:_(k.top)},{children:(0,s.jsx)(a.A,Object.assign({color:"inherit",containerRef:E,href:P,styles:k.title},{children:M}))})),(0,s.jsx)("div",{ref:T,dangerouslySetInnerHTML:{__html:L}})]}))}))]}))]}))},b=()=>{const{s:e,css:t}=(0,d.I)(y);return(0,s.jsx)("div",Object.assign({className:t(e.root)},{children:(0,s.jsx)(g.M,{width:"100%",height:202})}))},y=(0,d.r)((({colors:e,typography:t,roundCorners:i})=>({root:{position:"relative",borderRadius:i.s,overflow:"hidden",boxShadow:"0px 1px 4px 0px #00000014, 0px 0px 0px 0.5px #0000000A",cursor:"pointer"},cover:{zIndex:-1,position:"absolute",inset:0,backgroundPosition:"center",backgroundSize:"cover",":before":{content:'""',position:"absolute",inset:0,background:"linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))"}},card:{height:202,boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"16px 20px",userSelect:"none",background:"\n      linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 100%) top / 100% 72px no-repeat,\n      linear-gradient(to bottom, rgba(0, 0, 0, 0.0) 0%, rgba(0, 0, 0, 0.7) 100%) 0 72px / 100% calc(100% - 72px) no-repeat",":hover":{background:"\n        linear-gradient(to bottom, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.2) 100%) top / 100% 72px no-repeat,\n        linear-gradient(to bottom, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%) 0 72px / 100% calc(100% - 72px) no-repeat"},":active":{background:"\n      linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.8) 100%) top / 100% 72px no-repeat,\n      linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 1) 100%) 0 72px / 100% calc(100% - 72px) no-repeat",opacity:.6}},_hovered:{background:"\n    linear-gradient(to bottom, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.2) 100%) top / 100% 72px no-repeat,\n    linear-gradient(to bottom, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%) 0 72px / 100% calc(100% - 72px) no-repeat"},_active:{background:"\n    linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.8) 100%) top / 100% 72px no-repeat,\n    linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 1) 100%) 0 72px / 100% calc(100% - 72px) no-repeat",opacity:.6},header:{display:"flex",flexDirection:"row-reverse",justifyContent:"space-between"},body:{overflow:"hidden"},content:Object.assign({display:"flex",flexDirection:"column",justifyContent:"space-between",wordBreak:"break-word",transition:"transform 0.4s ease-in-out",color:e["Text, Icons/Primary button/Primary"]},t.h4Regular),top:{flex:"0 0 144px",alignContent:"end"},title:{display:"block"}})));var x=i(84815),j=i(69158),w=i(99259),I=i(88114),C=i(33681);const _=({name:e,color:t,icon:i,isHidden:r})=>{const{css:n,s:a}=(0,d.I)(k);return(0,s.jsx)("div",Object.assign({className:n(a.container)},{children:(0,s.jsxs)("div",Object.assign({className:n(a.label,r&&a._hidden),style:{border:`${C.ZONE_LABEL_STYLES.borderWidth}px solid ${t}`,color:t}},{children:[i&&(0,s.jsx)(I.E,{src:i,width:C.ZONE_LABEL_STYLES.iconSize,height:C.ZONE_LABEL_STYLES.iconSize,isLoadingForced:!0}),e]}))}))},k=(0,d.r)((({typography:e})=>({container:{position:"relative"},label:Object.assign(Object.assign({position:"absolute",transform:`translate(calc(-${C.ZONE_LABEL_STYLES.height}px / 2), -50%)`,maxWidth:C.ZONE_LABEL_STYLES.maxWidth,display:"flex",alignItems:"center",gap:C.ZONE_LABEL_STYLES.gap,padding:`${C.ZONE_LABEL_STYLES.paddingY}px ${C.ZONE_LABEL_STYLES.paddingX}px`,borderRadius:14,backgroundColor:w.T.white,cursor:"pointer"},e.caption1Semibold),{lineHeight:`${C.ZONE_LABEL_STYLES.lineHeight}px`,whiteSpace:"nowrap",transition:"opacity 400ms ease-in"}),_hidden:{opacity:0,pointerEvents:"none"}})));var O=i(47016);const S=(0,r.memo)((({collection:e,isTitleHidden:t,isHovered:i,onHover:n,onUnhover:a,onClick:o})=>{const{id:c,title:d,zone:l}=e,u=(0,r.useRef)(!1),p=(0,r.useRef)(!1),m=()=>{u.current=!0,n({id:c})},g=()=>{u.current=!1,p.current||a()},h=()=>o({collection:e});(0,x.e)(((e,{Polygon:t})=>{if(!l)return;const s=new t(e,{color:(0,j.m)(l.color,i?.5:.4),coordinates:[l.geometry.map((e=>[e.lon,e.lat]))],strokeWidth:0,interactive:!1,zIndex:-1});return()=>{null==s||s.destroy()}}),[c,l,i]),(0,x.e)(((e,{Polygon:t})=>{if(!l)return;const i=new t(e,{color:(0,j.m)(l.color,0),coordinates:[l.geometry.map((e=>[e.lon,e.lat]))],strokeWidth:0,interactive:!0,zIndex:0});return i.on("click",h),i.on("mouseover",m),i.on("mouseout",g),()=>{null==i||i.destroy()}}),[c,l]);const f=(0,r.useMemo)((()=>l?[l.point_name.lon,l.point_name.lat]:void 0),[l]);return l&&f?(0,s.jsx)(O.K$,Object.assign({coordinates:f,zIndex:i?3:t?0:1,onClick:h,onHover:()=>{p.current=!0,n({id:c})},onUnhover:()=>{p.current=!1,u.current||a()}},{children:(0,s.jsx)(_,{name:d,color:l.color,isHidden:t})})):null}))},33681:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ZONE_LABEL_STYLES:()=>h,makeCollection:()=>b,makeHotelCollection:()=>y,prefetchGetCollectionQuery:()=>p,prefetchGetCollectionsQuery:()=>d,prefetchGetMainCollectionsQuery:()=>o,useGetCollectionQuery:()=>u,useGetCollectionsQuery:()=>c,useGetMainCollectionsQuery:()=>a,withGetCollectionQueryState:()=>m,withGetCollectionsQueryState:()=>l});var s=i(85608),r=i(78170),n=i(94447);const{use:a,prefetch:o}=(0,r.VZ)("useGetMainCollections",(e=>({services:t})=>t.guideApi.getMainCollections(e)),{staleTime:1/0,cacheTime:1/0}),{use:c,prefetch:d,withQueryState:l}=(0,r.VZ)("useGetCollections",(e=>({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){var i;const s=yield t.guideApi.getCollections(Object.assign(Object.assign({},e),{rubricIds:null===(i=e.rubricIds)||void 0===i?void 0:i.filter((e=>e!==n.PS.id))}));return yield g({services:t,source:s,params:e}),s}))),{staleTime:1/0,cacheTime:1/0}),{use:u,prefetch:p,withQueryState:m}=(0,r.VZ)("useGetCollection",(e=>({services:t})=>t.guideApi.getCollection(e)),{staleTime:1/0,cacheTime:1/0}),g=({services:e,source:t,params:i})=>(0,s.sH)(void 0,void 0,void 0,(function*(){var s,r,a;const{projectId:o,scenarioId:c,rubricIds:d}=i,l=null===(s=n.dD[o])||void 0===s?void 0:s[c];if(l&&((null===(r=t.rubrics)||void 0===r?void 0:r.some((({id:e})=>e===n.PS.id)))||null===(a=t.rubrics)||void 0===a||a.unshift(n.PS)),null==d?void 0:d.includes(n.PS.id)){const i=yield e.otelloApi.getCollectionBySlug({slug:l.otello_slug,slot:"2gis_guide"}),s=yield e.webApi.getItems({ids:i.result.collection.offers.map((({id:e})=>e))});if(200!==s.code)throw s.error;t.count_collections=0,t.collections=[],t.count_objects=i.result.collection.offers.length,t.objects=i.result.collection.offers.reduce(((e,t)=>{const i=s.items.find((e=>e.id===t.id));return i&&e.push({catalog:i,accommodation:t}),e}),[])}return t})),h={height:30,maxWidth:1e3,paddingY:6,paddingX:12,gap:5,lineHeight:16,borderWidth:1,iconSize:16};var f=i(35277);const v={id:"01",label:{name:"Лучшая подборка",icon_path:"https://disk.2gis.com/rubricator/eat594ef1a575533c3c1b558ee032dad50c.svg"},title:"Лучшая подборка",description:"",preview_path:"https://disk.2gis.com/rubricator/eat594ef1a575533c3c1b558ee032dad50c.svg",zone:{geometry:(0,i(19263).qH)("POLYGON((82.950276 55.036157,82.95058 55.036483,82.950766 55.036583,82.950791 55.036639,82.95285 55.037572,82.953814 55.037887,82.95541 55.038583,82.955373 55.03861,82.955358 55.038691,82.957061 55.038825,82.957101 55.038688,82.959133 55.038865,82.958972 55.039459,82.961589 55.04028,82.961808 55.040182,82.961886 55.040048,82.961944 55.039748,82.961999 55.039654,82.963087 55.039748,82.962785 55.040878,82.962803 55.041113,82.962822 55.041164,82.96285 55.041203,82.9629 55.041241,82.963044 55.041254,82.963174 55.041255,82.963317 55.041248,82.963789 55.041224,82.967986 55.040375,82.969016 55.040166,82.971059 55.039753,82.971504 55.039657,82.971778 55.03959,82.971976 55.039537,82.972521 55.039377,82.973608 55.039021,82.974691 55.038635,82.975538 55.038303,82.976137 55.038041,82.97656 55.037829,82.977161 55.037501,82.97736 55.037375,82.977596 55.037207,82.981063 55.034928,82.987993 55.038373,82.988723 55.038355,82.990298 55.038776,82.990954 55.038952,82.99475 55.033194,82.99928 55.035046,83.001337 55.035799,83.002806 55.036229,83.00441 55.03659,83.015091 55.038203,83.017043 55.038524,83.022192 55.039372,83.024987 55.039872,83.025439 55.040001,83.033668 55.041559,83.037335 55.04224,83.038052 55.042364,83.039421 55.042612,83.04023 55.042746,83.043077 55.04334,83.048183 55.044358,83.052404 55.045248,83.05314 55.0454,83.054158 55.045604,83.057235 55.046147,83.05836 55.046321,83.059365 55.046474,83.066276 55.047404,83.069877 55.047905,83.070598 55.048042,83.071229 55.048187,83.072643 55.048562,83.073256 55.048755,83.073673 55.048904,83.074303 55.049145,83.074355 55.049165,83.07568 55.049756,83.078843 55.051581,83.08022 55.052329,83.080659 55.052543,83.082265 55.055963,83.08382 55.058934,83.086117 55.063539,83.08595 55.063552,83.085523 55.063601,83.085353 55.063653,83.085227 55.063706,83.085172 55.063753,83.084882 55.063927,83.084685 55.064061,83.08448 55.064145,83.084308 55.064153,83.083909 55.064129,83.083455 55.064135,83.082935 55.064321,83.082902 55.064438,83.082485 55.064579,83.08218 55.064568,83.081993 55.064496,83.081868 55.064495,83.081865 55.064657,83.081803 55.064683,83.081333 55.064694,83.081363 55.064762,83.081315 55.06482,83.081213 55.064837,83.081134 55.064877,83.081172 55.064936,83.081202 55.065003,83.081155 55.065053,83.081014 55.06507,83.080778 55.065118,83.080376 55.065282,83.080022 55.065397,83.079555 55.065731,83.079326 55.065833,83.078948 55.065993,83.078665 55.066041,83.078196 55.06602,83.077876 55.065992,83.077241 55.066024,83.076937 55.065991,83.076749 55.065963,83.076694 55.066021,83.076584 55.066038,83.076513 55.066047,83.076465 55.066132,83.076401 55.066177,83.076307 55.066181,83.076214 55.066158,83.07618 55.066297,83.076106 55.066439,83.075922 55.066407,83.075115 55.066678,83.075029 55.066721,83.07491 55.06675,83.07452 55.066806,83.074397 55.066838,83.074048 55.067014,83.073954 55.06705,83.073859 55.067069,83.073714 55.067084,83.073629 55.067106,83.073569 55.06715,83.073544 55.067199,83.073467 55.067249,83.073366 55.067288,83.073247 55.067311,83.073029 55.067551,83.073026 55.067758,83.073 55.067915,83.072912 55.067995,83.072724 55.068093,83.072627 55.068218,83.072445 55.06832,83.072264 55.068378,83.072124 55.068328,83.071808 55.068474,83.071658 55.068545,83.071548 55.068598,83.071422 55.068674,83.071288 55.068691,83.071179 55.068695,83.071061 55.068708,83.070936 55.068689,83.070911 55.068752,83.070809 55.068788,83.070738 55.068837,83.070603 55.068935,83.070486 55.068956,83.069977 55.068972,83.069796 55.069002,83.069122 55.069079,83.068917 55.069154,83.068806 55.069217,83.068687 55.06932,83.068544 55.06944,83.068301 55.069493,83.068167 55.069555,83.068023 55.069738,83.067911 55.069899,83.0678 55.069993,83.067682 55.070024,83.067364 55.069797,83.067199 55.069841,83.067081 55.069974,83.06699 55.07002,83.066824 55.069993,83.066644 55.070006,83.066466 55.0702,83.066394 55.070267,83.066249 55.07028,83.066139 55.070253,83.065986 55.070265,83.065617 55.070385,83.065421 55.07038,83.06536 55.070316,83.065564 55.070204,83.065606 55.070084,83.065505 55.070066,83.065371 55.070119,83.065271 55.070105,83.065184 55.070077,83.065147 55.06996,83.065037 55.069946,83.065005 55.070022,83.064925 55.070112,83.064649 55.070205,83.0645 55.070249,83.064336 55.070261,83.064211 55.07022,83.064173 55.07012,83.064193 55.06974,83.063635 55.069511,83.063523 55.069508,83.063474 55.069533,83.063443 55.069598,83.063392 55.069701,83.063237 55.069753,83.063092 55.069787,83.063039 55.06985,83.062975 55.069972,83.062879 55.070012,83.062777 55.070006,83.062369 55.070333,83.062263 55.070428,83.061248 55.070996,83.061085 55.071122,83.061904 55.071702,83.060601 55.072408,83.060257 55.07257,83.059618 55.072818,83.059511 55.072841,83.059458 55.072848,83.059418 55.072849,83.059312 55.072841,83.05917 55.07282,83.058864 55.072812,83.058731 55.072816,83.058632 55.072837,83.058529 55.072871,83.0584 55.07292,83.058232 55.072973,83.057959 55.073348,83.057257 55.073577,83.057205 55.073631,83.057193 55.073694,83.057193 55.073812,83.05716 55.073959,83.057047 55.074065,83.056817 55.074159,83.056619 55.074212,83.056396 55.074236,83.056298 55.0742,83.056233 55.074162,83.05614 55.074149,83.056028 55.074161,83.0559 55.074215,83.055816 55.074232,83.055687 55.074227,83.055511 55.074225,83.055416 55.074251,83.055287 55.074337,83.055096 55.074389,83.05491 55.074408,83.054835 55.074404,83.054724 55.074438,83.054653 55.074479,83.054576 55.074566,83.054504 55.074703,83.05448 55.074743,83.054429 55.074765,83.054327 55.074759,83.053861 55.074633,83.053667 55.074615,83.053491 55.074626,83.053016 55.074737,83.052837 55.074745,83.052674 55.074775,83.052564 55.074829,83.052519 55.074869,83.05226 55.07502,83.052169 55.075054,83.052024 55.075067,83.05135 55.075077,83.051233 55.075094,83.051084 55.075135,83.044591 55.077078,83.045248 55.077987,83.038991 55.079475,83.036274 55.079609,83.036183 55.079733,83.036164 55.079747,83.035248 55.080426,83.035123 55.080528,83.032851 55.082387,83.032443 55.082156,83.03232 55.082337,83.032112 55.082501,83.031739 55.082649,83.031553 55.082741,83.031714 55.082851,83.031529 55.082941,83.031566 55.082992,83.031624 55.08304,83.031711 55.083093,83.031467 55.083292,83.03153 55.083452,83.030798 55.083827,83.032068 55.084462,83.032161 55.084523,83.032165 55.084547,83.032125 55.084603,83.032066 55.084656,83.031569 55.084997,83.031555 55.085022,83.031526 55.085045,83.030926 55.085472,83.0309 55.085491,83.030637 55.085608,83.030389 55.085671,83.030031 55.085794,83.03111 55.086514,83.031301 55.086612,83.031449 55.086647,83.031515 55.086654,83.03081 55.086989,83.03077 55.086962,83.029351 55.087653,83.028247 55.088116,83.02777 55.088223,83.027632 55.0884,83.026955 55.088696,83.026596 55.088819,83.026471 55.089099,83.026449 55.089086,83.026249 55.088961,83.026027 55.089078,83.025928 55.089147,83.025062 55.089582,83.024089 55.089082,83.023838 55.089245,83.023438 55.089089,83.023138 55.088971,83.02271 55.08927,83.022595 55.089374,83.022522 55.089453,83.022942 55.089594,83.022477 55.089949,83.022163 55.090208,83.021647 55.090425,83.020854 55.090688,83.019998 55.09094,83.019816 55.091027,83.019622 55.09114,83.019319 55.09137,83.019165 55.091511,83.019102 55.091591,83.018376 55.092017,83.018049 55.092406,83.017898 55.092863,83.017605 55.093173,83.01728 55.093428,83.01669 55.093707,83.015021 55.094628,83.003405 55.101039,83.000894 55.101457,82.998709 55.101835,82.99709 55.09883,82.997025 55.09872,82.984985 55.075438,82.983924 55.076534,82.982955 55.077236,82.982872 55.077199,82.982306 55.077588,82.980717 55.078336,82.978807 55.07896,82.977938 55.078212,82.972912 55.075908,82.971319 55.075069,82.967866 55.073493,82.966366 55.072809,82.966312 55.072848,82.966267 55.072862,82.966174 55.072866,82.966131 55.072856,82.965365 55.0725,82.964914 55.072831,82.960838 55.070996,82.960599 55.0709,82.960436 55.070847,82.9602 55.070797,82.960067 55.070759,82.959592 55.070585,82.959545 55.070577,82.959446 55.070574,82.959468 55.070485,82.959735 55.070255,82.960141 55.069924,82.960718 55.069873,82.961079 55.07004,82.962053 55.069422,82.962281 55.068945,82.960842 55.069085,82.959817 55.069169,82.959586 55.069027,82.959541 55.068986,82.959464 55.068782,82.95936 55.068566,82.959329 55.068533,82.959284 55.068513,82.959343 55.068423,82.959346 55.068379,82.959336 55.068349,82.959279 55.068299,82.959078 55.068203,82.958585 55.067977,82.95839 55.067852,82.95703 55.067228,82.956744 55.06723,82.956754 55.067103,82.956817 55.066986,82.956895 55.066923,82.957391 55.066606,82.958004 55.066201,82.958094 55.066164,82.958207 55.06613,82.958446 55.066095,82.958569 55.066091,82.95872 55.066089,82.958739 55.066029,82.958739 55.065977,82.958724 55.065901,82.95869 55.065833,82.95979 55.06508,82.959931 55.064987,82.960229 55.064722,82.960363 55.064583,82.960607 55.064425,82.96066 55.06439,82.960673 55.064343,82.960635 55.064215,82.960642 55.064178,82.961207 55.063812,82.961477 55.063714,82.961549 55.063692,82.961616 55.063679,82.961905 55.06364,82.961888 55.063583,82.961886 55.063533,82.961911 55.063483,82.961955 55.063433,82.962029 55.063378,82.962643 55.062996,82.962727 55.062934,82.96276 55.062896,82.963092 55.062571,82.95358 55.058111,82.950609 55.056677,82.949634 55.056207,82.948844 55.055864,82.947903 55.055494,82.946049 55.054851,82.94548 55.054681,82.944849 55.054532,82.944212 55.054387,82.943306 55.05421,82.943065 55.054168,82.943168 55.053933,82.943255 55.053757,82.943151 55.053726,82.943083 55.053695,82.943031 55.053649,82.943006 55.053603,82.943003 55.053541,82.943143 55.052985,82.943403 55.052045,82.943645 55.051268,82.943658 55.051206,82.943648 55.051159,82.943612 55.051121,82.943691 55.050791,82.94372 55.050677,82.943735 55.050615,82.943841 55.050624,82.943934 55.050277,82.943948 55.050226,82.944203 55.050239,82.944887 55.050275,82.945392 55.050314,82.945588 55.050314,82.945566 55.05026,82.945543 55.050191,82.945546 55.050121,82.945593 55.049865,82.945713 55.049421,82.946678 55.045843,82.945157 55.045709,82.945465 55.044557,82.946665 55.04007,82.946856 55.039745,82.9473 55.038083,82.947462 55.037182,82.948362 55.036869,82.948842 55.036652,82.950257 55.03626,82.950276 55.036157))")[0],color:"#C13D4B",point_name:{lon:83.010898,lat:55.061575}}},b=(0,f.R)(v),y=(0,f.R)({id:"da6a2cfd-3bab-5ac9-9fa8-ea6ad2a70b8c",total:1,offers:[{accommodation_type:{code:"hotel",label:""},address:{adm_div:["5349042514588559","5348647327760881","5348634442858519","5348685982466072"],city:"Санкт-Петербург",main_adm_div:"5348647327760881",name:"Английский проспект, 60"},booking_params:{adult_count:2,checkin:"2025-03-26",checkout:"2025-03-27"},discount:{amount:{currency:"RUB",price:1567},base:{currency:"RUB",price:15675},rate:10,type:"exclusive"},id:"70000001054775515",name:"Villa Mr. Pinky",photos:[{is_resizable:!0,url:"https://i5.photo.2gis.com/photo-gallery/514e60d2-ae88-4fe8-8391-f24194219d8c.jpg"}],reviews:{count:4,rating:4.4},star_rating:5,total:{currency:"RUB",price:14108}}]})},95415:(e,t,i)=>{"use strict";i.d(t,{ym:()=>g,EA:()=>h,cl:()=>s});var s={};i.r(s),i.d(s,{makeScenario:()=>x,prefetchGetScenariosQuery:()=>y,useGetScenariosQuery:()=>b});var r=i(31085),n=i(71064),a=i(81618),o=i(84175),c=i(18887),d=i(80552),l=i(88114),u=i(65932),p=i(40035),m=i(25698);const g=({scenario:e,counter:t,onClick:i})=>{const{css:s,s:d}=(0,o.I)(f),m=(0,c.P)({type:"guide",scenarioId:e.id});return(0,r.jsxs)(n.A,Object.assign({},a.dx.n("wat-scenario-mini-card"),{href:m,styles:d.root,onClick:i},{children:[(0,r.jsx)("span",Object.assign({className:s(d.name)},{children:e.name})),(0,r.jsxs)("div",Object.assign({className:s(d.info)},{children:[(0,r.jsx)(u.vw,{icon:(0,r.jsx)(p.y,{}),appearance:"secondary",title:t.toString()}),(0,r.jsx)(l.E,{src:e.icon_path,alt:e.name,height:32,width:32,isLoadingForced:!0})]}))]}))},h=()=>{const{css:e,s:t,theme:{typography:i}}=(0,o.I)(f);return(0,r.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,r.jsx)("span",Object.assign({className:e(t.name)},{children:(0,r.jsx)(m.M,{width:"70%",height:i.bodyMedium.lineHeight,borderRadius:4})})),(0,r.jsxs)("div",Object.assign({className:e(t.info)},{children:[(0,r.jsx)(u.yQ,{icon:(0,r.jsx)(p.y,{}),appearance:"secondary"}),(0,r.jsx)(m.M,{height:32,width:32,borderRadius:4})]}))]}))},f=(0,o.r)((({colors:e,typography:t})=>({root:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:12,cursor:"pointer",boxSizing:"border-box",height:116,padding:16,borderRadius:16,backgroundColor:e["Surface/03"],boxShadow:"0px 1px 4px 0px #00000014; 0px 0px 0px 0.5px #0000000A",userSelect:"none",color:e["Text, Icons/Primary"],"&:hover":{backgroundColor:e["Text, Icons/Global/White accent"]},"&:active":{backgroundColor:e["Text, Icons/Global/White secondary"]}},info:{display:"flex",justifyContent:"space-between",alignItems:"end",gap:8},name:Object.assign({display:"block"},(0,d.lineClamped)(2,t.bodyMedium))})));var v=i(78170);const{use:b,prefetch:y}=(0,v.VZ)("useGetScenarios",(e=>({services:t})=>t.guideApi.getScenarios(e)),{staleTime:1/0,cacheTime:1/0});const x=(0,i(35277).R)({id:"01",name:"Лучший сценарий",icon_path:"https://disk.2gis.com/rubricator/eat594ef1a575533c3c1b558ee032dad50c.svg"})},67509:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});var s={};i.r(s),i.d(s,{_:()=>r});const r=(0,i(86070).G)("isImmersiveMapEnabled")},43751:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var s={};i.r(s),i.d(s,{S:()=>n,P:()=>a});var r=i(86070);const n=(0,r.G)("isImmersivePromoRunning"),a=(0,r.G)("isImmersivePromoViewed")},88067:(e,t,i)=>{"use strict";i.d(t,{Q1:()=>C,yR:()=>x,YD:()=>s});var s=i(91175),r=i(31085),n=i(84175),a=i(14041),o=i(10048),c=i(58471),d=i(40837);const l=e=>(0,r.jsx)(o.w,{loader:c.b.mediaVideoPlayer,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:d.N});var u=i(64099),p=i(81618),m=i(12043),g=i(46579),h=i(99882),f=i(8365),v=i(72123);function b(...e){return t=>{e.forEach((e=>{e&&(e.current=t)}))}}var y=i(68299);const x=(0,a.memo)((({video:e,selected:t,footer:i,statusIcon:s,trackBSSSource:o,position:c,activeItemId:d})=>{const u=(0,a.useRef)(null),x=(0,a.useRef)(null),{css:w,s:I}=(0,n.I)(j),{isMobileDevice:C}=(0,g.U)(),_=(0,a.useContext)(h.q),[k,O]=(0,a.useState)(0),[S,T]=(0,a.useState)(void 0),[E,M]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{T(Date.now())}),[]);const{bssRef:N}=(0,f.E)((0,v.bssShowEvent)({trackBSSSource:o,item:e,position:c,isVideo:!0}),{threshold:.5,forceSendShowIfParamsChanged:[t]}),{bssRef:L}=(0,f.E)(E?(0,v.bssShowVideoPlaybackReadyEvent)({item:e,position:c,loadingTime:E}):void 0,{forceSendShowIfParamsChanged:[t,E]}),P=C&&t,R=d===e.id&&o,A=(0,a.useRef)(null),B=(0,a.useRef)(null);((e,t,i)=>{const s=(0,a.useContext)(h.q),{isMobileDevice:r}=(0,g.U)(),n=(0,y.Y)((()=>{null==s||s.setShowControls(!1)}),5e3);(0,a.useEffect)((()=>{e&&(null==s?void 0:s.showControls)&&n()}),[e,null==s?void 0:s.showControls]);const o=(0,a.useCallback)((()=>{null==s||s.setShowControls(!0),n()}),[n,s]),c=(0,a.useCallback)((e=>{var n,a;const c=r?null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect():null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect();if(c){const t=c.x,i=c.x+c.width,r=c.y,n=c.y+c.height;(e.x>t&&e.x<i&&e.y>r&&e.y<n||(null==s?void 0:s.isPressedProgressBar))&&o()}}),[t,i,r,o,null==s?void 0:s.isPressedProgressBar]),d=(0,y.Y)(c,50);(0,a.useEffect)((()=>(document.addEventListener("mousemove",d),()=>{document.removeEventListener("mousemove",d)})),[d])})(t,A,B),(0,a.useEffect)((()=>{setTimeout((()=>{u.current&&t&&(u.current.scrollIntoView({block:"center"}),u.current=null)}),0)}),[]),(0,a.useEffect)((()=>{const e=new ResizeObserver((e=>{for(const t of e)t.target===x.current&&O(t.contentRect.height)})),t=x.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}}),[i]);const z=(0,a.useCallback)((e=>{S&&e&&M(e-S)}),[S]);return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.h,{children:(0,r.jsxs)("div",Object.assign({className:w(I.snapItem),ref:u},(0,p.p)({n:"wat-media-video-player",v:t?e.id:void 0}),{children:[(0,r.jsx)("div",Object.assign({ref:b(A,R?N:null,L),className:w(I.wrapper),style:k&&i?{height:`calc(100% - ${k}px)`}:{}},{children:(0,r.jsx)(l,{selected:P,urls:e.video.urls,id:e.id,customControls:!0,showControls:!!(null==_?void 0:_.showControls),statusIcon:s,onReadyToPlay:z})})),i?(0,r.jsx)("div",Object.assign({ref:x},{children:i})):null]}),e.id)}),(0,r.jsx)(m.j,{children:(0,r.jsx)("div",Object.assign({className:w(I.wrapper),ref:b(B,R?N:null,L)},(0,p.p)({n:"wat-media-video-player",v:t?e.id:void 0}),{children:(0,r.jsx)(l,{selected:t,id:e.id,urls:e.video.urls,customControls:!0,showControls:!!(null==_?void 0:_.showControls),statusIcon:s,onReadyToPlay:z})}))})]}):null}));x.displayName="MediaVideo";const j=(0,n.r)({snapItem:{height:"100%",scrollSnapAlign:"center",scrollSnapStop:"always",scrollMargin:4,flexShrink:0,flexBasis:"100%",flexGrow:1,display:"flex",flexDirection:"column"},wrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:u.fE.base}});var w=i(76504),I=i(33808);const C=a.memo((({selected:e,position:t,photo:i,isLoadingForced:s=!1,trackBSSSource:o,size:c,footer:d})=>{const l=a.useRef(null),{lang:u}=(0,g.U)(),[h,b]=(0,a.useState)(!0),{s:y,css:x,theme:j}=(0,n.I)(_),{bssRef:C}=(0,f.E)((0,v.bssShowEvent)({trackBSSSource:o,item:i,position:t,size:c}),{threshold:.5,forceSendShowIfParamsChanged:[e]}),k=e&&o,O=a.useCallback((()=>b(!1)),[b]);return a.useEffect((()=>{setTimeout((()=>{l.current&&e&&(l.current.scrollIntoView({block:"center"}),l.current=null)}),0)}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.h,{children:(0,r.jsxs)("div",Object.assign({className:x(y.snapItem),ref:l},{children:[(0,r.jsxs)("div",Object.assign({ref:k?C:null,className:x(y.wrapper)},{children:[(0,r.jsx)(w.O,Object.assign({contain:!0,src:i.photo.url},p.dx.n("wat-image"),{onError:O,onLoad:O,alt:"ru"===u?"Фото":void 0})),!s&&h&&(0,r.jsx)("div",Object.assign({className:x(y.preloader)},p.dx.n("wat-mediaviewer-image-preloader"),{children:(0,r.jsx)(I.y,{size:24,color:j.colors.green_299400_brand})}))]})),null!=d?d:null]}),i.id)}),(0,r.jsx)(m.j,{children:(0,r.jsxs)("div",Object.assign({ref:k?C:null,className:x(y.wrapper)},{children:[(0,r.jsx)("img",Object.assign({className:x(y.image),src:i.photo.url,onLoad:O,onError:O,alt:"ru"===u?"Фото":void 0},p.dx.n("wat-image"))),!s&&h&&(0,r.jsx)("div",Object.assign({className:x(y.preloader)},p.dx.n("wat-mediaviewer-image-preloader"),{children:(0,r.jsx)(I.y,{size:24,color:j.colors.green_299400_brand})}))]}))})]})}));C.displayName="MediaImage";const _=(0,n.r)({snapItem:{height:"100%",scrollSnapAlign:"center",scrollSnapStop:"always",scrollMargin:4,flexShrink:0,flexBasis:"100%",flexGrow:1,display:"flex",flexDirection:"column"},wrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:u.fE.base,pointerEvents:"none"},image:{height:"100%",width:"100%",objectFit:"contain"},preloader:{position:"absolute",zIndex:u.fE.bottom,top:"50%",transform:"translate3d(-50%, -50%, 0)",left:"50%"}})},72123:(e,t,i)=>{"use strict";i.r(t),i.d(t,{bssShowEvent:()=>u,bssShowVideoPlaybackReadyEvent:()=>p});var s=i(45863),r=i(80905),n=i(46287),a=i(66748),o=i(9420),c=i(53930),d=i(50432);const l=(e,t)=>{(0,d.vV)({message:e,level:"error",id:null!=t?t:"lkjdd",payload:{type:"debug",subtype:"BssTrackerV3"}})},u=({trackBSSSource:e,item:t,position:i,size:d,isVideo:u})=>({frameId:p},m)=>{var g,h;if(!e)return;const f=(0,r.w1)(m.appContext.frames,p);if(t.id===a.F3)return{uiElement:{name:"photoCardFull",ownerName:"friends"===e?"currentReviewFrame":"galleryFrame",frameUuid:p,position:i},payload:{photo:void 0}};const v=f&&"entityId"in f&&f.entityId?(0,n.DE)({entityId:f.entityId,state:m}).data:void 0,b=(0,c.xz)(t)?{type:t.object.type,id:t.object.id_str}:void 0,y=f?null===(g=(0,o.$x)({state:m,frameId:f.id}))||void 0===g?void 0:g.id:void 0,x=(0,c.xz)(t)&&"branch"===t.object.type?t.object.type:null==v?void 0:v.type,j=(0,s.p)({media:t,orgId:"branch"===(null==v?void 0:v.type)?null===(h=v.org)||void 0===h?void 0:h.id:void 0,entityId:b?b.id:null==v?void 0:v.id,entityType:x,tag:y,isVideo:u});return"reviews"!==e||(0,c.Xr)(t)||(0,c.kt)(t)?"realty"!==e||(0,c.Xr)(t)||(0,c.kt)(t)?j||"friends"===e?u?!u||"photos"!==e&&"publicProfile"!==e?void 0:((e,t,i,s)=>({uiElement:{name:"videoCardFull",ownerName:"publicProfile"===i?"cardActivity":"galleryFrame",frameUuid:e,position:t},payload:{video:s}}))(p,i,e,j):((e,t,i,s)=>({uiElement:{name:"photoCardFull",ownerName:"friends"===i?"currentReviewFrame":"galleryFrame",frameUuid:e,position:t},payload:{photo:s}}))(p,i,e,j):void l("Не удалось сформировать payload.photo для события показа карточки фото/видео v-gso2s/v-7tkp9"):d?((e,t,i)=>({uiElement:{name:"realtyPhotoCardFull",ownerName:"realtyGalleryFrame",frameUuid:e,position:t},payload:{gallery:{size:i}}}))(p,i,d):void l("Не удалось сформировать payload.gallery для события показа фотографии карточки недвижимости v-4jv44"):j?((e,t,i,r,n)=>({uiElement:{name:"reviewPhotoCardFull",ownerName:"reviewCardFull",frameUuid:e,position:t},payload:{photo:(0,s.p)({media:i,orgId:"branch"===(null==r?void 0:r.type)?r.org.id:void 0,entityId:null==r?void 0:r.id,entityType:null==r?void 0:r.type,tag:n})}}))(p,i,t,v,y):void l("Не удалось сформировать payload.photo для события показа карточки фотографии отзыва v-dhbs3")},p=({item:e,position:t,loadingTime:i})=>({frameId:a},d)=>{var l,u;const p=(0,r.w1)(d.appContext.frames,a),m=p&&"entityId"in p&&p.entityId?(0,n.DE)({entityId:p.entityId,state:d}).data:void 0,g=(0,c.xz)(e)?{type:e.object.type,id:e.object.id_str}:void 0,h=p?null===(l=(0,o.$x)({state:d,frameId:p.id}))||void 0===l?void 0:l.id:void 0,f=(0,c.xz)(e)&&"branch"===e.object.type?e.object.type:null==m?void 0:m.type,v=(0,s.p)({media:e,orgId:"branch"===(null==m?void 0:m.type)?null===(u=m.org)||void 0===u?void 0:u.id:void 0,entityId:g?g.id:null==m?void 0:m.id,entityType:f,tag:h,isVideo:!0,loadingTime:i});return{uiElement:{name:"videoPlaybackReady",ownerName:"videoCardFull",frameUuid:a,position:t},payload:{video:v}}}},91175:(e,t,i)=>{"use strict";i.r(t),i.d(t,{bss:()=>o,generators:()=>r,invalidateAlbum:()=>n.FD,prefetchMediaAlbum:()=>n.zt,prefetchMediaById:()=>n.uX,prefetchUserItems:()=>n.JZ,setAlbum:()=>n.Q_,setUserMediaItem:()=>n.hp,signals:()=>a,types:()=>s,useAlbum:()=>n.$U,useById:()=>n.eC,useDeleteMediaMutation:()=>n._X,useListQuery:()=>n.UF,useSendFileMutation:()=>n.ru,useUserItems:()=>n.LP,withMediaAlbum:()=>n.Sn,withUserMediaItems:()=>n.aX});var s={};i.r(s);var r={};i.r(r),i.d(r,{clickMiniMediaItem:()=>l,viewMediaCardFull:()=>u,viewMiniMediaItem:()=>d});var n=i(77462),a=i(86769),o=i(72123),c=i(60545);const d=({isVideo:e,position:t,ownerName:i,size:s,tag:r})=>(0,c.m3)()({uiElement:{name:e?"videoCardMini":"photoCardMini",ownerName:i,position:null!=t?t:1},payload:Object.assign(Object.assign({placeItem:expect.any(Object)},s?{gallery:{size:s,tag:r}}:{}),e?{video:expect.any(Object)}:{photo:expect.any(Object)})}),l=({isVideo:e,position:t,ownerName:i,size:s,tag:r,isMenuTab:n})=>(0,c.gD)()({uiElement:{name:e?"videoCardMini":"photoCardMini",ownerName:i,position:null!=t?t:1},payload:Object.assign(Object.assign(Object.assign({},s?{gallery:{size:s,tag:r}}:{}),n?{productOffersList:expect.any(Object)}:{}),e?{video:expect.any(Object)}:{photo:expect.any(Object)})}),u=({isVideo:e,position:t})=>(0,c.m3)()({uiElement:{name:e?"videoCardFull":"photoCardFull",ownerName:"galleryFrame",position:null!=t?t:1},payload:Object.assign({},e?{video:expect.any(Object)}:{photo:expect.any(Object)})})},77462:(e,t,i)=>{"use strict";i.d(t,{$U:()=>c,FD:()=>u,JZ:()=>f,LP:()=>h,Q_:()=>d,Sn:()=>l,UF:()=>o,_X:()=>x,aX:()=>b,eC:()=>m,hp:()=>v,ru:()=>y,uX:()=>g,zt:()=>p});var s=i(85608),r=i(78170),n=i(66698),a=i(46561);const{use:o}=(0,r.VZ)("fetchListMedia",(e=>({services:t,config:i})=>(0,s.sH)(void 0,void 0,void 0,(function*(){if(!e.objectIds.length||!i.featureVideoInGallery)return;return(yield Promise.all((0,a.H)(Math.ceil(e.objectIds.length/25),(i=>t.mediaApi.getMediaItemsLight(Object.assign({objectIds:e.objectIds.slice(25*i,25*(i+1)),searchCtx:e.searchCtx,searchKeywords:e.searchKeywords},e.size?{size:e.size}:{})))))).reduce(((e,t)=>t.meta&&200!==t.meta.code?e.meta&&200!==e.meta.code?t:e:{meta:t.meta,items:Object.assign(Object.assign({},e.items),t.items)}),{})}))),{staleTime:1/0,cacheTime:1/0}),{use:c,setQueryData:d,withQueryData:l,invalidate:u,prefetch:p}=(0,r.r8)("fetchMediaAlbum",(e=>[[e.objectId,e.albumId,e.searchCtx,e.searchKeyword],({services:t,context:i})=>(0,s.sH)(void 0,void 0,void 0,(function*(){const{credentialsApi:s,mediaApi:r}=t,{pageParam:a}=i,{objectId:o,albumId:c=n.Qh,searchCtx:d,searchKeyword:l}=e;if("__empty"===o)return{items:[],albums:[],next_page_token:void 0,meta:{code:200}};const u=yield s.getToken();return yield r.getMediaItemsByAlbums({objectId:o,albumId:c,accessToken:u,page_token:a?`${a}`:void 0,searchCtx:d,searchKeyword:l})}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>null==e?void 0:e.next_page_token}),{use:m,prefetch:g}=(0,r.VZ)("fetchMediaById",(e=>({services:t,config:i})=>{if(e.length&&i.featureVideoInGallery)return t.mediaApi.getMediaItemsByIds(e)}),{staleTime:1/0,cacheTime:1/0}),{use:h,prefetch:f,setQueryData:v,withQueryData:b}=(0,r.r8)("fetchMediaUserItems",(()=>({services:e,context:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){const i=yield e.credentialsApi.getToken();return e.mediaApi.getMediaUserItems({page:Number(t.pageParam)||1,accessToken:i})}))),{staleTime:1/0,cacheTime:1/0}),{use:y}=(0,r.WL)((e=>({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){const i=yield t.credentialsApi.getToken();return t.mediaApi.uploadMediaFile(Object.assign(Object.assign({},e),{accessToken:i}))})))),{use:x}=(0,r.WL)((e=>({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){const i=yield t.credentialsApi.getToken(),{objectId:s,mediaId:r}=e;return t.mediaApi.deleteMedia({objectId:s,mediaId:r,accessToken:i})}))))},86769:(e,t,i)=>{"use strict";i.r(t),i.d(t,{invalidateMediaByAlbum:()=>h,removeUserMediaFromCache:()=>v,setMediaByAlbum:()=>f});var s=i(7335),r=i(80905),n=i(71085),a=i(74786),o=i(61120),c=i(80648),d=i(12017),l=i(77462),u=i(66698),p=i(51941);const m=({oldData:e,albumId:t,media:i})=>{const s=null==e?void 0:e.pages.slice(1),r=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...i,...e.pages[0].items]:[...i],albums:(0,p.HE)(t,i.length,e.pages[0].albums)}):{items:[...i],albums:(0,p.HE)(t,i.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==s?void 0:s.length)?[r,...s]:[r]})},g=({oldData:e,albumId:t,media:i})=>{var s;const r=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!i.some((t=>t.id===e.id)))),albums:(0,p.HE)(t,0-i.length,e.albums)}))):[{items:[],albums:[{id:u.Qh,name:"Все",count:0}],error:{type:void 0,message:void 0},meta:void 0,next_page_token:null===(s=null==e?void 0:e.pages[0])||void 0===s?void 0:s.next_page_token}];return{pageParams:(null==e?void 0:e.pageParams)||[],pages:r}};function h(e){return(0,s.RC)({entityFrame:e=>(0,r.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,n.y)(e)},(({entityFrame:t,queryContext:i})=>{const r=(0,a.MV)(i),n=e.entityId||(null==t?void 0:t.id);return(0,s.RC)({searchKeyword:(0,c.QW)(n)},(({searchKeyword:t})=>n&&!o.S$?(0,l.FD)({objectId:n,albumId:e.albumId,searchCtx:r,searchKeyword:t}):(0,d.lQ)()))}))}function f(e,t){return(0,s.RC)({entityFrame:e=>(0,r.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,n.y)(e)},(({entityFrame:i,queryContext:r})=>{const n=e.entityId||(null==i?void 0:i.id),o=(0,a.MV)(r);return(0,s.RC)({searchKeyword:(0,c.QW)(n)},(({searchKeyword:i})=>n?(0,l.Q_)({objectId:n,albumId:e.albumId,searchCtx:o,searchKeyword:i},(i=>"add"===e.actionType?m({oldData:i,albumId:e.albumId,media:t}):g({oldData:i,albumId:e.albumId,media:t}))):(0,d.lQ)()))}))}function v(e){return(0,l.hp)({},(t=>function({oldData:e,media:t}){var i;if(!e||!e.pages.length)return{pageParams:[],pages:[{items:[],meta:{code:200},total:0}]};let s=null!==(i=e.pages[0].total)&&void 0!==i?i:0;const r=e.pages.map((e=>{if(!e.items)return e;const i=e.items.filter((e=>{const i=e.id===t.id;return i&&s>0&&(s-=1),!i}));return Object.assign(Object.assign({},e),{items:i,total:s})}));return Object.assign(Object.assign({},e),{pages:r})}({oldData:t,media:e})))}},41350:(e,t,i)=>{"use strict";i.d(t,{bS:()=>ke,QW:()=>Fe,Xl:()=>fe,G8:()=>Me,Mq:()=>Te,ao:()=>A,YW:()=>V,ki:()=>le,Mv:()=>r,QU:()=>s});var s=i(69444),r=i(90263),n=i(31085),a=i(14041),o=i(84175),c=i(70498),d=i(99259),l=i(71064),u=i(60372),p=i(79594),m=i(8365),g=i(10742),h=i(81618),f=i(82781),v=i(11540),b=i(64433),y=i(1321),x=i(18887),j=i(46579),w=i(12017),I=i(72678),C=i(88114),_=i(98626),k=i(59059),O=i(95885);const S=e=>{const{css:t,s:i}=(0,o.I)(T);if(!e.data)return null;const{logo:s,text:r,erid:a,legal_name:c,text_warning:d,text_description:l}=e.data,u=null==s?void 0:s.img_url,p=(0,k.a)(r,u?28:31);return(0,n.jsxs)("div",Object.assign({className:t(i.label,e.styles),"data-n":"wat-minicard-ad-label"},{children:[u&&(0,n.jsx)(C.E,{src:(0,O.m)(u,"32x32"),isLoadingForced:!0,height:16,width:16}),(0,n.jsx)("div",Object.assign({className:t(i.link)},{children:(0,n.jsx)(_.Q,{small:!0,source:"banner",anchorText:p,erid:a,legalName:c,description:l,warning:d,styles:e.linkStyles})}))]}))},T=(0,o.r)((({colors:e})=>({label:{display:"flex",alignItems:"center",gap:4,height:20,marginBottom:6},link:{color:e["Text, Icons/Accent"]}})));var E=i(20887),M=i(85608),N=i(76504);const L=e=>{var t;const{css:i,s:r}=(0,o.I)(P),{realtyItem:a,index:c,bssType:l,onClick:u,lazyLoadVisibilityOffset:p=-50,item:g}=e,{lang:f}=(0,j.U)(),v=c+1,{bssRef:b,useBssHandler:y}=(0,m.E)(a&&g?s.bss.showPhoto({position:v,bssType:l,bssItem:a}):void 0,{threshold:.7}),x=y(s.bss.tapPhoto);return(0,n.jsx)("div",Object.assign({className:i(r.root),ref:b,onClick:e=>{x(),g&&(null==u||u(e,g.id))}},h.dx.n("wat-realty-photo-preview"),h.dx.v(c.toString()),h.dx.t("realtyMiniCard"===l?"minicard":"card"),{children:(0,n.jsx)(N.O,{src:null!==(t=null==g?void 0:g.url)&&void 0!==t?t:"",lazyLoadVisibilityOffset:p,borderRadius:"8px",backgroundColor:d.T.black_transparent_06,isLoadingForced:1===v,alt:"ru"===f?"Фото":void 0})}))},P=(0,o.r)({root:{width:"100%",height:"100%",cursor:"pointer"}});var R=i(21079);const A=e=>{const{items:t=[],isLoading:i,realtyItem:s,onPhotoClick:r,bssType:a,maxItems:o,lazyLoadVisibilityOffset:c}=e,d=(0,M.Tt)(e,["items","isLoading","realtyItem","onPhotoClick","bssType","maxItems","lazyLoadVisibilityOffset"]),l=i?[void 0,void 0,void 0]:t;return(0,n.jsx)(R.D,Object.assign({},d,{items:o?l.slice(0,o):l,idKey:"id",renderItem:(e,t)=>(0,n.jsx)(L,{index:t,onClick:r,realtyItem:s,item:e,bssType:a,lazyLoadVisibilityOffset:c})}))};var B=i(65811),z=i(65932),F=i(94371);const H=(e,t)=>{switch(e.absolute){case"lower":return t._gg("Низкая цена");case"upper":return t._gg("Высокая цена");default:return t._gg("Рыночная цена")}},U=({marketPrice:e,styles:t})=>{const i=(0,f.c)(),{css:s,s:a}=(0,o.I)(D),{current_price:{fixed:c},lower_price:{fixed:d},upper_price:{fixed:l}}=e,u=(0,r.getMarketPricePosition)({integer:c.value},{integer:d.value},{integer:l.value}),p=H(u,i);return(0,n.jsxs)("div",Object.assign({className:s(a.label,t),"data-n":"wat-minicard-market-price-label"},{children:[(0,n.jsx)("div",Object.assign({className:s(a.icon)},{children:(()=>{switch(u.absolute){case"lower":return(0,n.jsx)(z.dV,{});case"upper":return(0,n.jsx)(z.aZ,{});default:return(0,n.jsx)(z.hj,{})}})()})),(0,n.jsx)("div",Object.assign({className:s(a.text)},{children:p}))]}))},D=(0,o.r)((({colors:e,typography:t})=>({label:{display:"flex",alignItems:"center",gap:4,height:20,marginBottom:6},icon:{width:16,height:16,display:"flex"},text:Object.assign(Object.assign({},t.caption2Regular),{color:e["Text, Icons/Accent"]})}))),V=a.memo((e=>{var t,i,c;const{item:{offer:d,branch:C,product:_,building:k,ads:O},isActive:T,position:M,isSearchInBuilding:N,isSuccess:L,onClick:P,isVisited:R,renderStation:D}=e,{css:V,s:$}=(0,o.I)(W),q=(0,j.U)(),Z=(0,f.c)(),Q=s.useItemsSearch(),G=d.market_price?(0,r.getMarketPricePosition)({integer:d.market_price.current_price.fixed.value},{integer:d.market_price.lower_price.fixed.value},{integer:d.market_price.upper_price.fixed.value}):void 0,{bssRef:K,useBssHandler:Y}=(0,m.E)(s.bss.showMiniCard({realtyItem:e.item,position:M,search:null==Q?void 0:Q.data,isSuccess:L,isSearchInBuilding:N,marketPriceLabel:G?H(G,Z):void 0})),X=Y(s.bss.tapMiniCard,{position:M,isSearchInBuilding:N}),J=Y(s.bss.tapProviderLink,{position:M}),ee=(0,p.d4)((e=>e.appContext.weak.hoveredId)),te=(0,p.d4)((e=>e.appContext.weak.realtyHoveredId)),ie=`${k.id}_${_.id}`,se=ee?ee===k.id:te===ie,re=null===(t=_.attributes)||void 0===t?void 0:t.find((e=>"Этаж"===e.caption)),{realtyOfferUrl:ne,address:ae}=(0,v.kc)(s.formatter,{realtyItem:e.item,config:q}),oe=(null===(i=_.images)||void 0===i?void 0:i.length)>0,ce=a.useMemo((()=>_.images.length<3?88:116),[null===(c=_.images)||void 0===c?void 0:c.length]),de=a.useMemo((()=>_.images.map((e=>({id:e,url:e})))),[_.images]),le=(0,x.P)({type:"realtyAd",id:_.id}),ue=!T&&!se&&R,pe=(null==O?void 0:O.mini_card_label)||d.market_price,[me,ge,he]=(0,F.u)(de),fe=(0,b.I)((()=>(0,y.Ip)({realtyHoveredId:ie}))),ve=(0,b.I)((()=>(0,y.Ip)({realtyHoveredId:void 0}))),be=(0,p.wA)(),ye=(0,g.D)((()=>{null==P||P(),X(),be((0,w.K2)((0,I.B)({point:{lat:k.lat,lon:k.lon},dontUpdateResultsOnNextMapMove:!0}),E.jC.signals.open({realtyId:_.id})))}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)("article",Object.assign({},h.dx.n("wat-realty-mini"),{ref:K,className:V($.root,!oe&&$.withoutImages,T&&$._activeRoot,(T||se)&&$._hovered),onClick:ye,onMouseEnter:fe,onMouseLeave:ve},{children:(0,n.jsxs)("section",Object.assign({className:V($.section)},{children:[!!oe&&(0,n.jsx)("div",Object.assign({className:V(ue&&$.visited)},{children:(0,n.jsx)(A,{lazyLoadVisibilityOffset:0,flexBasis:ce,height:ce,gap:8,flexGrow:1,items:de,onPhotoClick:(e,t)=>{e.preventDefault(),e.stopPropagation(),ge(t)},styles:$.carousel,realtyItem:e.item,bssType:"realtyMiniCard"})})),pe&&(0,n.jsxs)("div",Object.assign({className:V($.labels,!oe&&$.labelsWithoutImages)},{children:[(null==O?void 0:O.mini_card_label)&&(0,n.jsx)(S,{styles:$.label,linkStyles:$.adLabelLink,data:O.mini_card_label}),q.featureRealtyMarketPrice&&d.market_price&&(0,n.jsx)(U,{styles:$.label,marketPrice:d.market_price})]})),(0,n.jsxs)("div",Object.assign({className:V($.content)},{children:[(0,n.jsx)(l.A,Object.assign({href:le,onClick:ye,color:"inherit"},{children:(0,n.jsx)("div",Object.assign({className:V($.name,ue&&$.visitedText)},h.dx.n("wat-realty-minicard-title"),{children:(re?[_.name,Z._gg("%1 этаж",[re.value])]:[_.name]).join(", ")}))})),(0,n.jsx)("div",Object.assign({className:V($.priceWrapper)},{children:(0,n.jsx)(u.S,{valueStyles:[$.price,ue?$.visitedText:void 0],currencyStyles:[$.price,ue?$.visitedText:void 0],price:d.price_value,dataN:"wat-realty-minicard-price"})})),null==D?void 0:D({showVisitedStatus:!!ue}),!N&&(0,n.jsx)("div",Object.assign({className:V($.address)},h.dx.n("wat-realty-minicard-address"),{children:ae})),(0,n.jsx)("footer",Object.assign({className:V($.footer)},{children:(0,n.jsx)("div",{children:(0,n.jsxs)(l.A,Object.assign({href:ne,color:"gray",external:!0,onClick:J,dataN:"wat-realty-provider-link",styles:$.realtyOffer},{children:[C.name,(0,n.jsx)(z.vG,{})]}))})}))]}))]}))}))}),me&&(0,n.jsx)(B.J,{photos:de,activePhotoId:me,onClose:he,onChange:ge,total:de.length,showCopyright:!1,isFullScreen:!0,trackBSSSource:"realty"})]})}));V.displayName="RichMiniCard";const $=e=>({borderRadius:4,paddingTop:2,paddingEnd:6,paddingBottom:2,paddingStart:2,border:`1px solid ${e["Special/Divider/Default"]}`,background:e["Text, Icons/Global/White primary"]}),W=(0,o.r)((({colors:e,typography:t,gaps:i})=>({root:{display:"flex",justifyContent:"space-between",position:"relative",paddingBottom:12,boxShadow:c.E.innerBorderBottomBase,cursor:"pointer",":hover":{backgroundColor:d.T.gray_f9f9f9},":first-child":{boxShadow:c.E.innerBorderTopBottom}},content:{paddingStart:16,paddingEnd:16},carousel:{marginTop:i.verticalFormItems,paddingBottom:i.verticalItemsM},_hovered:{backgroundColor:d.T.gray_f9f9f9},_activeRoot:{boxShadow:c.E.minicardHighLightedSingle,":first-child":{boxShadow:`${c.E.innerBorderTopBottom}, ${c.E.minicardHighLightedSingle}`}},section:{width:"100%"},priceWrapper:{":empty":{display:"none"}},price:Object.assign(Object.assign({},t.h3Semibold),{color:e["Text, Icons/Primary"]}),footer:{display:"flex",alignItems:"baseline",flexDirection:"column"},name:Object.assign(Object.assign({},t.subheadMedium),{paddingTop:1,paddingBottom:1,color:e["Text, Icons/Primary"]}),visited:{opacity:.4},visitedText:{color:e["Text, Icons/Accent"]},realtyOffer:Object.assign(Object.assign({},t.caption1Regular),{display:"flex",justifyContent:"center",alignItems:"center",gap:4,color:e["Text, Icons/Accent"],paddingTop:7,paddingBottom:5,"&:hover":{color:e["Text, Icons/Primary"]}}),address:Object.assign(Object.assign({paddingTop:1,paddingBottom:3},t.caption1Regular),{color:e["Text, Icons/Secondary"]}),labels:{position:"absolute",display:"flex",gap:4,top:18,left:23},label:Object.assign({width:"max-content"},$(e)),labelsWithoutImages:{position:"unset",marginBottom:8,marginStart:16,marginEnd:16},withoutImages:{paddingTop:12},adLabelLink:Object.assign({},t.caption2Regular)})));var q=i(80552),Z=i(10520),Q=i(101),G=i(69158),K=i(64099),Y=i(83113),X=i(12043),J=i(68887);const ee=(0,a.memo)((e=>{const{children:t}=e,{s:i,css:s}=(0,o.I)(ie);return t?(0,n.jsx)("div",Object.assign({className:s(i.inner)},h.dx.n("wat-carousel"),{children:(0,n.jsx)("div",Object.assign({className:s(i.scroller)},h.dx.n("wat-carousel-scroller"),{children:t.map(((e,t)=>(0,n.jsx)(te,{children:e},t)))}))})):null}));ee.displayName="CarouselWrapper";const te=(0,a.memo)((e=>{const{children:t}=e,{s:i,css:s}=(0,o.I)(ie);return(0,n.jsx)("div",Object.assign({className:s(i.slide)},h.dx.n("wat-carousel-slide"),{children:t}))}));te.displayName="CarouselSlideWrapper";const ie=(0,o.r)({inner:{"--carousel-padding":20,position:"relative",overflow:"hidden",paddingBottom:"var(--carousel-padding)"},scroller:{display:"flex",padding:"0 var(--carousel-padding)",overflowX:"auto",scrollSnapType:"x mandatory",scrollBehavior:"smooth",scrollPaddingInline:"var(--carousel-padding)",overscrollBehaviorInline:"contain","&::before, &::after":{content:'""',position:"absolute",top:0,width:"var(--carousel-padding)",height:"100%"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},slide:{position:"relative",flex:"1 0 auto",width:"calc(100vw - var(--carousel-padding) * 2)",overflow:"hidden",borderRadius:J.V.default,scrollSnapAlign:"center",scrollSnapStop:"always","& + &":{marginInlineStart:8}}});var se=i(20315);const re=(0,a.memo)((({src:e,position:t,onClick:i,total:r,bssType:a,bssItem:c})=>{const{s:d,css:l}=(0,o.I)(ne),{lang:u}=(0,j.U)(),p=(0,f.c)(),{bssRef:g,useBssHandler:v}=(0,m.E)(a?s.bss.showPhoto({position:t,bssType:a,bssItem:c}):void 0,{threshold:.7}),b=v(s.bss.tapPhoto);return(0,n.jsxs)("div",Object.assign({ref:g,className:l(d.imageWrapper),onClick:()=>{b(),i&&i(e)}},h.dx.n("wat-carousel-image"),{children:[(0,n.jsx)(se.H,{src:e,forceLoad:!1,styles:d.imageStyle,alt:"ru"===u?"Изображение":void 0}),r&&(0,n.jsx)("div",Object.assign({className:l(d.counter)},{children:p._t("%1 из %2",[t,r])}))]}))})),ne=(0,o.r)({imageWrapper:{height:160},imageStyle:{background:d.T.gray_e6e6e6},counter:Object.assign({position:"absolute",top:4,insetInlineEnd:4,display:"flex",justifyContent:"center",alignItems:"center",padding:"0 5px",minWidth:18,minHeight:18,color:d.T.white,backgroundColor:(0,G.m)(d.T.gray_262626,.5),borderRadius:K.Vq.default,pointerEvents:"none",userSelect:"none"},q.smallMedium)}),ae=(0,a.memo)((e=>{const{images:t,total:i,onClick:s,bssItem:r,bssType:a}=e;return t?(0,n.jsx)(ee,{children:null==t?void 0:t.map(((e,t)=>(0,n.jsx)(re,{src:e,position:t+1,onClick:s,total:i,bssItem:r,bssType:a},e+t)))}):null}));ae.displayName="Carousel";var oe=i(92448);function ce({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.08574 6H4.49995V4H11.5H12.5V5V12H10.5V7.41421L5.70706 12.2071L4.29285 10.7929L9.08574 6Z",fill:e})}))}var de=i(54935);const le=a.memo((e=>{var t,i;const{css:r,s:c}=(0,o.I)(ue),d=(0,f.c)(),{item:p,position:g,search:v,onClick:b,isVisited:y}=e,{offer:x,branch:j,product:w,ads:I}=p,{bssRef:C,useBssHandler:_}=(0,m.E)(s.bss.showMiniCard({realtyItem:p,position:g,search:v,isSuccess:!0})),k=_(s.bss.tapProviderLink,{position:g}),{isHovered:O}=(0,de.M)({ref:C}),T=null===(t=w.attributes)||void 0===t?void 0:t.find((e=>"Этаж"===e.caption)),E=a.useMemo((()=>{var e;return null===(e=w.images)||void 0===e?void 0:e.slice(0,4)}),[w.id]),M=(null===(i=w.images)||void 0===i?void 0:i.length)>0,N=function(e,t){switch(e.categories[0]&&e.categories[0].id){case oe.gI.sale.categoryId:return t._gg("Продажа");case oe.gI.rent.categoryId:case oe.gI.rentDaily.categoryId:return t._gg("Аренда");default:return}}(w,d);return(0,n.jsxs)("div",Object.assign({className:r(c.contentWrapper)},h.dx.n("wat-minicard"),h.dx.t("product"),{children:[(0,n.jsx)(l.A,Object.assign({href:x.url,external:!0,onClick:()=>{b(),k()},color:"inherit"},{children:(0,n.jsxs)("article",Object.assign({},h.dx.n("wat-realty-mini"),{ref:C,className:r(c.root,O&&c._hovered)},{children:[(0,n.jsxs)("section",Object.assign({className:r(c.section)},{children:[!!M&&(0,n.jsx)(X.h,{children:(0,n.jsx)("div",Object.assign({className:r(c.carouselWrapper)},{children:(0,n.jsx)(ae,{images:E,total:w.images.length,bssType:"realtyMiniCard",bssItem:p})}))}),(null==I?void 0:I.mini_card_label)&&(0,n.jsx)(S,{data:I.mini_card_label}),(0,n.jsx)(Z.E,Object.assign({block:!0,lead:!0,m8:!0,__experimentalStyles:c.title,dataN:"wat-minicard-title"},{children:(0,n.jsx)("span",Object.assign({className:r(c.name,y&&c.visitedText,O&&c._activeName)},{children:w.name}))})),!!T&&(0,n.jsx)(Z.E,Object.assign({__experimentalStyles:y&&!O?c.visitedText:void 0,block:!0,m8:!0},{children:d._gg("%1 этаж",[T.value])})),(0,n.jsx)(Z.E,Object.assign({block:!0,note:!0,m8:!0},{children:N})),(0,n.jsxs)("footer",Object.assign({className:r(c.footer)},{children:[(0,n.jsx)("div",Object.assign({className:r(c.priceWrapper,y&&!O&&c.visitedText)},{children:(0,n.jsx)(u.S,{price:x.price_value,period:x.period,valueStyles:c.price,dataN:"wat-price"})})),(0,n.jsxs)("div",Object.assign({className:r(c.providerButton,O&&c._providerButtonHovered)},h.dx.n("wat-agency"),{children:[j.name," ",(0,n.jsx)(ce,{})]}))]}))]})),(0,n.jsx)(X.j,{children:M?(0,n.jsxs)("div",Object.assign({className:r(c.imageWrapper,y&&!O&&c.imageWrapperVisited)},{children:[(0,n.jsx)("div",Object.assign({className:r(c.imagesTotal)},{children:w.images.length})),(0,n.jsx)(Q.P,{images:E,total:w.images.length,bssItem:p})]})):(0,n.jsx)("div",Object.assign({className:r(c.placeholder)},{children:(0,n.jsx)(Y.w,{})}))})]}))})),(0,n.jsx)(X.h,{children:(0,n.jsx)("div",{className:r(c.headerBottomLine)})})]}))}));le.displayName="SimpleMiniCard";const ue=(0,o.r)((({mobile:e})=>({contentWrapper:{paddingTop:e?16:0,paddingBottom:0,paddingStart:e?20:0,paddingEnd:e?20:0},root:{display:"flex",justifyContent:"space-between",paddingTop:e?0:16,paddingBottom:e?0:16,paddingStart:e?0:24,paddingEnd:e?0:16,boxShadow:e?"none":c.E.innerBorderBottomBase,cursor:"pointer",":hover":{backgroundColor:d.T.gray_f9f9f9},":first-child":{boxShadow:e?"none":c.E.innerBorderTopBottom}},_hovered:{backgroundColor:d.T.gray_f9f9f9},section:{width:"100%"},carouselWrapper:{display:"block",marginTop:0,marginBottom:8,marginStart:-20,marginEnd:-20},title:{marginTop:-4,marginBottom:e?12:8},imageWrapper:{marginInlineStart:4,flex:"0 0 100px",height:100,zIndex:K.fE.base,position:"relative"},price:Object.assign({},q.leadMedium),priceWrapper:{marginEnd:12,":empty":{display:"none"}},footer:{display:"flex",alignItems:"baseline",flexDirection:"column",marginTop:e?8:10},name:{color:d.T.blue_0072ce},_activeName:{color:d.T.black},imagesTotal:Object.assign(Object.assign({zIndex:K.fE.top,position:"absolute",top:4,end:4},q.regular),{pointerEvents:"none",color:d.T.white,background:(0,G.m)(d.T.black,.5),borderRadius:K.Vq.default,minWidth:20,boxSizing:"border-box",textAlign:"center",padding:"2px 6px"}),placeholder:{height:"100px",width:"100px",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",color:d.T.gray_b2b2b2,backgroundColor:d.T.gray_f2f2f2},providerButton:{marginTop:8,padding:"4px 8px",backgroundColor:d.T.gray_f2f2f2,border:`1px solid ${d.T.gray_e6e6e6}`,borderRadius:K.Vq.default,display:"flex"},_providerButtonHovered:{backgroundColor:d.T.blue_c5ebff,borderColor:d.T.blue_82bceb},moreWrapper:{color:d.T.gray_929292},headerBottomLine:{width:"100%",borderBottom:`1px solid ${d.T.gray_e6e6e6} `,marginTop:"20px"},imageWrapperVisited:{opacity:.4},visitedText:{color:(0,G.m)(d.T.gray_141414,.7)}})));var pe=i(2829),me=i(59954);const ge=a.forwardRef((({marketPrice:e,styles:t},i)=>{const{css:s,s:c}=(0,o.I)(he),{currencies:d}=(0,j.U)(),l=(0,f.c)(),u=(e,t)=>(0,r.formatMarketPrice)(e,t,d,l),{current_price:{fixed:p},lower_price:{fixed:m},upper_price:{fixed:g}}=e,h=u(m.value,m.currency),v=u(p.value,p.currency),b=u(g.value,g.currency),y=(0,r.getMarketPricePosition)({integer:p.value,short:v},{integer:m.value,short:h},{integer:g.value,short:b}),x=(0,a.useMemo)((()=>(0,r.calcMarkerPricePointStyles)(p.value,m.value,g.value,y.relative)),[p.value,m.value,y.relative,g.value]),w=(0,n.jsxs)("div",Object.assign({style:x,className:s(c.pointWrapper)},{children:[(0,n.jsx)("div",Object.assign({className:s(c.priceTooltip,"lower"===y.relative&&c.priceLowerTooltip,"upper"===y.relative&&c.priceUpperTooltip,"upperBorder"===y.relative&&c.priceUpperBorderTooltip)},{children:v})),(0,n.jsx)("div",Object.assign({className:s(c.triangle)},{children:(0,n.jsx)(z.ic,{})})),(0,n.jsx)("div",Object.assign({className:s(c.point)},{children:(0,n.jsx)(z.gy,{})}))]})),I="inMarket"===y.relative||"lowerBorder"===y.relative||"upperBorder"===y.relative;return(0,n.jsxs)("div",Object.assign({ref:i,className:s(c.root,t)},{children:[(0,n.jsxs)("div",Object.assign({className:s(c.priceSegment)},{children:[(0,n.jsx)("div",Object.assign({className:s(c.hint)},{children:l._gg("низкая")})),(0,n.jsx)("div",Object.assign({className:s(c.rectangle,"lower"===y.absolute&&c.lowerActive)},{children:"lower"===y.relative&&w})),(0,n.jsx)("div",Object.assign({className:s(c.priceText)},{children:h}))]})),(0,n.jsxs)("div",Object.assign({className:s(c.marketPrice)},{children:[(0,n.jsx)("div",Object.assign({className:s(c.hint,c.marketPriceHint)},{children:l._gg("рыночная цена")})),(0,n.jsx)("div",Object.assign({className:s(c.rectangle,"inMarket"===y.absolute&&c.marketPriceActive)},{children:I&&w}))]})),(0,n.jsxs)("div",Object.assign({className:s(c.priceSegment)},{children:[(0,n.jsx)("div",Object.assign({className:s(c.hint,c.upperPriceHint)},{children:l._gg("высокая")})),(0,n.jsx)("div",Object.assign({className:s(c.rectangle,"upper"===y.absolute&&c.upperActive)},{children:"upper"===y.relative&&w})),(0,n.jsx)("div",Object.assign({className:s(c.priceText,c.upperPriceText)},{children:b}))]}))]}))})),he=(0,o.r)((({colors:e,typography:t})=>({root:{display:"flex",padding:"2px 0",gap:2,color:e["Text, Icons/Secondary"]},rectangle:{height:8,borderRadius:4,background:e["Text, Icons/Tertiary"],position:"relative",width:"100%"},point:{position:"relative",top:0,width:12,height:12,display:"flex"},priceSegment:{flex:"1 0 0"},marketPrice:{flex:"3 0 0"},pointWrapper:{position:"absolute",bottom:"-2px"},priceTooltip:Object.assign({width:"max-content",position:"relative",transform:"translate(-40%, -18px)",padding:"2px 4px",borderRadius:4,background:"#5c5c5c",color:e["Text, Icons/Inverse/Primary"]},t.caption1Regular),priceText:Object.assign(Object.assign({},t.caption1Regular),{width:"max-content",transform:"translateX(50%)",paddingTop:4}),upperPriceText:{transform:"translateX(-50%)"},triangle:{transform:"translateY(-18.5px)",color:"#5c5c5c",display:"flex"},priceLowerTooltip:{transform:"translate(-25%, -18px)"},priceUpperTooltip:{transform:"translate(-55%, -18px)"},priceUpperBorderTooltip:{transform:"translate(40%, -18px)"},lowerActive:{background:"linear-gradient(270deg, #97D545 0%, #22AA27 258.92%, #FDA62D 512.71%)"},marketPriceActive:{background:"linear-gradient(270deg, #97D545 -31.32%, #22AA27 51.65%, #FDA62D 132.97%)"},upperActive:{background:`linear-gradient(270deg, #97D545 -410.17%, #22AA27 -152.53%, #FDA62D 100%), ${e["Text, Icons/Tertiary"]}`},hint:Object.assign(Object.assign({},t.caption1Regular),{width:"100%"}),marketPriceHint:{textAlign:"center"},upperPriceHint:{textAlign:"end"}}))),fe=a.memo((e=>{var t;const{realtyItem:i,button:r,isLoading:c,floorsCount:d,marketPriceRef:p,onMarketPriceMoreButtonClick:m}=e,{price_value:g,price_per_meter_value:v}=i.offer,{featureRealtyMarketPrice:b}=(0,j.U)(),{css:y,s:x}=(0,o.I)(ve),w=(0,f.c)(),I=i.product.images,C=I&&I.length?I[0]:void 0,_=d&&(0,s.formatAdFloor)(i,d,w),k=(_?[i.product.name,_]:[i.product.name]).join(", "),O=a.useMemo((()=>I?I.map((e=>({id:e,url:e}))):me.Ml),[I]),[S,T,E]=(0,F.u)(O),M=a.useCallback(((e,t)=>{T(t)}),[T]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A,{items:O,styles:x.carousel,maxItems:10,onPhotoClick:M,bssType:"realtyCardHeader",realtyItem:i,isLoading:!!c,showAllPhotosText:!0,withDots:!0}),(0,n.jsxs)("section",Object.assign({},h.dx.n("wat-realty-card-header"),{className:y(x.root,!C&&x._withoutImage)},{children:[(0,n.jsxs)("div",Object.assign({className:y(x.info)},{children:[(0,n.jsx)("div",Object.assign({className:y(x.title)},{children:k})),(0,n.jsx)("div",{children:(0,n.jsx)(u.S,{price:g,valueStyles:x.price,currencyStyles:x.price,dataN:"wat-realty-card-price"})}),(0,n.jsxs)("div",Object.assign({className:y(x.description)},{children:[(null===(t=v.fixed)||void 0===t?void 0:t.value)&&(0,n.jsxs)("span",Object.assign({className:y(x.note)},{children:[(0,n.jsx)(u.S,{price:v,isInteger:!0}),w._gg("/м²")]})),(0,n.jsx)("span",Object.assign({className:y(x.note)},{children:i.branch.name}))]}))]})),r&&(0,n.jsx)("div",Object.assign({className:y(x.button)},{children:r})),b&&i.offer.market_price&&(0,n.jsx)(ge,{ref:p,marketPrice:i.offer.market_price,styles:x.marketPrice}),b&&i.offer.market_price&&(0,n.jsxs)("div",Object.assign({className:y(x.marketPriceHint)},{children:[w._gg("Рыночная цена рассчитана с учетом данных о реальных сделках на Домклик")," ",(0,n.jsx)(l.A,Object.assign({href:i.offer.market_price.url,onClick:m,external:!0,dataN:"wat-realty-card-market-price-link"},{children:w._gg("Узнать подробнее")}))]})),(0,n.jsx)("div",{className:y(x.footer)})]})),S&&(0,n.jsx)(B.J,{photos:O,activePhotoId:S,onClose:E,onChange:T,total:O.length,showCopyright:!1,isFullScreen:!0,trackBSSSource:"realty"})]})}));fe.displayName="RealtyCardHeader";const ve=(0,o.r)((({mobile:e,gaps:t,typography:i,colors:s})=>({root:{position:"relative",zIndex:pe.f.base,display:"contents",paddingTop:t.verticalFormItems,paddingBottom:t.verticalItemsL,paddingStart:24,paddingEnd:24},title:Object.assign({paddingTop:1,paddingBottom:1},i.subheadMedium),carousel:{marginTop:16},imageWrapper:{cursor:"pointer",height:200,position:"relative",zIndex:pe.f.base},carouselWrapper:{cursor:"pointer",height:e?"auto":200,position:"relative",zIndex:pe.f.base,paddingTop:24,paddingBottom:16},_withoutImage:{paddingTop:48},info:{paddingTop:t.verticalFormItems,paddingStart:24,paddingEnd:24},price:Object.assign({},i.h2Semibold),button:{textAlign:"center",marginInlineStart:e?20:24,marginInlineEnd:e?20:24,position:e?"sticky":"initial",top:8,zIndex:3},buttonLabel:{display:"flex",alignItems:"center",justifyContent:"center"},arrowIcon:{display:"flex",marginInlineEnd:4},footer:{paddingBottom:t.verticalItemsL},image:{width:e?"100%":K.Ej.standardFrameWidth,height:e?"160px":"200px",objectFit:"cover",objectPosition:"center",borderRadius:e?J.V.default:0},description:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:8,paddingTop:3,paddingBottom:5},note:Object.assign({color:s["Text, Icons/Secondary"]},i.caption1Regular),marketPrice:{marginStart:24,marginEnd:24,paddingTop:40,paddingBottom:6},marketPriceHint:Object.assign(Object.assign({},i.caption2Regular),{paddingStart:24,paddingEnd:24,color:s["Color/Grayscale/Gray/Gray Anguish #929292"]})})));var be=i(20091),ye=i(24872),xe=i(52072),je=i(75098),we=i(22786),Ie=i(16914),Ce=i(89841),_e=i(84593);const ke=(0,a.memo)((({href:e})=>{const t=(0,p.d4)((e=>e.appContext.frames[0]));return t&&"realtyCard"===t.type?(0,n.jsx)(Oe,{frame:t,href:e}):null})),Oe=(0,a.memo)((({frame:e,href:t})=>{const i=(0,p.d4)((e=>e.appContext.isDataViewerMinimized)),s="tab"in e?e.tab:void 0,r=(0,p.wA)(),a=(0,f.c)(),o=(0,g.D)((()=>{r((0,w.K2)(!!e.buildingId&&(0,ye.TE)({entityId:e.buildingId}),(0,be.X_)({isMinimized:!i})))})),c=(0,g.D)((()=>{r((0,w.K2)((0,xe.c)(),(0,be.X_)({isMinimized:!1})))})),d=a._gg("К результатам"),l=i?a._gg("Объявлениe"):a._gg("Дом на карте");return"ad"===s||i?(0,n.jsxs)(_e.L,Object.assign({appearance:i?"transparent":"solid"},{children:[(0,n.jsx)(_e.j,Object.assign({onClick:c,icon:i?(0,n.jsx)(Ie.B,{}):(0,n.jsx)(we.v,{}),type:i?"whiteWithShadow":"gray",href:t,dataT:d},{children:d})),(0,n.jsx)(_e.j,Object.assign({onClick:o,icon:i?(0,n.jsx)(Ce.Ad,{}):(0,n.jsx)(je.T,{}),grow:!0,type:i?"whiteWithShadow":"gray",dataT:l},{children:l}))]})):(0,n.jsxs)(_e.L,Object.assign({appearance:"solid"},{children:[(0,n.jsx)(_e.j,{onClick:c,icon:(0,n.jsx)(we.v,{}),href:t,dataT:d}),(0,n.jsx)(_e.j,{onClick:o,icon:(0,n.jsx)(je.T,{}),dataT:l})]}))}));var Se=i(72616);const Te=({id:e,src:t,setPhotoId:i,i:r,bssType:c="buildingPhoto",productOffersList:l,realtyItem:u})=>{const[p,g]=a.useState(!1),f=a.useCallback((()=>g(!0)),[]),v=a.useCallback((e=>"error"===e?(0,n.jsx)("div",Object.assign({className:b(y.previewPlaceholder)},{children:(0,n.jsx)(Se.$,{color:d.T.gray_929292})})):null),[]),{css:b,s:y}=(0,o.I)(Ee),{lang:x}=(0,j.U)(),{bssRef:w,useBssHandler:I}=(0,m.E)(u?s.bss.showPhoto({position:r+1,productOffersList:l,bssType:c,bssItem:u}):void 0,{threshold:.7}),C=I(s.bss.tapPhoto);return(0,n.jsxs)("div",Object.assign({ref:w,className:b(y.preview)},h.dx.n("wat-realty-photo-preview"),h.dx.v(r.toString()),{onClick:()=>{C(),i(e)}},{children:[(0,n.jsx)(N.O,{src:t,isLoadingForced:!1,renderPlaceholder:v,onError:f,alt:"ru"===x?"Превью":void 0}),!p&&(0,n.jsx)("div",{className:b(y.overlay)})]}))};Te.displayName="RealtyPhotoPreview";const Ee=(0,o.r)({preview:{position:"relative",height:"100%",width:"100%","& img":{height:"100%",width:"100%",objectFit:"cover"}},previewPlaceholder:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:d.T.gray_e6e6e6,color:d.T.gray_929292},overlay:{position:"absolute",top:0,start:0,end:0,bottom:0,background:(0,G.m)(d.T.black,.2),":hover":{opacity:0}}}),Me=({description:e,isInitialExpanded:t,onExpand:i})=>{const s=(0,f.c)(),{s:r,css:c}=(0,o.I)(Ne),[d,l]=(0,a.useState)(t);return(0,n.jsxs)("div",Object.assign({"data-n":"wat-toggle"},{children:[(0,n.jsx)(Z.E,Object.assign({bold:!0,m:8,block:!0},{children:s._gg("Описание")})),(0,n.jsx)(Z.E,Object.assign({m:4,block:!0,__experimentalStyles:d?void 0:r.squashed},{children:e})),!t&&(0,n.jsx)("button",Object.assign({},h.dx.n("wat-realty-more-description"),{className:c(r.expandButton),onClick:()=>{d||null==i||i(),l((e=>!e))},type:"button"},{children:d?s._gg("Скрыть"):s._gg("Читать полностью")}))]}))};Me.displayName="RealtyDescription";const Ne=(0,o.r)({squashed:Object.assign(Object.assign({},(0,q.lineClamped)(3,q.regular)),{"@media print":{display:"none"}}),expandButton:Object.assign(Object.assign({cursor:"pointer",color:d.T.blue_028eff,border:"none",background:"transparent"},q.regular),{":hover":{color:d.T.black}})});var Le=i(80376),Pe=i(24620),Re=i(36619),Ae=i(56964),Be=i(19945),ze=i(27248);const Fe=e=>{const{entity:t,building:i,footer:s,onClick:r,header:a}=e,{css:c,s:d}=(0,o.I)(He),u=(0,j.U)(),p=t?(0,Be.ib)(t,{order:(0,Ae.t)(u),separator:u.addressSeparator,useSingleComponentForBranch:!1,capitalizeFirst:!0}).find((e=>"street_number"===e.type)):void 0,m=e=>(0,n.jsx)(l.A,Object.assign({href:e,onClick:r,color:"dark",dataN:"wat-address-link",styles:d.addressName},{children:null==p?void 0:p.value}));return(0,n.jsx)("div",Object.assign({className:c(d.address)},{children:(0,n.jsx)(Le.Y,Object.assign({shiftedDivider:!0},{children:(0,n.jsxs)(Pe.J,{children:[a,t?(0,n.jsxs)("div",{children:[p?t&&"address"in t&&(null===(g=t.address)||void 0===g?void 0:g.building_id)?(0,n.jsx)(ze.W,Object.assign({type:"building",id:t.address.building_id},{children:e=>m(e)})):m():null,(0,n.jsx)(Re.p,{entity:t,onClick:r,onFilialsClick:w.lQ,addressNameStyles:d.addressName,excludeFields:["street_number"]})]}):(0,n.jsx)(l.A,Object.assign({color:"dark",onClick:r,styles:d.addressName},{children:i.address_name})),s]})}))}));var g},He=(0,o.r)({address:{color:d.T.gray_929292},addressName:Object.assign(Object.assign({},q.regular),{fontWeight:q.fontWeight.normal,"&:hover":{color:d.T.blue_028eff}}),title:{color:d.T.black}});Fe.displayName="RealtyAddress"},59059:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});const s=(e,t)=>e.length>t?e.slice(0,t).trim()+"…":e},90263:(e,t,i)=>{"use strict";i.r(t),i.d(t,{calcMarkerPricePointStyles:()=>u,formatAdLabelText:()=>s.a,formatMarketPrice:()=>l,formatMinPrice:()=>c,getMarketPricePosition:()=>d,getVisitedRealtyId:()=>r});var s=i(59059);const r=e=>(null==e?void 0:e.categoryId)?`${e.categoryId}_${e.id}`:e.id,n=Math.pow(10,3),a=Math.pow(10,6),o=Math.pow(10,9),c=(e,t,i)=>{const s=t&&t>=2;if(!e)return;if(e<n){const t=Math.round(e);return s?i._gg("от&nbsp;%1",[t]):t.toString()}if(e<a){const t=parseFloat((e/n).toFixed(1));return s?i._gg("от&nbsp;%1&nbsp;тыс.",[t]):i._gg("%1&nbsp;тыс.",[t])}if(e<o){const t=parseFloat((e/a).toFixed(2));return s?i._gg("от&nbsp;%1&nbsp;млн",[t]):i._gg("%1&nbsp;млн",[t])}const r=Math.round(e/o);return s?i._gg("от&nbsp;%1&nbsp;млрд",[r]):i._gg("%1&nbsp;млрд",[r])},d=(e,t,i)=>{const s=e.short&&e.short===t.short,r=e.short&&e.short===i.short;return e.integer<t.integer?{absolute:"lower",relative:s?"lowerBorder":"lower"}:e.integer>i.integer?{absolute:"upper",relative:r?"upperBorder":"upper"}:{absolute:"inMarket",relative:s?"lowerBorder":r?"upperBorder":"inMarket"}};function l(e,t,i,s){const r=[{value:1e9,suffix:s._gg("млрд")},{value:1e6,suffix:s._gg("млн")},{value:1e3,suffix:s._gg("тыс.")}];for(const s of r)if(e>=s.value){const r=e/s.value;return`${parseFloat(r.toFixed(1))} ${s.suffix} ${i[t]}`}return`${e} ${i[t]}`}const u=(e,t,i,s)=>{switch(s){case"upper":case"lower":return{left:"40%"};case"upperBorder":return{display:"flex",flexDirection:"column",alignItems:"end",right:"-6px",zIndex:2};case"lowerBorder":return{left:"-6px"};default:const s=(r=e,n=t,a=i,(Math.min(Math.max(r,n),a)-n)/(a-n)*100);return s<5?{left:"5%"}:s>90?{left:"90%"}:{left:`${s}%`}}var r,n,a}},69444:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Types:()=>r,bss:()=>s,constants:()=>n,effects:()=>d,formatAdFloor:()=>ye,formatter:()=>me,query:()=>o,selectors:()=>c,signals:()=>a,useCurrentItem:()=>ge,useItemsSearch:()=>ve,useItemsWidgetsSearch:()=>be});var s={};i.r(s),i.d(s,{showMiniCard:()=>g,showPhoto:()=>b,showRealtyMiniCardPhoto:()=>v,tapMiniCard:()=>h,tapPhoto:()=>y,tapProviderLink:()=>f});var r={};i.r(r);var n={};i.r(n),i.d(n,{STORAGE_MAX_SIZE:()=>I,STORAGE_SEPARATOR:()=>C,VISITED_ITEMS_STORAGE_KEY:()=>j,VISITED_MARKERS_STORAGE_KEY:()=>w,visitedDefaultState:()=>x});var a={};i.r(a),i.d(a,{restorePersistedVisitedItems:()=>z,restorePersistedVisitedMarkers:()=>B,saveVisitedItem:()=>P,saveVisitedMarker:()=>L});var o={};i.r(o),i.d(o,{prefetchGetItem:()=>V,prefetchGetItems:()=>q,useGetItem:()=>D,useGetItems:()=>W,withGetItem:()=>$,withGetItems:()=>Z});var c={};i.r(c),i.d(c,{getRealtyQueryParams:()=>ie,getRealtyWidgetsQueryParams:()=>se,getVisitedItems:()=>te,getVisitedMarkers:()=>ee});var d={};i.r(d),i.d(d,{fetchMarkers:()=>de});var l=i(81462),u=i(41511),p=i(50432),m=i(80905);const g=e=>({frameId:t},i)=>{const{position:s,realtyItem:r,search:n,isSuccess:a,isSearchInBuilding:o}=e,c=(0,l.i)({state:i,search:n,isSuccess:a}),d=(0,u.h)({realtyItem:r,marketPriceLabel:e.marketPriceLabel});if(d&&c)return{uiElement:{name:"productOfferCardMini",ownerName:o?"buildingProductOffersList":"productOffersList",frameUuid:t,position:s},payload:{productOfferItem:d,productOffersList:c}};(0,p.vV)({message:"Не удалось сформировать payload для события показа мини-карточки недвижимости v-9twr4",level:"error",id:"vn43b",payload:{type:"debug",subtype:"BssTrackerV3"}})},h=e=>({frameId:t,showEventParams:i})=>{if(null==i?void 0:i.payload)return{action:"tap",uiElement:{name:"productOfferCardMini",ownerName:e.isSearchInBuilding?"buildingProductOffersList":"productOffersList",frameUuid:t,position:e.position},payload:i.payload};(0,p.vV)({message:"Не удалось сформировать payload для события тапа мини-карточки недвижимости a-dpncb",level:"error",id:"qsg3r",payload:{type:"debug",subtype:"BssTrackerV3"}})},f=e=>({frameId:t,showEventParams:i})=>{if(null==i?void 0:i.payload)return{action:"tap",uiElement:{name:"toTheShopButton",ownerName:"productOfferCardMini",frameUuid:t,position:e.position},payload:i.payload};(0,p.vV)({message:"Не удалось сформировать payload для события тапа в провайдера недвижимости a-iw3cz",level:"error",id:"vkigm",payload:{type:"debug",subtype:"BssTrackerV3"}})},v=e=>({frameId:t},i)=>{const{item:s,position:r}=e,n=(0,u.h)({realtyItem:s});if(n)return{uiElement:{name:"realtyPhotoCardMini",ownerName:"productOfferCardMini",frameUuid:t,position:r},payload:{productOfferItem:n}};(0,p.vV)({message:"Не удалось сформировать payload для события показа превью фото миникарточки недвижимости v-i52j9",level:"error",id:"vllob",payload:{type:"debug",subtype:"BssTrackerV3"}})},b=({position:e,bssType:t,bssItem:i,productOffersList:s})=>({frameId:r})=>{const n=(0,u.h)({realtyItem:i});if(!n)return void(0,p.vV)({message:"Не удалось сформировать productOfferItem для события показа карточки фотографии v-g7lwz",level:"error",id:"oiaxw",payload:{type:"debug",subtype:"BssTrackerV3"}});return{uiElement:{name:"buildingPhoto"===t?"buildingPhoto":"realtyPhotoCardMini",ownerName:"realtyCardHeader"===t?"productOfferCardFull":"realtyMiniCard"===t?"productOfferCardMini":"realtyOfferTab",frameUuid:r,position:e},payload:{productOfferItem:n,productOffersList:s}}},y=()=>({showEventParams:e,frameId:t},i)=>{if(e){if(e.payload.productOfferItem)return{uiElement:Object.assign(Object.assign({},e.uiElement),{frameUuid:t}),action:"tap",payload:{productOfferItem:e.payload.productOfferItem,productOffersList:e.payload.productOffersList}};(0,p.vV)({message:"Не удалось сформировать payload.productOfferItem для события Тапнул в превью фотографии в шапке полной карточки объявления о недвижимости / в иконку фото на вкладке Объявление (a-y9m36)",level:"error",id:"milpa",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,m.w1)(i.appContext.frames,t))}})}},x={visitedPlaces:{items:{},markers:{}},isItemsRestored:!1,isMarkersRestored:!1},j="dg5_realty_visited_items",w="dg5_realty_visited_markers",I=1e3,C=";";var _=i(1321),k=i(4340);const O=e=>k.IG.local.getItem(e)||"";var S=i(12017),T=i(7335),E=i(90263);const M=e=>"items"===e?j:w,N=e=>{const{id:t,categoryId:i,type:s}=e,r=(0,E.getVisitedRealtyId)({id:t,categoryId:i});return R(s,r),(0,T.eU)((e=>e.appContext.weak.visitedRealty),(e=>(0,_.Ip)({visitedRealty:Object.assign(Object.assign({},e),{visitedPlaces:Object.assign(Object.assign({},e.visitedPlaces),{[s]:Object.assign(Object.assign({},e.visitedPlaces[s]),{[r]:!0})})})})))},L=(0,S.n5)("saveVisiteRealtydMarker",(e=>N({id:e.buildingId,categoryId:e.categoryId,type:"markers"}))),P=(0,S.n5)("saveVisitedRealtyItem",(e=>N({id:e.productId,type:"items"}))),R=(e,t)=>{const i=M(e),s=O(i);-1===s.indexOf(t)&&k.IG.local.setItem(i,`${t}${C}${s}`)},A=(0,S.n5)("restorePersistedRealtyVisited",(e=>(0,S.gd)((0,T.eU)((e=>e.appContext.weak.visitedRealty),(t=>{const i="markers"===e?"isMarkersRestored":"isItemsRestored";if(t[i])return(0,S.lQ)();const s=(e=>O("items"===e?j:w).split(C))(e),r=s.length<I?s:s.slice(0,I);s.length>=I&&((e,t)=>{const i=M(e);k.IG.local.setItem(i,t.join(C))})(e,r);const n=r.reduce(((e,t)=>(e[t]=!0,e)),{});return(0,_.Ip)({visitedRealty:Object.assign(Object.assign({},t),{visitedPlaces:Object.assign(Object.assign({},t.visitedPlaces),{[e]:Object.assign(Object.assign({},t.visitedPlaces[e]),n)}),[i]:!0})})}))))),B=(0,S.n5)("restorePersistedRealtyVisitedMarkers",(()=>A("markers"))),z=(0,S.n5)("restorePersistedRealtyVisitedItems",(()=>A("items")));var F=i(85608),H=i(78170),U=i(35023);const{use:D,prefetch:V,withQueryState:$}=(0,H.VZ)("getRealtyItem",(e=>({services:t})=>(0,F.sH)(void 0,void 0,void 0,(function*(){if(e.id)try{return yield t.marketApi.getRealtyItem(Object.assign(Object.assign({},e),{id:e.id}))}catch(e){if((0,U.Gv)(e)&&"code"in e&&404===e.code)return;throw e}}))),{staleTime:1/0,cacheTime:1/0}),{use:W,prefetch:q,withQueryState:Z}=(0,H.VZ)("getRealtyItems",(e=>[(0,U.cJ)(e,["viewpoint"]),({services:t})=>(0,F.sH)(void 0,void 0,void 0,(function*(){const i=(0,U.cJ)(e,["region_id"]);return yield t.marketApi.getRealtyItems(i)}))]),{staleTime:1/0,cacheTime:1/0});var Q=i(83878),G=i(49804),K=i(23020),Y=i(82393),X=i(6514),J=i(92448);const ee=e=>e.appContext.weak.visitedRealty.visitedPlaces.markers,te=e=>e.appContext.weak.visitedRealty.visitedPlaces.items,ie=(0,Q.Mz)([e=>(0,m.bB)(e.appContext.frames,"realty"),K.Pz,Y.ER,e=>e.appContext.weak.realtyListRegionId,e=>{var t,i;return"true"===(null===(i=null===(t=(0,m.bB)(e.appContext.frames,"realty"))||void 0===t?void 0:t.filterValues)||void 0===i?void 0:i.on_map)?(0,G.$H)(Object.assign(Object.assign({},(0,K.iK)(e)),{mapSize:(0,X.Y)(e.session.screen,(0,K.kD)(e))})):void 0}],((e,t,i,s,r)=>{var n;if(e&&t)return{region_id:s||i,viewpoint:t,locale:"ru_RU",geometry:r,category_ids:e.categoryId,geo_id:null===(n=e.entity)||void 0===n?void 0:n.id,page:(null==e?void 0:e.page)||1,page_size:50,filters:null==e?void 0:e.filterValues}})),se=e=>(0,Q.Mz)([K.Pz,Y.ER],((t,i)=>Object.assign({region_id:i,viewpoint:t,locale:"ru_RU",geometry:void 0,geo_id:void 0,page:1,page_size:1},e&&{category_ids:J.gI.sale.categoryId})));var re=i(75750),ne=i(56624),ae=i(22934),oe=i(40194);function ce(e){const t=Object.assign({},e);return t.on_map&&delete t.on_map,t}const de=(0,re.E)("fetchRealtyMarkers",(e=>({marketApi:t,contextApi:i})=>{const{categoryId:s,viewpoint:r,filters:n,entityId:a}=e;return t.getRealtyMarkers({category_ids:s,viewpoint:r,locale:i.get("locale")||"ru_RU",filters:ce(n),geo_id:a})}),(0,ne.I)("realty",{start:(e,{uuid:t})=>Object.assign(Object.assign({},e),{markers:(0,ae.vL)(e.markers,"default",t),hashmap:(0,ae.vL)(e.hashmap,"default",t)}),success(e,{result:t,uuid:i}){if(!t)return e;if(200!==t.code)return 404===t.code?Object.assign(Object.assign({},e),{markers:(0,ae.h$)(e.markers,"default",[],i),hashmap:(0,ae.h$)(e.hashmap,"default",{},i)}):Object.assign(Object.assign({},e),{markers:(0,ae.i5)(e.markers,"default",new Error(`Api have responded with ${t.code}`),i),hashmap:(0,ae.i5)(e.hashmap,"default",new Error(`Api have responded with ${t.code}`),i)});const s=t.items.reduce(((e,t,i)=>(e[t.building_id]=i,e)),{});return Object.assign(Object.assign({},e),{markers:(0,ae.h$)(e.markers,"default",t.items,i),hashmap:(0,ae.h$)(e.hashmap,"default",s,i)})},error(e,{error:t,uuid:i}){const s={default:{data:[],meta:(0,oe._3)(t)}},r={default:{data:{},meta:(0,oe._3)(t)}};return Object.assign(Object.assign({},e),{markers:(0,ae.i5)(s,"default",t,i),hashmap:(0,ae.i5)(r,"default",t,i)})}}));var le=i(61200),ue=i(19945),pe=i(56964);const me=e=>{const{realtyItem:t,config:i}=e,s=(0,le.tB)({type:"building",adm_div:t.building.adm_div},{config:i,includeRegion:!1}),r=t.building.address?(0,ue.U6)("building",t.building.address,{useSingleComponentForBranch:!0,separator:i.addressSeparator,order:(0,pe.t)(i),useBuildingNameForBranch:!1}).map((e=>e.value)):[t.building.address_name],n=(0,U.oE)([...r,s]).join(i.addressSeparator+" ");return{realtyOfferUrl:t.offer.url,address:n}},ge=e=>{const t=e&&e.initialData?{initialData:e.initialData}:void 0;return D({locale:"ru_RU",id:e.id},t)};var he=i(79594);function fe(e,t,i={enabled:!0}){const s=(0,he.d4)(e),r=s&&(null==t?void 0:t.entityId)?Object.assign(Object.assign({},s),{geo_id:t.entityId}):s;return W(r,i)}function ve(e,t){return fe(ie,e,t)}function be(e,t){return fe(se(null==e?void 0:e.filters),e,t)}const ye=(e,t,i)=>{var s;const r=null===(s=e.product.attributes)||void 0===s?void 0:s.find((e=>"Этаж"===e.caption));if(null==r?void 0:r.value)return i._gg(`${r.value}/${t} этаж`)}},14880:(e,t,i)=>{"use strict";i.d(t,{Vf:()=>b,q7:()=>ot,YH:()=>r,Ii:()=>s});var s={};i.r(s),i.d(s,{IMAGE_THEMES:()=>Ie,baseSnippet:()=>ke,bss:()=>ne,makeContent:()=>Te,makePreview:()=>Me,makeSlide:()=>Ee,makeStory:()=>Se,markStoryAsViewed:()=>fe,useDiscoveryStories:()=>De,useFirmStories:()=>ze,useFmcgStories:()=>qe,useSlideSizes:()=>ae,useStoriesRotation:()=>ve,useStoriesViewsChecker:()=>be});var r={};i.r(r),i.d(r,{getDiscoveryStory:()=>Ue,getFmcgStory:()=>Ve,getImageSlideDuration:()=>dt,getSlideTextPosition:()=>Qe,getSlideType:()=>Ke,getSlideUrl:()=>Ye,getStoryPreview:()=>m,getStorySlideButton:()=>Ge,getStorySlides:()=>Y,hasStories:()=>Be,isAdStory:()=>lt,miniStoriesLineClamped:()=>g});var n=i(31085),a=i(99259),o=i(84175),c=i(91466),d=i(80552),l=i(81618),u=i(8365),p=i(10742);const m=e=>({backgroundUrl:e.content.preview.backgroundUrl,text:e.content.preview.text});function g(e,t){const i=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:i?e*i:"none"})}const h=()=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},{children:[(0,n.jsx)("path",{fill:"#32D2A1",d:"M0 15.05V3.066L16 1l-3.166 6.333L16 13.27 0 15.05Z"}),(0,n.jsx)("mask",Object.assign({id:"a",width:"16",height:"15",x:"0",y:"1",maskUnits:"userSpaceOnUse"},{children:(0,n.jsx)("path",{fill:"#32D2A1",d:"M0 15.05V3.066L16 1l-3.166 6.333L16 13.27 0 15.05Z"})})),(0,n.jsxs)("g",Object.assign({mask:"url(#a)"},{children:[(0,n.jsx)("path",{fill:"url(#b)",d:"M17.894 6.378H-1.402v19.768h19.296V6.378Z"}),(0,n.jsx)("path",{fill:"url(#c)",d:"M20.229 2.978H2.162v18.258H20.23V2.978Z"}),(0,n.jsx)("path",{fill:"url(#d)",d:"M11.38 2.978h-21.754v22.413H11.38V2.978Z"}),(0,n.jsx)("path",{fill:"url(#e)",d:"M23.793.082H7.57v16.62h16.223V.082Z"}),(0,n.jsx)("path",{fill:"url(#f)",d:"M26.374-4.199H10.765v15.991h15.609v-15.99Z"}),(0,n.jsx)("path",{fill:"url(#g)",d:"M12.855-8.102H-4.23V9.4h17.084V-8.102Z"}),(0,n.jsx)("path",{fill:"url(#h)",d:"M18.14-11.25H-.665V7.133h18.803V-11.25Z"}),(0,n.jsx)("path",{fill:"url(#i)",d:"M24.776-10.243H6.71V8.644h18.066v-18.887Z"})]})),(0,n.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m8.596 5.419.863-.645c-.789-.648-1.774-1-2.79-.998-.582 0-1.16.116-1.698.342a4.488 4.488 0 0 0-2.36 2.332 4.54 4.54 0 0 0-.38 1.825v.002c-.001.59.114 1.175.337 1.721a4.495 4.495 0 0 0 2.301 2.392 4.378 4.378 0 0 0 1.802.385 4.374 4.374 0 0 0 2.978-1.163h.001c.46-.42.829-.936 1.08-1.51a4.538 4.538 0 0 0 .381-1.826c0-.27-.023-.54-.07-.807l-.955.714v.093a3.49 3.49 0 0 1-1.002 2.446 3.402 3.402 0 0 1-1.107.75 3.362 3.362 0 0 1-1.306.264h-.032l-.122-.003-.017-.002a3.374 3.374 0 0 1-2.243-1.01 3.451 3.451 0 0 1-.74-1.121c-.173-.42-.261-.87-.26-1.324m0-.006c0-.043 0-.085.002-.127a3.49 3.49 0 0 1 .998-2.313 3.4 3.4 0 0 1 1.107-.751 3.363 3.363 0 0 1 1.477-.259v-.001a3.367 3.367 0 0 1 1.755.6m2.12 1a4.528 4.528 0 0 0-.531-.895L6.671 8.148l-1.69-1.073v1.291l1.69 1.074 4.045-3.021Z",clipRule:"evenodd"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("radialGradient",Object.assign({id:"b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(9.64772 0 0 9.88413 8.246 16.262)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".01",stopColor:"#A0E720"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#A0E720",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"c",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(9.03322 0 0 9.12865 11.196 12.107)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".15",stopColor:"#00D900"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#00D900",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"d",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(10.8767 0 0 11.2062 .503 14.184)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".1",stopColor:"#FAED00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FAED00",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"e",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(8.11146 0 0 8.31022 15.681 8.392)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".15",stopColor:"#06B52A"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#05B827",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"f",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(7.80421 0 0 7.99544 18.57 3.797)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".15",stopColor:"#289E2E"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#269F2C",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"g",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(8.54161 0 0 8.75092 4.313 .649)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".15",stopColor:"#37D2C4"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#38D3C5",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"h",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(9.40192 0 0 9.19161 8.737 -2.058)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".1",stopColor:"#02AAF5"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#03ABF6",stopOpacity:"0"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"i",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(9.03322 0 0 9.44343 15.743 -.8)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".2",stopColor:"#0087CD"}),(0,n.jsx)("stop",{offset:".9",stopColor:"#0087CD",stopOpacity:"0"})]}))]})]})),f=({story:e})=>{var t;const{css:i,s}=(0,o.I)(v),r=null===(t=e.content)||void 0===t?void 0:t.discount;if(!r)return null;const a=r.percent?`–${r.percent}%`:r.is_prime?void 0:"%";return(0,n.jsxs)("div",Object.assign({className:i(s.discount)},{children:[!!r.is_prime&&(0,n.jsx)(h,{}),a&&(0,n.jsx)("div",{children:a})]}))},v=(0,o.r)({discount:Object.assign(Object.assign({background:a.T.white,borderRadius:12,paddingStart:6,paddingEnd:6,paddingTop:3,paddingBottom:3},d.tinyBold),{color:a.T.gray_262626,display:"flex",alignItems:"center",justifyContent:"center"})}),b=e=>{var t;const{css:i,s}=(0,o.I)(y),{story:r,borderRadius:a,isNotViewed:d,isTextMedium:g,isStoryViewer:h,onClick:v,bssShowFunction:b,bssActionFunction:x,bssActionParams:j}=e,w=r?m(r):void 0,{bssRef:I,useBssHandler:C}=(0,u.E)(b?b():void 0,{threshold:.5}),_=C(x,j),k=(0,p.D)((()=>{r&&(_(),v(r))})),O=!!(null===(t=null==r?void 0:r.content)||void 0===t?void 0:t.discount);return(0,n.jsx)("div",Object.assign({className:i(s.root,d&&s._isNotViewed),style:{borderRadius:a}},{children:(0,n.jsxs)("div",Object.assign({className:i(s.inner),style:{borderRadius:a-2},onClick:k,ref:I},(0,l.p)({n:w?"wat-mini-story-icon":"wat-mini-story-skeleton",v:null==r?void 0:r.id,t:h?"viewer":"card"}),{children:[!!(null==w?void 0:w.backgroundUrl)&&(0,n.jsx)("div",Object.assign({className:i(s.background)},{children:(0,n.jsx)(c.i,{src:w.backgroundUrl})})),!!(null==w?void 0:w.text)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:i(s.imageOverlay)}),(0,n.jsx)("div",Object.assign({className:i(s.text,g&&s.textMedium)},l.dx.n("wat-mini-story-text"),{children:w.text}))]}),O&&(0,n.jsx)("div",Object.assign({className:i(s.discountBadge)},{children:(0,n.jsx)(f,{story:r})}))]}))}))},y=(0,o.r)((e=>({root:{width:"100%",height:"100%",padding:2,boxSizing:"border-box",overflow:"hidden",border:"solid 2px transparent"},_isNotViewed:{borderColor:e.colors.green_30ad00_brand},inner:{position:"relative",width:"100%",height:"100%",background:a.T.gray_f2f2f2,overflow:"hidden",cursor:"pointer"},background:{position:"absolute",inset:0},imageOverlay:{position:"absolute",inset:0,background:"linear-gradient(46deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.20) 48.06%, rgba(0, 0, 0, 0.00) 98.95%)"},text:Object.assign(Object.assign(Object.assign({},d.smallMedium),{fontSize:"10px",position:"absolute",bottom:6,start:6,end:6,color:a.T.white}),g(3,Object.assign(Object.assign({},d.smallMedium),{fontSize:"10px"}))),textMedium:Object.assign(Object.assign(Object.assign({},d.leadMedium),(0,d.lineClamped)(3,d.leadMedium)),{paddingStart:12,paddingEnd:12,bottom:12}),discountBadge:{position:"absolute",top:6,start:6}})));var x=i(85608),j=i(14041),w=i(86938),I=i(96141),C=i(79594),_=i(7335),k=i(48914),O=i(63041);const S=(0,j.memo)((({slideButton:e,innerRef:t,showEventOrdinal:i,actionEventParamsSelector:s,onClick:r})=>{const a=(()=>{var t;if(!["empty","open_card","discount"].includes(e.action.type))return"deep_link"===e.action.type&&(null===(t=e.action.value)||void 0===t?void 0:t.includes("dgis://"))?e.action.value.replace("dgis://","https://"):e.action.value})(),c=(0,C.wA)(),{s:d,css:l}=(0,o.I)(T),u=(0,p.D)((t=>{t.stopPropagation(),e.action.value&&"open_card"===e.action.type&&c((0,O.UP)({id:e.action.value,type:"branch"})),["empty","open_card","discount"].includes(e.action.type)&&c((0,_.eU)(s,(e=>(0,k.cD)(e)))),r()})),m={background:e.backgroundColor,color:e.textColor,containerRef:t,experimentalStyles:d.button,appearance:"primary",wide:!0,external:!0,children:e.action.caption};return(0,n.jsx)("div",Object.assign({className:l(d.buttonWrapper)},{children:a?(0,n.jsx)(w.L,Object.assign({originalHref:a,showEventOrdinal:i,actionEventParamsSelector:s},{children:e=>(0,n.jsx)(I.$,Object.assign({},m,{href:e,wide:!0,external:!0,dataN:"wat-slide-btn"}))})):(0,n.jsx)(I.$,Object.assign({},m,{onClick:u,dataN:"wat-slide-btn"}))}))})),T=(0,o.r)({button:{padding:16,textAlign:"center",zIndex:3},buttonWrapper:{padding:"0 24px"}});var E=i(46579);const M=(0,j.memo)((({url:e,onLoad:t,innerRef:i,loaded:s,onError:r,imageSlideStyles:a})=>{const{css:c,s:d}=(0,o.I)(N),{lang:l}=(0,E.U)();return(0,n.jsx)("img",{"data-n":"wat-slide-image",ref:i,style:a,className:c(d.image,s&&d.imageLoaded),src:e,onLoad:t,onError:r,alt:"ru"===l?"Текущий слайд":void 0})})),N=(0,o.r)({image:{pointerEvents:"none",width:"100%",height:"100%",visibility:"hidden",userSelect:"none"},imageLoaded:{visibility:"visible"}});var L=i(90861);function P({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.20243 11.2531L12.1451 16.1957L10.2598 18.081L8.07043 15.8917C8.0691 15.9277 8.06377 15.9637 8.06377 15.9997C8.06377 17.0797 8.27443 18.1264 8.69177 19.1144C9.09443 20.0664 9.67177 20.9224 10.4078 21.6557C11.1424 22.3917 11.9971 22.969 12.9504 23.3717C14.9238 24.2064 17.2091 24.205 19.1771 23.3717C20.1291 22.969 20.9851 22.3931 21.7211 21.6557L23.6064 23.5424C22.6264 24.5224 21.4838 25.2917 20.2158 25.8277C18.9024 26.3837 17.5051 26.6664 16.0638 26.6664C14.6251 26.6664 13.2278 26.3837 11.9118 25.8277C10.6411 25.2891 9.49977 24.521 8.52243 23.5424C7.54243 22.5651 6.7731 21.4237 6.23577 20.1517C5.78243 19.0771 5.5211 17.9477 5.43577 16.789L4.1451 18.081L2.25977 16.1957L7.20243 11.2531ZM15.9368 5.33398C17.3755 5.33398 18.7728 5.61532 20.0888 6.17265C21.3595 6.70998 22.4995 7.47932 23.4782 8.45798C24.4568 9.43532 25.2262 10.5767 25.7648 11.8473C26.2168 12.9233 26.4795 14.0526 26.5635 15.2113L27.8555 13.9193L29.7408 15.8047L24.7982 20.7473L19.8555 15.8047L21.7408 13.9193L23.9302 16.1086C23.9315 16.0726 23.9368 16.0366 23.9368 16.0006C23.9368 14.9206 23.7248 13.8727 23.3088 12.886C22.9048 11.934 22.3275 11.078 21.5928 10.3433C20.8582 9.60865 20.0022 9.03132 19.0502 8.62865C17.0768 7.79398 14.7902 7.79532 12.8235 8.62865C11.8715 9.02998 11.0142 9.60732 10.2782 10.3433L8.39283 8.45665C9.37417 7.47665 10.5155 6.70865 11.7835 6.17132C13.0982 5.61532 14.4942 5.33398 15.9368 5.33398Z",fill:e})}))}const R=(0,j.memo)((e=>{const{url:t,onLoad:i,onError:s,videoSlideStyles:r,innerRef:a,loaded:c,onPlaying:d,onWaiting:l,muted:u}=e,{css:p,s:m}=(0,o.I)(A);return(0,j.useEffect)((()=>{var e;null===(e=null==a?void 0:a.current)||void 0===e||e.load()}),[t]),(0,n.jsx)("video",{src:t,className:p(m.video,c&&m.videoLoaded),onPlaying:d,onWaiting:l,muted:u,playsInline:!0,onCanPlayThrough:i,onError:s,style:r,ref:a})})),A=(0,o.r)({video:{width:"100%",height:"100%",visibility:"hidden",userSelect:"none",pointerEvents:"none"},videoLoaded:{visibility:"visible"}}),B=(0,j.memo)((e=>{const{css:t,s:i}=(0,o.I)(z),{type:s,url:r,mediaSlideStyles:c,onLoad:d,loaded:l,hasContentLoadingError:u,onError:m,videoAPI:g,imageAPI:h}=e,f=(0,p.D)((()=>{"image"===s&&h.refresh(),"video"===s&&g.refresh()}));if((0,j.useEffect)((()=>{r||l||d()}),[d,r,l]),!r)return null;const v=!l||u||g.buffered,b=!u&&(!l||g.buffered);return(0,n.jsxs)("div",Object.assign({className:t(i.wrapper)},{children:[v&&(0,n.jsxs)("div",Object.assign({className:t(i.loadingState)},{children:[u&&(0,n.jsx)("button",Object.assign({className:t(i.refreshButton),onClick:f},{children:(0,n.jsx)(P,{color:a.T.white})})),b&&(0,n.jsx)(L.Z,{dotColor:a.T.white})]})),"image"===s&&(0,n.jsx)(M,{innerRef:h.ref,url:r,imageSlideStyles:c,onLoad:d,loaded:l,onError:m}),"video"===s&&(0,n.jsx)(R,{muted:g.muted,onPlaying:g.play,onWaiting:g.wait,innerRef:g.ref,url:r,videoSlideStyles:c,onLoad:d,loaded:l,onError:m})]}))})),z=(0,o.r)({wrapper:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},loadingState:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3},refreshButton:{border:0,color:a.T.gray_262626,background:"transparent",width:32,height:32}}),F="storyButton",H="storyItem";var U=i(26185),D=i(86664);const V=(e,t)=>{const{story:i,slide:s,storyPosition:r,callToAction:n,position:a}=e;return{uiElement:{name:F,ownerName:H,frameUuid:t,position:a},payload:{callToAction:{actionType:"discount"===n.actionType?"getDiscount":n.actionType,value:n.value},storiesList:(0,D.i)({story:i,position:r}),storyItem:(0,U.N)({slide:s})}}},$={bssShow:e=>({frameId:t})=>V(e,t),bssTap:e=>()=>Object.assign(Object.assign({},V(e,e.ownerFrameId)),{action:"tap"})},W="storyItem",q="storiesFrame",Z={bssShow:e=>({frameId:t})=>{const{story:i,slide:s,storyPosition:r,position:n}=e;return{uiElement:{name:W,ownerName:q,frameUuid:t,position:n},payload:{storyItem:(0,U.N)({slide:s}),storiesList:(0,D.i)({story:i,position:r})}}}},Q="storiesFrame",G="storiesFrame";var K=i(50432);const Y=e=>e.content.slides,X={bssTap:e=>(t,i,s)=>{const{frameId:r,story:n,storyPosition:a}=e,{title:o,slideId:c,actionType:d,name:l}=s||{};if(!n||void 0===a)return;const u=Y(n).findIndex((e=>e.id===c));if(-1!==u&&l&&c&&d&&r)return{uiElement:Object.assign(Object.assign({name:l},l===Q?{}:{ownerName:G}),{position:u+1,frameUuid:r}),payload:{storyItem:{id:c,title:o},storiesList:(0,D.i)({story:n,position:a})},action:d};(0,K.vV)({message:`Не удалось сформировать событие навигации сторис ${l}`,level:"error",id:"99sp5",payload:{type:"debug",subtype:"BssTrackerV3"}})}};var J=i(60545);const ee="storyIcon";var te=i(7818),ie=i(80905);const se=(e,t)=>{switch(!0){case t:return"storiesFrame";case"firm"===e.source:case"fmcg"===e.source:return"cardContacts";case"discovery"===e.source:return"searchResultsList";default:return}},re={bssShow:e=>({frameId:t},i)=>{const{story:s,entity:r,position:n,isStoryViewer:a,isHide:o}=e;if(o)return;const c=s&&se(s,a);if(c)return{uiElement:{name:ee,ownerName:c,frameUuid:t},payload:{placeItem:r?(0,te.ij)({entity:r}):void 0,storiesList:(0,D.i)({story:s,position:n})}};(0,K.vV)({message:"Не удалось сформировать ownerName для события показа превью Истории (v-n46l9 или v-lm6bi)",level:"error",id:"vkm59",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ie.w1)(i.appContext.frames,t))}})},bssTap:e=>({frameId:t},i)=>{const{story:s,entity:r,position:n,isStoryViewer:a}=e,o=s&&se(s,a);if(o)return{uiElement:{name:ee,ownerName:o,frameUuid:t},payload:{placeItem:r?(0,te.ij)({entity:r}):void 0,storiesList:(0,D.i)({story:s,position:n})},action:"tap"};(0,K.vV)({message:"Не удалось сформировать ownerName для события тапа превью Истории (a-anopo или a-jpjzt)",level:"error",id:"vkm59",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ie.w1)(i.appContext.frames,t))}})}},ne={storyItemBss:Z,slideButtonBss:$,storiesNavigationBss:X,miniStoryBss:re,generators:{bssShowStoryButton:({id:e,position:t,storyPosition:i,value:s,storyId:r,actionType:n})=>(0,J.m3)()({uiElement:{name:F,ownerName:H,position:t},payload:{callToAction:{actionType:null!=n?n:expect.stringMatching(/^('link' | 'phone')$/),value:s},storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:r,name:expect.any(String),position:i,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssTapStoryButton:({id:e,position:t,storyPosition:i,value:s,storyId:r,actionType:n})=>(0,J.gD)()({uiElement:{name:F,ownerName:H,position:t},payload:{callToAction:{actionType:null!=n?n:expect.stringMatching(/^('link' | 'phone')$/),value:s},storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:r,name:expect.any(String),position:i,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssTapStoryNavigate:({name:e,actionType:t,slideId:i,storyId:s,previewText:r,size:n,entityId:a,entityType:o,slidePosition:c,storyPosition:d,title:l})=>(0,J.gD)()({actionType:t,uiElement:Object.assign(Object.assign({name:e},e===Q?{}:{ownerName:G}),{position:null!=c?c:expect.any(Number),frameUuid:expect.any(String)}),payload:{storiesList:Object.assign(Object.assign({id:null!=s?s:expect.any(String),name:null!=r?r:expect.any(String),size:null!=n?n:expect.any(Number)},d?{position:null!=d?d:expect.any(Number)}:{}),{entity:{id:null!=a?a:expect.any(String),type:null!=o?o:expect.any(String)},adsAlg:expect.any(Number)}),storyItem:Object.assign({id:null!=i?i:expect.any(String)},l?{title:l}:{})}}),bssShowStoryItem:({id:e,position:t,storyPosition:i,storyId:s})=>(0,J.m3)()({uiElement:{name:W,ownerName:q,position:t},payload:{storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:s,name:expect.any(String),position:i,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssShowStoryIcon:({story:e,entity:t,position:i,isStoryViewer:s})=>(0,J.m3)()({uiElement:{name:ee,ownerName:se(e,s)},payload:{storiesList:(0,D.i)({story:e,position:i}),placeItem:t?expect.any(Object):void 0}}),bssStoryIconTap:({story:e,entity:t,position:i,isStoryViewer:s})=>(0,J.gD)()({uiElement:{name:ee,ownerName:se(e,s)},payload:{storiesList:(0,D.i)({story:e,position:i}),placeItem:t?expect.any(Object):void 0}})}},ae=()=>{const e=(0,C.d4)((e=>e.session.screen)),t=(0,C.d4)((e=>!e.config.isMobileDevice)),i=.8*e.height/16*9,s=t?{height:.8*e.height,width:i}:{height:e.height,width:e.width};return{original:s,styles:t?{height:`${s.height}px`,width:`${s.width}px`}:{height:"100%",width:"100%"}}};var oe=i(4340),ce=i(12017),de=i(1321);const le="stories";let ue=!1,pe=[],me={},ge={};const he=(0,ce.n5)("initStoriesState",(()=>(ye(),(0,de.Ip)({stories:{viewedIdsMap:me,viewedIdsAtStartMap:ge}})))),fe=(0,ce.n5)("markStoryAsViewed",(e=>(ye(),me[e]?(0,ce.lQ)():(pe.push(e),me=Object.assign(Object.assign({},me),{[e]:!0}),function(){if(!ue)return;pe.length>100&&(pe=pe.slice(pe.length-100));oe.IG.local.setItem(le,pe.join(","))}(),(0,de.Ip)({stories:{viewedIdsMap:me,viewedIdsAtStartMap:ge}})))));const ve=e=>{const t=(0,C.wA)();(0,j.useEffect)((()=>{t(he())}),[t]);const i=(0,C.d4)((e=>{var t;return null===(t=e.appContext.weak.stories)||void 0===t?void 0:t.viewedIdsAtStartMap})),s=(0,j.useMemo)((()=>e&&i?function(e,t){const i=[],s=[];return e.forEach((e=>{t[e.id]?s.push(e):i.push(e)})),[...i,...s]}(e,i):void 0),[e,i]);return{stories:s}},be=()=>{const e=(0,C.d4)((e=>{var t;return null===(t=e.appContext.weak.stories)||void 0===t?void 0:t.viewedIdsMap}));return{isStoryViewed:(0,j.useCallback)((t=>!(!t||!(null==e?void 0:e[t]))),[e])}};function ye(){if(!ue){try{const e=oe.IG.local.getItem(le);e&&(pe=e.split(","),me=pe.reduce(((e,t)=>(e[t]=!0,e)),{}),ge=Object.assign({},me))}catch(e){(0,K.vV)({message:"Не получилось распарсить ID просмотренных историй",level:"error",id:"ke8ls72e",payload:{type:"debug",subtype:"FailedParseValue"}})}ue=!0}}var xe,je,we=i(35023);const Ie=["sky","blue","green","girl","red","yellow","dog","knight","man","cat","woman","witcher","tree","snow","star","space","boy","flag","city","river","stone"],Ce={backgroundUrl:"https://loremflickr.com/360/640/sky",text:"страаашная история"},_e={slides:[{source:"firm",id:"0001",swipeInterval:8e3,backgroundUrl:`https://loremflickr.com/360/640/${null!==(xe=Ie[1])&&void 0!==xe?xe:Ie[0]}?lock=1`,template:{textPosition:"left_top"},button:{action:{value:"https://google.com",caption:"ГО ТУ ГУГЛ",type:"link"}},title:"Это очень крутой тайтл",footnote:{title:"ФАС title",warning:"Есть противопоказания, нужна консультация врача"}}],preview:{backgroundUrl:`https://loremflickr.com/360/640/${null!==(je=Ie[1])&&void 0!==je?je:Ie[0]}?lock=1`,text:"страаашная история"}},ke={source:"firm",id:"mocked-0001",algorithmId:1,orgId:(0,we.W7)(),projectId:1,erid:["2Ranyn4duZ2"],legalName:"ООО legalName",content:_e};var Oe=i(35277);const Se=(0,Oe.R)(ke),Te=(0,Oe.R)(_e),Ee=(0,Oe.R)({source:"firm",id:"0001",swipeInterval:8e3,backgroundUrl:"https://loremflickr.com/360/640/sky",template:{textPosition:"left_top"},button:{action:{value:"https://google.com",caption:"ГО ТУ ГУГЛ",type:"link"}},title:"Это очень крутой тайтл",footnote:{title:"ФАС title",warning:"Есть противопоказания, нужна консультация врача"}}),Me=(0,Oe.R)(Ce);var Ne=i(21959),Le=i(23020),Pe=i(82393);var Re=i(78170);const{use:Ae}=(0,Re.VZ)("stories",(e=>({services:t})=>(0,x.sH)(void 0,void 0,void 0,(function*(){var i;return null===(i=(yield t.casinoApi.getGtaAdvise(e)).stories)||void 0===i?void 0:i.objects.filter((e=>!!e.content.preview.text))}))),{staleTime:1/0,cacheTime:1/0}),Be=e=>{var t,i;return!!(null===(i=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.organization_stories)};function ze({entity:e,enabled:t=!0,bannerSlot:i="organization_stories"}){const{featureStoriesInCard:s,locale:r}=(0,E.U)(),n=(0,C.d4)(Pe.zN),a=(0,C.d4)(Le.hv),o=(0,C.d4)(Ne.LE),c=(0,j.useMemo)((()=>e?function(e){const t=[];return e.rubrics.forEach((({id:e,kind:i})=>{const s="primary"===i?0:1;t[s]||(t[s]=[]),t[s].push(Number(e))})),t}(e):[]),[e]);return Ae({regionId:n,viewport:a,authUserId:o,locale:r,bannerSlot:i,objectId:e?e.id:"",queryContextRubrics:c},{enabled:s&&void 0!==e&&Be(e)&&t})}var Fe=i(5164),He=i(95885);const Ue=e=>Object.assign(Object.assign({},e),{source:"discovery",content:Object.assign(Object.assign({},e.content),{preview:Object.assign(Object.assign({},e.content.preview),{backgroundUrl:(0,He.m)(e.content.preview.backgroundUrl,"80x96")}),slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"discovery"})))})}),De=e=>{var t,i;const s=(0,C.d4)((t=>e?(0,Fe.OB)({state:t,props:{frame:e}}):void 0)),r=null===(t=null==s?void 0:s.context)||void 0===t?void 0:t.gtaId,n=(0,C.d4)((e=>{var t;return r?null===(t=e.data.gta[r])||void 0===t?void 0:t.stories:null})),a=null===(i=null==s?void 0:s.result)||void 0===i?void 0:i.meta;return{data:null==n?void 0:n.objects.map(Ue),isLoading:"loading"===(null==a?void 0:a.status),isSuccess:"success"===(null==a?void 0:a.status),isError:"error"===(null==a?void 0:a.status)}},Ve=e=>Object.assign(Object.assign({},e),{source:"fmcg",content:Object.assign(Object.assign({},e.content),{preview:Object.assign(Object.assign({},e.content.preview),{backgroundUrl:(0,He.m)(e.content.preview.backgroundUrl,"80x96")}),slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"fmcg"})))})});var $e=i(4592),We=i(46287);const qe=e=>{var t,i,s,r;const n=(0,C.d4)((t=>e&&(0,$e.F)({state:t,gtaId:e.gtaId}))),a=(0,C.d4)((t=>e&&(0,We.DE)({state:t,entityId:e.entityId})));return{data:null===(t=null==n?void 0:n.stories)||void 0===t?void 0:t.objects.map(Ve),isLoading:"loading"===(null===(i=null==a?void 0:a.meta)||void 0===i?void 0:i.status),isSuccess:"success"===(null===(s=null==a?void 0:a.meta)||void 0===s?void 0:s.status),isError:"error"===(null===(r=null==a?void 0:a.meta)||void 0===r?void 0:r.status)}};var Ze=i(15471);const Qe=e=>{var t,i;return null!==(i=null===(t=e.template)||void 0===t?void 0:t.textPosition)&&void 0!==i?i:"left_top"},Ge=e=>{if(e.button)return"phone"===e.button.action.type?Object.assign(Object.assign({},e.button),{action:Object.assign(Object.assign({},e.button.action),{value:`tel:${e.button.action.value}`})}):e.button},Ke=e=>(e=>!!e.video)(e)?"video":"image",Ye=(e,t)=>{var i;return"discovery"===e.source&&t&&e.backgroundUrl?(0,He.m)(e.backgroundUrl,`${Math.floor(t.width)}x${Math.floor(t.height)}`):"image"===Ke(e)?e.backgroundUrl:null===(i=e.video)||void 0===i?void 0:i.url};var Xe=i(56153);const Je=(0,j.memo)((({title:e,body:t,subtitle:i,footerText:s,titleStyle:r,textColor:a})=>{const{css:c,s:d}=(0,o.I)(et),u=a?{color:a}:{};return(0,n.jsxs)("div",Object.assign({style:u,className:c(d.wrapper)},{children:[e&&(0,n.jsx)("span",Object.assign({className:c(d.title,"big"===r&&d.bigTitle)},l.dx.n("wat-story-slide-title"),{children:e})),i&&(0,n.jsx)("span",Object.assign({style:u,className:c(d.subtext)},{children:i})),t&&(0,n.jsx)("span",Object.assign({className:c(d.body)},l.dx.n("wat-story-slide-body"),{children:t})),s&&(0,n.jsx)(Xe.v,{html:s,contentClassName:d.footerText,className:c(d.subtext)})]}))})),et=(0,o.r)({wrapper:{display:"flex",flexDirection:"column",color:a.T.white,gap:"8px",zIndex:2,position:"relative"},title:{fontSize:"24px",fontWeight:500,lineHeight:"32px",letterSpacing:"0em",textAlign:"left"},bigTitle:{fontSize:29},body:{fontSize:"16px",fontWeight:400,lineHeight:"20px",letterSpacing:"0em",textAlign:"left",whiteSpace:"pre-line"},subtext:{fontSize:"13px",textAlign:"left",fontWeight:400,color:"rgba(255, 255, 255, .7)",lineHeight:"16px",letterSpacing:"0em"},footerText:{"& a":{color:"rgba(255, 255, 255, .7)",textDecoration:"underline",":hover":{color:a.T.gray_262626}}}});var tt=i(89446),it=i(64099);const st=({rating:e})=>{const{css:t,s:i}=(0,o.I)(rt);return(0,n.jsxs)("div",Object.assign({className:t(i.wrapper)},{children:[(0,n.jsx)(tt.G,{color:a.T.white,size:14,rating:e}),(0,n.jsx)("span",Object.assign({className:t(i.ratingCount)},{children:e}))]}))},rt=(0,o.r)({wrapper:{display:"flex",background:"#ffffff4d",borderRadius:it.Vq.default,paddingTop:6,paddingBottom:6,paddingStart:8,paddingEnd:10,color:a.T.white,gap:6,alignItems:"center",width:"max-content"},ratingCount:{fontSize:13,fontWeight:d.fontWeight.medium}}),nt=({slide:e})=>{var t;const{css:i,s}=(0,o.I)(at),r="info"===e.source?{title:e.title,body:e.body,subtitle:e.subtitle,footerText:e.comment,titleStyle:null===(t=e.template)||void 0===t?void 0:t.titleStyle}:{title:e.title,body:e.body};return(0,n.jsxs)("div",Object.assign({className:i(s.wrapper)},{children:[e.rating&&(0,n.jsx)(st,{rating:e.rating}),(0,n.jsx)(Je,Object.assign({},r))]}))},at=(0,o.r)({wrapper:{display:"flex",flexDirection:"column",gap:8,padding:"0 24px"}}),ot=j.memo((e=>{var{activeSlide:t,onSlideLoaded:i,topContent:s,isContentLoaded:r,hasContentLoadingError:a,onError:c,mediaSlideStyles:d,onTapPrev:l,onTapNext:m,videoAPI:g,imageAPI:h,onTouchStart:f,entity:v,story:b,storyPosition:y,slidePosition:w,onButtonClick:I,slideSizes:C}=e,_=(0,x.Tt)(e,["activeSlide","onSlideLoaded","topContent","isContentLoaded","hasContentLoadingError","onError","mediaSlideStyles","onTapPrev","onTapNext","videoAPI","imageAPI","onTouchStart","entity","story","storyPosition","slidePosition","onButtonClick","slideSizes"]);const{css:k,s:O}=(0,o.I)(ct),T=j.useContext(Ze.X).frameId,E=(0,p.D)((()=>{i()})),M=void 0!==t.title||void 0!==t.body,N=Qe(t),L=M&&"left_top"===N,P=M&&"left_bottom"===N,{bssRef:R}=(0,u.E)(ne.storyItemBss.bssShow({slide:t,story:b,storyPosition:y,position:w}),{forceSendShowIfParamsChanged:[t.id],forcedIntersection:!0}),A=Ge(t),{bssRef:z,showEventOrdinal:F}=(0,u.E)(A?ne.slideButtonBss.bssShow({slide:t,story:b,storyPosition:y,entity:v,position:w,callToAction:{value:A.action.value,actionType:A.action.type}}):void 0,{forceSendShowIfParamsChanged:[t.id],forcedIntersection:!0}),H=(0,p.D)((()=>{A&&I({button:A,story:b,slide:t,storyPosition:y,slidePosition:w})}));return(0,n.jsxs)("div",Object.assign({ref:r?R:void 0,style:Object.assign({},C.styles),className:k(O.wrapper,r&&O.wrapperContentLoaded)},{children:[(0,n.jsxs)("div",Object.assign({},_,{className:k(O.overlay)},{children:[(0,n.jsx)("div",{onTouchStart:f,onTouchEnd:l,className:k(O.halfOverlay)}),(0,n.jsx)("div",{onTouchStart:f,onTouchEnd:m,className:k(O.halfOverlay)})]})),(0,n.jsxs)("div",Object.assign({className:k(O.slide,r&&O.fade)},{children:[(0,n.jsxs)("div",Object.assign({className:k(O.topContent)},{children:[s,L&&r&&(0,n.jsx)(nt,{slide:t})]})),(0,n.jsxs)("div",Object.assign({className:k(O.contentWrapper)},{children:[(0,n.jsx)(B,{videoAPI:g,imageAPI:h,onError:c,url:Ye(t,C.original),type:Ke(t),onLoad:E,hasContentLoadingError:a,loaded:r,mediaSlideStyles:d}),r&&(0,n.jsx)("div",{className:k(O.gradient,L&&O.topTextGradient,P&&O.bottomTextGradient,!L&&!P&&O.noTextGradient)})]})),r&&(0,n.jsxs)("div",Object.assign({className:k(O.bottomContent)},{children:[P&&(0,n.jsx)(nt,{slide:t}),A&&(0,n.jsx)(S,{onClick:H,showEventOrdinal:F,innerRef:z,slideButton:A,actionEventParamsSelector:ne.slideButtonBss.bssTap({slide:t,story:b,position:w,ownerFrameId:T,storyPosition:y,entity:v,callToAction:{value:A.action.value,actionType:A.action.type}})})]}))]}))]}))})),ct=(0,o.r)({overlay:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:2,overflow:"hidden",userSelect:"none",display:"flex"},halfOverlay:{width:"50%"},wrapper:{display:"flex",flexDirection:"column",background:a.T.gray_262626,position:"relative",borderRadius:16,overflow:"hidden"},wrapperContentLoaded:{background:"unset"},topContent:{position:"absolute",top:0,right:0,left:0},bottomContent:{position:"absolute",display:"flex",flexDirection:"column",gap:24,bottom:28,left:0,right:0},slide:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center",width:"100%",height:"100%",borderRadius:16},contentWrapper:{display:"flex",alignItems:"center",position:"relative",height:"100%",width:"100%"},gradient:{position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"none",overflow:"hidden",userSelect:"none"},topTextGradient:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.37) 37.27%, rgba(0, 0, 0, 0.06) 54.36%, rgba(0, 0, 0, 0) 61.76%)"},bottomTextGradient:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.37) 37.27%, rgba(0, 0, 0, 0.06) 54.36%, rgba(0, 0, 0, 0) 61.76%), linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.06) 14.75%, rgba(0, 0, 0, 0) 21.48%)"},noTextGradient:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.06) 14.75%, rgba(0, 0, 0, 0) 21.48%)"},fade:{animationName:{"0%":{opacity:0},"100%":{opacity:1}},animationTimingFunction:"linear",animationDuration:"0.2s"}}),dt=(e,t)=>{var i;return null!==(i=e.swipeInterval)&&void 0!==i?i:t},lt=e=>"info"!==e.source},32127:(e,t,i)=>{"use strict";i.d(t,{V0:()=>V,At:()=>a,e7:()=>n});var s={};i.r(s),i.d(s,{showSuggestionItem:()=>_});var r={};i.r(r),i.d(r,{useSearchObjectSuggestions:()=>S});var n={};i.r(n),i.d(n,{Kx:()=>I,Nd:()=>s,AM:()=>E,P:()=>r});var a={};i.r(a),i.d(a,{getSuggestionPayload:()=>H,usePrepareSuggestion:()=>A});var o=i(31085),c=i(8365),d=i(99259),l=i(80552),u=i(81618),p=i(21644),m=i(98626),g=i(84175),h=i(39302),f=i(79594),v=i(63770),b=i(46579),y=i(88114),x=i(82393);const j=({type:e,url:t})=>{const i=(0,b.U)(),{css:s,s:r}=(0,g.I)(w),n=(0,f.d4)(x.JC);return i.featureSuggestAdsLogo&&t?(0,o.jsx)("div",Object.assign({className:s(r.logo)},u.dx.n("wat-suggest-logo"),{children:(0,o.jsx)(y.E,{src:t,height:32,width:32})})):(0,o.jsx)(v.I,{type:e,regionCode:n})},w=(0,g.r)({logo:{width:32,height:32,borderRadius:"50%",overflow:"hidden"}}),I=[2,3];var C=i(17640);const _=({position:e,suggestion:t,suggestions:i,query:s,searchAttributes:r,needTrackAllSuggestionShows:n})=>({frameId:a})=>{var o;if(!s)return;if(!("object"!==t.type||!(null===(o=t.search_attributes)||void 0===o?void 0:o.dgis_ad_type)||!I.includes(t.search_attributes.dgis_ad_type)))return{uiElement:{name:"adsBanner",ownerName:"suggestList",frameUuid:a,position:e},payload:{adsBanner:Object.assign(Object.assign({},H(t)),{position:e})}};if(n){const{bssEvent:n}=(0,C._X)({suggestion:t,query:s,pickedIndex:e,frameId:a,suggestions:i,searchAttributes:r});return n}};var k=i(85608),O=i(78170);const{use:S}=(0,O.VZ)("searchSuggestions",(e=>({services:t})=>(0,k.sH)(void 0,void 0,void 0,(function*(){return yield t.webApi.searchObjectSuggestions(e)}))));var T=i(35023);function E(e){return"user_query"===e.type?{type:"object",search_attributes:e.search_attributes}:function(e){const{search_attributes:t}=e,i=(0,k.Tt)(e,["search_attributes"]);if(i.id){const e=(0,T.ox)(i.id),s=(0,T.OV)(i.id);return{type:"object",search_attributes:t,entity:Object.assign(Object.assign({},i),{id:e,hash:s})}}return{type:"object",search_attributes:t,entity:i}}(e)}var M=i(82781),N=i(86824),L=i(80690);function P(e){var t,i,s;const{name:r,item:n,isHint:a=!1}=e;if("history"===n.type)return[{text:r,is_suggested:!1}];const o=null===(t=n.search_attributes.suggest_parts)||void 0===t?void 0:t.find((e=>!e.is_suggested)),c=o&&o.text.toLowerCase();if(c){const e=r.toLowerCase().replace(L.aY," ").indexOf(c);if(e>-1)return[{text:r.substr(0,e),is_suggested:!0},{text:r.substr(e,c.length),is_suggested:!1},{text:r.substr(e+c.length),is_suggested:!0}].filter((e=>e.text))}const d=a&&"building"===(null===(i=n.entity)||void 0===i?void 0:i.type)?null===(s=n.entity.adm_div)||void 0===s?void 0:s.find((e=>"living_area"===e.type)):void 0;return[{text:d?`${r}, ${d.name}`:r,is_suggested:!0}]}var R=i(95885);const A=e=>{var t,i,s,r,n;const a=(0,b.U)(),o=(0,M.c)(),{name:c,hint:d}=(0,N.W)({tp:o,config:a},e),l=P({name:c,item:e}),u=d?P({name:d,item:e,isHint:!0}):void 0,p=e.entity&&"ads"in e.entity&&(null===(t=e.entity.ads)||void 0===t?void 0:t.options)||void 0,m=!("object"!==e.type||!(null===(i=e.search_attributes)||void 0===i?void 0:i.dgis_ad_type)||!I.includes(e.search_attributes.dgis_ad_type)),g=m&&(e.search_attributes.dgis_ad_type===I[0]?null===(s=null==p?void 0:p.suggestor)||void 0===s?void 0:s.logo:null==p?void 0:p.logo),h=g?(0,R.Y)(g,"64x64"):void 0;return{nameParts:l,hintParts:u,name:c,hint:d,adInfoParams:p&&m&&e.search_attributes.dgis_ad_type===I[0]?Object.assign(Object.assign({},null==p?void 0:p.suggestor),{legalName:null===(r=p.suggestor)||void 0===r?void 0:r.legal_name,erid:(null===(n=p.suggestor)||void 0===n?void 0:n.erid)?Array.isArray(p.suggestor.erid)?p.suggestor.erid:[p.suggestor.erid]:void 0}):void 0,logoImageUrl:h}};var B=i(7540),z=i(54071),F=i(7818);const H=e=>{var t,i,s,r,n,a,o;if(!("object"!==e.type||!(null===(t=e.search_attributes)||void 0===t?void 0:t.dgis_ad_type)||!I.includes(e.search_attributes.dgis_ad_type))&&(null===(i=e.entity)||void 0===i?void 0:i.id))return{entity:{id:e.entity.id,type:"branch",segmentInfo:(0,B.o)(e.entity)},org:"org"in e.entity?null===(s=e.entity.org)||void 0===s?void 0:s.id:void 0,mainRubric:"rubrics"in e.entity&&e.entity.rubrics?(0,z.Z)(e.entity.rubrics):void 0,contextRubric:null===(r=e.search_attributes)||void 0===r?void 0:r.dgis_ad_rubric_id,adsId:"ads"in e.entity?null===(o=null===(a=null===(n=e.entity.ads)||void 0===n?void 0:n.options)||void 0===a?void 0:a.suggestor)||void 0===o?void 0:o.ads_id:void 0,adsAlgorithm:2===e.search_attributes.dgis_ad_type?39:40,adsHighlight:!0,geoPosition:"point"in e.entity&&e.entity.point?(0,F.U)(e.entity.point):void 0}};var U=i(80648),D=i(91255);const V=({item:e,index:t,onClick:i,isHighlighted:s,bssShowFunction:r})=>{var n;const{css:a,s:d}=(0,g.I)($),{name:l,hint:p,nameParts:v,hintParts:b,adInfoParams:y,logoImageUrl:x}=A(e),w=(0,f.d4)((t=>!!e.entity&&(0,U.kR)(e.entity)(t))),{bssRef:I}=(0,c.E)(r?r():void 0),C=(e,t)=>e.is_suggested?e.text:(0,o.jsx)("span",Object.assign({className:a(d.highlightedText)},{children:e.text}),e.text+t),_=(0,h.Q)(e);return(0,o.jsxs)("li",Object.assign({className:a(d.suggestion,s&&d.itemHighlighted),onClick:e=>{e.preventDefault(),e.stopPropagation()},onMouseDown:s=>{s.stopPropagation(),s.preventDefault(),i({hasLogo:!!x,index:t,item:e})},ref:I},u.dx.t(_),u.dx.n("wat-suggest-item"),u.dx.s(s&&"highlighted",!!p&&"withHint"),{children:[(0,o.jsx)("div",Object.assign({className:a(d.icon)},{children:(0,o.jsx)(j,{url:x,type:_})})),(0,o.jsxs)("div",Object.assign({className:a(d.content)},{children:[(0,o.jsx)("div",Object.assign({className:a(d.name)},u.dx.n("wat-suggest-item-name"),{title:l},{children:v.map(C)})),b&&(0,o.jsx)("div",Object.assign({className:a(d.hint)},u.dx.n("wat-suggest-item-hint"),{title:p},{children:b.map(C)})),y&&(0,o.jsxs)("div",Object.assign({className:a(d.ads)},{children:[null===(n=null==y?void 0:y.microcomment)||void 0===n?void 0:n.text,(0,o.jsx)(m.Q,Object.assign({},y,{tiny:!0,gray:!0,source:"banner"}))]})),w&&(0,o.jsx)("div",Object.assign({className:a(d.immersiveLabel)},{children:(0,o.jsx)(D.Y,{})}))]}))]}))},$=(0,g.r)({suggestion:{position:"relative",boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:72,paddingEnd:24,cursor:"pointer",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"baseline",userSelect:"none",":hover":{background:d.T.gray_f9f9f9}},ads:{display:"flex",flexDirection:"column",paddingTop:6,color:d.T.black_transparent_50},itemHighlighted:{background:d.T.gray_f2f2f2,":hover":{background:d.T.gray_f2f2f2}},icon:{position:"absolute",color:d.T.gray_929292,top:4,start:24},content:{flex:"1 0 0%",minWidth:0},name:Object.assign(Object.assign({},(0,l.lineClamped)(2,p.t3)),{color:d.T.gray_929292,maxWidth:"100%"}),hint:Object.assign(Object.assign({},l.regular),{color:d.T.gray_929292,marginTop:6,maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),highlightedText:{color:d.T.gray_262626},immersiveLabel:{marginTop:6}})},35731:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(31085),r=i(10048),n=i(58471),a=i(40837);const o=e=>(0,s.jsx)(r.w,{loader:n.b.entityTooltip,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:a.N});i(60230)},60230:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>s,X9:()=>b});var s={};i.r(s),i.d(s,{showTooltip:()=>w,tapOnBuldingOfferList:()=>I});var r=i(80333),n=i(19945),a=i(61200),o=i(35023);function c(e){var t;return e&&"cluster"in e&&(null===(t=e.cluster)||void 0===t?void 0:t.in_geometry_id_count)||0}var d=i(3210),l=i(24059),u=i(10330),p=i(49157),m=i(59954),g=i(45268),h=i(59620),f=i(71781),v=i(94887);const b=({entity:e,tooltipData:t,time:i},{tp:s,config:b})=>{var y,x,j;if(!e)return;const{name:w,address:I=[]}=(0,n.wK)(e,s,{useSingleComponentForBranch:!0,config:b}),C=(0,a.tB)(e,{config:b,includeRegion:!0}),_=(0,r.X)(e),k=!!_,O=(0,f.b)(e,s,{withFloors:!0,withRoutesCount:!0}),S=!!O&&!!O.length,T=(0,o.oE)([...I,C]),E=!!T&&!!T.length,M=("building"===e.type||"branch"===e.type||"station_entrance"===e.type)&&(null===(y=e.address)||void 0===y?void 0:y.building_id)||"",N=(0,v.x)(e),L=("building"===e.type||"branch"===e.type)&&e.has_realty,P=N>0?s._nt(["Еще %% организация в этом здании","Еще %% организации в этом здании","Еще %% организаций в этом здании"],N):"",R=t&&"catalog"===t.type?t.data:void 0,A=(0,p.T)(e),B=(0,u.F)(i,A||0),z=(0,d.w)(e,!1,B,s,b.is12h),F=(0,l.P)(e,B),H=(null===(j=null===(x=e.context)||void 0===x?void 0:x.stop_factors)||void 0===j?void 0:j.map((e=>e.name)))||m.Ml,U=((0,g.f)(e,s)||m.Ml).filter((e=>{return t=e.type,!["suburban_train","aeroexpress","river_transport"].includes(t);var t})),D="branch"===e.type&&!!e.is_deleted,V=null==R?void 0:R.friends;return{stars:_?_.stars:0,showRating:k,name:w,extension:O,showExtension:S,location:T,showLocation:E,orgsCountText:P,showOrgsCountText:c(R)>1,scheduleComment:z,scheduleStatus:F,isTemporaryClosed:(0,h.a)(e),isDeleted:D,stopFactors:H,showStopFactors:!(null==V?void 0:V.total)&&H.length>0,routesGroups:U,showRoutesGroups:U.length>0,fallbackRouteLogo:"route_logo"in e?e.route_logo:void 0,friends:V,buildingId:M,orgsCount:N,hasRealty:L}};var y=i(32288),x=i(19519),j=i(20371);const w=({tooltipData:e,entity:t,marker:i,poiCategory:s,realtyCount:r,orgsCount:n,buildingId:a})=>({frameId:o})=>{if(t){if(e&&"poi"===e.type){const i=s?"branch"===(null==t?void 0:t.type)&&t.poi_category===s:void 0;return function(e,t,i,s,r,n){return{uiElement:{name:"tooltip",ownerName:"POI",frameUuid:e},payload:Object.assign(Object.assign({placeItem:(0,y.ij)({entity:t}),POI:(0,j.T)(i)},n&&s&&{productOffersList:{entity:{type:"building",id:n},size:s}}),n&&r&&{searchResultsList:{size:r,building:n}})}}(o,t,Object.assign(Object.assign({},e.data),{isContext:i}),r,n,a)}return"infrastructure"===(null==e?void 0:e.type)?function({frameId:e,entity:t}){return{uiElement:{name:"tooltip",ownerName:"mapMarker",frameUuid:e},payload:{placeItem:(0,y.ij)({entity:t}),mapMarker:{scale:"small",adsHighlight:!1}}}}({frameId:o,entity:t}):"catalog"===(null==e?void 0:e.type)?function(e,t,i,s,r,n){return{uiElement:{name:"tooltip",ownerName:"mapMarker",frameUuid:e},payload:Object.assign(Object.assign({placeItem:(0,y.ij)({entity:i}),placeList:s?{size:s}:void 0,mapMarker:{scale:C(t.data.degradationLevel),adsHighlight:0===t.data.degradationLevel,rubricType:t.data.rubricType}},n&&r&&{productOffersList:{entity:{type:"building",id:n},size:r}}),n&&s&&{searchResultsList:{size:s,building:n}})}}(o,e,t,n,r,a):i?function(e,t,i,s){return{uiElement:{name:"tooltip",ownerName:"favoritesMapIcon",frameUuid:e},payload:{placeItem:(0,y.ij)({entity:t}),placeList:s?{size:s}:void 0,mapMarker:{scale:(0,x.j)(i.currentType),adsHighlight:"commercial"===i.type}}}}(o,t,i,n):void 0}};const I=e=>({frameId:t},i,s)=>{const r=e.buildingId&&e.realtyCount>0&&(null==s?void 0:s.isRealty)?{entity:{type:"building",id:e.buildingId},size:e.realtyCount}:void 0,n=e.buildingId&&e.orgsCount>0&&!(null==s?void 0:s.isRealty)?{size:e.orgsCount,building:e.buildingId}:void 0;return{uiElement:{name:(null==s?void 0:s.isRealty)?"realtyButton":"buildingOrgsButton",ownerName:"tooltip",frameUuid:t},payload:Object.assign(Object.assign(Object.assign({},e.entity&&{placeItem:(0,y.ij)({entity:e.entity})}),{productOffersList:r}),{searchResultsList:n}),action:"tap"}};function C(e){switch(e){case 0:case 1:return"large";case 2:return"medium";default:return"small"}}},81678:(e,t,i)=>{"use strict";i.d(t,{vO:()=>Dt,TO:()=>_,Oc:()=>Xe,eo:()=>qe,fZ:()=>tt,rw:()=>Ht,$0:()=>Ve,Pq:()=>ct,Af:()=>Ft,Vw:()=>n,vK:()=>o});var s={};i.r(s),i.d(s,{I:()=>se});var r={};i.r(r),i.d(r,{H:()=>re});var n={};i.r(n),i.d(n,{InformerData:()=>r.InformerData,MarkerElements:()=>s.MarkerElements,formatAvatarPreviewTpl:()=>G,formatInformerRows:()=>re,getIsAtShortDistanceFromCenter:()=>q,getIsInsideViewpoint:()=>Z,getMarkerElements:()=>se,getUserAvatar:()=>K,getUserStatus:()=>te,isMyFriend:()=>ie,isOffline:()=>X,useSmoothMoving:()=>oe});var a={};i.r(a),i.d(a,{changeProfilePrivacy:()=>Me,generators:()=>He,getProfileItemPayload:()=>Ce,showProfileStatus:()=>ke,showTooltip:()=>Ee,showUserProfile:()=>_e,showUserProfileHeader:()=>Be,tapCluster:()=>Te,tapFriendMarker:()=>Oe,tapSharerMarker:()=>Se,tapUserProfileHeader:()=>ze});var o={};i.r(o),i.d(o,{bss:()=>a,getClusterStatusIcon:()=>ve,invalidatePublicProfile:()=>z,setPublicProfileData:()=>A,updatePublicProfileCache:()=>xe,useFriendStatus:()=>me,useFriendsListQuery:()=>H,useInformerTime:()=>he,useIsMyFriend:()=>be,useMoveToUserMarker:()=>le,usePublicProfile:()=>D,usePublicProfileApi:()=>R,useSocialGraphProfileQuery:()=>U,useUpdatePrivacy:()=>Ie,useUserFriendshipCounterQuery:()=>F,useUserProfile:()=>ce,usersMarkersConfig:()=>ge,withPublicProfile:()=>B});var c=i(31085),d=i(14041),l=i(82781);const u=1e3,p=({time:e})=>{const[t,i]=(0,d.useState)(e),s=(0,d.useRef)(),r=(0,l.c)();(0,d.useEffect)((()=>(s.current=setInterval((()=>{i((e=>e-u))}),u),()=>clearInterval(s.current))),[e]),(0,d.useEffect)((()=>{t<u&&(i(0),clearInterval(s.current))}),[t]);const{hours:n,minutes:a,seconds:o}=function(e){0;return{hours:m(Math.floor(e/36e5%24)),minutes:m(Math.floor(e/1e3/60%60)),seconds:m(Math.floor(e/1e3%60))}}(t);return(0,c.jsx)(c.Fragment,{children:`${r._t("Трансляция")} ${n}:${a}:${o}`})};function m(e){return e<10?`0${e}`:e}var g=i(79594),h=i(84175),f=i(80552),v=i(99259),b=i(10742),y=i(91818),x=i(96141),j=i(23098);function w(e=""){return e.split(" ").slice(0,2).map((e=>e[0])).filter((e=>e&&e.match(/\p{L}/u))).join("").toUpperCase()}var I=i(84655);const C={tiny:24,small:40,average:48,large:96},_=({url:e,name:t,size:i="large"})=>{const{css:s,s:r}=(0,h.I)(O),n="tiny"===i?r.initialsTiny:"small"===i?r.initialsSmall:r.initials;return(0,c.jsx)("div",Object.assign({className:s(r.avatar,"tiny"===i&&r._tiny,"small"===i&&r._small,"average"===i&&r._average),style:{width:i,height:i}},{children:(0,c.jsx)(j.e,{src:e,initials:()=>w(t),initialStyles:n})}))},k=({size:e="large"})=>{const t=C[e];return(0,c.jsx)(I.j,{width:t,height:t})},O=(0,h.r)({avatar:{width:C.large,height:C.large,flexShrink:0,borderRadius:"50%",overflow:"hidden",background:v.T.gray_f2f2f2},_tiny:{width:C.tiny,height:C.tiny},_small:{width:C.small,height:C.small},_average:{width:C.average,height:C.average},initials:Object.assign(Object.assign({},f.giant),{background:v.T.gray_929292,color:v.T.white,fontWeight:f.fontWeight.normal}),initialsSmall:Object.assign(Object.assign({},f.regular),{background:v.T.gray_929292,color:v.T.white,fontWeight:f.fontWeight.normal}),initialsTiny:Object.assign(Object.assign({},f.small),{background:v.T.gray_929292,color:v.T.white,fontWeight:f.fontWeight.normal})});var S=i(85608);const T=e=>{var{subtitle:t,isMyProfile:i,broadcastTime:s}=e,r=(0,S.Tt)(e,["subtitle","isMyProfile","broadcastTime"]);const{css:n,s:a}=(0,h.I)(E),{_t:o}=(0,l.c)(),d=i?o("Это вы"):r.name;return(0,c.jsxs)("div",Object.assign({className:n(a.wrapper),style:t||s?{}:{justifyContent:"center "}},{children:[(0,c.jsx)("span",Object.assign({className:n(a.name)},{children:d})),!!s&&(0,c.jsx)("span",Object.assign({className:n(a.subtitle)},{children:(0,c.jsx)(p,{time:s})})),!s&&t&&(0,c.jsx)("span",Object.assign({className:n(a.subtitle)},{children:t}))]}))},E=(0,h.r)({wrapper:{display:"flex",flexDirection:"column",gap:4},name:Object.assign(Object.assign({},f.leadMedium),{textAlign:"left"}),subtitle:Object.assign(Object.assign({},f.regular),{color:v.T.gray_929292})});var M=i(88114);function N(e){var{color:t="currentColor"}=e,i=(0,S.Tt)(e,["color"]);return(0,c.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i,{children:(0,c.jsx)("path",{d:"M9.00333 15.3333L14.0033 2L0.669998 7L6.50333 9.5L9.00333 15.3333Z",fill:t})}))}var L=i(8365),P=i(78170);const{use:R,setQueryData:A,withQueryState:B,invalidate:z}=(0,P.VZ)("publicProfile",(e=>({services:t,config:i})=>(0,S.sH)(void 0,void 0,void 0,(function*(){const s=i.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;return yield t.publicProfileApi.getProfile(Object.assign(Object.assign({},e),{with_friend_info:!!s,accessToken:s}))}))),{cacheTime:0,refetchOnMount:!0}),{use:F}=(0,P.VZ)("userFriendsOnMap",(()=>({services:e,config:t})=>(0,S.sH)(void 0,void 0,void 0,(function*(){const i=t.friendsDebugToken||(yield e.credentialsApi.getToken());if(!i)throw new Error("There is no access_token");return yield e.socialGraphApi.getUserFriendshipCounter({accessToken:i})}))),{staleTime:0,cacheTime:0}),{use:H}=(0,P.r8)("friendsList",(e=>[[e.limit],({services:t,context:i,config:s})=>(0,S.sH)(void 0,void 0,void 0,(function*(){const r=s.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;if(!r)throw new Error("There is no access_token");return yield t.socialGraphApi.getFriendsList(Object.assign(Object.assign({},e),{accessToken:r,next_page_token:i.pageParam?`${i.pageParam}`:void 0}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>e.next_page_token}),{use:U}=(0,P.VZ)("socialGraphProfile",(e=>({services:t})=>(0,S.sH)(void 0,void 0,void 0,(function*(){return yield t.socialGraphApi.getUser(e)}))),{staleTime:1/0,cacheTime:1/0}),D=(e,t={enabled:!0})=>{const{states:i}=(0,g.d4)((e=>e.appContext.friendsOnMap)),s=R({id:e},{enabled:!!e&&t.enabled}),r=e?i[e]:void 0;return(0,d.useMemo)((()=>({state:r,profile:s})),[r,s])};var V=i(21959),$=i(46579),W=i(17426);function q(e,t){const[i,s]=t;return(0,W.J)(e.location,{lon:(s.lon+i.lon)/2,lat:(i.lat+s.lat)/2})<3e4}function Z(e,t){const{lon:i,lat:s}=e.location,[r,n]=t;return i>=r.lon&&i<=n.lon&&s<=r.lat&&s>=n.lat}var Q=i(25877);function G(e,t){const i=t?48:96;return(0,Q.$)(e,{width:i,height:i})}const K=(e,t)=>e.avatar_preview_tpl?G(e.avatar_preview_tpl,t):e.avatar,Y=e=>{if(e<0)return;const t=36e5,i=864e5;return{days:Math.floor(e/i),hours:Math.floor(e%i/t),minutes:Math.floor(e%t/6e4)}},X=e=>"noGeo"===e.movement.status||!!e.staleTime&&Date.now()>e.staleTime;var J=i(88870);const ee=(e,t,i,s)=>{const r=(0,W.J)(e,t);return(0,J.l)({distance:r,isShortcut:!0,tp:i,rtl:s})},te=({state:e,entityName:t,selfUserLocation:i,eta:s,tp:r,rtl:n})=>{var a,o;if(!e)return;const c=(null===(a=null==e?void 0:e.locationPlace)||void 0===a?void 0:a.transportStatus)||(null===(o=e.locationPlace)||void 0===o?void 0:o.status),d=null==c?void 0:c.id,l=((e,t)=>{const i=Y(Date.now()-e);if(i)return 1===i.days?t._t("Обновлено вчера"):i.days>1?t._t("Обновлено %1 дн назад",[i.days.toString()]):i.hours>0?t._t("Обновлено %1 ч назад",[i.hours.toString()]):i.minutes>0?t._t("Обновлено %1 мин назад",[i.minutes.toString()]):t._t("Обновлено только что")})(e.lastSeen,r),u=((e,t)=>{if(e.movement.stoppedAt){const i=Y(Date.now()-e.movement.stoppedAt);if(i)return i.days>0?t._nt(["%% день","%% дня","%% дней"],i.days):i.hours>0&&i.minutes>0?t._t("%1 ч %2 мин",[i.hours.toString(),i.minutes.toString()]):i.hours>0?t._t("%1 ч",[i.hours.toString()]):t._t("%1 мин",[i.minutes.toString()])}})(e,r),p=s&&t?t:((e,t,i)=>{var s,r,n,a;if(X(e))return i._t("Нет связи");if("moving"===e.movement.status&&void 0!==e.location.speed){const t=Math.max(Math.round(3.6*e.location.speed),1);return i._t("Скорость %1 км/ч",[t])}return"home"===(null===(r=null===(s=e.locationPlace)||void 0===s?void 0:s.status)||void 0===r?void 0:r.id)?i._t("Дома"):"work"===(null===(a=null===(n=e.locationPlace)||void 0===n?void 0:n.status)||void 0===a?void 0:a.id)?i._t("На работе"):t||i._t("Здесь")})(e,t,r),m=((e,t)=>{if(void 0===e||0===e)return;const i=Y(1e3*e);return i&&i.hours?t._t("%1:%2 ч",[i.hours.toString(),i.minutes.toString()]):t._t("%1 мин",[null==i?void 0:i.minutes.toString()])})(s,r),g=(null==c?void 0:c.iconUrlTpl)?(0,Q.$)(c.iconUrlTpl,{width:24,height:24}):void 0;return X(e)?{eta:m,lastSeenText:l,place:{statusId:d,text:p}}:{eta:m,lastSeenText:l,place:{statusId:d,time:m?void 0:u,text:p,icon:g},distance:i?ee(i,e.location,r,n):void 0}},ie=e=>!!(null==e?void 0:e.is_friend);function se(e){const t=e.parentElement,i=e.childNodes[0],[s,r,n,a,o]=i.childNodes,c=s.childNodes[0],d=c.childNodes[0];return{parent:t,root:i,flame:s,flameMarkerRotation:c,flameAnimation:d,avatar:r,informer:n,cluster:a,battery:o,rotateFlameMarker:e=>{c.style.rotate=`${e}deg`}}}function re({isMoving:e,isOffline:t,speed:i,formattedTime:s,dir:r,tp:n}){if(e){if(void 0===i)return;return{firstRowText:`${Math.max(Math.round(3.6*i),1)}`,secondRowText:n._t("км/ч"),isOffline:!1}}if(!t&&s){const{days:e,hours:i,minutes:a}=s,o=e?`${e}`:i?n._t("%1 ч",[i]):`${a}`,c=e?n._nt(["%% день","%% дня","%% дней"],e):void 0,d="ltr"===r?null==c?void 0:c.split(" ")[1]:null==c?void 0:c.split(" ")[0];if(d)return{firstRowText:o,secondRowText:d,isOffline:t};if(!i&&!a)return;const l=n._nt(["%% мин","%% мин","%% мин"],a);return{firstRowText:o,secondRowText:i?l:"ltr"===r?null==l?void 0:l.split(" ")[1]:null==l?void 0:l.split(" ")[0],isOffline:t}}if(t&&s){const{days:e,hours:i,minutes:r}=s,a=e?n._nt(["%% день","%% дня","%% дней"],e):i?n._t("%1 ч",[i]):r?n._nt(["%% мин","%% мин","%% мин"],r):void 0;if(!a)return;return{firstRowText:a,secondRowText:n._t("назад"),isOffline:t}}}var ne=i(49804);var ae=i(84815);function oe({cluster:e,marker:t,markerElements:i}){const[s,r]=(0,d.useState)([]),n=s[0]||e,a=s[1],o=n.markers[0].state,c=null==a?void 0:a.markers[0].state,{isOffline:l,isMoving:u}=function(e){if(e.markers.length>1)return{isOffline:!1,isMoving:!1};const t=e.markers[0].state,i="noGeo"===t.movement.status||!!t.staleTime&&Date.now()>t.staleTime;return{isOffline:i,isMoving:!i&&"moving"===t.movement.status}}(n);return(0,d.useEffect)((()=>{r((t=>[...t,e]))}),[e.lonLat.lon,e.lonLat.lat,e.markers[0].state]),(0,d.useEffect)((()=>{if(!c||!t||!i)return;const e=()=>{t.setCoordinates([a.lonLat.lon,a.lonLat.lat]),r((e=>e.slice(1)))};if(!u)return e();i.rotateFlameMarker((0,ne.iN)({x:o.location.lon,y:o.location.lat},{x:c.location.lon,y:c.location.lat}));const n=Date.now(),d=function(e){if(e.length<2)throw new Error("Недостаточно точек для рассчета продолжительности анимации");let t=e[1].markers[0].state.updateTime-e[0].markers[0].state.updateTime;if(t>25e3||"moving"!==e[0].markers[0].state.movement.status)return 1e3;const i=e.length-1;return t/=Math.pow(i+3,.4)-.84,t}(s),l=()=>{const i=(Date.now()-n)/d;if(i>=1)return e();t.setCoordinates([o.location.lon+(c.location.lon-o.location.lon)*i,o.location.lat+(c.location.lat-o.location.lat)*i]),p=requestAnimationFrame(l)};let p=requestAnimationFrame(l);return()=>{cancelAnimationFrame(p)}}),[o,c,t,i]),function({isMoving:e,markerElements:t}){(0,ae.e)((i=>{if(!e||!t)return;const s=()=>{t.flame.style.rotate=`${i.getRotation()}deg`};return s(),i.on("rotation",s),()=>{i.off("rotation",s)}}),[e,t])}({isMoving:u,markerElements:i}),{state:o,isMoving:u,isOffline:l,isInsideViewpoint:o.isInsideViewpoint||!!(null==c?void 0:c.isInsideViewpoint),speed:u?void 0!==o.location.speed&&void 0!==(null==c?void 0:c.location.speed)?Math.round((o.location.speed+c.location.speed)/2):o.location.speed:void 0}}const ce=e=>{var t;const i=(0,$.U)(),s=(null===(t=(0,g.d4)(V.ug).data)||void 0===t?void 0:t.public_user_id)||i.friendsDebugUserId,r=s===e,n=(0,g.d4)(V.x3)||!!i.friendsDebugToken,a=(0,g.d4)(V.sX)&&!i.friendsDebugToken||n&&!r,{profile:o,state:c}=D(e,{enabled:a}),{profile:l,state:u}=D(s,{enabled:n}),{profile:p,state:m}=r?{profile:l,state:u}:{profile:o,state:c},h=!!p.isSuccess&&ie(p.data.public_user.relation);return(0,d.useMemo)((()=>({profile:p,state:m,selfState:u,selfProfile:l,isMyProfile:r,isMyFriendProfile:h})),[p,m,u,l,r,h])};var de=i(24872);const le=e=>{const t=(0,g.wA)(),i=(0,d.useRef)(!1),s=(0,g.d4)((e=>e.appContext.friendsOnMap.sharedRoute));(0,d.useEffect)((()=>{!e||i.current||s||(t((0,de.xZ)({lon:e.location.lon,lat:e.location.lat,animate:!0})),i.current=!0)}),[e,t,s])};var ue=i(46287),pe=i(69405);const me=({state:e,selfState:t,isMyProfile:i,isMyFriendProfile:s})=>{var r,n,a,o,c,u,p;const m=(0,l.c)(),{rtl:h}=(0,$.U)(),f=(0,g.wA)(),v=(0,g.d4)((e=>e.appContext.friendsOnMap.sharedRoute)),b=(null==v?void 0:v.sharerId)===(null==e?void 0:e.id),y=b&&(null===(r=null==v?void 0:v.pointB)||void 0===r?void 0:r.title),x="work"===(null===(a=null===(n=null==e?void 0:e.locationPlace)||void 0===n?void 0:n.status)||void 0===a?void 0:a.id)||"home"===(null===(c=null===(o=null==e?void 0:e.locationPlace)||void 0===o?void 0:o.status)||void 0===c?void 0:c.id)||null===(p=null===(u=null==e?void 0:e.locationPlace)||void 0===u?void 0:u.object)||void 0===p?void 0:p.id,j=(0,g.d4)((e=>x?(0,ue.Tq)({state:e,entityId:x}):void 0));(0,d.useEffect)((()=>{x&&!i&&f((0,pe.J)({id:x,searchId:void 0}))}),[f,x,i]);const w=y||((null==j?void 0:j.data)&&"name"in j.data?j.data.name:void 0),I=i||null==t?void 0:t.location;return(0,d.useMemo)((()=>{if(e&&(i||s))return te({state:e,entityName:w,eta:b?null==v?void 0:v.eta:void 0,selfUserLocation:I,tp:m,rtl:h})}),[e,i,s,w,null==v?void 0:v.eta,I,b,m,h])},ge={clusteringRadius:.1,maxZoomForClustering:17,minZoomForBigMarkers:11.5,markerSize:48,safeZoneX:12,safeZoneY:20};function he({state:e,isOffline:t,isMoving:i}){const[s,r]=(0,d.useState)();return(0,d.useEffect)((()=>{r(fe({state:e,isOffline:t,isMoving:i}));const s=setInterval((()=>{r(fe({state:e,isOffline:t,isMoving:i}))}),6e4);return()=>{clearInterval(s)}}),[e,t,i]),s}function fe({isOffline:e,isMoving:t,state:i}){const s=(()=>{if(!t)return e?Date.now()-i.lastSeen:i.movement.stoppedAt?Date.now()-i.movement.stoppedAt:void 0})();return s?Y(s):void 0}function ve(e){var t,i,s,r,n,a,o,c;let d;if(1===e.markers.length){const n=e.markers[0];d=(null===(i=null===(t=n.state.locationPlace)||void 0===t?void 0:t.transportStatus)||void 0===i?void 0:i.iconUrlTpl)||(null===(r=null===(s=n.state.locationPlace)||void 0===s?void 0:s.status)||void 0===r?void 0:r.iconUrlTpl)}else d=null===(c=null===(o=null===(a=null===(n=e.markers.find((e=>{var t,i;return null===(i=null===(t=e.state.locationPlace)||void 0===t?void 0:t.status)||void 0===i?void 0:i.iconUrlTpl})))||void 0===n?void 0:n.state)||void 0===a?void 0:a.locationPlace)||void 0===o?void 0:o.status)||void 0===c?void 0:c.iconUrlTpl;return null==d?void 0:d.replace("w={width}&h={height}","h=32")}const be=e=>{var t,i;const s=(0,$.U)(),r=((e,{enabled:t}={enabled:!0})=>{var i;const s=(0,$.U)(),r=(null===(i=(0,g.d4)(V.ug).data)||void 0===i?void 0:i.access_token)||s.friendsDebugToken,n=(0,g.d4)(V.Us);return U({id:e,accessToken:r},{enabled:!n&&!!r&&!s.featurePublicProfile&&t})})(e,{enabled:!(((null===(t=(0,g.d4)(V.ug).data)||void 0===t?void 0:t.public_user_id)||s.friendsDebugUserId)===e)});if(r.isSuccess)return"confirmed"===(null===(i=r.data.request)||void 0===i?void 0:i.status)};var ye=i(12017);const xe=(0,ye.n5)("updatePublicProfileCache",((e,t)=>B({id:e},(i=>(null==i?void 0:i.data)?A({id:e},t(i.data)):(0,ye.lQ)()))));var je=i(87017),we=i(37573);const Ie=()=>{const{credentialsApi:e,publicProfileApi:t}=(0,we.A)(),i=(0,g.wA)();return(0,je.useMutation)((i=>(0,S.sH)(void 0,void 0,void 0,(function*(){const s=yield e.getToken();if(s)return yield t.updatePrivacy(Object.assign({accessToken:s},i))}))),{onSuccess:(e,t)=>{i(xe(t.publicUserId,(e=>Object.assign(Object.assign({},e),{public_user:Object.assign(Object.assign({},e.public_user),{privacy:t.privacy})}))))}})},Ce=({user:e})=>({authUser:e.user_id,publicProfileId:e.public_user_id,isPrivate:"CLOSE"===e.privacy,isDeleted:e.is_deleted,hasPhoto:!!e.avatar}),_e=({user:e,isFriend:t})=>({frameId:i})=>{const s=Ce({user:e});return{uiElement:{name:t?"friendCardFull":"profileCardFull",ownerName:"profileCardFrame",frameUuid:i},payload:{profileItem:s}}},ke=({user:e,status:t})=>({frameId:i},{appContext:s})=>{var r,n,a,o,c;const{sharedRoute:d,states:l,profiles:u}=s.friendsOnMap,p=u[e.public_user_id],m=l[e.public_user_id],g=null===(n=null===(r=l[e.public_user_id])||void 0===r?void 0:r.locationPlace)||void 0===n?void 0:n.transportStatus,h=null===(a=null==p?void 0:p.sharing)||void 0===a?void 0:a.isFriend,f=Ce({user:e}),v=(e=>{switch(e){case"car":return 1;case"freeRoam":return 2;case"pedestrian":return 3;case"truck":return 4;case"taxi":return 5;case"bicycle":return 6;case"scooter":return 7;default:return}})(null===(c=null===(o=null==m?void 0:m.locationPlace)||void 0===o?void 0:o.transportStatus)||void 0===c?void 0:c.id),b=null==t?void 0:t.place.statusId,y=null==d?void 0:d.eta;if(b)return{uiElement:{name:"locationStatusMessage",ownerName:h?"friendCardFull":"geoSharingCardScreen",frameUuid:i},payload:Object.assign({messageInfo:b?{type:"friendsLocationPlace",value:g?"moving":b}:void 0,profileItem:f},d?{navigationConfig:{timeLeft:y,routeType:v}}:{})}},Oe=({profile:e,state:t})=>(i,{appContext:s})=>{var r,n;const a=null===(n=null===(r=t.locationPlace)||void 0===r?void 0:r.status)||void 0===n?void 0:n.id;return{uiElement:{name:"friendMarker",ownerName:"map",frameUuid:s.staticFrames.map.id},payload:{mapMarker:{itemsCount:1,mapLayer:"friendsLayer"},profileItem:{publicProfileId:e.id,hasPhoto:Boolean(e.logo)},messageInfo:a?{type:"friendsLocationPlace",value:a}:void 0},action:"tap"}},Se=({profile:e})=>(t,{appContext:i})=>e.session&&{uiElement:{name:"geoSharingMarker",ownerName:"map",frameUuid:i.staticFrames.map.id},payload:{profileItem:{publicProfileId:e.id,hasPhoto:Boolean(e.logo)},geoSharing:{sessionId:e.session.sessionId,expirationTime:e.session.expiresAt?Math.round((e.session.expiresAt-e.session.serverTime)/1e3):void 0}},action:"tap"},Te=({clusterSize:e})=>(t,i)=>({uiElement:{name:"friendClusterMarker",ownerName:"map",frameUuid:i.appContext.staticFrames.map.id},payload:{mapMarker:{itemsCount:e,mapLayer:"friendsLayer"}},action:"tap"}),Ee=({publicProfileId:e,hasPhoto:t,placeId:i})=>(s,r)=>({uiElement:{name:"tooltip",ownerName:"friendMarker",frameUuid:r.appContext.staticFrames.map.id},payload:{profileItem:{publicProfileId:e,hasPhoto:t},messageInfo:i?{type:"friendsLocationPlace",value:i}:void 0}}),Me=({profile:e})=>({frameId:t},i,s)=>{if(e&&s)return{uiElement:{name:"changeProfilePrivacy",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap",payload:{profileItem:Ce({user:Object.assign(Object.assign({},e),{privacy:s.newPrivacy})})}}};var Ne=i(9420),Le=i(80905),Pe=i(45863),Re=i(34438);const Ae=(e,t,i)=>{var s;const r=(0,Le.w1)(t.appContext.frames,i),n=r&&"entityId"in r&&r.entityId?(0,ue.DE)({entityId:r.entityId,state:t}).data:void 0;if("videoCardFull"===e.ownerName||"photoCardFull"===e.ownerName){const a=r?null===(s=(0,Ne.$x)({state:t,frameId:r.id}))||void 0===s?void 0:s.id:void 0,o=(0,Pe.p)({media:e.photo,orgId:"branch"===(null==n?void 0:n.type)?n.org.id:void 0,entityId:null==n?void 0:n.id,entityType:null==n?void 0:n.type,isVideo:"videoCardFull"===e.ownerName,tag:a});return{uiElement:{ownerName:e.ownerName,frameUuid:i,name:"userProfileHeader"},payload:Object.assign(Object.assign(Object.assign({},"photoCardFull"===e.ownerName?{photo:o}:{}),"videoCardFull"===e.ownerName?{video:o}:{}),{profileItem:{authUser:e.authUser,inSubscriptions:e.inSubscriptions}})}}const a="branch"===(null==n?void 0:n.type)?n.org.id:void 0,o=(0,Re.o)({review:e.review,orgId:a});return{uiElement:{ownerName:e.ownerName,frameUuid:i,name:"userProfileHeader"},payload:{reviewItem:o,profileItem:{authUser:e.authUser,inSubscriptions:e.inSubscriptions}}}},Be=e=>({frameId:t},i)=>Ae(e,i,t),ze=e=>({frameId:t},i)=>{const s=Ae(e,i,t);return Object.assign({action:"tap"},s)};var Fe=i(60545);const He={views:{profileFrame:(0,Fe.RT)({name:"profileCardFrame"}),profile:(0,Fe.m3)({uiElement:{name:"friendCardFull",ownerName:"profileCardFrame"}}),profileStatus:(0,Fe.m3)({uiElement:{name:"locationStatusMessage",ownerName:"friendCardFull"}}),profileVisitedPlaces:(0,Fe.m3)({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds"}})},actions:{profileVisitedPlaces:(0,Fe.gD)({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds"}})}},Ue=({user:e,status:t})=>{const{css:i,s}=(0,h.I)(De),{place:r,distance:n,eta:a}=t,{bssRef:o}=(0,L.E)(ke({user:e,status:t}));return(0,c.jsxs)("div",Object.assign({className:i(s.status),ref:o},{children:[r.icon&&(0,c.jsx)("div",{children:(0,c.jsx)(M.E,{width:24,height:24,src:r.icon})}),(0,c.jsxs)("div",Object.assign({className:i(s.textPart)},{children:[r.text&&(0,c.jsx)("div",Object.assign({className:i(s.statusText,!!r.icon&&s._withIcon)},{children:(0,c.jsx)("div",Object.assign({className:i(s.text)},{children:r.text}))})),!!r.time&&(0,c.jsx)("div",Object.assign({className:i(s.time)},{children:r.time&&(0,c.jsx)("span",Object.assign({className:i(s.time)},{children:r.time}))}))]})),!(!a&&!n)&&(0,c.jsx)("div",Object.assign({className:i(s.distance)},{children:a?(0,c.jsx)("span",Object.assign({className:i(s.eta,r.icon&&s.pulse)},{children:a})):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(N,{}),(0,c.jsx)("span",{children:n})]})}))]}))},De=(0,h.r)({status:Object.assign({display:"flex",gap:8},f.regular),textPart:{alignSelf:"stretch",display:"flex",flexDirection:"column",gap:4,flexGrow:1},statusText:{display:"flex",alignItems:"center"},_withIcon:{minHeight:24},text:Object.assign(Object.assign({},(0,f.lineClamped)(3,f.regularMedium)),{color:v.T.black}),time:Object.assign(Object.assign({display:"flex",justifyContent:"space-between"},f.regularMedium),{color:v.T.gray_929292}),distance:Object.assign(Object.assign({height:24,display:"flex",alignItems:"center",wordWrap:"nowrap",gap:8},f.regularMedium),{color:v.T.gray_929292}),eta:{whiteSpace:"nowrap"},pulse:{position:"relative",color:"#30AD00","::after":{content:'""',position:"absolute",left:-10,top:"50%",transform:"translateY(-50%)",height:4,width:4,background:"#30AD00",borderRadius:"50%",animationName:{"0%":{boxShadow:"0 0 0 0px rgba(48, 173, 0, 0.6)"},"100%":{boxShadow:"0 0 0 4px rgba(48, 173, 0, 0)"}},animationTimingFunction:"linear",animationDuration:"1200ms",animationIterationCount:"infinite"}}}),Ve=({user:e,status:t,isMyProfile:i,isAuthorized:s,isMyFriendProfile:r})=>{const{css:n,s:a}=(0,h.I)($e),{featurePublicProfile:o}=(0,$.U)(),d=(0,g.wA)(),{isMobileDevice:u}=(0,$.U)(),p=(0,b.D)((()=>{d((0,y.oC)())})),{_t:m}=(0,l.c)(),f=(null==t?void 0:t.distance)||(null==t?void 0:t.place),v=K(e,u),{bssRef:j}=(0,L.E)(_e({user:e,isFriend:r}));return(0,c.jsxs)("div",Object.assign({ref:j,style:{height:o?"unset":"100%"},className:n(a.profile)},{children:[(0,c.jsx)(_,{size:u?"average":"large",url:v,name:e.name}),(0,c.jsx)(T,{isMyProfile:i,name:e.name,subtitle:r||i?null==t?void 0:t.lastSeenText:null==t?void 0:t.countersText}),f&&(0,c.jsx)(Ue,{user:e,status:t}),!1===r&&!i&&s&&!o&&(0,c.jsx)("span",Object.assign({className:n(a.text)},{children:m("Добавьте пользователя в друзья в приложении 2ГИС на телефоне, чтобы видеть его местоположение на карте")})),!s&&!o&&(0,c.jsxs)("div",Object.assign({className:n(a.auth)},{children:[(0,c.jsx)("span",Object.assign({className:n(a.text)},{children:m("Авторизуйтесь, чтобы видеть местоположение друга на карте")})),(0,c.jsx)(x.$,Object.assign({wide:!0,appearance:"primary",onClick:p},{children:m("Авторизоваться")}))]}))]}))},$e=(0,h.r)((({mobile:e})=>({profile:{display:"flex",flexDirection:e?"row":"column",gap:16},text:Object.assign(Object.assign({},f.regular),{color:v.T.gray_929292}),auth:{display:"flex",flexDirection:"column",gap:16}})));var We=i(32443);const qe=()=>{const{css:e,s:t}=(0,h.I)(Ze),i=(0,l.c)();return(0,c.jsxs)("div",Object.assign({className:e(t.wrapper)},{children:[(0,c.jsx)(We.C,{color:v.T.gray_929292}),(0,c.jsx)("span",Object.assign({className:e(t.text)},{children:i._t("Пользователь не найден")}))]}))},Ze=(0,h.r)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",gap:32},text:Object.assign(Object.assign({},f.leadMedium),{color:v.T.gray_929292})});var Qe=i(98626),Ge=i(55027),Ke=i(69158);const Ye="friends_promo_qr_code",Xe=({userId:e,userName:t})=>{(0,Ge.i$)({elementId:Ye,type:"userProfilePromo",deepLink:`https://2gis.ru/user/${e}`});const{_t:i}=(0,l.c)(),{css:s,s:r}=(0,h.I)(Je);return(0,c.jsxs)("div",Object.assign({className:s(r.wrapper)},{children:[(0,c.jsx)("div",{className:s(r.bgImage)}),(0,c.jsxs)("div",Object.assign({className:s(r.textBlock)},{children:[(0,c.jsx)("div",Object.assign({className:s(r.text)},{children:i("Смотрите в&nbsp;приложении, с кем дружит %1, и&nbsp;добавляйте их в друзья!",[t])})),(0,c.jsx)("div",Object.assign({className:s(r.adInfoLink)},{children:(0,c.jsx)(Qe.Q,{rating:0,gray:!0,source:"banner",erid:["2Ranyn8qroa"],legalName:'ООО "ДубльГИС"'})}))]})),(0,c.jsx)("div",Object.assign({className:s(r.qrBlock)},{children:(0,c.jsx)("div",{className:s(r.qrCode),id:Ye})}))]}))},Je=(0,h.r)((({rtl:e})=>({wrapper:{padding:16,backgroundColor:v.T.gray_f2f2f2,display:"flex",flexDirection:"row",gap:10,position:"relative",alignItems:"flex-start"},bgImage:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:'url("/public/friendsOnMap/bannerHeart.png")',backgroundSize:"112px 128px",backgroundRepeat:"no-repeat",backgroundPosition:"top right",transform:e?"scaleX(-1)":"none"},textBlock:{display:"flex",flexDirection:"column",gap:16,justifyContent:"space-between",zIndex:1},text:Object.assign({color:v.T.black},f.regularMedium),adInfoLink:Object.assign({},f.tiny),qrBlock:{background:v.T.white,padding:8,borderRadius:"8px",boxShadow:`0px 1px 2px 0px ${(0,Ke.m)(v.T.black,.06)}`,zIndex:1},qrCode:{display:"flex",justifyContent:"center",alignItems:"center",width:80,height:80,"& canvas":{width:"100%",height:"100%"}}})));var et=i(64099);const tt=()=>{const{isMobileDevice:e,featurePublicProfile:t}=(0,$.U)(),{css:i,s}=(0,h.I)(it);return e?(0,c.jsxs)("div",Object.assign({className:i(s.mobile)},{children:[(0,c.jsx)("div",Object.assign({className:i(s.raw)},{children:(0,c.jsxs)("div",Object.assign({className:i(s.block)},{children:[(0,c.jsx)(k,{size:"average"}),(0,c.jsxs)("div",Object.assign({className:i(s.column)},{children:[(0,c.jsx)("div",{className:i(s.mobileName)}),(0,c.jsx)("div",{className:i(s.timer)})]}))]}))})),(0,c.jsx)("div",{className:i(s.button)})]})):(0,c.jsxs)("div",Object.assign({style:{height:t?"unset":"100%"},className:i(s.desktop)},{children:[(0,c.jsx)(k,{size:"large"}),(0,c.jsx)("div",{className:i(s.name)}),(0,c.jsx)("div",{className:i(s.status)})]}))},it=(0,h.r)({desktop:{display:"flex",flexDirection:"column",paddingTop:24,paddingEnd:24,paddingBottom:0,paddingStart:24},mobile:{display:"flex",flexDirection:"column",padding:16,gap:16,backgroundColor:v.T.white},name:{display:"flex",flexDirection:"column",marginTop:16,marginEnd:0,marginBottom:10,marginStart:0,gap:4,width:172,height:16,background:v.T.gray_f2f2f2,borderRadius:et.Vq.default},status:{width:129,height:12,borderRadius:et.Vq.default,background:v.T.gray_f2f2f2},raw:{display:"flex",alignItems:"center",justifyContent:"space-between"},block:{display:"flex",alignItems:"center",gap:12},column:{display:"flex",flexDirection:"column",justifyContent:"center",gap:4},button:{width:"100%",height:40,borderRadius:et.Vq.default,background:v.T.gray_f2f2f2},mobileName:{width:172,height:20,background:v.T.gray_f2f2f2,borderRadius:et.Vq.default},timer:{width:172,height:16,background:v.T.gray_f2f2f2,borderRadius:et.Vq.default}});var st=i(46501);const rt=({user:e,avatarUrl:t,isMyFriendProfile:i,isMyProfile:s,status:r,broadcastTime:n,onClose:a,bssShowFunction:o,onAddFriend:d})=>{const u=(0,l.c)(),{css:m,s:f}=(0,h.I)(nt),{bssRef:v}=(0,L.E)(o&&o()),{brandName:b}=(0,$.U)(),y=(0,g.d4)(V.x3),j=(null==r?void 0:r.distance)||(null==r?void 0:r.place);return(0,c.jsxs)("div",Object.assign({className:m(f.profile),ref:v},{children:[(0,c.jsxs)("div",Object.assign({className:m(f.raw)},{children:[(0,c.jsxs)("div",Object.assign({className:m(f.block)},{children:[(0,c.jsx)(_,{url:t,name:e.name,size:"average"}),(0,c.jsxs)("div",Object.assign({className:m(f.column)},{children:[(0,c.jsx)(T,{isMyProfile:s,name:e.name,subtitle:i||s?null==r?void 0:r.lastSeenText:void 0}),!!n&&(0,c.jsx)("span",Object.assign({className:m(f.text)},{children:(0,c.jsx)(p,{time:n})}))]}))]})),(0,c.jsx)("button",Object.assign({type:"button",onClick:a,className:m(f.closeButton)},{children:(0,c.jsx)(st.b,{})}))]})),j&&(0,c.jsx)(Ue,{user:e,status:r}),(0,c.jsx)(x.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:`https://2gis.ru/user/${e.public_user_id}`,onClick:d,dataN:"wat-add-to-friends-button"},{children:y?u._t("Скачать %1",[b]):u._t("Добавить в друзья")}))]}))},nt=(0,h.r)({profile:{display:"flex",flexDirection:"column",padding:16,gap:16},text:Object.assign(Object.assign({},f.regular),{color:v.T.gray_929292}),raw:{display:"flex",alignItems:"center",justifyContent:"space-between"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:8,backgroundColor:"#F2F2F2"},block:{display:"flex",gap:12},column:{display:"flex",flexDirection:"column",justifyContent:"center"}}),at=({avatarUrl:e,user:t,isMyProfile:i,isMyFriendProfile:s,broadcastTime:r,status:n,bssShowFunction:a,onAddFriend:o})=>{const d=(0,l.c)(),{css:u,s:p}=(0,h.I)(ot),{bssRef:m}=(0,L.E)(a&&a()),g=(null==n?void 0:n.distance)||(null==n?void 0:n.place);return(0,c.jsxs)("div",Object.assign({className:u(p.desktop),ref:m},{children:[(0,c.jsx)(_,{url:e,name:t.name}),(0,c.jsx)(T,{isMyProfile:i,name:t.name,subtitle:s||i?null==n?void 0:n.lastSeenText:void 0,broadcastTime:r}),g&&(0,c.jsx)(Ue,{user:t,status:n}),(0,c.jsx)(x.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:`https://friends.2gis.ru?user_id=${t.public_user_id}`,onClick:o,dataN:"wat-add-to-friends-button"},{children:d._t("Добавить в друзья")}))]}))},ot=(0,h.r)({desktop:{display:"flex",flexDirection:"column",height:"100%",gap:16},text:Object.assign(Object.assign({},f.regular),{color:v.T.gray_929292})}),ct=e=>{const{isMobileDevice:t}=(0,$.U)();return t?(0,c.jsx)(rt,Object.assign({},e)):(0,c.jsx)(at,Object.assign({},e))};var dt=i(40931),lt=i(8335);const ut=()=>{const{css:e,s:t}=(0,h.I)(pt);return(0,c.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,c.jsx)("div",Object.assign({className:e(t.flame)},{children:(0,c.jsx)("div",Object.assign({className:e(t.flameMarkerRotation)},{children:(0,c.jsx)("div",{className:e(t.flameAnimation)})}))})),(0,c.jsx)("div",{className:e(t.avatar)}),(0,c.jsx)("div",{className:e(t.informer)}),(0,c.jsx)("div",{className:e(t.cluster)}),(0,c.jsx)("div",{className:e(t.battery)})]}))},pt=(0,h.r)({root:{position:"relative",width:ge.markerSize,height:ge.markerSize,fontFamily:"SBSansText, Helvetica, Arial, sans-serif",fontWeight:f.fontWeight.medium},flame:{position:"absolute",inset:0},flameMarkerRotation:{position:"absolute",inset:0,transition:"rotate 666ms ease"},flameAnimation:{marginTop:2,marginRight:2},avatar:{position:"absolute",inset:0,"& > svg path":{cursor:"pointer",pointerEvents:"auto"}},informer:{position:"absolute",inset:0,transition:"transform 66ms ease",display:"flex",justifyContent:"center","& > *":{cursor:"pointer",pointerEvents:"auto"}},cluster:{position:"absolute",inset:0,"& > *":{cursor:"pointer",pointerEvents:"auto"}},battery:{position:"absolute",inset:0,transition:"transform 66ms ease","& > *":{cursor:"pointer",pointerEvents:"auto"}}});var mt=i(95e3);var gt=i(77356),ht=i.n(gt);function ft({container:e,isEnabled:t,name:i,loop:s=!0,autoplay:r=!0,transformData:n}){const{data:a}=vt({name:i},{enabled:t}),o=(0,d.useMemo)((()=>n&&a?n(a):a),[a,n]),[c,l]=(0,d.useState)();return(0,d.useEffect)((()=>{if(!t||!e||!o)return;const i=ht().loadAnimation({container:e,renderer:"svg",loop:s,autoplay:r,animationData:o,rendererSettings:{hideOnTransparent:!1}});return i.addEventListener("DOMLoaded",(()=>{l(i)})),()=>{i.destroy(),l(void 0)}}),[t,e,o,s]),(0,d.useEffect)((()=>{c&&(r?c.play():c.stop())}),[c,r]),{isLoaded:!!c}}const{use:vt}=(0,P.VZ)("fetchAnimationData",(e=>({config:t})=>{const i=`${t.staticPath}animations/${e.name}.json`;return fetch(i).then((e=>e.json()))}),{staleTime:1/0,cacheTime:1/0,notifyOnChangeProps:["data"]});var bt=i(46561);function yt({initials:e,id:t}){return(0,c.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},{children:[(0,c.jsx)("rect",{x:"0",y:"0",width:"48",height:"48",rx:"24",fill:"#B8B8B8"}),(0,c.jsx)("path",{d:"M6 6H42V42H6V6Z",fill:`url(#pattern${t})`}),(0,c.jsx)("defs",{children:(0,c.jsx)("pattern",Object.assign({id:"pattern"+t,patternContentUnits:"objectBoundingBox",width:"1",height:"1"},{children:(0,c.jsx)("use",{xlinkHref:"#text"+t})}))}),(0,c.jsx)("text",Object.assign({id:"text"+t,x:"24",y:"25",dominantBaseline:"middle",textAnchor:"middle",fontSize:"16",fontFamily:"SBSansText, Helvetica, Arial, sans-serif",fill:"#FFFFFF"},{children:e}))]}))}var xt=i(53157),jt=i(88516);const wt=It("...");function It(e){return`data:image/svg+xml;base64,${(0,xt.WG)((0,dt.qV)((0,c.jsx)(yt,{initials:e,id:"friendWithInitials"})))}`}const Ct=({markerElements:e,logos:t,isCluster:i,isSelected:s,isMyProfile:r,isSmall:n,isOffline:a,isInsideViewpoint:o})=>{const c=null==e?void 0:e.avatar,l=(0,d.useCallback)((e=>e?kt({clusterSize:t.length,data:e}):void 0),[t.length]),{isLoaded:u}=ft({isEnabled:!s,container:c,name:i?"friends/cluster_5f":"friends/avatar"+(r?"_user":""),autoplay:!n&&!a&&o,transformData:i?l:void 0}),{isLoaded:p}=ft({isEnabled:s,container:c,name:`friends/avatar_${r?"user_":""}selected`,loop:!1}),m=p||u,[g,h]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{m&&h(!0)}),[m]),function({container:e,logos:t,isLoadedSelected:i,isLoadedUnselected:s}){(0,d.useEffect)((()=>{(i||s)&&e&&t.length&&e.querySelectorAll("svg g > image").forEach(((e,i)=>{const s=i===t.length?0:i,r=t[s],n=t=>{e.setAttribute("href",t)};r.url?(0,jt._)({src:r.url,onLoad:()=>{n(r.url)},onError:()=>{n(It(r.initials))},onLoading:()=>{n(wt)}}):n(It(r.initials))}))}),[i,s,e,t])}({container:c,logos:t,isLoadedSelected:p,isLoadedUnselected:u}),{wasLoaded:g}},_t=new Map,kt=({clusterSize:e,data:t})=>{let i=_t.get(e);return i||(i=Object.assign(Object.assign({},t),{nm:`M_Claster_Photo_${e}`,op:1+50*e,assets:t.assets.reduce(((t,i)=>("image_0"===i.id?(0,bt.H)(e,(e=>{t.push(Object.assign(Object.assign({},i),{id:`image_${e}`}))})):i.id.startsWith("image_")||t.push(i),t)),[]),layers:t.layers.reduce(((t,i)=>{var s;const r=s=>{t.push(Object.assign(Object.assign(Object.assign({},i),{ind:t.length+1,op:1+50*e}),s))};return"image_0"===i.refId?"Photo"===i.nm?r({op:26}):(0,bt.H)(e,(t=>{const s=50*(e-t-1);r({refId:`image_${t}`,nm:`Photo ${t+1}`,ks:Object.assign(Object.assign({},i.ks),{p:Object.assign(Object.assign({},i.ks.p),{k:Ot(i.ks.p.k,s)})}),masksProperties:i.masksProperties.map((e=>Object.assign(Object.assign({},e),{pt:Object.assign(Object.assign({},e.pt),{k:Ot(e.pt.k,s)})}))),ip:16+s,op:0===t?1+50*e:76+s,st:s})})):"Null 17"===i.nm?r({ks:Object.assign(Object.assign({},i.ks),{s:Object.assign(Object.assign({},i.ks.s),{k:[...(0,bt.H)(e,(e=>[Object.assign(Object.assign({},i.ks.s.k[0]),{t:50*e}),Object.assign(Object.assign({},i.ks.s.k[1]),{t:50*e+25})])).flat(),{t:50*e,s:i.ks.s.k[e%2].s}]})})}):"Ellipse 727"===i.nm?r({ks:Object.assign(Object.assign({},i.ks),{s:Object.assign(Object.assign({},i.ks.s),{k:(0,bt.H)(e,(t=>[Object.assign(Object.assign({},i.ks.s.k[0]),{t:50*t}),Object.assign(Object.assign({},i.ks.s.k[1]),{t:50*t+18.974}),Object.assign({},t===e-1?{t:50*t+38,s:i.ks.s.k[2].s}:Object.assign(Object.assign({},i.ks.s.k[2]),{t:50*t+38}))])).flat()})})}):(null===(s=i.refId)||void 0===s?void 0:s.startsWith("image_"))||r(),t}),[])}),i=JSON.parse(JSON.stringify(i)),_t.set(e,i)),i};function Ot(e,t){return[Object.assign(Object.assign({},e[0]),{t:16+t}),Object.assign(Object.assign({},e[1]),{t:25+t}),...e.slice(2)]}var St=i(83467);const Tt=({informer:e,statusIcon:t})=>{const{css:i,s}=(0,h.I)(Et),{lang:r}=(0,$.U)(),{firstRowText:n,secondRowText:a,isOffline:o}=e,d=!o&&!!t,l=o||d;return(0,c.jsx)("div",Object.assign({className:i(s.root,l&&s.withStatusIcon)},{children:(0,c.jsxs)("div",Object.assign({className:i(s.informer,!o&&s.online,o&&s.offline)},{children:[l&&(0,c.jsxs)("div",Object.assign({className:i(s.imgContainer)},{children:[o&&(0,c.jsx)(St.vX,{}),d&&(0,c.jsx)("img",{src:t,height:"100%",alt:"ru"===r?"Иконка статуса":""})]})),(0,c.jsxs)("div",Object.assign({className:i(s.text)},{children:[(0,c.jsx)("div",Object.assign({className:i(!o&&s.bigText)},{children:n})),(0,c.jsx)("div",Object.assign({className:i(!o&&s.opacityText)},{children:a}))]}))]}))}))};Tt.displayName="Informer";const Et=(0,h.r)({root:{position:"absolute",bottom:32,start:36},withStatusIcon:{bottom:40,start:"auto",display:"flex",justifyContent:"center"},informer:{flexGrow:2,flexWrap:"nowrap",display:"flex",justifyContent:"center",alignItems:"center",padding:"3px 5px",gap:3,color:v.T.white,border:"none",borderRadius:7},imgContainer:{height:16,minWidth:10,display:"flex",alignItems:"center"},text:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",color:v.T.white,whiteSpace:"nowrap",lineHeight:"9px",letterSpacing:"-1.6%",fontSize:8},online:{backgroundColor:"#5A5A5A"},offline:{backgroundColor:"#898989"},bigText:{padding:"1px 0",fontSize:11},opacityText:{opacity:.5}}),Mt=({batteryLevel:e,isDark:t=!1,isPlugged:i=!1})=>{const{css:s,s:r}=(0,h.I)(Nt);return!e||e>100||e<0?null:(0,c.jsx)("div",Object.assign({className:s(r.root)},{children:(0,c.jsxs)("div",Object.assign({className:s(r.container,t&&r.isDark)},{children:[(0,c.jsx)(Lt,{batteryLevel:e,isDark:t,isPlugged:i}),(0,c.jsx)("span",Object.assign({className:s(r.text)},{children:`${e}%`}))]}))}))};Mt.displayName="Battery";const Nt=(0,h.r)({root:{position:"absolute",top:47,width:"100%",display:"flex",justifyContent:"center"},container:{padding:"2px 3px",gap:2,borderRadius:5,border:"none",display:"flex",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center",backgroundColor:v.T.white,boxShadow:"0 1px 4px 0 rgba(0, 89, 214, 0.16), 0 0 0 0.5px rgba(1, 104, 249, 0.08)"},text:{fontSize:8,lineHeight:"9px",letterSpacing:"-1.6%",color:v.T.gray_141414},isDark:{backgroundColor:v.T.gray_141414,color:v.T.white}}),Lt=({isPlugged:e,batteryLevel:t,isDark:i})=>{const s=i?v.T.white:void 0;return e?(0,c.jsx)(St.$3,{}):t>99?(0,c.jsx)(St.qK,{color:s}):t<21?(0,c.jsx)(St.Z1,{color:s}):(0,c.jsx)(St.It,{color:s})},Pt=({size:e,isSmall:t,statusIcon:i})=>{const{lang:s}=(0,$.U)(),{css:r,s:n}=(0,h.I)(Rt);return(0,c.jsxs)("div",Object.assign({className:r(n.cluster,t&&n.smallCluster)},{children:[i&&!t&&(0,c.jsx)("img",{className:r(n.img),src:i,alt:"ru"===s?"Иконка статуса":void 0}),(0,c.jsx)("p",Object.assign({className:r(n.text,t&&n.smallText)},{children:e}))]}))};Pt.displayName="ClusterInfo";const Rt=(0,h.r)({cluster:{position:"absolute",top:27,start:36,display:"flex",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",gap:2,border:"none",color:v.T.white,minWidth:24,height:24,borderRadius:24,backgroundColor:"#5A5A5A",boxSizing:"border-box",padding:"0 4px"},text:{alignItems:"center",justifyContent:"center",fontSize:13,lineHeight:"16px",letterSpacing:"-3%"},smallCluster:{top:22,start:28,minWidth:16,height:16,borderRadius:10,boxSizing:"border-box",padding:"0 3px"},smallText:{fontSize:8,lineHeight:"10px",letterSpacing:"-1.6%"},img:{height:16}});var At=i(66698);const Bt=(e,t)=>{e.style.transform=t},zt=e=>{const{markerElements:t,isCluster:i,clusterSize:s,batteryLevel:r,statusIcon:n,logos:a,informer:o,isSmall:l,isSelected:u,isOffline:p,isMoving:m,isInsideViewpoint:g,isMyProfile:h}=e,{wasLoaded:f}=Ct({markerElements:t,logos:a,isCluster:i,isSmall:l,isSelected:u,isOffline:p,isMoving:m,isInsideViewpoint:g,isMyProfile:h});(({markerElements:e,isSelected:t,isMoving:i,isInsideViewpoint:s,isMyProfile:r,wasAvatarLoaded:n})=>{ft({isEnabled:i&&n&&!r,container:null==e?void 0:e.flameAnimation,name:t?"friends/flame_ini":"friends/flame",autoplay:s})})({markerElements:t,isSelected:u,isMoving:m,isMyProfile:h,isInsideViewpoint:g,wasAvatarLoaded:f}),function({markerElements:e,isSmall:t,isSelected:i,isCluster:s,isStatusIcon:r}){(0,d.useEffect)((()=>{if(!e)return;const{parent:n,flame:a,avatar:o,informer:c,battery:d}=e,l=e=>{n.style.zIndex=`${e}`};if(i)return Bt(a,"scale(0.7)"),Bt(o,`translate(0, -${ge.markerSize/2}px) scale(1.5)`),Bt(c,`translate(0, -${r?34:30}px)`),Bt(d,"translate(0, -20px)"),void l(At.iF.friendsCzar);if(t||s){const e=t?.666:1,i=s?1.25:1;return Bt(a,`scale(${1.1*e})`),Bt(o,`scale(${e*i})`),Bt(c,""),Bt(d,""),void l(t?At.iF.friendsSmall:At.iF.friends)}Bt(a,"scale(1.1)"),Bt(o,""),Bt(c,""),Bt(d,""),l(At.iF.friends)}),[t,i,s,r,e])}({markerElements:t,isSmall:l,isSelected:u,isCluster:i,isStatusIcon:!!n}),(0,d.useEffect)((()=>{t&&f&&(t.informer.innerHTML=o?(0,dt.qV)((0,c.jsx)(Tt,{informer:o,statusIcon:n})):"")}),[o,n,f,t]),(0,d.useEffect)((()=>{t&&f&&!h&&(t.battery.innerHTML=r?(0,dt.qV)((0,c.jsx)(Mt,{batteryLevel:r})):"")}),[r,f,t,h]),(0,d.useEffect)((()=>{t&&f&&(t.cluster.innerHTML=i?(0,dt.qV)((0,c.jsx)(Pt,{size:s,isSmall:l,statusIcon:n})):"")}),[s,l,n,f,t])},Ft=(0,d.memo)((({cluster:e,isSelected:t,onSelect:i,isMyProfile:s,ClusterTooltipView:r,TooltipView:n})=>{const a=(0,g.wA)(),{maxZoomForClustering:o,markerSize:u}=ge,[p,m]=(0,d.useState)(),h=(0,d.useMemo)((()=>p&&se(p.getContent())),[p]),{state:f,isOffline:v,isMoving:y,isInsideViewpoint:x,speed:j}=oe({cluster:e,marker:p,markerElements:h}),{isCluster:I,clusterSize:C,batteryLevel:_,statusIcon:k,logos:O,informer:S,isSmall:T}=function({cluster:e,state:t,speed:i,isOffline:s,isMoving:r,isSelected:n}){const a=(0,l.c)(),o=(0,mt.DP)().rtl?"rtl":"ltr",c=e.markers.length>1,u=e.markers.length,p=e.small&&!n,m=he({state:t,isOffline:s,isMoving:r}),g=!c&&!p,h=(0,d.useMemo)((()=>g?re({isMoving:r,isOffline:s,speed:i,formattedTime:m,dir:o,tp:a}):void 0),[g,r,s,i,m,o,a]),f=(0,d.useMemo)((()=>e.markers.map((e=>e.profile.id.slice(0,5))).join("")),[e]),v=(0,d.useMemo)((()=>e.markers.map((({profile:e})=>{var t;return{url:null===(t=e.logoTpl)||void 0===t?void 0:t.replace("{width}x{height}",`${2*ge.markerSize}x${2*ge.markerSize}`),initials:w(e.name)}}))),[f]),b=c||p||s?void 0:Math.round(100*t.battery.level),y=ve(e);return{id:t.id,clusterSize:u,isCluster:c,batteryLevel:b,statusIcon:y,logos:v,informer:h,isSmall:p,isOwner:!1}}({cluster:e,state:f,speed:j,isOffline:v,isMoving:y,isSelected:t}),{useBssHandler:E}=(0,L.E)(),M=e.markers[0].profile,N=E(Te,{clusterSize:C}),P=E(Oe,{profile:M,state:f}),R=E(Se,{profile:M});zt({markerElements:h,isCluster:I,clusterSize:C,batteryLevel:_,statusIcon:k,logos:O,informer:S,isSmall:T,isSelected:t,isOffline:v,isMoving:y,isInsideViewpoint:x,isMyProfile:s}),(0,ae.e)(((t,{HtmlMarker:i},s)=>{const r=new i(s,{html:(0,dt.qV)((0,c.jsx)(ut,{})),coordinates:[e.lonLat.lon,e.lonLat.lat],anchor:[u/2,u/2],interactive:!1,preventMapInteractions:!1,disableRounding:!0});return m(r),()=>{r.destroy()}}),[]);const A=(0,b.D)((()=>{var e;I?(a((0,lt.m3)({center:null==p?void 0:p.getCoordinates(),zoom:o})),N()):t?i(void 0):M.session&&!(null===(e=M.sharing)||void 0===e?void 0:e.isFriend)?(i(f.id),R()):(i(f.id),P())}));return(0,d.useEffect)((()=>{h&&(h.avatar.addEventListener("click",A),h.informer.addEventListener("click",A),h.cluster.addEventListener("click",A),h.battery.addEventListener("click",A))}),[h]),h?I?(0,c.jsx)(r,{markerElements:h,cluster:e}):(0,c.jsx)(n,{friendId:f.id,markerElements:h,batteryLevel:_,isSmall:T,isSelected:t}):null}));Ft.displayName="UserMarker";const Ht=({place:e,distance:t,bssRef:i})=>{const{css:s,s:r}=(0,h.I)(Ut);return(0,c.jsxs)("div",Object.assign({className:s(r.status),ref:i},{children:[(0,c.jsxs)("div",Object.assign({className:s(r.place)},{children:[e.icon&&(0,c.jsx)("span",Object.assign({className:"icon"},{children:(0,c.jsx)(M.E,{width:12,height:12,src:e.icon})})),e.text&&(0,c.jsx)("span",Object.assign({title:e.text,className:s(r.statusText)},{children:e.text})),e.time&&(0,c.jsx)("span",Object.assign({className:s(r.time)},{children:e.time}))]})),t&&(0,c.jsxs)("div",Object.assign({className:s(r.distance)},{children:[(0,c.jsx)(N,{width:10,height:10}),(0,c.jsx)("span",{children:t})]}))]}))},Ut=(0,h.r)({status:Object.assign({display:"flex",alignItems:"center",alignSelf:"stretch",gap:"16px"},f.regular),statusText:Object.assign({color:v.T.black,wordBreak:"break-all"},(0,f.lineClamped)(1,f.regularMedium)),time:Object.assign(Object.assign({},f.regularMedium),{color:v.T.black,flexShrink:0}),place:{display:"flex",alignItems:"center",gap:4,flex:"1 0 0",color:v.T.gray_262626},distance:{display:"flex",alignItems:"center",gap:4,color:v.T.gray_929292}}),Dt=({users:e,countText:t})=>{const{css:i,s}=(0,h.I)(Vt),{isMobileDevice:r}=(0,$.U)();return 0===e.length?null:(0,c.jsx)("div",Object.assign({className:i(s.wrapper)},{children:(0,c.jsxs)("div",Object.assign({className:i(s.grayWrapper)},{children:[(0,c.jsx)("div",Object.assign({className:i(s.avatarsBackground)},{children:(0,c.jsx)("div",Object.assign({className:i(s.avatars)},{children:e.map(((e,t)=>(0,c.jsx)("div",Object.assign({className:i(s.avatar)},{children:(0,c.jsx)(_,{name:e.name,url:e.avatarUrl?G(e.avatarUrl,r):void 0,size:"tiny"})}),t)))}))})),!!t&&(0,c.jsx)("div",Object.assign({className:i(s.text)},{children:t}))]}))}))},Vt=(0,h.r)({wrapper:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},grayWrapper:{background:v.T.gray_f2f2f2,borderRadius:1e3,height:30,display:"flex",flexDirection:"row",alignItems:"flex-start"},avatarsBackground:{background:"linear-gradient(to right, #1ba136, #26c947)",borderRadius:1e3,padding:2},avatars:{borderRadius:1e3,background:v.T.white,display:"flex",flexDirection:"row",alignItems:"center",paddingStart:2,paddingEnd:12,paddingTop:2,paddingBottom:2},avatar:{borderLeft:`2px solid ${v.T.white}`,borderRadius:"50%",background:v.T.white,width:14,":first-child":{border:"none"}},text:Object.assign(Object.assign({paddingStart:7,paddingEnd:12},f.regularMedium),{lineHeight:"30px",color:v.T.black,textAlign:"center",whiteSpace:"nowrap"})})},87310:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Types:()=>r,bss:()=>s,useDeloPromo:()=>m});var s={};i.r(s),i.d(s,{closeDeloAppPromo:()=>y,showDeloAppPromoFrame:()=>f,showDeloAppPromoPopup:()=>v,tapDeloAppPromo:()=>b});var r={};i.r(r);var n=i(14041),a=i(79594),o=i(4340);var c=i(46579),d=i(27892),l=i(12017),u=i(35023);const p=(0,l.n5)("openDeloPromoPopup",(e=>(0,d.PB)({id:(0,u.W7)(),type:"deloPromo",entity:e}))),m=e=>{const{featureDeloPromo:t}=(0,c.U)(),i=(0,a.wA)(),s=(0,a.d4)((e=>e.data.profile.data.ownedBranches));(0,n.useEffect)((()=>{if(t){const{id:t}=e,r=(()=>{const e=o.IG.local.getItem("closedDeloPromo");return e?JSON.parse(e):{}})(),n=s.includes(t),a=r[t],c=!!a,d=c&&Date.now()-a>=2592e6;!n||c&&!d||(i(p(e)),o.IG.local.setItem("closedDeloPromo",JSON.stringify(Object.assign(Object.assign({},r),{[t]:Date.now()}))))}}),[i,e,t,s])};var g=i(99906),h=i(7818);const f=()=>({frameId:e},t)=>(0,g.f_)({name:"deloAppPromoFrame",state:t,uuid:e}),v=({entity:e})=>({frameId:t})=>({uiElement:{name:"2gisDeloPopup",ownerName:"deloAppPromoFrame",frameUuid:t},payload:{placeItem:(0,h.ij)({entity:e})}}),b=({entity:e})=>({frameId:t})=>({uiElement:{name:"2gisDeloPopup",ownerName:"deloAppPromoFrame",frameUuid:t},action:"tap",payload:{placeItem:(0,h.ij)({entity:e})}}),y=({entity:e})=>({frameId:t})=>({uiElement:{name:"2gisDeloPopup",ownerName:"deloAppPromoFrame",frameUuid:t},action:"close",payload:{placeItem:(0,h.ij)({entity:e})}})},49741:(e,t,i)=>{"use strict";i.d(t,{s:()=>se,j:()=>a});var s={};i.r(s);var r={};i.r(r),i.d(r,{showReviewReactionList:()=>T,tapEmojiFromPicker:()=>O,tapEmojiItem:()=>S});var n={};i.r(n),i.d(n,{MAX_AVATARS_NUMBER:()=>L,MAX_EMOJIS_IN_COLLAPSED_PICKER:()=>N,PAGE_SIZE:()=>M});var a={};i.r(a),i.d(a,{Types:()=>s,bss:()=>r,consts:()=>n,formatLikes:()=>B,getEmojiLikeStatus:()=>P,mutateEmojis:()=>z,sortEmojis:()=>R,useAvailableEmojisQuery:()=>_,useListLikedEmojiQuery:()=>C});var o=i(31085),c=i(84175),d=i(14041),l=i(96141),u=i(88114),p=i(70498),m=i(99259),g=i(69158),h=i(82781),f=i(4);const v=({index:e,avatarUrl:t,overlap:i=12,userName:s,id:r})=>{const{css:n,s:a}=(0,c.I)(b);return t.length?(0,o.jsx)("div",{className:n(a.common,a.avatar),style:{backgroundImage:`url(${t})`,zIndex:e,marginRight:2===e?0:-i}},e):(0,o.jsx)("div",Object.assign({style:{zIndex:e,marginRight:2===e?0:-i}},{children:(0,o.jsx)(f.U,{experimentalStyles:a.common,backgroundSeed:r,userName:s})}))},b=(0,c.r)({avatar:{backgroundSize:"cover",backgroundPosition:"center",position:"relative"},common:{width:24,height:24,borderRadius:"50%",overflow:"hidden",border:"2px solid white",boxSizing:"border-box"}});var y=i(47498),x=i(25698),j=i(8365),w=i(85608),I=i(78170);const{use:C}=(0,I.VZ)("useListLikedEmojiQuery",(e=>[[e.paseSize],({services:t,context:i})=>(0,w.sH)(void 0,void 0,void 0,(function*(){const{emojiApi:s,credentialsApi:r}=t,{pageParam:n}=i,a=yield r.getToken();if(!a)throw new Error("There is no access_token");return yield s.getListLikedEmoji(Object.assign(Object.assign({},e),{accessToken:a,nextPageToken:n?`${n}`:void 0})).then((e=>e.emojis))}))]),{cacheTime:0}),{use:_}=(0,I.VZ)("useAvailableEmojisQuery",(()=>({services:e})=>(0,w.sH)(void 0,void 0,void 0,(function*(){const{emojiApi:t}=e;return yield t.getAvailableEmojis().then((e=>e.items))}))),{cacheTime:1/0});var k=i(34438);const O=e=>({frameId:t},i,s)=>{const{value:r}=null!=s?s:{},{review:n}=e;if(!r)return;const a=(0,k.o)({review:n});return a?{uiElement:{name:"addReactionButton",ownerName:"reactionPicker",frameUuid:t},action:"tap",payload:{reviewItem:a,messageInfo:{type:"reviewReaction",value:r}}}:void 0},S=e=>({frameId:t},i,s)=>{const{value:r,isLiked:n,isContextMenu:a}=null!=s?s:{},{review:o,isMineReview:c,isFriendCardActivity:d,isReviewCardFull:l}=e,u=(0,k.o)({review:o});if(!u||!r)return;const p=function(e,t){return e?"viewReactionButton":t?"deleteReactionButton":"addReactionButton"}(!!a,!!n);return{uiElement:{name:p,ownerName:E(c,!!l,!!d),frameUuid:t},action:"tap",payload:{reviewItem:u,messageInfo:{type:"reviewReaction",value:r}}}},T=e=>({frameId:t})=>{const{review:i,value:s,count:r,isMineReview:n,isFriendCardActivity:a,isReviewCardFull:o}=e,c=(0,k.o)({review:i});if(!c)return;return{uiElement:{name:"reviewReactionList",ownerName:E(n,!!o,!!a),frameUuid:t},payload:{reviewItem:c,messageInfo:{type:"reviewReaction",value:s,count:r}}}};function E(e,t,i){return e?"myReview":t?"reviewCardFull":i?"friendCardActivity":"reviewItem"}const M="3",N=5,L=3,P=(e,t)=>{const i=new Map(t.map((({id:e,is_liked:t})=>[e,t])));return Object.fromEntries(e.map((({id:e})=>{var t;return[e,null!==(t=i.get(e))&&void 0!==t&&t]})))},R=e=>e?[...e].sort(((e,t)=>{if(t.count!==e.count)return t.count-e.count;return Date.parse(e.date_created)-Date.parse(t.date_created)})):[],A=1e6,B=e=>{if(e>=A){return`${parseFloat((e/A).toFixed(1))}М`}if(e>=1e3){return`${parseFloat((e/1e3).toFixed(1))}К`}return e.toString()};function z(e,t,i){const s=e.some((({id:e})=>e===t)),r=e.reduce(((e,i)=>{const s=t===i.id&&!i.is_liked,r=i.is_liked?i.count-1:t===i.id?i.count+1:i.count;return r>0?[...e,Object.assign(Object.assign({},i),{is_liked:s,count:r})]:e}),[]);return!s&&i&&r.push({count:1,id:t,is_liked:!0,items:[],date_created:(new Date).toISOString()}),r}const F=e=>{const{srcEmoji:t,reviewId:i,count:s,bssShowEmojiDetailsFunction:r}=e,n=(0,h.c)(),{css:a,s:d}=(0,c.I)(H),{bssRef:l}=(0,j.E)(r&&r({count:s,emojiId:t.id})),{data:p,isLoading:m}=C({emojiId:t.id,reviewId:i,paseSize:M}),g=null==p?void 0:p.slice(0,L);return(0,o.jsx)(y.E,Object.assign({loading:m,skeleton:(0,o.jsx)(x.M,{width:288,height:24})},{children:(0,o.jsxs)("div",Object.assign({ref:l,className:a(d.details)},{children:[(0,o.jsx)("div",Object.assign({className:a(d.emoji)},{children:(0,o.jsx)(u.E,{src:t.data.default,alt:t.id,width:24,height:24})})),(0,o.jsx)("div",Object.assign({className:a(d.avatars)},{children:null==g?void 0:g.map((({user:e},t)=>(0,o.jsx)(v,{avatarUrl:e.photo_preview_urls["64x64"],index:t,id:e.id,userName:e.name},e.id)))})),(0,o.jsx)("div",Object.assign({className:a(d.text)},{children:n._nt(["%% реакция","%% реакции","%% реакций"],s)}))]}))}))},H=(0,c.r)({emoji:{marginEnd:4},avatars:{display:"flex",alignItems:"center"},avatar:{marginStart:3,width:24,height:24},text:{marginStart:16},details:{display:"flex",alignItems:"center"}});var U=i(79594),D=i(21959),V=i(81618);const $=e=>{const{emoji:t,availableEmojis:i,toggleEmoji:s,reviewId:r,parentRef:n,bssEmojiClickHandler:a,bssEmojiRightClickHandler:p,bssShowEmojiDetailsFunction:m,isNew:g}=e,{css:h,s:f}=(0,c.I)(q),[v,b]=(0,d.useState)(null),[y,j]=(0,d.useState)(!1),w=(0,d.useRef)(null),I=(0,d.useRef)(null),C=(0,d.useRef)(!1),[_,k]=(0,d.useState)(!1),O=(0,d.useRef)(null),S=(0,d.useRef)(null),[T,E]=(0,d.useState)({}),M=(0,U.d4)(D.x3),N=null==i?void 0:i.find((e=>e.id===t.id)),L=(0,d.useRef)(t.count);if((0,d.useEffect)((()=>{g&&(j(!0),I.current=setTimeout((()=>j(!1)),1e3)),(t.count!==L.current||g)&&(b(g||t.count>L.current?"up":"down"),L.current=t.count)}),[t.count,g]),(0,d.useEffect)((()=>()=>{I.current&&clearTimeout(I.current),w.current&&clearTimeout(w.current)}),[]),!N)return null;const P=e=>{var t,i;const s=!(null===(t=S.current)||void 0===t?void 0:t.contains(e.relatedTarget)),r=!(null===(i=O.current)||void 0===i?void 0:i.contains(e.relatedTarget));s&&r&&k(!1)};return(0,o.jsxs)("div",Object.assign({ref:S,onMouseLeave:P,className:h(f.root,y&&f.animateExpand)},{children:[(0,o.jsx)("div",Object.assign({},V.dx.n("wat-emoji-btn"),V.dx.t(N.id),{onClick:e=>{e.stopPropagation(),s(r,t.id,t.is_liked),a(t.id,t.is_liked),k(!1)},onTouchStart:()=>{C.current=!0,w.current=setTimeout((()=>{k(!0)}),1e3)},onTouchEnd:()=>{w.current&&(k(!1),clearTimeout(w.current),w.current=null)}},{children:(0,o.jsxs)(l.$,Object.assign({appearance:"noncontrast",experimentalStyles:t.is_liked?f.isLiked:f.notLiked,onContextMenu:e=>{if(e.preventDefault(),S.current&&(null==n?void 0:n.current)){const{left:e}=S.current.getBoundingClientRect(),{left:i}=n.current.getBoundingClientRect();k(!0),p(t.id,t.is_liked),E({left:-(e-i)})}}},{children:[(0,o.jsx)(u.E,{src:N.data.default,alt:N.id,width:24,height:24,renderPlaceholder:()=>(0,o.jsx)(x.M,{width:24,height:24})}),(0,o.jsx)("div",Object.assign({className:h(f.counter)},V.dx.n("wat-emoji-counter"),{children:(0,o.jsx)("span",Object.assign({className:h(v?"up"===v?f.slideUp:f.slideDown:void 0)},{children:B(t.count)}))}))]}))})),M&&_&&(0,o.jsx)("div",Object.assign({ref:O,className:h(f.details),onMouseLeave:P,style:T},{children:(0,o.jsx)(F,{count:t.count,srcEmoji:N,reviewId:r,bssShowEmojiDetailsFunction:m})}))]}))},W={background:"none",padding:"4px 6px",display:"flex",alignItems:"center",justifyContent:"center",":hover":{background:"none",boxShadow:p.E.hoverReaction},":active":{boxShadow:p.E.selectedReaction,color:"inherit"},":hover:active":{boxShadow:p.E.hoverSelectedReaction}},q=(0,c.r)({root:{position:"relative"},notLiked:Object.assign({},W),isLiked:Object.assign(Object.assign({},W),{boxShadow:p.E.selectedReaction}),animateExpand:{animationName:{"0%":{transform:"scaleX(1.1)"},"100%":{transform:"scaleX(1)"}},animationDuration:"450ms",animationTimingFunction:"ease-in-out"},counter:{overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",height:"20px",minWidth:"20px",position:"relative",marginStart:3},details:{display:"flex",alignItems:"center",position:"absolute",paddingTop:16,paddingBottom:12,paddingStart:8,paddingEnd:8,boxShadow:p.E.popup,background:m.T.white,borderRadius:8,top:-60,zIndex:10,width:280,color:(0,g.m)(m.T.gray_262626,.55),"::before":{content:'""',display:"block",width:"100%",height:8,background:"transparent",position:"absolute",bottom:-8}},slideUp:{animationName:{"0%":{transform:"translateY(0)",opacity:1},"25%":{transform:"translateY(-100%)",opacity:0},"50%":{transform:"translateY(100%)",opacity:0},"100%":{transform:"translateY(0)",opacity:1}},animationTimingFunction:"ease-in-out",animationDuration:"450ms"},slideDown:{animationName:{"0%":{transform:"translateY(0)",opacity:1},"25%":{transform:"translateY(100%)",opacity:0},"50%":{transform:"translateY(-100%)",opacity:0},"100%":{transform:"translateY(0)",opacity:1}},animationTimingFunction:"ease-in-out",animationDuration:"450ms"}}),Z=e=>{var t=(0,w.Tt)(e,[]);return(0,o.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8678 14.7844L12.0007 20.9985L12.0006 21.0003L5.13263 14.7854C-2.63923 6.5943 5.91899 0.175416 10.6674 4.27194C11.1601 4.69697 11.6118 5.23519 11.9999 5.89638C12.388 5.23513 12.8395 4.69682 13.3321 4.2717C18.0804 0.173672 26.6401 6.59283 18.8678 14.7844Z",fill:"#141414",fillOpacity:"0.5"})}))},Q=e=>{const{emoji:t,toggleEmoji:i,reviewId:s,availableEmojis:r,emojis:n,bssTapEmojiFromPickerHandler:a}=e,{css:d,s:l}=(0,c.I)(G);if(!n)return null;const p=P(r,n);return(0,o.jsx)("div",Object.assign({className:d(l.item)},V.dx.n("wat-emoji-picker-button"),V.dx.t(t.id),{onClick:e=>{e.stopPropagation(),i(s,t.id,p[t.id]),a(t.id)}},{children:(0,o.jsx)(u.E,{width:36,height:36,src:t.data.default,alt:t.id})}),t.id)},G=(0,c.r)({item:{padding:4,display:"flex",alignItems:"center",justifyContent:"center",":hover":{background:(0,g.m)(m.T.gray_141414,.06),borderRadius:8},":active":{background:(0,g.m)(m.T.gray_141414,.06),borderRadius:8}}});var K=i(65932),Y=i(64099),X=i(24963),J=i(81407);const ee=e=>{const{isCollapsedButton:t,availableEmojis:i,parentRef:s,toggleEmoji:r,reviewId:n,emojis:a,count:u,bssTapEmojiFromPickerHandler:p}=e,m=(0,h.c)(),[g,f]=(0,d.useState)(!0),{css:v,s:b}=(0,c.I)(ie),[y,x]=(0,d.useState)({position:"absolute"}),j=(0,d.useRef)(null),w=(0,d.useRef)(null),[I,C]=(0,d.useState)(!1);if((0,J.E)((()=>{if(!(null==s?void 0:s.current)||!w.current||!I)return;const{left:e,right:t}=s.current.getBoundingClientRect(),{left:i,right:r}=w.current.getBoundingClientRect(),n=i-e,a=t-r,o=n<=(t-e)/2;x((e=>{const t="left"in e?"left":"right"in e?"right":null;return"left"===(t||(o?"left":"right"))?{position:"absolute",left:0-n}:{position:"absolute",right:0-a}}))}),[I,u,s]),(0,X.W)(j,(()=>{C(!1),x({})})),!a)return null;const _=g?i.slice(0,N):i;return(0,o.jsxs)("div",Object.assign({className:v(b.root),onMouseEnter:()=>C(!0),onMouseLeave:()=>{C(!1),x({}),f(!0)},onClick:()=>C(!0),ref:j},{children:[(0,o.jsx)("div",Object.assign({className:v(b.list,I&&b.listVisible,!g&&b.listOverFlow),style:y},V.dx.n("wat-emoji-picker"),{children:(0,o.jsxs)("div",Object.assign({className:v(g?b.shortList:b.fullList)},{children:[_.map((e=>(0,o.jsx)(Q,{emoji:e,availableEmojis:i,reviewId:n,toggleEmoji:r,emojis:a,bssTapEmojiFromPickerHandler:p},e.id))),g?i.length>N&&(0,o.jsx)("div",Object.assign({className:v(b.shevron),onClick:()=>f(!1)},{children:(0,o.jsx)(K.Vy,{direction:"up"})})):(0,o.jsx)("div",Object.assign({className:v(b.shevron),onClick:()=>f(!0)},{children:(0,o.jsx)(K.Vy,{direction:"down"})}))]}))})),(0,o.jsx)("div",Object.assign({ref:w},{children:(0,o.jsxs)(l.$,Object.assign({appearance:"noncontrast",experimentalStyles:t?b.buttonCollapsed:b.buttonFull,onClick:e=>e.stopPropagation()},{children:[(0,o.jsx)(Z,Object.assign({className:v(b.heart)},V.dx.n("wat-heart-button"))),(0,o.jsx)("div",Object.assign({className:v(t?b.textHidden:b.text)},{children:m._t("Полезно?")}))]}))}))]}))},te={background:"none",padding:"4px 6px",display:"flex",alignItems:"center",transitionDuration:"0.35s",transitionProperty:"max-width",animationTimingFunction:"ease-in-out",justifyContent:"flex-start",":hover":{background:"none",boxShadow:p.E.hoverReaction},":active":{boxShadow:p.E.selectedReaction,color:"inherit"},":hover:active":{boxShadow:p.E.hoverSelectedReaction}},ie=(0,c.r)({root:{position:"relative"},buttonFull:Object.assign({maxWidth:150},te),buttonCollapsed:Object.assign({maxWidth:36},te),text:{marginStart:4},textHidden:{opacity:0},heart:{flex:"0 0 auto"},list:{display:"none",position:"absolute",alignItems:"center",justifyContent:"center",padding:8,borderRadius:8,boxShadow:"1px 1px 1px 1px #00000014, 1px 1px 1px 1px #0000000A",background:m.T.white,top:-68,height:"auto",boxSizing:"border-box",opacity:0,transform:"translateY(10px)",transition:"opacity 300ms ease-out, transform 300ms ease-out",maxHeight:272,zIndex:Y.fE.top,"::before":{content:'""',display:"block",width:"100%",height:10,background:"transparent",position:"absolute",bottom:-8}},listOverFlow:{overflow:"hidden",overflowY:"auto",alignItems:"flex-start"},listVisible:{opacity:1,transform:"translateY(0)",display:"flex"},item:{padding:4,display:"flex",alignItems:"center",justifyContent:"center",":hover":{background:(0,g.m)(m.T.gray_141414,.06),borderRadius:8},":active":{background:(0,g.m)(m.T.gray_141414,.06),borderRadius:8}},shevron:{marginStart:5,display:"flex",alignItems:"center",justifyContent:"center"},fullList:{width:280,opacity:1,transform:"translateY(0)",display:"flex",flexWrap:"wrap",height:"100%"},shortList:{display:"flex"}}),se=e=>{const{css:t,s:i}=(0,c.I)(re),{availableEmojis:s,emojis:r,toggleEmoji:n,reviewId:a,parentRef:l,bssEmojiClickHandler:u,bssEmojiRightClickHandler:p,bssShowEmojiDetailsFunction:m,bssTapEmojiFromPickerHandler:g}=e,h=(0,d.useRef)(null),f=(0,d.useRef)(r),v=(null==r?void 0:r.reduce(((e,t)=>{var i;const s=(null===(i=f.current)||void 0===i?void 0:i.every((({id:e})=>e!==t.id)))||!1;return Object.assign(Object.assign({},e),s?{[t.id]:!0}:{})}),{}))||{},b=(0,d.useMemo)((()=>R(null==r?void 0:r.filter((({count:e})=>0!==e)))),[r]);return(0,d.useEffect)((()=>{f.current=r}),[r]),(0,o.jsxs)("div",Object.assign({ref:h,className:t(i.root)},{children:[b.map((e=>(0,o.jsx)($,{toggleEmoji:n,emoji:e,availableEmojis:s,reviewId:a,parentRef:h,bssEmojiClickHandler:u,bssEmojiRightClickHandler:p,bssShowEmojiDetailsFunction:m,isNew:v[e.id]},e.id))),(0,o.jsx)(ee,{count:(null==b?void 0:b.length)||0,isCollapsedButton:!!(null==r?void 0:r.length),toggleEmoji:n,availableEmojis:s,parentRef:l,reviewId:a,emojis:r,bssTapEmojiFromPickerHandler:g})]}))},re=(0,c.r)({root:{display:"flex",gap:6,flexWrap:"wrap",position:"relative"}})},25346:(e,t,i)=>{"use strict";i.d(t,{db:()=>a,lq:()=>n,c7:()=>o,l7:()=>r});var s=i(78170);const{use:r,prefetch:n,invalidate:a,setQueryData:o}=(0,s.VZ)("fetchEntityAlbums",(e=>({services:t})=>t.photoApi.getEntityAlbums({objectId:e.objectId})),{staleTime:1/0,cacheTime:1/0})},93:(e,t,i)=>{"use strict";i.d(t,{S:()=>n,v:()=>r});var s=i(13608);function r(e,t){var i;if(null==e?void 0:e.rubrId)return t[e.rubrId];const r=(0,s.E)(null===(i=null==e?void 0:e.searchAttributes)||void 0===i?void 0:i.query_context);if(null==r?void 0:r.length){for(const e of r){const i=t[e];if(!i)return;if(!i.isMedia)return{isMedia:!1}}return{isMedia:!0}}}function n({rubricId:e,rubricsWhiteListMap:t}){var i;return null!==(i=t[e])&&void 0!==i?i:void 0}},54924:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});let s=!1;const r={};function n(e){return s||(!function(e){for(const t of e.rubricsWithPhotosMediaWhiteList)r[t]={isMedia:!0};for(const t of e.rubricsWithPhotosNotMediaWhiteList)r[t]={isMedia:!1}}(e),s=!0),r}},13179:(e,t,i)=>{"use strict";i.d(t,{PG:()=>c,$D:()=>u,ds:()=>l,Sg:()=>o,gg:()=>d});var s=i(85608),r=i(78170),n=i(66698),a=i(52524);const{use:o,invalidate:c,withQueryData:d,setQueryData:l,prefetch:u}=(0,r.r8)("Entity Photo Album",(e=>[[e.id,e.albumId,e.searchCtx,e.searchKeyword],({services:t,context:i})=>(0,s.sH)(void 0,void 0,void 0,(function*(){const{credentialsApi:s,photoApi:r}=t,{pageParam:o}=i,{id:c,albumId:d=n.Qh,pageSize:l,searchCtx:u,searchKeyword:p}=e;if("__empty"===c)return{items:[],albums:[],next_page_token:void 0};const m=yield s.getToken();return yield r.getPhotosByAlbum({objectId:c,albumId:d,page_size:l,page_token:o?`${o}`:void 0,preview_size:a.C,accessToken:m,searchCtx:u,searchKeyword:p})}))]),{getNextPageParam:e=>e.next_page_token})},10109:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n,y:()=>a});var s=i(85608),r=i(78170);const{use:n,prefetch:a}=(0,r.VZ)("entity photo by Id",(e=>({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){const{photoId:i,locale:s,preview_size:r}=e,n=yield t.credentialsApi.getToken();return yield t.photoApi.getPhotoById({photoId:i,locale:s,preview_size:r,accessToken:n})}))),{staleTime:1/0,cacheTime:1/0})},6491:(e,t,i)=>{"use strict";i.d(t,{e:()=>s});const s=10},49062:(e,t,i)=>{"use strict";i.d(t,{d:()=>o,_:()=>c});var s=i(31085),r=i(10048),n=i(58471),a=i(80465);const o=e=>(0,s.jsx)(r.w,{loader:n.b.filtersHeader,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,s.jsx)(a.E,{})});var c=i(68951)},68951:(e,t,i)=>{"use strict";i.r(t),i.d(t,{bss:()=>l,useIsDiscountsContext:()=>d,useShowFiltersHeader:()=>n});var s=i(2905),r=i(46579);function n({frame:e}){const t=(0,r.U)(),i=(0,s.e)({frame:e});return t.featureRubricFilters&&!!i}var a=i(80905),o=i(85055),c=i(31151);function d(){const e=(0,r.U)(),t=(0,o.G)((e=>(0,a.Su)(e.appContext.frames))),i="query"===(null==t?void 0:t.searchType)?t:void 0,s=(0,c.S)(i),n=null==i?void 0:i.tabCatalog.filterValues,d=!!n&&e.discountInMiniCardTags.some((e=>n[e]));return s||d}const l={tapHeaderFilter:e=>({frameId:t})=>{const{label:i,isChecked:s}=e;return{uiElement:{name:"filterItem",ownerName:"searchResultsList",frameUuid:t},action:s?"filterOn":"filterOff",payload:{filterItem:{name:i,value:s.toString()}}}}}},31151:(e,t,i)=>{"use strict";i.d(t,{S:()=>a});var s=i(85055),r=i(96536),n=i(46579);function a(e){var t,i,a;const{discountsHeaderMetarubrics:o}=(0,n.U)(),c=(0,s.G)((t=>e?(0,r.Y)(t,e):void 0)),d=null===(a=null===(i=null===(t=null==c?void 0:c.profile)||void 0===t?void 0:t.data)||void 0===i?void 0:i.searchAttributes)||void 0===a?void 0:a.query_context;return!!(null==d?void 0:d.find((e=>"meta_rubric"===e.table_name&&o.includes(e.record_id))))}},2905:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var s=i(85055),r=i(26289),n=i(30066);function a(e){return"feature"in e}function o({frame:e}){const t=function({frame:e}){var t;const i=(0,s.G)((t=>(0,r.o)({state:t,filtersId:(0,n.Y)(e,"actual")})));return(null===(t=null==i?void 0:i.widgets)||void 0===t?void 0:t.main.filter(a))||[]}({frame:e});if("query"!==e.searchType)return;const i=e.tabCatalog.filterValues,o=t.find((e=>"rubric"===e.feature));if(!o)return;const c=o.items[0];if(!c)return;return{filters:c.map((e=>{const t="rubric_id",s=((null==i?void 0:i[t])||"").split(","),r=e.values.every((e=>s.includes(e)));return{label:e.text,name:t,value:e.values.join(","),isChecked:r}})),filterValues:i}}},80465:(e,t,i)=>{"use strict";i.d(t,{G:()=>y,E:()=>x});var s=i(31085),r=i(84175),n=i(70498),a=i(80552),o=i(99259),c=i(14041),d=i(8365),l=i(13558),u=i(68951);const p=(0,c.memo)((({filter:e,onChange:t})=>{const{s:i}=(0,r.I)(m),{useBssHandler:n}=(0,d.E)(),a=n(u.bss.tapHeaderFilter,{label:e.label,isChecked:!e.isChecked});return(0,s.jsx)(l.F,{style:i.filter,title:e.label,value:e.value,isChecked:e.isChecked,onClick:i=>{t({name:e.name,value:i.value||"",valueType:"multiple",isChecked:!!i.isChecked}),a()}})})),m=(0,r.r)({filter:{padding:"6px 12px"}}),g=({filters:e,onChange:t})=>{const{s:i,css:n}=(0,r.I)(h);return(0,s.jsx)("ul",Object.assign({className:n(i.filterList)},{children:e.map((e=>(0,s.jsx)("li",{children:(0,s.jsx)(p,{filter:e,onChange:t})},e.value)))}))},h=(0,r.r)({filterList:{display:"flex",gap:"8px 4px",flexWrap:"wrap"}});var f=i(23300),v=i(84655),b=i(12790);const y=e=>{const{title:t,subtitle:i,icon:n,filters:a,isWide:o,onChange:c}=e,{s:d,css:l}=(0,r.I)(j),u=(0,s.jsxs)("div",Object.assign({className:l(d.header)},{children:[(0,s.jsx)("div",Object.assign({className:l(d.title)},{children:t})),(0,s.jsx)("div",Object.assign({className:l(d.description)},{children:i}))]}));return o?(0,s.jsxs)("div",Object.assign({className:l(d.root,d._wide)},{children:[(0,s.jsxs)("div",Object.assign({className:l(d.content)},{children:[u,(0,s.jsx)(g,{filters:a,onChange:c})]})),n&&(0,s.jsx)("div",Object.assign({className:l(d.icon)},{children:n}))]})):(0,s.jsxs)("div",Object.assign({className:l(d.root)},{children:[u,(0,s.jsxs)("div",Object.assign({className:l(d.filtersBlock)},{children:[(0,s.jsx)(g,{filters:a,onChange:c}),n&&(0,s.jsx)("div",Object.assign({className:l(d.icon)},{children:n}))]}))]}))},x=()=>{const{s:e,css:t}=(0,r.I)(j);return(0,s.jsxs)("div",Object.assign({className:t(e.root)},{children:[(0,s.jsxs)("div",Object.assign({className:t(e.header)},{children:[(0,s.jsx)(f.Y,{fontSize:19,lineHeight:24,width:"40%"}),(0,s.jsx)(f.Y,{fontSize:14,lineHeight:18}),(0,s.jsx)(f.Y,{fontSize:14,lineHeight:18,short:!0})]})),(0,s.jsxs)("div",Object.assign({className:t(e.filtersBlock)},{children:[(0,s.jsx)(b.W,{count:3}),(0,s.jsx)("div",Object.assign({className:t(e.icon)},{children:(0,s.jsx)(v.j,{width:64,height:64})}))]}))]}))},j=(0,r.r)({root:{paddingStart:12,paddingEnd:12,paddingTop:20,paddingBottom:16,background:o.T.gray_f6f6f6,boxShadow:n.E.innerBorderTopBase,display:"flex",flexDirection:"column",gap:16},_wide:{padding:"20px 16px",display:"flex",flexDirection:"row",gap:16},content:{display:"flex",flexDirection:"column",gap:16},header:{display:"flex",flexDirection:"column",gap:4},title:Object.assign(Object.assign({},a.lead),{color:o.T.gray_262626}),description:Object.assign(Object.assign({},a.regular),{color:o.T.gray_929292}),filtersBlock:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:16},icon:{display:"flex",alignItems:"flex-end"}})},81181:(e,t,i)=>{"use strict";i.d(t,{u:()=>c,$:()=>s});var s=i(39377),r=i(31085),n=i(58471),a=i(10048),o=i(40837);const c=e=>(0,r.jsx)(a.w,{loader:n.b.friendInOtherDomainPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:o.N})},39377:(e,t,i)=>{"use strict";i.r(t),i.d(t,{bss:()=>s,cleanFriendInOtherDomainModel:()=>c,defaultState:()=>a,openFriendInOtherDomainPopup:()=>g,setFriendInOtherDomainModel:()=>o,useOpenFriendInOtherDomainPopup:()=>h});var s={};i.r(s),i.d(s,{closeFriendInOtherDomainFrame:()=>y,generators:()=>j,showFriendInOtherDomainFrame:()=>v,tapLoginInFriendInOtherDomainFrame:()=>b});var r=i(7143),n=i(1269);const a={},o=(0,n.V)("setFriendInOtherDomainModel",(0,r.T)("appContext",((e,{previousMapView:t})=>Object.assign(Object.assign({},e),{friendInOtherDomain:{previousMapView:t}})))),c=(0,n.V)("cleanFriendsInOtherDomainModel",(0,r.T)("appContext",(e=>Object.assign(Object.assign({},e),{friendInOtherDomain:{}}))));var d=i(79594),l=i(27892),u=i(10742),p=i(12017),m=i(35023);const g=(0,p.n5)("openFriendInOtherDomainPopup",(e=>(0,l.PB)({id:(0,m.W7)(),type:"friendInOtherDomain",previousMapView:e}))),h=()=>{const e=(0,d.wA)();return(0,u.D)((t=>{e(g(t))}))};var f=i(99906);const v=()=>({frameId:e},t)=>(0,f.f_)({name:"friendDomainFrame",state:t,uuid:e}),b=()=>({frameId:e})=>({uiElement:{name:"authorisationButton",ownerName:"friendDomainFrame",frameUuid:e},action:"tap"}),y=()=>({frameId:e})=>({uiElement:{name:"friendDomainFrame",frameUuid:e},action:"close"});var x=i(60545);const j={frame:()=>(0,x.RT)()({name:"friendDomainFrame",framesLayout:expect.any(Object)}),tapLogin:()=>(0,x.gD)()({uiElement:{name:"authorisationButton",frameUuid:expect.any(String),ownerName:"friendDomainFrame"}}),tapClose:()=>(0,x.DA)()({uiElement:{name:"friendDomainFrame",frameUuid:expect.any(String)}})}},55129:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});var s={};i.r(s),i.d(s,{closeFriendsList:()=>u,openFriendsList:()=>l});var r=i(12017),n=i(29787),a=i(78069),o=i(35023),c=i(7335),d=i(80905);const l=e=>(0,c.RC)({userProfileFrame:e=>(0,d.bB)(e.appContext.frames,"userPublicProfile")},(({userProfileFrame:t})=>(0,r.K2)((0,n.PC)(),(0,a.fL)({id:(0,o.W7)(),type:"friendsList"}),t?e({userId:t.userId}):(0,r.lQ)()))),u=(0,r.n5)("closeFriendsListFrame",(()=>(0,c.RC)({friendsListFrame:e=>(0,d.bB)(e.appContext.frames,"friendsList")},(({friendsListFrame:e})=>e?(0,a.wU)({id:e.id}):(0,r.lQ)()))))},63795:(e,t,i)=>{"use strict";i.d(t,{Oq:()=>c.O,zy:()=>o,tk:()=>g,sT:()=>s});var s=i(33720),r=(i(6151),i(31085)),n=i(10048),a=i(58471);const o=e=>(0,r.jsx)(n.w,{loader:a.b.friendsOnMap,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,r.jsx)(r.Fragment,{})});var c=i(24801),d=i(79594),l=i(46579),u=i(82781),p=i(96141),m=i(55027);const g=({publicUserId:e,onClick:t})=>{const i=(0,u.c)(),s=(0,d.d4)((e=>e.session.platform)),{featureFriends:n}=(0,l.U)(),a=(0,m.zP)({platform:s,type:"addFriendPromo",deepLink:`https://2gis.ru/user/${e}`});return n?(0,r.jsx)(p.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:a,onClick:t,dataN:"wat-show-friend-geo-button"},{children:i._t("Посмотреть гео в приложении")})):null}},6151:(e,t,i)=>{"use strict";i.d(t,{n:()=>n,y:()=>r});var s=i(14041);function r({states:e}){return(0,s.useMemo)((()=>Object.entries(e).reduce(((e,[t,i])=>i?((i.isInsideViewpoint||i.isAtShortDistanceFromCenter)&&(e[t]=i),e):e),{})),[e])}function n(e,t){return"moving"===e.movement.status?e.lastSeen+t.movingLivenessTimeout:"stopped"===e.movement.status?e.lastSeen+t.stoppedLivenessTimeout:void 0}},33720:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Types:()=>s,cleanFriendsOnMapModel:()=>N,cleanSharedRoute:()=>R,defaultState:()=>O,getFriendsOnMap:()=>A,initFriendsOnMapModel:()=>S,removeFriend:()=>E,removeSubscription:()=>L,updateFriendsOnMapModel:()=>T,updateFriendsOnMapModelStatesByViewpoint:()=>M,updateSharedRoute:()=>P,useClustering:()=>l,useFilterShownMarkers:()=>te,useFriendsOnMap:()=>J,useGeneralization:()=>j});var s={};i.r(s);var r=i(79594),n=i(14041),a=i(62671),o=i.n(a),c=i(23020),d=i(81678);function l({profiles:e,states:t,selectedId:i,selfUserId:s}){const a=(0,r.d4)(c.jq)<d.vK.usersMarkersConfig.maxZoomForClustering;return(0,n.useMemo)((()=>{const r=Object.entries(t).map((([t,i])=>function(e,t){if(!e||!t)return;const{lon:i,lat:s}=t.location;return{lonLat:{lon:i,lat:s},profile:e,state:t}}(e[t],i))).filter(Boolean);if(!a)return r.map((e=>({lonLat:e.lonLat,markers:[e],small:!1})));return function(e,t,i){const s=[],r=e.map((e=>1===e.length?e:e.filter((e=>!("moving"===e.state.movement.status&&e.state.location.speed||e.profile.id===t||e.profile.id===i)||(s.push(e),!1))))).filter((e=>e.length>0));return[...r,...s.map((e=>[e]))]}(o()(r,d.vK.usersMarkersConfig.clusteringRadius,(e=>e.lonLat.lon),(e=>e.lonLat.lat)),i,s).map((e=>({lonLat:u(e),markers:e,small:!1})))}),[t,a,i,s,e])}function u(e){const t=e.reduce(((e,t)=>e+t.lonLat.lon),0),i=e.reduce(((e,t)=>e+t.lonLat.lat),0);return{lon:t/e.length,lat:i/e.length}}var p=i(77756),m=i.n(p),g=i(9729),h=i(50595);const{markerSize:f,safeZoneX:v,safeZoneY:b,minZoomForBigMarkers:y}=d.vK.usersMarkersConfig,x=f/2;function j({clusters:e,selectedId:t}){const i=(0,r.d4)(h.p);return(0,n.useMemo)((()=>{if(i.zoom<y)return e.map((e=>Object.assign(Object.assign({},e),{small:!0})));const s=function(e){function t(t){return t.markers[0].state.id===e}function i(e){return!!d.vK.getClusterStatusIcon(e)}function s(e){return"moving"===e.markers[0].state.movement.status}return(e,r)=>t(e)&&!t(r)?-1:t(r)&&!t(e)?1:i(e)&&!i(r)?-1:i(r)&&!i(e)?1:e.markers.length>1?-1:r.markers.length>1?1:s(e)?-1:s(r)?1:0}(t),r=[...e].sort(s),n=new(m()),a=[],o=[];return r.forEach((e=>{const t=function(e,t){const{lon:i,lat:s}=e.lonLat,[r,n]=(0,g.lonLatToScreenPoint)([i,s],t);return{minX:r-x-v,minY:n-x-b,maxX:r+x+v,maxY:n+x+b}}(e,i);n.collides(t)?o.push(Object.assign(Object.assign({},e),{small:!0})):(n.insert(t),a.push(e))})),[...o,...a]}),[e,i,t])}var w=i(27892),I=i(35023),C=i(1269),_=i(7143),k=i(66333);const O={settings:void 0,profiles:{},states:{},hasSharingSession:!1,sharedRoute:null},S=(0,C.V)("initFriendsOnMapModel",(0,_.T)("appContext",((e,{profiles:t,states:i,settings:s})=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:t,states:i,settings:s})})))),T=(0,C.V)("updateFriendsOnMapModel",(0,_.T)("appContext",((e,t)=>{var i;if("profile"===t.type){const s=!!(null===(i=Object.values(t.profile)[0])||void 0===i?void 0:i.session);return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign(Object.assign({},e.friendsOnMap),{profiles:Object.assign(Object.assign({},e.friendsOnMap.profiles),t.profile)}),s?{hasSharingSession:s}:{})})}return"sharer"===t.type?Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{hasSharingSession:!0})}):Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{states:Object.assign(Object.assign({},e.friendsOnMap.states),t.state)})})}))),E=(0,C.V)("removeFriend",(0,_.T)("appContext",((e,t)=>{const i=Object.fromEntries(Object.entries(e.friendsOnMap.states).filter((([e])=>e!==t))),s=Object.fromEntries(Object.entries(e.friendsOnMap.profiles).filter((([e])=>e!==t)));return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:s,states:i})})}))),M=(0,C.V)("updateFriendsOnMapModelStatesByViewpoint",(0,_.T)("appContext",((e,t)=>{const i=Object.entries(e.friendsOnMap.states).reduce(((e,[i,s])=>{const r=d.Vw.getIsInsideViewpoint(s,t),n=d.Vw.getIsAtShortDistanceFromCenter(s,t);return s.isInsideViewpoint===r&&s.isAtShortDistanceFromCenter===n?e[i]=s:e[i]=Object.assign(Object.assign({},s),{isInsideViewpoint:r,isAtShortDistanceFromCenter:n}),e}),{});return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{states:i})})}))),N=(0,C.V)("cleanFriendsOnMapModels",(0,_.T)("appContext",(e=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},O),{hasSharingSession:e.friendsOnMap.hasSharingSession})})))),L=(0,C.V)("removeSubscription",(0,_.T)("appContext",((e,t)=>{const{profiles:i,states:s,hasSharingSession:r}=Object.values(e.friendsOnMap.profiles).reduce(((i,s)=>{var r;return s&&(null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.sessionId)!==t&&(i.profiles[s.id]=e.friendsOnMap.profiles[s.id],i.states[s.id]=e.friendsOnMap.states[s.id]),s&&s.session&&s.session.sessionId!==t&&(i.hasSharingSession=!0),i}),{profiles:{},states:{},hasSharingSession:!1});return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:i,states:s,hasSharingSession:r})})}))),P=(0,C.V)("updateSharedRoute",(0,_.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{sharedRoute:t})})))),R=(0,C.V)("cleanSharedRoute",(0,_.T)("appContext",(e=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{sharedRoute:null})})))),A=(0,k.Mz)([e=>e.appContext.friendsOnMap,e=>e.appContext.activeLayer],((e,t)=>{if("friends"!==t){const{profiles:t,states:i}=Object.values(e.profiles).reduce(((t,i)=>((null==i?void 0:i.session)&&(t.profiles[i.id]=e.profiles[i.id],t.states[i.id]=e.states[i.id]),t)),{profiles:{},states:{}});return Object.assign(Object.assign({},e),{profiles:t,states:i})}return e}));var B=i(46579),z=i(10742),F=i(68299);const H=["mousemove","mousedown","resize","keydown","touchstart","wheel"];var U=i(16916),D=i(50046);class V{init({onClose:e}){var t,i,s,r;this.isClosedByClient=!1,"undefined"!=typeof window&&(this.instance=new WebSocket(this.url)),null===(t=this.instance)||void 0===t||t.addEventListener("open",(e=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.emitter.emit("open",e)})),null===(i=this.instance)||void 0===i||i.addEventListener("message",(e=>{this.emitter.emit("message",e)})),null===(s=this.instance)||void 0===s||s.addEventListener("close",(t=>{if(this.isClosedByClient)return this.emitter.emit("close",t),this.emitter.removeAllListeners(),void e();if(this.timeoutId)return;this.reconnectingAttempts++,this.emitter.emit("reconnection",t);const i=2e3*this.reconnectingAttempts+1e3*((e,t,i=!0)=>i?Math.floor(Math.random()*(t-e+1))+e:Math.random()*(t-e)+e)(1,5);this.timeoutId=setTimeout((()=>this.init({onClose:e})),i)})),null===(r=this.instance)||void 0===r||r.addEventListener("error",(e=>{this.emitter.emit("error",e)}))}close(){this.isClosedByClient=!0,this.instance&&this.instance.close()}addListener(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.off(e,t)}send(e){var t,i;1===(null===(t=this.instance)||void 0===t?void 0:t.readyState)&&(null===(i=this.instance)||void 0===i||i.send(e))}getReadyState(){var e;return null===(e=this.instance)||void 0===e?void 0:e.readyState}constructor(e,t){this.timeoutId=null,this.reconnectingAttempts=0,this.isClosedByClient=!1,this.instance=null,this.emitter=new D.EventEmitter,this.url=e,this.init({onClose:t})}}const $=new class{constructor(){this.connections=new Map}initConnection(e){return new V(e,(()=>this.closeConnection(e)))}closeConnection(e){const t=this.connections.get(e);t&&3===t.getReadyState()&&this.connections.delete(e)}createOrJoinConnection(e){const t=this.connections.get(e),i=null==t?void 0:t.getReadyState();if(t&&(0===i||1===i))return t;const s=this.initConnection(e);return this.connections.set(e,s),s}};var W=i(64631),q=i(21959);const Z=([e,t],i)=>JSON.stringify({type:"viewportChanged",payload:{viewport:{topLeft:e,bottomRight:t},zoom:i}}),Q=e=>JSON.stringify({type:"bindRoutes",payload:{sharers:e?[e]:[]}});var G=i(22665),K=i(39123);const Y=(e={})=>{var t;const i=(0,B.U)(),s=(0,r.wA)(),a=(0,r.d4)(c.Pz),o=(0,r.d4)((e=>Math.floor((0,c.jq)(e)))),d=(0,n.useRef)((0,U.L)(a)),l=(0,n.useRef)(o),u=(0,r.d4)(q.ug),p=(0,r.d4)(G.W),m=(null===(t=u.data)||void 0===t?void 0:t.access_token)||i.friendsDebugToken,g=(0,K.U)("userPublicProfile"),h=(0,K.U)("sharingGeo"),f=(null==h?void 0:h.userId)||(null==g?void 0:g.userId),v=`${i.friendsOnMapSocketUrl}/anonymous/user/ws?appVersion=6.31.0&channels=markers,sharing,routes&appInstanceId=${p}`,b=`${i.friendsOnMapSocketUrl}/user/ws?appVersion=6.31.0&channels=markers,sharing,routes&token=${m}`,y=m?b:v,{connect:x,disconnect:j,send:w}=((e,t={})=>{const i=(0,n.useRef)(null),s=(0,n.useCallback)((e=>{var t;null===(t=i.current)||void 0===t||t.send(e)}),[]),r=(0,z.D)((e=>{var i;null===(i=null==t?void 0:t.onOpen)||void 0===i||i.call(t,e,s)})),a=(0,z.D)((e=>{var i;null===(i=null==t?void 0:t.onClose)||void 0===i||i.call(t,e)})),o=(0,z.D)((e=>{var i;null===(i=null==t?void 0:t.onMessage)||void 0===i||i.call(t,e)})),c=(0,z.D)((e=>{var i;null===(i=null==t?void 0:t.onError)||void 0===i||i.call(t,e)}));return{connect:(0,n.useCallback)((()=>{i.current||(i.current=$.createOrJoinConnection(e),i.current.addListener("open",r),i.current.addListener("close",a),i.current.addListener("message",o),i.current.addListener("error",c))}),[a,c,o,r,e]),disconnect:(0,n.useCallback)((()=>{i.current&&(i.current.close(),i.current=null)}),[]),send:s,connection:i.current}})(y,Object.assign(Object.assign({},e),{onOpen:(t,i)=>{var s;i(Z(d.current,l.current)),i(Q(f)),null===(s=e.onOpen)||void 0===s||s.call(e,t,i)}})),I=(0,z.D)((()=>{i.featureFriends&&x()})),C=(0,n.useCallback)((()=>{d.current&&w(Z(d.current,l.current))}),[w]),{stopIdleTracking:_,idle:k,startIdleTracking:O}=((e=6e4,t=H)=>{const[i,s]=(0,n.useState)(!1),r=(0,n.useRef)(),a=(0,F.Y)((()=>{s(!1),clearTimeout(r.current),r.current=setTimeout((()=>s(!0)),e)}),50),o=(0,n.useCallback)((()=>{t.forEach((e=>{window.addEventListener(e,a)})),r.current=setTimeout((()=>s(!0)),e)}),[t,a,e]),c=(0,n.useCallback)((()=>{clearTimeout(r.current),t.forEach((e=>{window.removeEventListener(e,a)}))}),[t,a]);return(0,n.useEffect)((()=>(o(),()=>{c()})),[o,c]),{idle:i,startIdleTracking:o,stopIdleTracking:c}})(i.friendsSocketIdleTimeout),S=(0,z.D)((()=>{j(),s(N())}));(0,W.z)({onChange:()=>{"hidden"===document.visibilityState&&(_(),S()),"visible"===document.visibilityState&&(I(),O())}}),(0,n.useEffect)((()=>{s(R()),w(Q(f))}),[s,w,f]),(0,n.useEffect)((()=>(I(),()=>{S()})),[I,S]),(0,n.useEffect)((()=>{k&&S(),k||I()}),[I,S,k]),(0,n.useEffect)((()=>{const[e,t]=d.current,[i,s]=a,r=l.current!==o;r&&(l.current=o);(r||i.lon<e.lon||i.lat<e.lat||s.lon>t.lon||s.lat>t.lat)&&(d.current=(0,U.L)(a),C())}),[C,a,o])};var X=i(6151);function J(){const e=(0,r.d4)(c.Pz),t=(0,r.wA)(),{profiles:i,states:s,settings:a,sharedRoute:o}=(0,r.d4)(A);return Y({onMessage:r=>{var n,c,d;const l=JSON.parse(r.data);switch(l.type){case"initialState":const r=l.payload.markerSettings,u=l.payload.states.reduce(((t,i)=>(t[i.id]=ee({settings:r,state:i,viewpoint:e}),t)),s),p=l.payload.profiles.reduce(((e,t)=>{const s=i[t.id];return e[t.id]=Object.assign(Object.assign(Object.assign({},s),t),{sharing:{isFriend:!0}}),e}),i);t(S({settings:r,states:u,profiles:p}));break;case"friendState":const m=s[l.payload.id];t(T({type:"state",state:{[l.payload.id]:ee({settings:a,state:Object.assign(Object.assign({},l.payload),{locationPlace:{status:null===(n=l.payload.locationPlace)||void 0===n?void 0:n.status,transportStatus:null===(c=null==m?void 0:m.locationPlace)||void 0===c?void 0:c.transportStatus}}),viewpoint:e})}}));break;case"profile":const g=i[l.payload.id];t(T({type:"profile",profile:{[l.payload.id]:Object.assign(Object.assign({},g),l.payload)}}));break;case"friendRemoved":t(E(l.payload.id));break;case"sharingSubscriptionsInitialState":l.payload.subscriptions.forEach((({session:e,sharer:i})=>{const s={id:i.profile.userId,name:i.profile.name,logo:i.profile.avatarUrl,logoTpl:i.profile.avatarUrlTpl,sharing:{isFriend:i.isFriend},session:e};t(T({type:"profile",profile:{[s.id]:s}}))}));break;case"sharingSubscription":const{session:h,sharer:f}=l.payload,v={id:f.profile.userId,name:f.profile.name,logo:f.profile.avatarUrl,logoTpl:f.profile.avatarUrlTpl,sharing:{isFriend:f.isFriend},session:h};t(T({type:"profile",profile:{[v.id]:v}}));break;case"sharingSubscriptionRemoved":const b=Object.values(i).find((e=>{var t;return(null===(t=null==e?void 0:e.session)||void 0===t?void 0:t.sessionId)===l.payload.sessionId}));if(null===(d=null==b?void 0:b.sharing)||void 0===d?void 0:d.isFriend)return;t((0,w.PB)({id:(0,I.W7)(),type:"broadcastEnded",sessionId:l.payload.sessionId,sharerProfile:b})),t(L(l.payload.sessionId));break;case"transportStatusUpdated":const y=s[l.payload.sharerId];y&&t(T({type:"state",state:{[y.id]:Object.assign(Object.assign({},y),{locationPlace:Object.assign(Object.assign({},y.locationPlace),{transportStatus:l.payload.status})})}}));break;case"trafficUpdated":o&&t(P(Object.assign(Object.assign({},o),{trafficUpdateRequestId:l.payload.routeRequestId})));break;case"routeUpdated":t(P(o?Object.assign(Object.assign({},o),l.payload):l.payload));break;case"etaUpdated":(null==o?void 0:o.routeRequestId)===l.payload.routeRequestId&&t(P(Object.assign(Object.assign({},o),{eta:l.payload.eta})));break;case"routeRemoved":(null==o?void 0:o.routeRequestId)===l.payload.routeRequestId&&t(R())}}}),(0,n.useEffect)((()=>{t(M(e))}),[t,e]),{profiles:i,states:s}}function ee({state:e,settings:t,viewpoint:i}){return Object.assign(Object.assign({},e),{updateTime:Date.now(),staleTime:t?(0,X.n)(e,t):void 0,isInsideViewpoint:d.Vw.getIsInsideViewpoint(e,i),isAtShortDistanceFromCenter:d.Vw.getIsAtShortDistanceFromCenter(e,i)})}function te(e){const t=(0,r.d4)((e=>e.appContext.weak.showVisitedPlacesForId)),i=t?function(e,t){return e[t]?{[t]:e[t]}:{}}(e.states,t):e.states;return(0,X.y)({states:i})}},24801:(e,t,i)=>{"use strict";i.d(t,{O:()=>p});var s=i(31085),r=i(84175),n=i(80552),a=i(99259),o=i(81678);const c=({name:e,status:t,bssRef:i})=>{const{css:n,s:a}=(0,r.I)(d),c=(null==t?void 0:t.distance)||(null==t?void 0:t.place);return(0,s.jsxs)("div",Object.assign({className:n(a.root),ref:i},{children:[(0,s.jsx)("span",Object.assign({className:n(a.name)},{children:e})),c&&(0,s.jsx)(o.rw,{place:t.place,distance:t.distance})]}))},d=(0,r.r)({root:Object.assign({padding:"10px 16px",minWidth:200,maxWidth:300,display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2,color:a.T.gray_262626},n.small),name:Object.assign(Object.assign({},n.regularBold),{color:a.T.blue_0072ce})});var l=i(63109),u=i(8365);const p=({friendId:e})=>{var t,i;const{profile:r,state:n,isMyProfile:a,selfState:d}=o.vK.useUserProfile(e),p=o.vK.useFriendStatus({state:n,selfState:d,isMyProfile:a,isMyFriendProfile:!a}),{public_user:m}=r.data||{},{bssRef:g}=(0,u.E)(m&&n?o.vK.bss.showTooltip({publicProfileId:m.public_user_id,hasPhoto:Boolean(m.avatar),placeId:null===(i=null===(t=n.locationPlace)||void 0===t?void 0:t.status)||void 0===i?void 0:i.id}):void 0);return r.isSuccess&&m?(0,s.jsx)(l.T,{children:(0,s.jsx)(c,{name:m.name,status:p,bssRef:g})}):null}},24896:(e,t,i)=>{"use strict";i.d(t,{NX:()=>b,uM:()=>Z,hg:()=>q,Qv:()=>x,fu:()=>C});var s=i(31085),r=i(14041),n=i(84175),a=i(64099),o=i(96141),c=i(88114),d=i(95885),l=i(8365),u=i(98379),p=i(80905),m=i(50432);const g=e=>t=>{const i=(0,u.t)({state:t,entityFrameId:e.ownerFrameId});return i||(0,m.vV)({message:'Не удалось сформировать placeItem для события тапа "Тап в call-to-action владельца ЗМК / FMCG в карточке донора или провайдера на миникарточке" (a-50jsq, a-3kiu7)',level:"error",id:"xpjjg",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,p.w1)(t.appContext.frames,e.ownerFrameId))}}),{uiElement:{name:"callToActionButton",ownerName:"placeCardFull",frameUuid:e.ownerFrameId},action:"tap",payload:{placeItem:i,callToAction:{actionType:"link",value:e.url,contentOwner:{org:e.orgId,adsPosition:"buildingBanner",adsId:e.adsId}}}}};var h=i(86938),f=i(39123),v=i(46579);const b=(0,r.memo)((e=>{const{banner:{logoUrl:t,url:i,text:r,adsId:a,orgId:b},frameName:x}=e,{lang:j}=(0,v.U)(),{bssRef:w,showEventOrdinal:I}=(0,l.E)((C={url:i,adsId:a,orgId:b},({frameId:e},t)=>{const{url:i,orgId:s,adsId:r}=C,n=(0,u.t)({state:t,entityFrameId:e});return n||(0,m.vV)({message:'Не удалось сформировать placeItem для события показа "Увидел кнопку call-to-action владельца FMCG ЗМК" (v-of2ve, v-u64dp)',level:"error",id:"84nix",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,p.w1)(t.appContext.frames,e))}}),{uiElement:{name:"callToActionButton",frameUuid:e,ownerName:"placeCardFull"},payload:{placeItem:n,callToAction:{actionType:"link",value:i,contentOwner:{org:s,adsPosition:"buildingBanner",adsId:r}}}}}));var C;const{css:_,s:k}=(0,n.I)(y),O=(0,f.U)(x);return O?(0,s.jsx)("div",Object.assign({ref:w},{children:(0,s.jsx)(h.L,Object.assign({actionEventParamsSelector:g({ownerFrameId:O.id,url:i,adsId:a,orgId:b}),originalHref:i,showEventOrdinal:I},{children:e=>(0,s.jsx)(o.$,Object.assign({appearance:"primary",dataN:"wat-bulding-banner-button",href:e,external:!0,medium:!0},{children:(0,s.jsxs)("div",Object.assign({className:_(k.content)},{children:[t&&(0,s.jsx)("div",Object.assign({className:_(k.logo)},{children:(0,s.jsx)(c.E,{src:(0,d.m)(t,"16x16"),srcSet:`${(0,d.m)(t,"32x32")} 2x`,height:16,width:16,alt:"ru"===j?"Рекламный баннер":void 0,isLoadingForced:!0})})),r]}))}))}))})):null})),y=(0,n.r)({logo:{width:16,height:16,borderRadius:a.Vq.default,overflow:"hidden",marginEnd:8},content:{display:"flex",alignItems:"center"}});b.displayName="BuildingBanner";const x=e=>{var t,i,s,r,n,a,o;const c=null===(i=null===(t=e.content)||void 0===t?void 0:t.options)||void 0===i?void 0:i.actions[0].name,d=null===(r=null===(s=e.content)||void 0===s?void 0:s.options)||void 0===r?void 0:r.actions[0].value,l=e.branchId,u=e.adsId,p=e.orgId;if(c&&d&&l&&u&&p)return{text:c,url:d,branchId:l,adsId:u,orgId:p,legalName:e.legalName,logoUrl:null===(o=null===(a=null===(n=e.content)||void 0===n?void 0:n.options)||void 0===a?void 0:a.logo)||void 0===o?void 0:o.img_url}};var j=i(79594),w=i(78637);const I=i(68473).X,C=(e,t={enabled:!0})=>{var i;const s=(0,j.d4)(I),r=(0,w.HB)(Object.assign(Object.assign({},s),{bannerSlot:"building_banner",objectId:e.id}),Object.assign(Object.assign({},t),{enabled:"building"===e.type&&t.enabled}));return Object.assign(Object.assign({},r),{data:(null===(i=r.data)||void 0===i?void 0:i.length)?r.data[0]:void 0})};i(45141);var _=i(57744),k=i(23020),O=i(82393),S=i(95845),T=i(10005),E=i(71064),M=i(81618),N=i(15471),L=i(96624);const P=(0,r.memo)((({bssRef:e,hrefLink:t,imageSrc:i,bannerSlotConfig:n,showEventOrdinal:a,ownerName:o,banner:c,rubrics:d,dataN:l="",trackClick:u})=>{const p=(0,v.U)(),{lang:m}=p,{size:g}=n,h=(0,r.useContext)(N.X),f=(0,j.d4)((0,L.gY)({config:p,actionEventParamsSelector:(0,S.p0)({frameId:h.frameId,banner:c,ownerName:o,rubrics:d}),originalHref:t,showEventOrdinal:a}));return(0,s.jsx)(E.A,Object.assign({href:f,external:!0,onClick:u},{children:(0,s.jsx)("img",Object.assign({},M.dx.n(l),{ref:e,src:i,style:{height:g[1],width:g[0]},alt:"ru"===m?"Рекламное изображение":void 0}))}))}));var R=i(99449),A=i(63536),B=i(11776),z=i(7335),F=i(12017);var H=i(47636);const U=(0,r.memo)((({ownerName:e,htmlContent:t,bannerSlotConfig:i,bssRef:n,banner:a,showEventOrdinal:o,rubrics:c,dataN:d="",trackClick:l})=>{const u=(0,j.wA)(),p=(0,r.useContext)(N.X),m=(0,r.useRef)(null),g=(0,r.useRef)(null);return(0,R.A)({type:"window:message",handler:t=>{var i;if(t.data)try{const e=JSON.parse(t.data);"mkb"===e.type&&e.source&&e.source.mp4&&(l(),u(H.z.openVideoPlayer({videoUrl:"//"+e.source.mp4,adInfoParams:{source:"banner",erid:a.ad_attributes.erid,legalName:a.ad_attributes.legal_name},cover:e.cover&&"//"+e.cover,link:e.link&&`https://${e.link}`,bssPayload:{banner:a,rubrics:c}})))}catch(e){}if("2gis_ad:click"===(null===(i=t.data)||void 0===i?void 0:i.key)){const i=g.current;i&&i.contentWindow===t.source&&(l(),u(function(e){const{url:t,showEventOrdinal:i,actionEventParamsSelector:s}=e;return(0,F.NV)((e=>(0,z.eU)((0,L.gY)({config:e,actionEventParamsSelector:s,originalHref:t,showEventOrdinal:i}),(e=>(0,B.v)({url:e,name:"_blank"})))))}({url:t.data.url,frameId:p.frameId,showEventOrdinal:o,actionEventParamsSelector:(0,S.p0)({frameId:p.frameId,banner:a,ownerName:e,rubrics:c})})))}},stopIfHandled:!0,priority:A.b.FrameElement}),(0,r.useEffect)((()=>{if(t&&m.current){const e=document.createElement("iframe");g.current=e,e.setAttribute("width",`${i.size[0]}px`),e.setAttribute("height",`${i.size[1]}px`),m.current.innerHTML="",m.current.appendChild(e),e.addEventListener("load",(t=>{var i,s,r,n;const a=t.currentTarget;if(!a)return;const o=null===(i=e.contentDocument)||void 0===i?void 0:i.querySelector("html");o&&(o.style.overflow="hidden");if(null===(s=a.contentDocument)||void 0===s?void 0:s.querySelector("script#gwd-init-code")){const t=null===(r=a.contentDocument)||void 0===r?void 0:r.querySelector("gwd-page");if(t){const{width:i,height:s}=t.getBoundingClientRect();e.setAttribute("width",`${i}`),e.setAttribute("height",`${s}`)}}const c=null===(n=e.contentDocument)||void 0===n?void 0:n.querySelector(".mkb");if(c){const{width:t,height:i}=c.getBoundingClientRect();e.setAttribute("width",`${t}`),e.setAttribute("height",`${i}`)}})),e.srcdoc=t}}),[t,m.current]),(0,s.jsx)("div",Object.assign({ref:n},M.dx.n(d),{children:(0,s.jsx)("div",{ref:m})}))}));var D=i(98626);const V={start_banner:{size:[336,280],rotationInterval:4e4},smart_banner:{size:[336,280]}},$=(0,r.memo)((({bannerSlot:e,ownerName:t,dataN:i,renderOnEmpty:n,onEmpty:a,rubrics:o})=>{var c;const d=(0,j.d4)(_.u),l=(0,j.d4)(O.zN),u=(0,j.d4)((e=>(0,p.bB)(e.appContext.frames,"search"))),m=(0,j.d4)(k.hv),{rotationInterval:g}=V[e],{data:h,isLoading:f,isError:v}=(0,T.u)({locale:d,regionId:l,bannerSlot:e,viewport:m,rubrics:o,query:"search"===(null==u?void 0:u.type)&&"query"===u.searchType?u.query:void 0},{refetchIntervalInBackground:"start_banner"===e,refetchOnMount:!0,keepPreviousData:!1,refetchInterval:g}),b=null==h?void 0:h.banners[0],y=null==b?void 0:b.ad_attributes.content,x=!f&&(v||!(null===(c=null==y?void 0:y.img)||void 0===c?void 0:c.link)||!(null==y?void 0:y.html));return(0,r.useEffect)((()=>{x&&(null==a||a())}),[x,a]),f?null:!v&&y&&b?(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{bannerSlot:e,ownerName:t,banner:b,rubrics:o,dataN:i}),(0,s.jsx)(D.Q,{tiny:!0,gray:!0,source:"banner",erid:b.ad_attributes.erid,legalName:b.ad_attributes.legal_name})]}):(null==n?void 0:n())||null})),W=(0,r.memo)((({bannerSlot:e,ownerName:t,dataN:i,banner:r,rubrics:n})=>{const{bssRef:a,showEventOrdinal:o,useBssHandler:c}=(0,l.E)((0,S.oM)({banner:r,ownerName:t,rubrics:n}),{forceSendShowIfParamsChanged:[r.ad_attributes.auction_id],forcedIntersection:"start_banner"===e}),d=c(S.RJ,{banner:r,ownerName:t,rubrics:n}),{html:u,img:p}=r.ad_attributes.content;return u?(0,s.jsx)(U,{banner:r,rubrics:n,ownerName:t,trackClick:d,bssRef:a,bannerSlotConfig:V[e],showEventOrdinal:o,htmlContent:u,dataN:i}):p?(0,s.jsx)(P,{bssRef:a,banner:r,rubrics:n,hrefLink:p.link,imageSrc:p.value,ownerName:t,showEventOrdinal:o,bannerSlotConfig:V[e],trackClick:d,dataN:i}):null})),q=()=>(0,s.jsx)($,{bannerSlot:"start_banner",ownerName:"dashboardFrame",dataN:"wat-start-banner"}),Z=({ownerName:e,renderOnEmpty:t})=>(0,s.jsx)($,{bannerSlot:"smart_banner",dataN:"wat-smart-banner",ownerName:e,renderOnEmpty:t})},68473:(e,t,i)=>{"use strict";i.d(t,{X:()=>d});var s=i(66333),r=i(21959),n=i(57744),a=i(23020),o=i(82393),c=i(80905);const d=(0,s.Mz)([n.u,o.zN,e=>(0,c.bB)(e.appContext.frames,"search"),a.hv,r.LE],((e,t,i,s,r)=>({locale:e,regionId:t,viewport:s,authUserId:r,query:"search"===(null==i?void 0:i.type)&&"query"===i.searchType?i.query:void 0})))},78637:(e,t,i)=>{"use strict";i.d(t,{HB:()=>o});var s=i(85608),r=i(78170);const n=9e5,a=899e3,{use:o,prefetch:c}=(0,r.VZ)("banners",(e=>({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){return(yield t.casinoApi.getGtaAdvise(e)).banners}))),{staleTime:a,cacheTime:n,refetchInterval:a})},45141:(e,t,i)=>{"use strict";i.d(t,{v3:()=>d,g_:()=>p});var s=i(31085),r=i(14041),n=i(14357),a=i(79594),o=i(10742),c=i(63041);const d=(0,r.memo)((({banners:e,ownerName:t,miniCardPosition:i=2})=>{const r=(0,a.wA)(),d=(0,o.D)((({entityId:e,hash:t})=>{r((0,c.UP)({id:e,type:"branch",hash:t}))}));return(0,s.jsx)(n.Y,{ownerName:t,onBannerClick:d,gtaBanners:e,title:"Реклама",miniCardPosition:i})}));const l=i(68473).X;var u=i(10005);const p=(e={})=>{var t,i;const{isEnabled:s=!0}=e,r=(0,a.d4)(l),n=(0,u.u)(Object.assign(Object.assign({},r),{bannerSlot:"realty_banner"}),{enabled:s});return Object.assign(Object.assign({},n),{data:null!==(i=null===(t=n.data)||void 0===t?void 0:t.banners)&&void 0!==i?i:[]})}},32201:(e,t,i)=>{"use strict";i.d(t,{mH:()=>E,V3:()=>f,bp:()=>_});var s=i(31085),r=i(79594),n=i(8365),a=i(82781),o=i(84175),c=i(52225),d=i(99259),l=i(70498),u=i(69158),p=i(91818),m=i(65932),g=i(95926),h=i(81618);const f=()=>{const e=(0,a.c)(),t=(0,r.wA)(),{css:i,s:d}=(0,o.I)(v),l=(0,r.d4)(g.Tp.Z),{useBssHandler:u}=(0,n.E)(),f=u(g.Nd.g);return(0,s.jsxs)("button",Object.assign({type:"button",className:i(d.button)},h.dx.n("wat-guide-my-places-btn"),{onClick:()=>{f(),t((0,p.oC)("openFavorites"))}},{children:[(0,s.jsx)(c.X,{}),e._t("Мои места"),!!l&&(0,s.jsx)(m.ph,{size:"m",appearance:"primary",counter:l})]}))},v=(0,o.r)((({typography:e})=>({button:Object.assign(Object.assign({position:"relative",display:"flex",alignItems:"center",gap:5,padding:"8px 9px",borderRadius:8,backgroundColor:d.T.white},e.footnoteMedium),{boxShadow:l.E.popup,":hover":{color:(0,u.m)(d.T.gray_262626,.7)}})})));var b=i(84082),y=i(52342),x=i(12017),j=i(29787),w=i(96141);function I({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:e,d:"M8 10L4.00001 12L4 4.00254C4 3.45025 4.44772 3.00253 5 3.00253L11 3.00253C11.5523 3.00253 12 3.45025 12 4.00253L12 12L8 10ZM8 11.3975L13.25 14.0225L13.25 4.00253C13.25 2.75989 12.2426 1.75253 11 1.75253L5 1.75253C3.75736 1.75254 2.75 2.7599 2.75 4.00254L2.75001 14.0225L8 11.3975Z"})}))}function C({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11.3975L13.25 14.0225L13.25 4.00253C13.25 2.75989 12.2426 1.75253 11 1.75253L5 1.75253C3.75736 1.75254 2.75 2.7599 2.75 4.00254L2.75001 14.0225L8 11.3975Z",fill:e})}))}const _=({item:e,onClick:t})=>{const i=(0,r.wA)(),{s:n,theme:{colors:c}}=(0,o.I)(k),{_t:d}=(0,a.c)(),l={object_id:e.id,object_type:e.type,point:"point"in e?e.point:void 0},u=(0,r.d4)((e=>(0,b.cE)(l)(e)||(0,b.TH)(l)(e)));return(0,s.jsxs)(w.$,Object.assign({medium:!0,background:c["Color/Grayscale/Gray/November Sky"],appearance:"noncontrast",experimentalStyles:n.button,onClick:()=>{if(null==t||t(),u)return i((0,x.K2)((0,j.PC)(),(0,y.D)(l)));i((0,p.oC)("saveGuideBookmark",{item:e}))},dataN:"wat-guide-minicard-save"},{children:[u?(0,s.jsx)(C,{}):(0,s.jsx)(I,{}),d(u?"Сохранено":"Сохранить")]}))},k=(0,o.r)((({colors:e})=>({button:{display:"flex",alignItems:"center",gap:4,color:e["Type/Blackish/A 1.00"]}})));var O=i(58471),S=i(10048),T=i(40837);const E=e=>(0,s.jsx)(S.w,{loader:O.b.guideBookmarksPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:T.N})},52937:(e,t,i)=>{"use strict";i.d(t,{X:()=>r,s:()=>s});const s="(Гид) ",r="Мои места"},95926:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>s,Tp:()=>r});var s={};i.r(s),i.d(s,{g:()=>n});var r=i(62742);i(44205);const n=()=>(e,{appContext:t})=>({uiElement:{name:"favoritesIcon",ownerName:"map",frameUuid:t.staticFrames.map.id},action:"tap"})},62742:(e,t,i)=>{"use strict";i.d(t,{B:()=>c,Z:()=>o});var s=i(84082),r=i(66333),n=i(74961),a=i(52937);const o=(0,r.Mz)([n.XR,s.cB],((e,t)=>e.reduce(((e,i)=>{var s,r;if((null===(s=i.title)||void 0===s?void 0:s.includes(a.s))&&i.collection_id){return e+((null===(r=t[i.collection_id])||void 0===r?void 0:r.length)||0)}return e}),0))),c=(0,r.Mz)([n.XR],(e=>e.filter((e=>{var t;return null===(t=e.title)||void 0===t?void 0:t.includes(a.s)}))))},44205:(e,t,i)=>{"use strict";i.d(t,{v:()=>g});var s=i(73766),r=i(27892),n=i(12017),a=i(19263),o=i(35023),c=i(7335),d=i(44288),l=i(1804),u=i(95014),p=i(52937),m=i(95926);(0,n.n5)("openGuideBookmarksPopup",(e=>(0,c.eU)(m.Tp.B,(t=>(0,r.PB)({id:(0,o.W7)(),isClosableByClickingOutside:!0,type:"guideBookmarks",collections:t,item:e})))));const g=(0,n.n5)("saveToBookmark",(({item:e,collectionName:t,collectionId:i})=>{var r;const c={object_id:e.id,object_type:e.type,point:"point"in e&&e.point||"geometry"in e&&(null===(r=e.geometry)||void 0===r?void 0:r.centroid)&&(0,a.iL)(e.geometry.centroid)||void 0};if(i)return(0,n.K2)((0,l.z)({collectionId:i,item:c}),(0,u.v)());if(t){const e=(0,o.W7)(),i=(0,s.si)(e);return(0,n.K2)((0,d.N)({collectionId:e,color:i,title:p.s+t}),(0,l.z)({collectionId:e,item:c}),(0,u.v)())}return(0,n.lQ)()}))},57904:(e,t,i)=>{"use strict";i.d(t,{o:()=>n});var s={};i.r(s),i.d(s,{o:()=>l});var r={};i.r(r),i.d(r,{openCollection:()=>y,openGuide:()=>b});var n={};i.r(n),i.d(n,{T:()=>s,Q:()=>r});var a=i(78069),o=i(12017),c=i(66333),d=i(82393);const l=(0,c.Mz)([d.n$,e=>e.config],((e,{featureGuide:t,guideProjects:i})=>!(!t||!(null==e?void 0:e.code))&&i.includes(e.code)));var u=i(7335),p=i(15770),m=i(95415),g=i(71794),h=i(90059),f=i(72760),v=i(94447);const b=(0,o.n5)("openGuide",(({scenarioId:e,rubricIds:t,withPrefetch:i}={})=>(0,u.RC)({isEnabled:l,projectId:d.MJ,featureInteresting:e=>e.config.featureInteresting},(({isEnabled:s,projectId:r,featureInteresting:n})=>r?s?(0,o.K2)(i&&(e?p.MQ.prefetchGetCollectionsQuery({projectId:r,scenarioId:e,rubricIds:t}):m.cl.prefetchGetScenariosQuery({projectId:r})),(0,a.S2)(),(0,v.h1)({rubricIds:t,scenarioId:e})):n?(0,f.J)("interesting"):(0,o.lQ)():(0,o.lQ)())))),y=(0,o.n5)("openCollection",(({id:e,rubricIds:t,withPrefetch:i})=>(0,u.RC)({isEnabled:l,projectId:d.MJ},(({isEnabled:s,projectId:r})=>s&&r?(0,o.K2)(i&&p.MQ.prefetchGetCollectionQuery({id:e,rubricIds:t}),(0,h.ls)({id:e})):(0,g.l)({collectionId:e,type:"public"})))))},16244:(e,t,i)=>{"use strict";i.d(t,{y:()=>O,t:()=>n});var s={};i.r(s),i.d(s,{openGuideOnboardingPopup:()=>d});var r={};i.r(r),i.d(r,{showGuideOnboardingPopup:()=>u,tapCloseGuideOnboardingPopup:()=>m,tapForwardButtonGuideOnboardingPopup:()=>p});var n={};i.r(n),i.d(n,{Nd:()=>r,QO:()=>s});var a=i(27892),o=i(12017),c=i(35023);const d=(0,o.n5)("openGuideOnboardingPopup",(()=>(0,a.PB)({id:(0,c.W7)(),type:"guideOnbordingPopup"})));var l=i(99906);const u=()=>({frameId:e},t)=>(0,l.f_)({name:"onboardingGuidePopup",state:t,uuid:e}),p=()=>({frameId:e})=>({uiElement:{name:"forwardButton",ownerName:"onboardingGuidePopup",frameUuid:e},action:"tap"}),m=()=>({frameId:e})=>({uiElement:{name:"close",ownerName:"onboardingGuidePopup",frameUuid:e},action:"tap"});var g=i(31085),h=i(1999),f=i(84175),v=i(82781),b=i(80552),y=i(65932),x=i(88114),j=i(46501),w=i(79594),I=i(8365),C=i(14041),_=i(4340),k=i(94447);const O=()=>{const e=(0,w.wA)(),t=(0,v.c)(),{css:i,s}=(0,f.I)(S),{bssRef:r,useBssHandler:n}=(0,I.E)(u()),o=n(p),c=n(m);return(0,C.useEffect)((()=>{_.IG.local.setItem("showedGuideOnboardingPopup","true")}),[]),(0,g.jsx)(h.j,{desktopWidth:377,body:(0,g.jsxs)("div",Object.assign({className:i(s.root),ref:r},{children:[(0,g.jsxs)("div",Object.assign({className:i(s.header)},{children:[(0,g.jsx)("div",Object.assign({className:i(s.title)},{children:t._gg("Обновили Гид!")})),(0,g.jsx)(y.ir,{appearance:"default",icon:(0,g.jsx)(j.b,{}),onClick:()=>{e((0,a.fs)()),c()}})]})),(0,g.jsx)("div",Object.assign({className:i(s.imageWrapper)},{children:(0,g.jsx)(x.E,{alt:"guide",src:"/public/guide/guideOnboarding.png"})})),(0,g.jsx)("p",Object.assign({className:i(s.paragraph)},{children:t._gg("Теперь ещё проще найти, куда сходить в новом или знакомом городе. Маршруты для прогулок,&nbsp;интересные районы и подборки по настроению — всё под рукой. Сохраняйте любимые места и возвращайтесь к ним позже. Исследуйте города с 2ГИС!")})),(0,g.jsx)(y.rA,Object.assign({tag:"button",onClick:()=>{o(),e((0,k.h1)()),e((0,a.fs)())},appearance:"primary",size:"l",fullWidth:!0},{children:t._gg("Открыть Гид")}))]}))})},S=(0,f.r)((()=>({root:{paddingLeft:16,paddingRight:16,paddingTop:8,paddingBottom:16,boxSizing:"border-box"},header:{paddingTop:8,paddingBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},imageWrapper:{marginBottom:16,width:345},title:Object.assign(Object.assign({},b.leadMedium),{fontSize:16,position:"relative"}),paragraph:Object.assign(Object.assign({},b.regular),{fontSize:15,position:"relative",marginBottom:16})})))},38065:(e,t,i)=>{"use strict";i.d(t,{In:()=>Je,SV:()=>st,UC:()=>Qe,xG:()=>r});var s={};i.r(s);var r={};i.r(r),i.d(r,{Types:()=>s,bssLayersIconTap:()=>m.pe,bssShow:()=>m.oM,bssShowList:()=>m.C3,bssShowSubLayersList:()=>Te,bssShowSubLayersListMenu:()=>Se,bssSubLayerOpenTap:()=>Ee,useRealtySublayers:()=>qe});var n=i(31085),a=i(14041),o=i(84175),c=i(81618),d=i(99259),l=i(80552),u=i(79594),p=i(8365),m=i(89712),g=i(95792),h=i(82781);function f(e,t){switch(e){case"additional":return t._gg("Дополнительные слои");case"friends":return t._t("Друзья на карте");case"realty":return t._gg("Недвижимость");case"parkings":return t._t("Парковки");case"eta":return t._t("Транспорт на карте");case"photos":return t._t("Фотографии");case"metro":return t._t("Метро на карте");case"exchange":return t._gg("Обмен валют");case"roadAccident":return t._gg("Карта плотности ДТП");case"tourism":return t._t("Туристические места");default:return void 0}}var v=i(24255);function b({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29L27.52 24zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3L22.42 22z"})}))}function y({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2h-1.34zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22h-2.06z"})}))}function x({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M8.47 24h3.43c-1.354-.696-2.51-1.723-3.358-2.987-.849-1.264-1.363-2.722-1.495-4.238-.132-1.517.123-3.042.74-4.433.619-1.391 1.58-2.603 2.793-3.522L16 24l5.42-15.18c1.213.919 2.174 2.13 2.792 3.522.618 1.391.872 2.916.74 4.433-.131 1.516-.646 2.974-1.494 4.238-.849 1.264-2.004 2.291-3.358 2.987h3.43c1.254-1.182 2.212-2.642 2.799-4.262.586-1.62.784-3.355.576-5.066-.207-1.71-.813-3.348-1.77-4.782C24.18 8.457 22.9 7.268 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58c-1.503.845-2.786 2.03-3.746 3.462-.96 1.432-1.57 3.069-1.782 4.78-.211 1.71-.017 3.447.566 5.069.583 1.622 1.54 3.084 2.792 4.27z"})}))}function j({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:32,height:32,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"M24 7.15C21.5649 5.76802 18.7989 5.07653 16 5.15C13.2011 5.07653 10.4351 5.76802 8 7.15V19.15L11.66 22.07L8.29 25.44L9.71 26.85L13.41 23.15H18.59L22.29 26.85L23.71 25.44L20.34 22.07L24 19.15V7.15ZM10 11.15H22V13.57L16 17L10 13.57V11.15ZM16 7.15C18.0612 7.1335 20.1037 7.54199 22 8.35V9.15H10V8.35C11.8954 7.53895 13.9385 7.13032 16 7.15ZM18.3 21.15H13.7L10 18.15V15.87L16 19.3L22 15.87V18.19L18.3 21.15Z",fill:e})}))}function w({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e,viewBox:"0 0 32 32"},{children:[(0,n.jsx)("path",{d:"M22 18h-3v2h3v-2zm-12 0h3v2h-3v-2zm12-4H10v2h12v-2z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M16 5c-2.484 0-5.011.308-6.776.583C7.313 5.881 6 7.544 6 9.418V14H4v2h2v9a2 2 0 002 2h2a2 2 0 002-2h8a2 2 0 002 2h2a2 2 0 002-2v-9h2v-2h-2V9.418c0-1.874-1.313-3.537-3.224-3.835C21.011 5.308 18.484 5 16 5zM9.532 7.56C11.249 7.292 13.662 7 16 7c2.337 0 4.751.292 6.468.56.878.136 1.532.91 1.532 1.858V25h-2v-1a1 1 0 00-1-1H11a1 1 0 00-1 1v1H8V9.418c0-.949.654-1.722 1.532-1.858z"})]}))}function I({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M27.14 22.36L25.23 8.59a3 3 0 0 0-3-2.59h-2.64l-2 2h-3.18l-2-2H9.74a3 3 0 0 0-3 2.59L4.86 22.36A3.2 3.2 0 0 0 11 24l1.68-4h6.66L21 24a3.2 3.2 0 0 0 6.13-1.67zm-2.26 1.23a1.24 1.24 0 0 1-2-.33L20.67 18h-9.34l-2.19 5.26a1.25 1.25 0 0 1-2 .33 1.2 1.2 0 0 1-.28-1L8.75 8.86a1 1 0 0 1 1-.86h1.85l2 2h4.82l2-2h1.85a1 1 0 0 1 1 .86l1.91 13.77a1.2 1.2 0 0 1-.3.96z"}),(0,n.jsx)("path",{d:"M18.005 14.002l2-2.003 2.002 2-2 2.003zM10.002 14.003l2-2.003 2.002 2-2 2.002z"})]}))}function C({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 10h4.5a3.5 3.5 0 110 7H15v1h3v2h-3v2h-2v-2h-2v-2h2v-1h-2v-2h2v-5zm2 5h2.5a1.5 1.5 0 000-3H15v3z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 5C9.925 5 5 9.925 5 16s4.925 11 11 11 11-4.925 11-11S22.075 5 16 5zM7 16a9 9 0 1118.001.001A9 9 0 017 16z",clipRule:"evenodd"})]}))}function _({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e},{children:(0,n.jsx)("path",{d:"M6 9a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V9zm3-1a1 1 0 00-1 1v10.586l1.879-1.879a2.998 2.998 0 014.242 0L20.414 24H23a1 1 0 001-1V9a1 1 0 00-1-1H9zM8 23v-.586l3.293-3.293a1 1 0 011.414 0L17.586 24H9a1 1 0 01-1-1zm9-9.5a1.5 1.5 0 113.001.001A1.5 1.5 0 0117 13.5zm1.5-3.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z",fillRule:"evenodd"})}))}var k=i(58689),O=i(49048),S=i(82393);function T({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.753 3.341a1 1 0 0 0-1.751.721l.5 8A1 1 0 0 0 15.5 13H24a1 1 0 0 0 .8-.4l3-4a1 1 0 0 0-1.017-1.576l-3.427.761-.364-2.91a1 1 0 0 0-1.643-.634l-2.748 2.356-2.848-3.256ZM16.439 11l-.258-4.131 1.566 1.79a1 1 0 0 0 1.404.1l2.087-1.79.27 2.155a1 1 0 0 0 1.209.852l1.861-.413L23.5 11h-7.06Zm-3.867.58-.248-1.991c-.993.05-1.928.12-2.695.21-1.252.149-2.133 1.12-2.358 2.246l-.707 3.536-.564.752a5 5 0 0 0-1 3V25a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5.667a5 5 0 0 0-1-3l-.564-.752L25.32 15H8.72l.512-2.563c.078-.39.35-.618.633-.652.753-.09 1.697-.158 2.707-.206ZM8 17l-.4.533A3 3 0 0 0 7.019 19H11a1 1 0 0 1 1 1v1H7v4h2v-2h14v2h2v-4h-5v-1a1 1 0 0 1 1-1h3.981a3 3 0 0 0-.581-1.467L24 17H8Z",fill:e})}))}var E=i(26091),M=i(39419);const N=(0,a.memo)((({type:e})=>{const t=(0,u.d4)(S.zN);switch(e){case"eta":return(0,n.jsx)(w,{});case"metro":return"32"===t?(0,n.jsx)(y,{}):"38"===t?(0,n.jsx)(x,{}):"99"===t?(0,n.jsx)(j,{}):(0,n.jsx)(b,{});case"realty":return(0,n.jsx)(v.G,{});case"parkings":return(0,n.jsx)(k.E,{});case"photos":return(0,n.jsx)(_,{});case"additional":return(0,n.jsx)(O.z,{});case"exchange":return(0,n.jsx)(C,{});case"roadAccident":return(0,n.jsx)(T,{});case"tourism":return(0,n.jsx)(E.U,{});case"friends":return(0,n.jsx)(M.m,{});default:return(0,n.jsx)(I,{})}}));N.displayName="Icon";var L=i(54935),P=i(70498),R=i(64099),A=i(18887),B=i(71064),z=i(19952),F=i(27016),H=i(77847);const U=(0,a.memo)((e=>{const{type:t,isDropdownOpen:i,isActive:s,position:r,onLayerHover:d,hasLabel:l}=e,{css:v,s:b}=(0,o.I)(D),y=(0,h.c)(),{ref:x,addTooltip:j}=(0,g.J)({title:f(t,y),to:"bottomMiddle",offset:4}),w="additional"===t,I=(0,a.useRef)(null),{isHovered:C}=(0,L.M)({ref:I});(0,a.useEffect)((()=>{d(t,C)}),[C]);const{bssRef:_,useBssHandler:k}=(0,p.E)((0,m.oM)({type:t,position:r})),O=k(m.pe,{type:t,enableMapLayer:!s,position:r}),T=(0,p.E)().useBssHandler(F.s),E=(0,u.wA)(),M=(0,u.d4)((e=>e.appContext.relief)),P=(0,u.d4)(S.n$),R=(0,A.P)(function(e,t){switch(e){case"metro":return t?{type:"metroScheme",cityAlias:t.uri_code}:void 0;case"realty":return{type:"realty"};default:return}}(t,P));return(0,n.jsxs)("li",Object.assign({className:v(b.menuItem,w&&b._additional,s&&w&&b._additionalActive),ref:"additional"===t?I:x,onClick:()=>{w||(O(),E((0,H.po)({newLayer:s?void 0:t,manual:!0})),"roadAccident"!==t&&"eta"!==t||s||!M||(E((0,z.g)(!1)),T({isActive:!1,autoEvent:!0})))}},c.dx.n("wat-layer-list-item"),c.dx.t(t),c.dx.s(s.toString()),{children:[(0,n.jsx)(B.A,Object.assign({href:R,color:"inherit"},{children:(0,n.jsx)("div",Object.assign({className:v(b.icon,!w&&s&&b._active),ref:_},{children:(0,n.jsx)(N,{type:t})}))})),l&&(0,n.jsx)("span",Object.assign({className:v(b.label)},{children:f(t,y)})),!i&&j]}))}));U.displayName="LayersControlItem";const D=(0,o.r)({menuItem:Object.assign(Object.assign({},l.regular),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),_additional:{paddingStart:8,paddingEnd:8,marginEnd:-8,boxShadow:P.E.innerBorderStartBase,color:d.T.gray_929292,":hover":{color:d.T.blue_028eff}},_additionalActive:{color:d.T.blue_028eff},icon:{flex:"0 0 32px",height:32},_active:{marginEnd:-4,marginStart:-4,paddingEnd:4,paddingStart:4,color:d.T.white,borderRadius:R.Vq.small,backgroundColor:d.T.blue_028eff,":hover":{background:d.T.blue_0070cc}},label:{marginStart:8}});var V=i(68887);const $=e=>{const{layer:t,activeLayer:i,isDropdownOpen:s,isDropdownHovered:r}=e;return s||r?t===i||"additional"===t:i===t};var W=i(11540);const q=(0,a.memo)((e=>{const{position:t,isActive:i,onClose:s,item:{title:r,type:d}}=e,{css:l,s:g}=(0,o.I)(Z),{bssRef:h,useBssHandler:f}=(0,p.E)((0,m.oM)({type:d,position:t,hasOwner:!0})),v=f(m.pe,{type:d,enableMapLayer:!i,position:t,hasOwner:!0}),b=(0,p.E)().useBssHandler(F.s),y=(0,u.wA)(),x=(0,u.d4)((e=>e.appContext.relief)),j=(0,a.useCallback)((()=>{"additional"!==d&&(v(),y((0,H.po)({newLayer:i?void 0:d,manual:!0})),"roadAccident"!==d&&"eta"!==d||i||!x||(y((0,z.g)(!1)),b({isActive:!1,autoEvent:!0}))),s&&s()}),[d,s,v,y,i,x,b]);return(0,n.jsxs)("li",Object.assign({className:l(g.root,i&&g._active),onClick:j,ref:h},c.dx.n("wat-layer-drop-down-list-item"),c.dx.t(d),c.dx.s(i.toString()),{children:[(0,n.jsx)("div",Object.assign({className:l(g.icon)},{children:(0,n.jsx)(N,{type:d})})),r]}))}));q.displayName="DropdownItem";const Z=(0,o.r)({root:{position:"relative",display:"flex",alignItems:"center",minWidth:172,paddingTop:4,paddingBottom:4,paddingStart:20,paddingEnd:24,whiteSpace:"nowrap",listStyleType:"none",borderRadius:R.Vq.default,color:d.T.gray_929292,cursor:"pointer","--icon-color":d.T.gray_262626,":hover":{color:d.T.blue_028eff}},_active:{color:d.T.gray_262626,"--icon-color":d.T.blue_028eff,":hover":{color:d.T.blue_028eff}},icon:{postion:"absolute",height:32,width:32,start:0,marginEnd:16,color:"var(--icon-color)"}}),Q=(e,{tp:t})=>{const{items:i}=e;return{list:i.reduce(((e,i)=>{const s=f(i,t);return s?[...e,{type:i,title:s}]:e}),[])}},G=(0,a.memo)((e=>{const{items:t,isDropdownOpen:i,onClose:s}=e,{css:r,s:a}=(0,o.I)(K),c=(0,u.d4)((e=>e.appContext.activeLayer)),{list:d}=(0,W.kc)(Q,{items:t});return(0,n.jsx)("nav",Object.assign({className:r(a.root)},{children:(0,n.jsx)("ul",Object.assign({className:r(a.list)},{children:d.map(((e,t)=>(0,n.jsx)(q,{item:e,position:t+1,onClose:s,isActive:$({layer:e.type,activeLayer:c,isDropdownOpen:i,isDropdownHovered:!0})},t)))}))}))}));G.displayName="Dropdown";const K=(0,o.r)((({mobile:e})=>({root:{display:"block",boxShadow:e?"none":P.E.popup,borderRadius:R.Vq.default,background:d.T.white,paddingTop:8,paddingBottom:8},list:Object.assign({},e?{display:"flex",flexDirection:"column",gap:8}:{})})));var Y=i(38519),X=i(57904),J=i(16244),ee=i(46579),te=i(27783),ie=i(67235),se=i(54752),re=i(85608);const ne=(0,i(3398).createModel)("hasBusInViewport",(({services:e},{viewport:t},i)=>({fetch(){return(0,re.sH)(this,void 0,void 0,(function*(){return void 0!==i?i:(yield e.etaApi.getHasBusInViewport({viewport:t,zoom:11})).data.has_bus_in_viewport}))}})),(({fetch:e})=>{e()}));var ae=i(52160),oe=i(80905),ce=i(37163),de=i(45396),le=i(84815);const ue=(0,i(66333).Mz)([({state:e,localityId:t})=>{var i;return t&&(null===(i=e.data.roadAccident[t])||void 0===i?void 0:i.data)||void 0}],(e=>({roadAccidentData:e})));var pe=i(75750),me=i(56624),ge=i(22934);const he=(0,pe.E)("fetchRoadAccident",(e=>({diskApi:t})=>t.getRoadAccidentData({localityId:e.localityId})),(0,me.I)("roadAccident",{start:(e,{params:t})=>(0,ge.vL)(e,t.localityId),success:(e,{result:t,params:i})=>(0,ge.h$)(e,i.localityId,t),error:(e,{params:t,error:i})=>(0,ge.i5)(e,t.localityId,i)}));var fe=i(21959),ve=i(81678),be=i(55129),ye=i(81988);var xe=i(47128),je=i(4340);const we=["realty","metro","eta","friends","exchange","tourism","roadAccident","photos"],Ie=["realty","friends","metro","eta","parkings","exchange","tourism","roadAccident","photos"],Ce=["5349042514588558","5349042514588559"];function _e(e){const{isDropdownOpen:t,isDropdownHovered:i}=e,{featureRealty:s,featureReadOnly:r,featureExchange:n,featureRoadAccidentHeatmap:o,featureTouristLayer:c,featureAirplane:d,featureFriends:l,featureGuideOnboardingPopup:p}=(0,ee.U)(),m=(0,u.d4)((e=>e.appContext.activeLayer)),g=(0,u.wA)(),h=e=>$({layer:e,activeLayer:m,isDropdownOpen:t,isDropdownHovered:i}),f=(0,u.d4)(S.Hv),v=null==f?void 0:f.data,b=(0,a.useMemo)((()=>d&&(0,xe.a)(v,Y.lX.constants.airplaneRegionsForShow)),[d,v]),y=(0,u.d4)((e=>e.session.is3dEnabled)),x=(0,u.d4)((e=>e.appContext.zoom)),j=x<9,w=(0,u.d4)((e=>(null==v?void 0:v.regionId)?(0,ae.b7)({state:e,id:v.regionId}):void 0)),I=null==w?void 0:w.data,C=(0,a.useMemo)((()=>(null==I?void 0:I.bounds)?(0,ie.R9)((0,de.s)(I.bounds)):void 0),[null==I?void 0:I.id]),_=(0,se.fn)(C?ne({viewport:[{lon:C[1][0],lat:C[0][1]},{lon:C[0][0],lat:C[1][1]}]}):void 0).data,k=!!I&&!!_&&y&&!(0,te.b)(x),O="loading"===(null==w?void 0:w.meta.status)||"loading"===(null==f?void 0:f.meta.status),T=h("roadAccident"),E=(0,u.d4)(S.Qc)||"",M=(0,u.d4)(S.ER),N=Ce.includes(E)?M:E,L=(0,u.d4)((e=>ue({state:e,localityId:N}).roadAccidentData));(0,a.useEffect)((()=>{T&&y&&o&&!L&&N&&g(he({localityId:N}))}),[T,N,o,L,y,g]),(0,a.useEffect)((()=>{o&&y||!T||g((0,ce.xA)())}),[o,T,y,g]),function(e=[]){(0,le.e)(((t,{Heatmap:i})=>{const s=e.map((({longitude:e,latitude:t,severity:i})=>({coordinates:[e,t],weight:i})));if(!s.length)return;const r=new i(t,{points:s,pointRadius:["interpolate",["linear"],["zoom"],7,1,9,3,10,6,11,9,12,15,13,25,14,35,16,75,18,150,19,250,20,500],palette:{.37:"rgba(53,136,253,0)",.425:"rgba(53,136,253,0.2)",.45:"rgb(255,201,77,0.7)",.5:"rgb(255,202,20)",1:"rgb(245,0,7)"},intensity:["interpolate",["linear"],["zoom"],9,.13,11,.24,13,.35,16,.365,18,.47],opacity:1});return()=>{r.destroy()}}),[e])}(T?L:void 0);const P=!(!(null==I?void 0:I.flags.metro)||!y||j),R=h("metro");(0,a.useEffect)((()=>{I&&I.flags.metro&&!j||!R||g((0,ce.xA)())}),[null==I?void 0:I.id,R,j]);const A=h("eta");(0,a.useEffect)((()=>{k||!A||void 0===_||O||g((0,H.po)({newLayer:void 0}))}),[k,_,O]);const B=(0,u.d4)((e=>!!(0,oe.bB)(e.appContext.frames,"realty"))),z=h("realty");(0,a.useEffect)((()=>{s&&(B&&!z&&g((0,ce.cK)("realty")),z&&!B&&g((0,ce.xA)()))}),[m,B,s,z,g,I]),function(e){const t=(0,u.d4)((e=>!!e.appContext.activeSublayer));(0,le.e)((i=>{e&&t&&i.once("styleload",(()=>{i.addLayer({id:"realty-heatmap-style",type:"raster",minzoom:6,filter:["match",["sourceAttr","type"],["realty_heatmap"],!0,!1],style:{opacity:["interpolate",["linear"],["zoom"],2,.7,10,.6,13,.5,16,.3,18,.15]}})}))}),[!!e,t])}(z);const F=!(!y||!(null==I?void 0:I.flags.parking_layer)),U=h("parkings");(0,a.useEffect)((()=>{U&&g((0,ce.cK)("parkings"))}),[U,g]);const D=(0,u.d4)((e=>{var t;return null===(t=e.appContext.frames[e.appContext.frames.length-1])||void 0===t?void 0:t.type})),V=h("exchange");(0,a.useEffect)((()=>{n&&("exchange"!==D&&V&&g((0,ce.xA)()),"exchange"!==D||V||g((0,ce.cK)("exchange")))}),[n,D,m,V,g]);const W=h("tourism"),q=(0,u.d4)(X.o.T.o),Z=je.IG.local.getItem("showedGuideOnboardingPopup"),{isMobileDevice:Q}=(0,ee.U)(),G=!Q&&q&&p&&W&&!Z;return(0,a.useEffect)((()=>{y&&c||!W||g((0,ce.xA)())}),[y,c,W,g]),(0,a.useEffect)((()=>{G&&g(J.t.QO.openGuideOnboardingPopup())}),[G,g]),function({isLayerHighlighted:e}){const t=(0,u.wA)(),{featureFriends:i,friendsDebugToken:s,isMobileDevice:r,featureFriendsList:n}=(0,ee.U)(),o=(0,u.d4)(fe.x3)||!!s,c=(0,u.d4)(fe.sX)&&!s,d=e("friends"),{data:l}=ve.vK.useUserFriendshipCounterQuery({},{enabled:i&&!r&&o&&d}),p=l&&l.from.confirmed+l.to.confirmed,m=(0,u.d4)((e=>e.appContext.frames)),g=!!(0,oe.bB)(m,"userPublicProfile"),h=o&&d&&!!p&&(0===m.length||g),f=(0,u.d4)((e=>!!(0,oe.bB)(e.appContext.frames,"friendsList")));(0,a.useEffect)((()=>{i&&!r&&(h&&!f&&n?t(be.V.openFriendsList(ye.M.openPublicProfile)):f&&c&&t(be.V.closeFriendsList()))}),[f,t,i,h,r,c,n])}({isLayerHighlighted:h}),(0,a.useMemo)((()=>{function e(e){switch(e){case"realty":return s;case"friends":return l;case"metro":return P;case"eta":return k;case"parkings":return F;case"exchange":return n;case"tourism":return y&&c;case"roadAccident":return y&&o;case"photos":return y&&!r;default:return!1}}const t=4-(b?2:0),i=we.filter((t=>e(t))).slice(0,t),a=Ie.filter((t=>e(t)));return a.length>0&&i.push("additional"),{mainLayers:i,additionalLayers:a,isAirplaneShown:b}}),[we,Ie,k,b,P,F])}var ke=i(76065),Oe=i(64433);const Se=()=>({frameId:e})=>({uiElement:{name:"mapSubLayersScreen",ownerName:"realtyLayerIcon",frameUuid:e}}),Te=e=>({frameId:t})=>({uiElement:{name:"mapSubLayersList",ownerName:"mapSubLayersScreen",frameUuid:t},payload:{mapSubLayersList:{size:e.size}}}),Ee=e=>({frameId:t})=>{const{type:i,size:s,enableMapSubLayer:r}=e;return{uiElement:{name:i,ownerName:"mapSubLayersList",frameUuid:t},action:"tap",payload:{mapSubLayersList:{size:s},mapSubLayer:{name:Me(i),enableMapSubLayer:r}}}},Me=e=>{switch(e){case"realtyBuySubLayerIcon":return"realtyBuySubLayer";case"realtyRentSubLayerIcon":return"realtyRentSubLayer";case"realtyWalkDistanceSubLayerIcon":return"realtyWalkDistanceSubLayer"}};var Ne=i(12017),Le=i(5161),Pe=i(20887);const Re=(0,Ne.n5)("setSublayerOnClick",(e=>(0,Ne.gd)((0,Ne.K2)(Pe.Pf.signals.withFrame((t=>{const i=Y.lX.getCategoryBySublayer(e);return(null==t?void 0:t.categoryId)!==i&&i?Le.qI.QO.changeCategory({newValue:i}):(0,Ne.lQ)()})),(0,ce.OB)(e)))));var Ae=i(12043),Be=i(33581);const ze=(0,a.memo)((({type:e,title:t,size:i})=>{const{s,css:r}=(0,o.I)(Fe),{isHovered:a,refCallback:d}=(0,L.M)(),{useBssHandler:l}=(0,p.E)(),m=e===(0,u.d4)(Be.C);let g="realtyBuySubLayerIcon";"realtyPriceRent"===e&&(g="realtyRentSubLayerIcon"),"realtyWalkDistance"===e&&(g="realtyWalkDistanceSubLayerIcon");const h=l(Ee,{type:g,size:i,enableMapSubLayer:!m}),f=(0,Oe.I)((({isActive:e,type:t})=>(h(),e?(0,ce.Hq)():Re(t))),{isActive:m,type:e});return(0,n.jsxs)("div",Object.assign({className:r(s.root),onClick:f,ref:d},c.dx.n("wat-on-off-sublayer"),{children:[(0,n.jsx)(Ae.j,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:r(s.dot,a&&s._hoveredDot,m&&!a&&s._activeDot)}),(0,n.jsx)("div",Object.assign({className:r(s.title_gray_929292,m&&s.title_gray_262626,a&&s.hoveredTitle)},{children:t}))]})}),(0,n.jsx)(Ae.h,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:r(s.bigDotWrapper,m&&s._activeBigDot)},{children:(0,n.jsx)("div",{className:r(m&&s._activeInnerDot)})})),(0,n.jsx)("div",Object.assign({className:r(s.title_gray_262626,m&&s.title_gray_929292)},{children:t}))]})})]}))}));ze.displayName="RealtySublayersItem";const Fe=(0,o.r)({root:{height:32,padding:"0 16px",display:"flex",alignItems:"center",boxSizing:"border-box",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${d.T.gray_262626}`,borderRadius:V.V.oval},_hoveredDot:{borderColor:d.T.blue_028eff},_activeDot:{borderColor:d.T.blue_028eff},title_gray_929292:{whiteSpace:"nowrap",color:d.T.gray_929292},hoveredTitle:{color:d.T.blue_028eff},title_gray_262626:{whiteSpace:"nowrap",color:d.T.gray_262626},bigDotWrapper:{display:"flex",alignItems:"center",justifyContent:"center",marginEnd:20,boxSizing:"border-box",width:20,height:20,border:`2px solid ${d.T.gray_e6e6e6}`,borderRadius:"50%"},_activeBigDot:{border:`2px solid ${d.T.blue_028eff}`},_activeInnerDot:{width:12,height:12,borderRadius:"50%",backgroundColor:d.T.blue_028eff}});var He=i(97423),Ue=i(24963),De=i(69969),Ve=i(46954);var $e=i(66698),We=i(91984);const qe=()=>{const e=(0,u.d4)(S.n$),t=(0,h.c)(),i=(0,u.d4)(Be.C);return(0,a.useMemo)((()=>{const s=[];return((null==e?void 0:e.code)&&$e.Fx.includes(e.code)||"realtyPriceSale"===i||"realtyPriceRent"===i)&&s.push({type:"realtyPriceSale",title:t._gg("Цена продажи"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]},{type:"realtyPriceRent",title:t._gg("Цена аренды"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]}),((null==e?void 0:e.flags.metro)||"realtyWalkDistance"===i)&&s.push({type:"realtyWalkDistance",title:t._gg("Доступность метро"),temperatureLabels:[t._gg("< 5 мин"),t._gg("5-10"),t._gg("10-20"),t._gg("20-30")]}),s}),[t,null==e?void 0:e.flags.metro,i])},Ze=(0,a.memo)((()=>{const{css:e,s:t}=(0,o.I)(Ge),i=(0,h.c)(),s=(0,u.d4)(Be.C),r=qe(),{isHovered:c,refCallback:l}=(0,L.M)(),{bssRef:m,useBssHandler:g}=(0,p.E)(Se()),f=s&&r.find((e=>e.type===s)),[v,b]=(0,a.useState)(!0),y=(0,a.useRef)(null);!function({ref:e,isActive:t,currentLayer:i,promotedLayer:s}){const r=(0,u.wA)(),n=(0,ee.U)(),o=!(0,u.d4)(fe.Us),c=function(e){switch(e){case"metro":return"layer_metro";case"realty":return"layer_realty_heatmap";case"realty_sublayers":return"layer_realty_sublayers";case"exchange":return"layer_exchange";case"roadAccident":return"layer_road_accident";case"tourism":return"layer_tourism";default:return"layer_photo"}}(s);(0,a.useEffect)((()=>{s&&o&&i===s&&(t&&r((0,Ve.l)({name:`_seen-${c}`,value:!0})),setTimeout((()=>{e.current&&r((0,De.y)({type:c,targetBoundingClientRect:e.current.getBoundingClientRect(),to:"bottomMiddle",offset:0}))}),2500))}),[o,c,e.current,s,t,n])}({ref:y,isActive:!!s,currentLayer:"realty_sublayers",promotedLayer:"realty_sublayers"});const x=g(We.h,{type:v?"mapSubLayers":"closeMapSubLayers"}),j=(0,a.useCallback)((()=>{x(),b(!v)}),[v,x]);return(0,a.useEffect)((()=>{b(!0)}),[f]),(0,Ue.W)(y,(()=>{b(!0)})),(0,n.jsxs)("nav",Object.assign({className:e(t.root),ref:y},{children:[(0,n.jsx)("div",Object.assign({ref:m},{children:(0,n.jsx)(B.A,Object.assign({onClick:j,color:"inherit",styles:t.headerLink,dataN:"wat-realty-sublayers-switcher"},{children:(0,n.jsxs)("div",Object.assign({className:e(t.header),ref:l},{children:[(0,n.jsxs)("div",Object.assign({className:e(t.title)},{children:[(0,n.jsx)("div",{className:e(t.dot,f&&v&&t._dotCollapsed,f&&!v&&t._dotActive,c&&t._dotHovered)}),(0,n.jsx)("span",Object.assign({className:e(t.text,f&&!v&&t._collapsed,c&&t._textHovered)},{children:f&&v?f.title:i._gg("Карты недвижимости")}))]})),(0,n.jsx)(ke.i,{direction:v?"down":"up",color:c?d.T.gray_262626:d.T.gray_929292})]}))}))})),f&&v&&(0,n.jsx)("div",Object.assign({className:e(t.temperature)},{children:(0,n.jsx)(He.B,{segments:"realtyWalkDistance"===f.type?$e.Ac:$e.pA,labels:f.temperatureLabels})})),(0,n.jsx)(Qe,{items:r,isListCollapsed:v})]}))}));Ze.displayName="RealtySublayers";const Qe=(0,a.memo)((({items:e,isListCollapsed:t})=>{const{css:i,s}=(0,o.I)(Ge),{bssRef:r}=(0,p.E)(Te({size:e.length}),{forceSendShowIfParamsChanged:[t]});return(0,n.jsx)("ul",Object.assign({className:i(s.list,t&&s.listCollapsed),ref:t?void 0:r},{children:e.map(((t,i)=>(0,a.createElement)(ze,Object.assign({},t,{key:i,size:e.length}))))}))})),Ge=(0,o.r)({root:{display:"block",minWidth:216,padding:"6px 0",overflow:"hidden",boxShadow:P.E.popup,borderRadius:V.V.default,backgroundColor:d.T.white},header:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:6,paddingBottom:6,paddingStart:16,paddingEnd:12},headerLink:{width:"100%",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${d.T.gray_e6e6e6}`,borderRadius:V.V.oval},_dotActive:{borderColor:d.T.gray_262626},_dotCollapsed:{borderColor:d.T.blue_028eff},_dotHovered:{borderColor:d.T.blue_028eff},title:{display:"flex",alignItems:"center",boxSizing:"border-box",marginEnd:10},_titleHovered:{color:d.T.blue_028eff},text:{whiteSpace:"nowrap",color:d.T.gray_262626},_textHovered:{color:d.T.blue_028eff},_collapsed:{color:d.T.gray_929292},temperature:{paddingTop:0,paddingBottom:4,paddingStart:16,paddingEnd:16},list:{overflow:"hidden"},listCollapsed:{height:0}});var Ke=i(27892),Ye=i(35023);const Xe=["realtyPriceRent","realtyPriceSale","realtyWalkDistance"],Je=(0,a.memo)((()=>{const e=(0,u.wA)(),{s:t,css:i}=(0,o.I)(et),s=(0,a.useRef)(null),r=(0,a.useRef)(null),{isHovered:d,refCallback:l}=(0,L.M)({ref:r}),[g,h]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),b=(0,a.useRef)(!1);b.current=g||d,(0,a.useEffect)((()=>{setTimeout((()=>{v(b.current)}),0)}),[g,d]);const y=(0,u.d4)((e=>e.appContext.activeLayer)),{mainLayers:x,additionalLayers:j,isAirplaneShown:w}=_e({isDropdownOpen:f,isDropdownHovered:d}),{bssRef:I}=(0,p.E)((0,m.C3)({size:x.length})),C=(0,a.useCallback)(((e,t)=>{h("additional"===e&&!!t)}),[]),_=function(e){if(e.includes("tourism"))return"tourism";if(e.includes("roadAccident"))return"roadAccident";if((new Date).getMinutes()%2==0){if(e.includes("metro"))return"metro"}else if(e.includes("realty"))return"realty";return e.includes("exchange")?"exchange":e.includes("photos")?"photos":void 0}(x),k=(0,u.d4)((e=>e.session.is3dEnabled)),O=(0,u.d4)(S.n$),T=(0,u.d4)(Be.C),E=(0,Oe.I)(Le.qI.QO.setFilter),M=function({is3dEnabled:e,activeLayer:t,activeSublayer:i,projectData:s}){return e&&"realty"===t&&(i&&Xe.includes(i)||(null==s?void 0:s.code)&&$e.Fx.includes(s.code)||(null==s?void 0:s.flags.metro))}({is3dEnabled:k,activeLayer:y,activeSublayer:T,projectData:O})&&!f;return x.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ae.j,{children:(0,n.jsxs)("nav",Object.assign({className:i(t.root),ref:I},{children:[(0,n.jsxs)("ul",Object.assign({className:i(t.list),ref:s},c.dx.n("wat-layers-icon-entry"),{children:[w&&(0,n.jsx)("li",Object.assign({className:i(t.menuItem)},{children:(0,n.jsx)(Y.cv,{onChange:E})})),x.map(((e,t)=>(0,n.jsx)(U,{type:e,isActive:$({layer:e,activeLayer:y,isDropdownOpen:f,isDropdownHovered:d}),onLayerHover:C,position:t+1,isDropdownOpen:f,promotedLayer:_,hasLabel:1===x.length},e)))]})),f&&(0,n.jsx)("div",Object.assign({className:i(t.dropdown),ref:l},c.dx.n("wat-layers-drop-down-list"),{children:(0,n.jsx)(G,{items:j,isDropdownOpen:f})})),M&&(0,n.jsx)("div",Object.assign({className:i(t.sublayers)},c.dx.n("wat-realty-sublayers-switcher-short"),{children:(0,n.jsx)(Ze,{})}))]}))}),(0,n.jsx)(Ae.h,{children:(0,n.jsx)("div",Object.assign({className:i(t.mobile),ref:I},{children:(0,n.jsx)("div",Object.assign({onClick:()=>{e((0,Ke.PB)({id:(0,Ye.W7)(),type:"layersControl",layers:j}))},className:i(t.layersIcon)},{children:(0,n.jsx)(N,{type:"additional"})}))}))})]}):null}));Je.displayName="LayersControl";const et=(0,o.r)({root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"40px",background:d.T.white,cursor:"pointer",pointerEvents:"auto",boxShadow:P.E.popup,borderRadius:V.V.default},list:{position:"relative",zIndex:R.fE.top,overflow:"hidden",height:"100%",padding:"0 8px"},dropdown:{position:"absolute",top:40,end:0,zIndex:R.fE.top,paddingTop:8},sublayers:{zIndex:R.fE.top,position:"absolute",top:48,start:"50%",transform:"translateX(-50%)"},menuItem:Object.assign(Object.assign({},l.regular),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:V.V.default,background:d.T.white,boxShadow:P.E.popup},layersIcon:{display:"flex",alignItems:"center"}});var tt=i(1999),it=i(46501);const st=({layers:e})=>{const t=(0,h.c)(),i=(0,u.wA)(),{css:s,s:r}=(0,o.I)(rt),a=()=>{i((0,Ke.fs)())};return(0,n.jsx)(tt.j,{header:(0,n.jsxs)("div",Object.assign({className:s(r.title)},{children:[(0,n.jsx)("h2",{children:t._t("Слои")}),(0,n.jsx)(it.b,{onClick:a})]})),body:(0,n.jsx)(G,{items:e,isDropdownOpen:!0,onClose:a})})},rt=(0,o.r)({title:Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",padding:24},l.leadMedium)})},89712:(e,t,i)=>{"use strict";i.d(t,{C3:()=>c,oM:()=>d,pe:()=>l});var s=i(7540),r=i(57744),n=i(82393);const a=e=>{switch(e){case"eta":return"ctxLayerIcon";case"photos":return"photosLayerIcon";case"realty":return"realtyLayerIcon";case"parkings":return"parkingLayerIcon";case"metro":return"metroLayerIcon";case"exchange":return"exchangeCurrencyLayerIcon";case"roadAccident":return"trafficIncidentLayerIcon";case"tourism":return"touristLayerIcon";case"friends":return"friendsLayerIcon";default:return}},o=e=>{switch(e){case"eta":return"ctxLayer";case"photos":return"photosLayer";case"realty":return"realtyLayer";case"parkings":return"parkingLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"roadAccident":return"trafficIncidentLayer";case"tourism":return"touristLayer";case"friends":return"friendsLayer";default:return}},c=e=>({frameId:t})=>{const{size:i}=e;return{uiElement:{name:"mapLayersList",ownerName:"mapLayers",frameUuid:t},payload:{mapLayersList:{size:i}}}},d=e=>({frameId:t},i)=>{const c=(0,n.zN)(i),d=(0,r.u)(i),{type:l,position:u,hasOwner:p}=e,m=a(l),g=o(l);if(m&&g)return{uiElement:{name:m,ownerName:u&&p?"mapLayersList":void 0,frameUuid:t,position:u||1},payload:{mapLayer:{entity:{type:"mapLayer",segmentInfo:(0,s.o)({locale:d,region_id:c})},name:g}}}},l=e=>({frameId:t},i)=>{const c=(0,n.zN)(i),d=(0,r.u)(i),{type:l,enableMapLayer:u,position:p,hasOwner:m,autoEvent:g}=e,h=a(l),f=o(l);if(!h||!f)return;return{autoEvent:g,uiElement:{name:h,ownerName:p&&m?"mapLayersList":void 0,frameUuid:t,position:p||1},action:"roadAccident"===l?u?"on":"off":"tap",payload:{mapLayer:{name:f,entity:{type:"mapLayer",segmentInfo:(0,s.o)({locale:d,region_id:c})},enableMapLayer:u}}}}},27016:(e,t,i)=>{"use strict";i.d(t,{s:()=>s});const s=()=>(e,t,i)=>{const{isActive:s,autoEvent:r}=null!=i?i:{};return{autoEvent:r,uiElement:{name:"reliefButton",ownerName:"map",frameUuid:t.appContext.staticFrames.map.id},action:s?"on":"off"}}},47636:(e,t,i)=>{"use strict";i.d(t,{O:()=>o,z:()=>c});var s=i(31085),r=i(58471),n=i(10048),a=i(40837);const o=e=>(0,s.jsx)(n.w,{loader:r.b.videoPopup,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(a.J,{asyncStatus:e})});var c=i(52276)},52276:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Types:()=>s,bss:()=>r,openVideoPlayer:()=>m});var s={};i.r(s);var r={};i.r(r),i.d(r,{clickCtaButton:()=>d,showCtaButton:()=>c,showVideoPlayer:()=>o});var n=i(95845),a=i(99906);const o=()=>({frameId:e},t)=>(0,a.f_)({state:t,name:"videoFrame",uuid:e}),c=e=>({frameId:t},i)=>{const{banner:s,link:r,rubrics:a}=e,o=(0,n.TX)({banner:s,rubrics:a,state:i});if(r)return{uiElement:{name:"callToActionButton",ownerName:"videoFrame",frameUuid:t},payload:{callToAction:{actionType:"link",value:r},adsBanner:o}}},d=e=>t=>{const{banner:i,link:s,rubrics:r,frameId:a}=e;return{action:"tap",uiElement:{name:"callToActionButton",ownerName:"videoFrame",frameUuid:a},payload:{callToAction:{actionType:"link",value:s},adsBanner:(0,n.TX)({banner:i,rubrics:r,state:t})}}};var l=i(12017),u=i(27892),p=i(35023);const m=(0,l.n5)("openVideoPlayer",(({videoUrl:e,adInfoParams:t,cover:i,link:s,bssPayload:r})=>{const n=(0,p.W7)();return(0,u.PB)({id:n,type:"videoPlayer",isPopupGlassDark:!0,videoUrl:e,adInfoParams:t,cover:i,link:s,bssPayload:r})}))},95920:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});var s=i(27892),r=i(35023);const n=e=>(0,s.PB)({promoType:e,type:"mobileAppPromoBannerPopup",id:(0,r.W7)()})},32474:(e,t,i)=>{"use strict";i.d(t,{VE:()=>Y,Tv:()=>n,lN:()=>r});var s={};i.r(s),i.d(s,{buttonTap:()=>$,getIsochroneTapPayload:()=>W,showControls:()=>V});var r={};i.r(r),i.d(r,{Nd:()=>s,Ln:()=>F,Tp:()=>T,QO:()=>A,Ez:()=>j,PC:()=>k,ko:()=>S});var n={};i.r(n),i.d(n,{getOpacityByZoom:()=>z,isIsochroneSublayer:()=>P,resolveSublayerByIsochroneMode:()=>L});var a=i(31085),o=i(14041),c=i(79594),d=i(99259),l=i(10742),u=i(84175),p=i(97423),m=i(82781),g=i(80552),h=i(59954),f=i(46287),v=i(29094),b=i(78170);const{use:y}=(0,b.VZ)("fetchIsochrones",(e=>({services:t})=>t.isochronesApi.getData(e)),{staleTime:1/0,cacheTime:1/0});var x=i(536);function j(e,t,i){const s=(0,c.wA)(),r=(0,m.c)(),n=(0,o.useMemo)((()=>t.map((({duration:e})=>e))),[t]),[a,d]=(0,o.useState)((new Date).toISOString());(0,o.useEffect)((()=>{d((new Date).toISOString())}),[e]);const l=(0,c.d4)((e=>{const t=i?(0,f.DE)({state:e,entityId:i}).data:void 0;return"building"===(null==t?void 0:t.type)?t.point:void 0})),{data:u,isFetched:p}=y(e&&l&&{start:l,durations:n,start_time:a,mode:e},{onError:()=>{s((0,v.D)((0,x.z)({title:r._gg("Что-то пошло не так"),message:r._gg("Не удалось получить данные для карты доступности")})))}});return(0,o.useMemo)((()=>{if(p)return null==u?void 0:u.geometries.map((({duration:e,points:i})=>({color:t.find((t=>t.duration===e)).heatmapColor,points:i.map((({lon:e,lat:t})=>[e,t]))})))}),[u,p,t])}var w=i(9729),I=i(6514),C=i(23020),_=i(24872);function k(e){const{width:t,height:i}=(0,c.d4)((e=>(0,I.Y)(e.session.screen,(0,C.kD)(e)))),s=(0,c.d4)((e=>e.appContext.rotation)),r=(0,o.useMemo)((()=>{var t;return null!==(t=null==e?void 0:e.reduce(((e,t)=>[...e,...t.points]),[]))&&void 0!==t?t:[]}),[e]),n=(0,o.useMemo)((()=>r.join(",")),r),a=(0,o.useMemo)((()=>r&&(0,w.getCenterZoomByPoints)(r,s,[t,i])),[n]),d=(0,c.wA)();(0,o.useEffect)((()=>{if(!a)return;const{center:e,zoom:t}=a,[i,s]=e;d((0,_.xZ)({lon:i,lat:s,zoom:t}))}),[a,d])}var O=i(84815);function S(e){(0,O.e)(((t,{Polygon:i})=>{if(!e)return;const s=e.map((({color:s,points:r},n)=>{const a=n>0?e[n-1].points:void 0;return new i(t,{color:s,coordinates:a?[r,a]:[r],strokeWidth:0,interactive:!1})}));return()=>{s.forEach((e=>{e.destroy()}))}}),[e])}const T={getMode:e=>{switch(e.appContext.activeSublayer){case"realtyIsochroneDriving":return"driving";case"realtyIsochroneWalking":return"walking";default:return}}};var E=i(37163),M=i(12017),N=i(7335);function L(e){switch(e){case"driving":return"realtyIsochroneDriving";case"walking":return"realtyIsochroneWalking";default:return}}function P(e){return"realtyIsochroneDriving"===e||"realtyIsochroneWalking"===e}var R=i(33581);const A={setIsochroneMode:(0,M.n5)("setIsochroneMode",(e=>{const t=e&&L(e);return t?(0,N.eU)((e=>e.appContext.activeLayer),(e=>(0,M.K2)(e&&"realty"!==e&&(0,E.xA)(),(0,E.OB)(t)))):(0,N.eU)(R.C,(e=>e&&P(e)?(0,E.Hq)():(0,M.lQ)()))}))};var B=i(69158);function z(e){return e>15?.2:e>13?.3:e>12?.4:.5}function F(e,t,i){return"walking"===e?[{label:i._gg("до 5 мин"),duration:300,temperatureColor:"#48a76b",heatmapColor:(0,B.m)("#7FCD33",z(t))},{label:i._gg("5-15 мин"),duration:900,temperatureColor:"#fbd38c",heatmapColor:(0,B.m)("#FFD46C",z(t))},{label:i._gg("15–30 мин"),duration:1800,temperatureColor:"#ed6057",heatmapColor:(0,B.m)("#FF5631",z(t))}]:[{label:i._gg("до 10 мин"),duration:600,temperatureColor:"#48a76b",heatmapColor:(0,B.m)("#7FCD33",z(t))},{label:i._gg("10-20 мин"),duration:1200,temperatureColor:"#fbd38c",heatmapColor:(0,B.m)("#FFD46C",z(t))},{label:i._gg("20–40 мин"),duration:2400,temperatureColor:"#ed6057",heatmapColor:(0,B.m)("#FF5631",z(t))}]}var H=i(50432),U=i(81462),D=i(26423);const V=e=>({frameId:t},i)=>{const{realtyItem:s,isSuccess:r,search:n,ownerName:a}=e,o=(0,D.R)(s);if(o)return{uiElement:{name:"transportIsochrones",ownerName:a,frameUuid:t},payload:{productOfferItem:o,productOffersList:(0,U.i)({state:i,isSuccess:r,search:n})}};(0,H.vV)({message:"Не удалось сформировать payload для события показа контролов изохронов (v-6paxh)",level:"error",id:"kn34n",payload:{type:"debug",subtype:"BssTrackerV3"}})},$=e=>({frameId:t},i)=>{const{name:s,realtyItem:r,isSuccess:n,search:a,mapSubLayer:o}=e,c=(0,D.R)(r);if(c)return{uiElement:{name:s,ownerName:"transportIsochrones",frameUuid:t},action:"tap",payload:{mapSubLayer:o,productOfferItem:c,productOffersList:(0,U.i)({state:i,isSuccess:n,search:a})}};(0,H.vV)({message:"Не удалось сформировать payload для события тапа в контрол изохронов (a-dh7ad)",level:"error",id:"n2nr4",payload:{type:"debug",subtype:"BssTrackerV3"}})};function W(e){const{realtyItem:t,search:i,mode:s,previousMode:r,isChecked:n,isSuccess:a}=e;let o="carIsochroneButton",c="carIsochroneSubLayer";return"walking"===(null!=s?s:r)&&(o="pedestrianIsochroneButton",c="pedestrianIsochroneSubLayer"),{name:o,search:i,isSuccess:a,realtyItem:t,mapSubLayer:{name:c,enableMapSubLayer:n}}}var q=i(8365),Z=i(51021),Q=i(20091),G=i(41350),K=i(65932);const Y=(0,o.memo)((e=>{const{realtyItem:t,ownerName:i}=e,{s,css:r}=(0,u.I)(X),n=(0,m.c)(),d=G.QU.useItemsSearch(),{bssRef:g,useBssHandler:f}=(0,q.E)(V({realtyItem:t,isSuccess:d.isSuccess,search:d.data,ownerName:i})),v=(0,c.d4)(T.getMode),b=(0,c.d4)(C.jq),y=(0,o.useMemo)((()=>F(v,b,n)),[v,b,n]),x=j(v,y,t.building.id),[w,I]=(0,o.useState)(v),_=(0,c.wA)(),O=f($,W({realtyItem:t,isSuccess:d.isSuccess,search:d.data,mode:v,previousMode:w,isChecked:!!v})),E=(0,l.D)((e=>{I(v);const t=e===v;_((0,M.K2)(A.setIsochroneMode(t?void 0:e),!t&&(0,Z.n)((0,Q.X_)({isMinimized:!0}))))}));S(x),k(x);const N=(0,o.useMemo)((()=>v?y.map((({temperatureColor:e})=>e)):["#f2f2f2"]),[v,y]),L=(0,o.useMemo)((()=>v?y.map((({label:e})=>e)):h.Ml),[v,y]),P=(0,o.useMemo)((()=>[{name:n._gg("Пешком"),id:"walking",active:"walking"===v,fullWidth:!0,icon:(0,a.jsx)(K.UX,{}),dataN:"wat-realty-walking-isochrone"},{name:n._gg("На автомобиле"),id:"driving",active:"driving"===v,fullWidth:!0,icon:(0,a.jsx)(K.sH,{}),dataN:"wat-realty-driving-isochrone"}]),[v,n]);return(0,o.useEffect)((()=>{(v||w)&&O()}),[v]),(0,o.useEffect)((()=>()=>{_(A.setIsochroneMode(void 0))}),[t,_]),(0,a.jsxs)("div",Object.assign({className:r(s.root),ref:g},{children:[(0,a.jsx)("div",Object.assign({className:r(s.mode)},{children:(0,a.jsx)(K.ft,{styles:s.controls,onClick:E,items:P,size:"m"})})),(0,a.jsx)("div",Object.assign({className:r(s.temperature)},{children:(0,a.jsx)(p.B,{segments:N,labels:L,labelsMarginTop:3,labelsJustifyContent:"space-around"})}))]}))}));Y.displayName="IsochroneControls";const X=(0,u.r)((()=>({root:{marginTop:8,marginBottom:-7},caption:Object.assign(Object.assign({},g.regularBold),{color:d.T.black}),mode:{marginTop:8},temperature:{marginTop:8,height:23},controls:{padding:0,flexWrap:"nowrap","@media (max-width: 360px)":{flexDirection:"column"}}})))},38519:(e,t,i)=>{"use strict";i.d(t,{cv:()=>K,ZY:()=>Y,QC:()=>te,Zy:()=>N,Tx:()=>P,ve:()=>W,m:()=>D,vk:()=>J,lX:()=>U});var s=i(31085),r=i(14041),n=i(79594),a=i(80905),o=i(32664),c=i(53789),d=i(66698),l=i(46579),u=i(67730),p=i(68299),m=i(84175),g=i(82781),h=i(99259),f=i(73861),v=i(37171),b=i(81618),y=i(12043),x=i(80552),j=i(2829),w=i(69248);const I=r.memo((e=>{const{css:t,s:i}=(0,m.I)(C),{value:r,onChange:n,placeholder:a,hasError:o,dataN:c="wat-range-input",dataT:d,maxLength:l}=e;return(0,s.jsx)("input",Object.assign({},b.dx.n(c),b.dx.t(d),b.dx.v(r),{type:"text",className:t(i.input,o&&i._error),onChange:n,value:r,placeholder:a,maxLength:l}))})),C=(0,m.r)((({mobile:e})=>({wrapper:{display:"flex"},input:Object.assign(Object.assign({position:"relative",zIndex:j.f.base,width:"50%",boxSizing:"border-box",padding:e?12:"6px 12px"},x.regular),{color:h.T.black,textOverflow:"ellipsis",overflow:"hidden",borderRadius:0,border:"none",outline:"none",boxShadow:`${w.E.innerBorderWithoutColor} var(--box-shadow-color)`,"--box-shadow-color":h.T.gray_e6e6e6,":focus":{zIndex:j.f.top,"--box-shadow-color":h.T.blue_0072ce},"::placeholder":{color:h.T.gray_929292},":first-child":{borderTopStartRadius:"19px",borderBottomStartRadius:"19px",marginEnd:"-1px"},":last-child":{borderTopEndRadius:"19px",borderBottomEndRadius:"19px"}}),_error:{zIndex:j.f.top,"--box-shadow-color":h.T.red_fe5000,":focus":{"--box-shadow-color":h.T.red_fe5000}}})));I.displayName="RangeInput";const _=e=>(0,f.B)(e.replace(/^0(?!$)|[^\d]/g,"")),k=r.memo((e=>{const{type:t,hasError:i,outerValue:n,maxLength:a}=e,o=(0,g.c)(),{css:c,s:d}=(0,m.I)(O),l=r.useCallback((i=>{const s=i.replace(/\s/g,"");e.onChange(t,s)}),[e.onChange,e.type]),u="wat-filter-price-input",p="from"===t?"from":"to";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.j,{children:(0,s.jsxs)("div",Object.assign({className:c(d.root,i&&d.hasError)},{children:[(0,s.jsx)("span",Object.assign({className:c(d.type)},{children:"from"===t?o._gg("от"):o._gg("до")})),(0,s.jsx)(v.$,Object.assign({format:_,value:n,onChange:l},{children:({value:e,onChange:t})=>(0,s.jsx)("input",Object.assign({},b.dx.n(u),b.dx.t(p),{className:c(d.input),value:e,onChange:t,maxLength:a}))}))]}))}),(0,s.jsx)(y.h,{children:(0,s.jsx)(v.$,Object.assign({format:_,value:n,onChange:l},{children:({value:e,onChange:r})=>(0,s.jsx)(I,{value:e,hasError:i,onChange:r,dataN:u,dataT:p,placeholder:"from"===t?o._gg("от"):o._gg("до"),maxLength:a})}))})]})}));k.displayName="PriceInput";const O=(0,m.r)((({mobile:e})=>({root:Object.assign(Object.assign({},x.regular),{display:"flex",width:"100%",alignItems:"center",position:"relative",color:h.T.gray_262626,padding:"6px 12px",overflow:"hidden",textOverflow:"ellipsis",boxSizing:"border-box",border:`1px solid ${h.T.gray_e6e6e6}`,"&:first-child":{borderTopEndRadius:"14px",borderTopStartRadius:"14px",borderBottomEndRadius:0,borderBottomStartRadius:0,borderBottom:"none"},"&:last-child":{borderBottomEndRadius:"14px",borderBottomStartRadius:"14px",borderTopEndRadius:0,borderTopStartRadius:0}}),type:{color:h.T.gray_929292,minWidth:"15%"},input:Object.assign(Object.assign({},x.regular),{padding:0,width:"100%",outline:"none",border:"none"}),hasError:{border:`1px solid ${h.T.red_fe5000}`},switch:{marginTop:e?12:8}})));function S(e){const{min:t,max:i}=e;return!!t&&!!i&&+i<+t}function T(e,t){if(e||t)return`${e||""},${t||""}`}const E=r.memo((e=>{const{tag:t,type:i,switchItems:n,filterValues:a,setActiveType:h,onChangeFilters:f}=e,v=a?a[i]:void 0,[y,x]=(v||"").split(","),[j,w]=(0,u.P)(y||""),[I,C]=(0,u.P)(x||""),[_,O]=r.useState(S({min:j,max:I})),E=r.useCallback((e=>{const t=e.value,i="price"===t?"price_per_meter":"price";h(t),f({name:i,valueType:"single",isChecked:!0,value:void 0})}),[f,h]),N=(e,t)=>{"from"===e?w(t):C(t),L(e,t)},L=(0,p.Y)(((e,t)=>{const s="from"===e?t:j,r="from"===e?I:t,n=S({min:s,max:r});if(O(n),n)return;const a=T(s,r);f({valueType:"single",name:i,value:a,isChecked:!0})}),900),P=(0,l.U)(),R=(0,g.c)(),{css:A,s:B}=(0,m.I)(M);return(0,s.jsxs)("div",Object.assign({},b.dx.n("wat-filter-widget-price"),{children:[(0,s.jsx)(c.P,{children:R._gg("Стоимость, %1",[P.currencies.RUB])}),(0,s.jsxs)("div",Object.assign({className:A(B.inputs)},{children:[(0,s.jsx)(k,{type:"from",outerValue:j,onChange:N,hasError:_,maxLength:d.iO}),(0,s.jsx)(k,{type:"to",outerValue:I,onChange:N,hasError:_,maxLength:d.iO})]})),n.length>1&&(0,s.jsx)("div",Object.assign({className:A(B.switch)},{children:(0,s.jsx)(o.d,{items:n,currentValue:t,onChange:E,isCentered:!0,isFlex:!0,flex_1_1_100:!0})}))]}))}));E.displayName="RealtyPriceFilterInner";const M=(0,m.r)((({mobile:e})=>({inputs:{display:"flex",flexWrap:"wrap"},switch:{marginTop:e?12:8}}))),N=r.memo((e=>{var t;const i=e.items.map((e=>({text:e.props.title||"",value:e.props.tag||""}))),o=(0,n.d4)((e=>(0,a.bB)(e.appContext.frames,"realty"))),[c,d]=r.useState((null===(t=null==o?void 0:o.filterValues)||void 0===t?void 0:t.price_per_meter)?"price_per_meter":"price"),l=e.items.find((e=>e.props.tag===c));return o&&l?(0,s.jsx)(E,{onChangeFilters:e.onChangeFilters,tag:l.props.tag,type:c,setActiveType:d,switchItems:i,filterValues:o.filterValues},`${e.categoryId}_${l.props.tag}`):null}));N.displayName="RealtyPrice";var L=i(10742);const P=r.memo((e=>{const{filter:t,filterValues:i,onChange:n}=e,a=i&&t.tag?i[t.tag]:void 0,[o,l]=(a||"").split(","),[h,f]=(0,u.P)(o||""),[v,y]=(0,u.P)(l||""),[x,j]=r.useState(S({min:h,max:v})),{css:w,s:C}=(0,m.I)(R),_=(0,g.c)(),k=(0,p.Y)((e=>{const i=S({min:h,max:v});j(i),i||n({name:t.tag,valueType:"single",value:e,isChecked:!0})}),900),O=(e,t)=>{const i=e.replace(/^0(?!$)|[^\d]/g,"");"min"===t?f(i):y(i);const s=T("min"===t?i:h,"min"===t?v:i);k(s)},E=(0,L.D)((e=>O(e.target.value,"min"))),M=(0,L.D)((e=>O(e.target.value,"max"))),N=t.tag?`${t.tag}`.replace(/_/g,"-"):void 0;return(0,s.jsxs)("div",Object.assign({},b.dx.n("wat-filter-widget"),b.dx.t(N),{children:[(0,s.jsx)(c.P,{children:t.title}),(0,s.jsxs)("div",Object.assign({className:w(C.wrapper)},{children:[(0,s.jsx)(I,{onChange:E,value:h,hasError:x,dataT:"from",placeholder:_._gg("от"),maxLength:d.H2}),(0,s.jsx)(I,{onChange:M,value:v,hasError:x,dataT:"to",placeholder:_._gg("до"),maxLength:d.H2})]}))]}))})),R=(0,m.r)({wrapper:{display:"flex"}});P.displayName="RealtyRangeFilter";var A=i(98626),B=i(13558),z=i(39123),F=i(8365);function H({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({width:"99",height:"17",viewBox:"0 0 99 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M20.4006 6.04849H28.5778V7.35758H22.1657V8.08486H26.9833C28.2708 8.08486 29.0382 8.70945 29.0382 9.76186C29.0382 10.8143 28.2793 11.4389 26.9833 11.4389H20.4006V6.04849ZM22.1657 9.35972V10.1811H26.6593C27.0515 10.1811 27.2305 10.0613 27.2305 9.77042C27.2305 9.48806 27.0515 9.35972 26.6593 9.35972H22.1657Z",fill:e}),(0,s.jsx)("path",{d:"M30.0785 6.04849H36.0387C37.6843 6.04849 38.6649 6.81855 38.6649 8.11908C38.6649 9.41962 37.6929 10.1897 36.0387 10.1897H31.9203V11.4474H30.0785V6.04849ZM31.9203 7.44315V8.81213H35.7488C36.4735 8.81213 36.789 8.60678 36.789 8.13619C36.789 7.64849 36.4735 7.44315 35.7488 7.44315H31.9203Z",fill:e}),(0,s.jsx)("path",{d:"M42.3314 9.86454L38.4944 6.04849H40.7284L43.4228 8.7009L45.8274 6.04849H48.0017L43.1074 11.4474H40.8819L42.3314 9.86454Z",fill:e}),(0,s.jsx)("path",{d:"M52.5122 5.94583C55.1555 5.94583 56.7244 6.57899 57.1252 7.7854L55.1384 8.17899C54.9082 7.59717 54.0982 7.33193 52.5207 7.33193C50.3635 7.33193 49.4085 7.75974 49.4085 8.75225C49.4085 9.73621 50.355 10.1726 52.5207 10.1726C54.1408 10.1726 54.9509 9.89877 55.147 9.29129L57.1081 9.66776C56.6818 10.9255 55.164 11.5587 52.5207 11.5587C49.2976 11.5587 47.5241 10.5576 47.5241 8.75225C47.5156 6.93834 49.2891 5.94583 52.5122 5.94583Z",fill:e}),(0,s.jsx)("path",{d:"M57.9694 6.04849H59.8111V7.9993H65.4473V6.04849H67.2891V11.4474H65.4473V9.39395H59.8111V11.4474H57.9694V6.04849Z",fill:e}),(0,s.jsx)("path",{d:"M68.645 6.04849H70.4867V9.72764L75.9268 6.04849H77.7771V11.4474H75.9268V7.76828L70.4867 11.4474H68.645V6.04849Z",fill:e}),(0,s.jsx)("path",{d:"M79.073 6.04849H80.9148V8.29876L85.3146 6.04849H88.316L83.234 8.58967L88.4439 11.4474H85.2293L80.9148 9.08593V11.4474H79.073V6.04849Z",fill:e}),(0,s.jsx)("path",{d:"M93.6367 7.38325L95.0692 9.23138H92.2042L93.6367 7.38325ZM92.7158 6.04849L88.3501 11.4474H90.4903L91.2236 10.5062H96.0583L96.7916 11.4474H99L94.6343 6.04849H92.7158Z",fill:e}),(0,s.jsx)("path",{d:"M8.88293 0.666687C4.46796 0.666687 0.882935 4.25171 0.882935 8.66669C0.882935 13.0817 4.46796 16.6667 8.88293 16.6667C13.2979 16.6667 16.8829 13.0817 16.8829 8.66669C16.8829 4.25171 13.2979 0.666687 8.88293 0.666687ZM8.88293 3.51589C11.7236 3.51589 14.0337 5.82605 14.0337 8.66669C14.0337 11.5073 11.7236 13.8175 8.88293 13.8175C6.04229 13.8175 3.73213 11.5073 3.73213 8.66669C3.73213 5.82605 6.04229 3.51589 8.88293 3.51589Z",fill:e}),(0,s.jsx)("path",{d:"M11.9079 6.72444C11.9079 7.81107 11.0296 8.69236 9.94674 8.69236C8.86385 8.69236 7.9856 7.81107 7.9856 6.72444C7.9856 5.63781 8.86385 4.75653 9.94674 4.75653C11.0296 4.75653 11.9079 5.63781 11.9079 6.72444Z",fill:e})]}))}var U=i(5531);const D=(0,r.memo)((({widget:e,onChangeFilters:t})=>{var i;const{css:r,s:n}=(0,m.I)(V),{bssRef:a,useBssHandler:o}=(0,F.E)(U.bss.showBrusnikaOnRealty(),{threshold:.5}),c=o(U.bss.tapBrusnikaOnRealty),d=(0,z.U)("realty"),l=(null===(i=null==d?void 0:d.filterValues)||void 0===i?void 0:i[null==e?void 0:e.tag])===(null==e?void 0:e.value),u=(0,L.D)((()=>{c(),t({valueType:"single",value:null==e?void 0:e.value,name:null==e?void 0:e.tag,isChecked:!l})}));return(0,s.jsxs)("div",Object.assign({ref:a},{children:[(0,s.jsx)(B.F,Object.assign({isChecked:l,onClick:u,title:e.text,isCentered:!0},{children:(0,s.jsx)("span",Object.assign({className:r(n.icon)},{children:(0,s.jsx)(H,{})}))})),(0,s.jsx)("div",Object.assign({className:r(n.adInfoLink)},{children:(0,s.jsx)(A.Q,{tiny:!0,source:"banner",erid:["2RanymaebiR"],legalName:U.constants.brusnikaLegalName})}))]}))}));D.displayName="WidgetBrusnika";const V=(0,m.r)({label:{display:"flex",alignItems:"center",width:"120px",heigth:"30px"},icon:{display:"flex",justifyContent:"center",alignItems:"center"},adInfoLink:{marginTop:2,marginStart:8,color:h.T.gray_b2b2b2}});function $({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100",height:"16",fill:"none",viewBox:"0 0 100 16"},{children:[(0,s.jsx)("path",{fill:e,d:"M25.89 4.43l-2.026 5.405-2.04-5.404h-2.53v7.206h1.518v-5.48l2.114 5.48h1.668l2.114-5.509v5.509h1.623V4.43H25.89zm13.042 0h5.583v7.207h-1.728V5.949H40.51a155.382 155.382 0 01-.075 3.128c-.06 1.89-.61 2.56-2.233 2.56h-.774v-1.519h.432c.73 0 .968-.327 1.012-1.355.045-1.1.06-3.29.06-4.332zm14.414 0h6.566v1.52h-2.427v5.687h-1.712V5.949h-2.427V4.431zm-38.521-.147h-.618c-1.485 0-2.611.903-2.87 2.247l1.579.253c.216-.64.712-1.077 1.34-1.106.202-.009.153-.007.356 0 .932.034 1.353.48 1.353 1.585-1.766 0-2.974-.084-3.862.502-.726.479-1.037 1.008-1.037 1.847 0 1.213.944 2.175 2.468 2.175h.21c1.077 0 1.945-.42 2.3-.925v.776l1.59.001V7.295c0-1.677-.898-3.012-2.81-3.012zm-.97 6.097c-.677-.02-1.068-.41-1.068-.906 0-.41.185-.61.428-.753.256-.15.589-.2 1.106-.219.497-.017.9-.04 1.671-.04 0 1.23-.774 1.848-1.734 1.914a3.492 3.492 0 01-.404.004zm39.09-1.859v-.674c0-2.326-1.46-3.529-3.346-3.529h-.37c-2.03 0-3.325 1.385-3.392 3.338-.009.286-.009.405 0 .796.048 1.943 1.411 3.252 3.231 3.3.333.008.29.008.605 0 1.585-.045 2.785-.96 3.139-2.155l-1.534-.268c-.374.75-1.09 1.036-1.66 1.065-.182.01-.207.008-.389 0-.895-.036-1.697-.739-1.697-1.758V8.52h5.414zm-3.744-2.845c.18-.01.245-.01.426 0 .753.039 1.545.527 1.62 1.499h-3.706c.086-.868.783-1.45 1.66-1.499zM36.957 7.398c-.038-1.744-1.445-3.08-3.304-3.08h-.673c-1.86 0-3.266 1.336-3.304 3.09-.01.485-.01.77 0 1.254.038 1.755 1.445 3.09 3.304 3.09h.673c1.86 0 3.266-1.335 3.304-3.09.009-.485.009-.778 0-1.264zm-1.698 1.176c-.02 1.018-.761 1.71-1.757 1.76-.192.01-.18.01-.37 0-1.007-.05-1.738-.742-1.758-1.76-.01-.424-.01-.664 0-1.088.02-1.008.751-1.699 1.757-1.75.192-.01.18-.01.37 0 .997.051 1.738.742 1.758 1.761.01.423.01.653 0 1.077zm-26.87.52c-.2.668-.738 1.127-1.46 1.227a2.17 2.17 0 01-.581-.002c-.898-.125-1.53-.799-1.549-1.745-.01-.423-.01-.664 0-1.088.019-.953.683-1.65 1.597-1.747a2.21 2.21 0 01.444-.004c.77.083 1.348.544 1.556 1.246l1.674-.324C9.71 5.29 8.47 4.32 6.885 4.32h-.48c-1.859 0-3.266 1.335-3.304 3.088-.01.486-.01.77 0 1.256.038 1.754 1.445 3.088 3.304 3.088h.48c1.616 0 2.868-1.009 3.198-2.425L8.39 9.095z"}),(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M63.907 2.6H95.52c.742 0 1.345.602 1.345 1.344v8.18c0 .742-.603 1.345-1.345 1.345H63.907a1.345 1.345 0 01-1.344-1.345v-8.18c0-.742.601-1.345 1.344-1.345zm7.622 2.66h-5.331l-1.247 5.973h1.51l.949-4.524h2.3l-.939 4.524h1.511L71.53 5.26zm7.028 0H74c-.264 1.3-.588 2.749-.817 3.698-.14.562-.43.781-.94.781h-.298l-.308 1.493h.677c1.264 0 1.914-.439 2.292-2.029.114-.49.225-.992.33-1.467l.232-1.035h1.572l-.949 4.532h1.52l1.247-5.973zm2.516 3.707h.905c.026 1.457 1.036 2.353 2.609 2.353 2.468 0 3.487-1.906 3.487-3.715 0-1.485-.975-2.433-2.618-2.433-1.81 0-2.845 1.063-3.258 2.345h-.826l.474-2.257h-1.51l-1.248 5.973H80.6l.474-2.266zm4.26-2.425c.764 0 1.186.493 1.186 1.239 0 1.124-.659 2.17-1.81 2.17-.711 0-1.176-.484-1.176-1.213 0-1.098.685-2.196 1.8-2.196zm9.144 2.741L93 9.011c-.255.562-.755.94-1.406.94-.667 0-1.089-.44-1.089-1.213 0-1.124.66-2.196 1.704-2.196.668 0 .984.405 1.046.923L94.8 7.21c-.07-1.265-.922-2.038-2.459-2.038-2.275 0-3.381 1.906-3.381 3.733 0 1.484 1.019 2.415 2.52 2.415 1.608 0 2.539-.781 2.996-2.037z",clipRule:"evenodd"})]}))}const W=(0,r.memo)((({onChange:e})=>{const{css:t,s:i}=(0,m.I)(q),{bssRef:r,useBssHandler:n}=(0,F.E)(U.bss.showAirplaneWidget(),{threshold:.5}),a=n(U.bss.tapAirplaneWidget),{isAvailable:o,isActive:c,buttonText:d,activate:l}=(0,U.useAirplane)({trackBssTap:a,onChange:e});return o?(0,s.jsxs)("div",Object.assign({className:t(i.root),ref:r},{children:[(0,s.jsx)(B.F,Object.assign({isChecked:c,onClick:l,title:d||"Самолет+",isCentered:!0},{children:(0,s.jsx)("span",Object.assign({className:t(i.icon,c&&i._active)},{children:(0,s.jsx)($,{})}))})),(0,s.jsx)("div",Object.assign({className:t(i.adInfoLink)},{children:(0,s.jsx)(A.Q,Object.assign({},U.constants.airplaneAdInfoParams,{erid:["2RanymHwYYp"],tiny:!0}))}))]})):null}));W.displayName="WidgetAirplane";const q=(0,m.r)({root:{},icon:{display:"flex",justifyContent:"center",alignItems:"center",color:"#007BFB"},_active:{color:h.T.white},adInfoLink:{marginTop:2,marginStart:8,color:h.T.gray_b2b2b2}});var Z=i(10048),Q=i(58471),G=i(40837);const K=e=>(0,s.jsx)(Z.w,{loader:Q.b.airplaneControl,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:G.N}),Y=e=>(0,s.jsx)(Z.w,{loader:Q.b.airplaneLogoOnMap,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:G.N});function X({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"31",height:"16",fill:"none",viewBox:"0 0 31 16"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M2.672 3H0v9h2.5V5.25h4V12H9V3H2.672zM10.5 3H13v5.118L17 3h2.5v9H17V6.882L13 12h-2.5V3zM21 3h2.5v3.656L26.5 3h3.313L26.15 7.5l4.506 4.5H27l-3.5-3.656V12H21V3z",clipRule:"evenodd"})}))}const J=(0,r.memo)((({widget:e,onChange:t})=>{var i;const{css:r,s:n}=(0,m.I)(ee),a=(0,g.c)(),o=(0,z.U)("realty"),c=(null===(i=null==o?void 0:o.filterValues)||void 0===i?void 0:i[null==e?void 0:e.tag])===(null==e?void 0:e.value),{bssRef:d,useBssHandler:l}=(0,F.E)(U.bss.showFilterPik(c)),u=l(U.bss.tapFilterPik,c),p=(0,L.D)((()=>{t({valueType:"single",value:null==e?void 0:e.value,name:null==e?void 0:e.tag,isChecked:!c}),u()}));return(0,s.jsxs)("div",Object.assign({className:r(n.root),ref:d},{children:[(0,s.jsx)(B.F,Object.assign({isChecked:c,onClick:p,title:e.text,isCentered:!0},{children:(0,s.jsxs)("span",Object.assign({className:r(n.label)},{children:[a._gg("Новостройки"),(0,s.jsx)("span",Object.assign({className:r(n.icon)},{children:(0,s.jsx)(X,{color:c?h.T.white:"#FC4C02"})}))]}))})),(0,s.jsx)("div",Object.assign({className:r(n.adInfoLink)},{children:(0,s.jsx)(A.Q,{tiny:!0,source:"banner",erid:["2RanymKgfGC"],legalName:'Публичное акционерное общество "Группа Компаний ПИК"'})}))]}))}));J.displayName="WidgetPik";const ee=(0,m.r)({root:{},label:{display:"flex",alignItems:"center"},icon:{marginStart:6,height:16},adInfoLink:{marginTop:2,marginStart:8,color:h.T.gray_b2b2b2}}),te=r.memo((({categories:e,categoryId:t,entityId:i,isEntityFrame:r,onChange:n})=>{const{css:a,s:c}=(0,m.I)(ie),d=(0,g.c)(),l=(0,U.getCategoryButtonsRows)({categories:e,categoryId:t,entityId:i,tp:d});return(0,s.jsx)("div",Object.assign({className:a(c.root,r&&c._resetPaddingBottom)},{children:l.map(((e,i)=>(0,s.jsx)("div",Object.assign({className:a(c.level)},{children:(0,s.jsx)(o.d,{isFlex:!0,isCentered:!0,flex_1_1_100:r,currentValue:t,items:e,onChange:n})}),i)))}))}));te.displayName="RealtyCategories";const ie=(0,m.r)((({mobile:e})=>({root:{paddingBottom:e?8:0},level:{marginBottom:8},_resetPaddingBottom:{paddingBottom:0}})))},5531:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Types:()=>r,bss:()=>a,constants:()=>n,getCategoryButtonsRows:()=>re,getCategoryBySublayer:()=>pe,getRealtyCompanyWidget:()=>p,signals:()=>s,useAirplane:()=>te,useIsCompanyBrandMarkersOnMap:()=>se});var s={};i.r(s),i.d(s,{toggleAirplaneLogo:()=>m,withFetchedAirplaneWidget:()=>g});var r={};i.r(r);var n={};i.r(n),i.d(n,{airplaneAdInfoParams:()=>y,airplaneControlUiElementName:()=>I,airplaneControlUiElementOwnerName:()=>C,airplaneFilterItem:()=>x,airplaneLogoOnMapUiElementName:()=>k,airplaneLogoOnMapUiElementOwnerName:()=>O,airplaneMapLayerOptions:()=>_,airplaneRegionsForShow:()=>S,airplaneWidgetUiElementName:()=>j,airplaneWidgetUiElementOwnerName:()=>w,brusnikaLegalName:()=>h,brusnikaSalePercent:()=>f,brusnikaUiElementNameOnRealty:()=>v,brusnikaUiElementOwnerNameOnRealty:()=>b,filterPikUiElementName:()=>T,filterPikUiElementOwnerName:()=>E});var a={};i.r(a),i.d(a,{closeAirplaneLogoOnMap:()=>D,showAirplaneControl:()=>z,showAirplaneLogoOnMap:()=>H,showAirplaneWidget:()=>A,showBrusnikaOnRealty:()=>P,showFilterPik:()=>V,tapAirplaneControl:()=>F,tapAirplaneLogoOnMap:()=>U,tapAirplaneWidget:()=>B,tapBrusnikaOnRealty:()=>R,tapFilterPik:()=>$});var o=i(7335),c=i(12017),d=i(59754),l=i(41350);const u=["Брусника","Брусника. Гудзон","Брусника. 1А Первомайская","Брусника. Кварталы Драверта"],p=(e,t)=>{if(e&&t)for(const i of e)if("checkboxlist"===i.widget)for(const e of i.items){const s="Брусника"===t&&u.includes(e.text);if(e.text===t||s)return Object.assign(Object.assign({},e),{tag:i.tag})}},m=(0,d.lQ)("UI/TOGGLE_AIRPLANE_LOGO"),g=(0,c.n5)("withFetchedAirplaneWidget",((e,t)=>e?t(e):(0,o.eU)(l.QU.selectors.getRealtyWidgetsQueryParams(),(e=>(0,c.K2)(l.QU.query.prefetchGetItems(e),l.QU.query.withGetItems(e,(e=>{var i,s;const r=p(null===(s=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.filters)||void 0===s?void 0:s.main,"Самолет Плюс");return r?t(r):"loading"===(null==e?void 0:e.status)?(0,c.K2)((0,c.uk)(300),g(r,t)):(0,c.lQ)()}))))))),h="ООО «Брусника». Специализированный Застройщик»",f="5%",v="filterBrusnika",b="filtersPanel",y={source:"banner",erid:["2Ranyn7WCTA"],legalName:"ООО «Самолет Плюс»"},x={name:"provider",value:"СамолётСпецпроект"},j="filterSamoletPlus",w="filtersPanel",I="samoletPlusIcon",C="mapLayersList",_=[{type:"provider",value:"СамолётСпецпроект"}],k="samoletPlusLogo",O="map",S=new Set(["Абакан","Альметьевск","Армавир","Архангельск","Астрахань","Барнаул","Бийск","Благовещенск","Брянск","Владивосток","Владикавказ","Владимир","Волгоград","Вологда","Воронеж","Екатеринбург","Иваново","Ижевск","Иркутск","Ишим","Йошкар-Ола","КавМинВоды","Казань","Калининград","Калуга","Киров","Кострома","Краснодар","Красноярск","Кумертау","Курган","Курск","Кызыл","Липецк","Майкоп","Махачкала","Миасс и Златоуст","Москва","Московская область","Мурманскаяобласть","Муром","Набережные Челны","Нижневартовск","Нижний Новгород","Нижний Тагил","Новороссийск","Новосибирск","Новый Уренгой","Омск","Оренбург","Пенза","Пермь","Петропавловск-Камчатский","Республика Алтай","Ростов-на-Дону","Рязань","Самара","Санкт-Петербург","Саратов","Смоленск","Сочи","Ставрополь","Старый Оскол","Стерлитамак","Сургут","Сыктывкар","Тверь","Тобольск","Тольятти","Тула","Тюмень","Улан-Удэ","Ульяновск","Уфа","Хабаровск","Ханты-Мансийск","Чебоксары","Челябинск","Черкесск","Чита","Южно-Сахалинск","Якутск","Ярославль","Томск","Магадан","Комсомольск-на-Амуре","Невинномысск","Псков","Белгород","Волгодонск","Грозный","Минеральные Воды","Кемерово","Ленинск-Кузнецкий","Магнитогорск","Миасс","Златоуст","Мурманск","Нальчик","Новокузнецк","Норильск","Петрозаводск","Рубцовск","Салехард","Тамбов","Ухта","Хасавюрт","Ковров","Ноябрьск","Орел","Элиста","Переславль-Залесский","Борисоглебск","Таруса","Суздаль","Ростов","Углич","Мышкин","Рыбинск","Калязин"]),T="filterPIK",E="filtersPanel";var M=i(57744),N=i(82393),L=i(7540);const P=()=>({frameId:e})=>({uiElement:{name:v,ownerName:b,frameUuid:e},payload:{filterItem:{name:"buildings_brusnika",value:"true"}}}),R=()=>({frameId:e},t)=>({uiElement:{name:v,ownerName:b,frameUuid:e},payload:{filterItem:{name:"buildings_brusnika",value:"false"}},action:"filterOff"}),A=()=>({frameId:e})=>({uiElement:{name:j,ownerName:w,frameUuid:e},payload:{filterItem:x}}),B=()=>({frameId:e},t,i)=>({uiElement:{name:j,ownerName:w,frameUuid:e},payload:{filterItem:x},action:(null==i?void 0:i.isActive)?"filterOff":"filterOn"}),z=()=>({frameId:e},t)=>({uiElement:{name:I,ownerName:C,frameUuid:e},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,L.o)({locale:(0,M.u)(t),region_id:(0,N.MJ)(t)})},options:_}}}),F=()=>({frameId:e},t,i)=>({uiElement:{name:I,ownerName:C,frameUuid:e},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,L.o)({locale:(0,M.u)(t),region_id:(0,N.MJ)(t)})},enableMapLayer:!(null==i?void 0:i.isActive),options:_}},action:"tap"}),H=()=>(e,t)=>({uiElement:{name:k,ownerName:O,frameUuid:t.appContext.staticFrames.map.id}}),U=()=>(e,t)=>({uiElement:{name:k,ownerName:O,frameUuid:t.appContext.staticFrames.map.id},action:"tap"}),D=()=>(e,t)=>({uiElement:{name:k,ownerName:O,frameUuid:t.appContext.staticFrames.map.id},action:"close"}),V=e=>({frameId:t})=>({uiElement:{name:T,ownerName:E,frameUuid:t},payload:{filterItem:{name:"new_buildings_pik",value:e?"true":"false"}}}),$=e=>({frameId:t})=>({uiElement:{name:T,ownerName:E,frameUuid:t},payload:{filterItem:{name:"new_buildings_pik",value:e?"false":"true"}},action:e?"filterOff":"filterOn"});var W=i(39123),q=i(14041),Z=i(79594),Q=i(10742),G=i(52072),K=i(51021),Y=i(20091),X=i(92448);const J=(0,i(66333).Mz)([e=>e.appContext.showAirplaneLogo],(e=>e));var ee=i(20887);function te({isControl:e,trackBssTap:t,onChange:i}){var s;const r=(0,Z.wA)(),n=(0,W.U)("realty"),a=null==n?void 0:n.filterValues,o=null===(s=l.QU.useItemsSearch().data)||void 0===s?void 0:s.filters,d=(0,Z.d4)(J),{isAvailable:u,isActive:h,buttonText:f,widget:v}=(0,q.useMemo)((()=>{const e=p(null==o?void 0:o.main,"Самолет Плюс"),t=p(null==o?void 0:o.main,"ПИК"),i=!!t&&(null==a?void 0:a[t.tag])===t.value,s=!!e&&!i&&d,r=!!e&&(null==a?void 0:a[e.tag])===e.value;return{buttonText:null==e?void 0:e.text,widget:e,isActive:r,isAvailable:s}}),[a,o,d]),b=(0,Q.D)((()=>{e&&h?r((0,G.c)()):n&&v&&u?i({valueType:"single",value:v.value,name:v.tag,isChecked:!h}):r((0,c._7)(g(v,(e=>ee.Pf.signals.open({filters:{[e.tag]:e.value},categoryId:X.gI.sale.categoryId}))),(0,K.n)((0,Y.X_)({isMinimized:!1})))),null==t||t({isActive:h})})),y=(0,Q.D)((()=>{r(m())}));return{isAvailable:u,isActive:h,buttonText:f,activate:b,close:y}}var ie=i(80905);const se=e=>{var t;const i=(0,Z.d4)((e=>(0,ie.bB)(e.appContext.frames,"realty"))),s=null===(t=l.QU.useItemsSearch().data)||void 0===t?void 0:t.filters,r=null==i?void 0:i.filterValues,n=(0,Z.d4)((e=>{var t,i;return!(null===(t=e.data.realty.markers.default)||void 0===t?void 0:t.meta.status)||"loading"===(null===(i=e.data.realty.markers.default)||void 0===i?void 0:i.meta.status)})),a=p(null==s?void 0:s.main,e),o=!!(null==r?void 0:r.provider)&&(null==r?void 0:r.provider)===(null==a?void 0:a.value),[c,d]=(0,q.useState)(o);return(0,q.useEffect)((()=>{n||d(o)}),[n]),!!i&&(o&&c)};function re({categories:e,categoryId:t,entityId:i,tp:s}){const r=[[{text:s._gg("Продажа"),value:ce(t),urlParams:{type:"realty",category:"sale",entityId:i}},{text:s._gg("Аренда"),value:de(t),urlParams:{type:"realty",category:"rent",entityId:i}}]];return t&&ne(t)?r.push([{text:s._gg("Жилая"),value:le(t),urlParams:{type:"realty",category:"sale",entityId:i}},{text:s._gg("Коммерческая"),value:ue(t),urlParams:{type:"realty",category:"saleCommercial",entityId:i}}]):t&&ae(t)&&r.push([{text:s._gg("Жилая"),value:le(t),urlParams:{type:"realty",category:"rent",entityId:i}},{text:s._gg("Коммерческая"),value:ue(t)}]),t&&oe(t)&&function(e){return e.children.some((e=>e.children.some((e=>e.id===X.gI.rentDaily.categoryId))))}(e)&&r.push([{text:s._gg("На месяц"),value:X.gI.rent.categoryId},{text:s._gg("На сутки"),value:X.gI.rentDaily.categoryId}]),r}function ne(e){return function(e){return e===X.gI.sale.categoryId}(e)||function(e){return e===X.gI.saleCommercial.categoryId}(e)}function ae(e){return oe(e)||function(e){return e===X.gI.rentCommercial.categoryId}(e)}function oe(e){return e===X.gI.rent.categoryId||function(e){return e===X.gI.rentDaily.categoryId}(e)}function ce(e){return e&&ne(e)?e:X.gI.sale.categoryId}function de(e){return e&&ae(e)?e:X.gI.rent.categoryId}function le(e){return e&&oe(e)?e:e&&ae(e)?X.gI.rent.categoryId:X.gI.sale.categoryId}function ue(e){return e&&ae(e)?X.gI.rentCommercial.categoryId:X.gI.saleCommercial.categoryId}function pe(e){switch(e){case"realtyPriceRent":return X.gI.rent.categoryId;case"realtyPriceSale":return X.gI.sale.categoryId;default:return}}},85757:(e,t,i)=>{"use strict";i.d(t,{W4:()=>f,nL:()=>x});var s=i(31085),r=i(85608),n=i(78170);const{use:a,invalidate:o}=(0,n.VZ)("reviewsRatings",(e=>({services:t})=>(0,r.sH)(void 0,void 0,void 0,(function*(){return(yield t.reviewsApi.getRatings(e)).ratings}))),{staleTime:1/0,cacheTime:1/0});var c=i(84175),d=i(99259),l=i(82316),u=i(80552);const p=({distribution:e,rating:t,reviewsTotalText:i})=>{const{css:r,s:n}=(0,c.I)(g),a=e?Math.max(...Object.values(e)):0;return(0,s.jsxs)("div",Object.assign({className:r(n.root)},{children:[(0,s.jsxs)("div",Object.assign({className:r(n.ratingBlock)},{children:[(0,s.jsx)("div",Object.assign({className:r(n.rating)},{children:t})),(0,s.jsx)("div",Object.assign({className:r(n.reviewsTotal)},{children:i}))]})),(0,s.jsx)("div",Object.assign({className:r(n.ratingsRows)},{children:new Array(5).fill("").map(((t,i)=>{const o=5-i,c=(null==e?void 0:e[o])||0;let d=c?c/a*100:0;return d>0&&d<1&&(d=1),(0,s.jsxs)("div",Object.assign({className:r(n.ratingRow)},{children:[(0,s.jsx)("div",Object.assign({className:r(n.stars)},{children:(0,s.jsx)(m,{stars:o})})),(0,s.jsx)("div",Object.assign({className:r(n.bar)},{children:(0,s.jsx)("div",{className:r(n.completeBar),style:{width:`${d}%`}})}))]}),i)}))}))]}))},m=({stars:e})=>(0,s.jsx)(s.Fragment,{children:new Array(e).fill("").map(((e,t)=>(0,s.jsx)(l.F,{size:12},t)))}),g=(0,c.r)({root:{borderTop:`1px solid ${d.T.gray_e6e6e6}`,borderBottom:`1px solid ${d.T.gray_e6e6e6}`,padding:"16px 20px",display:"flex",justifyContent:"space-between",gap:16},ratingBlock:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",paddingTop:8},rating:Object.assign(Object.assign({},u.giant),{color:d.T.gray_262626}),reviewsTotal:Object.assign(Object.assign({},u.regular),{color:d.T.gray_929292}),ratingsRows:{display:"flex",flexDirection:"column",flexGrow:1,gap:2},ratingRow:{display:"flex",alignItems:"center",gap:8},stars:{minWidth:60,display:"flex",justifyContent:"flex-start",color:d.T.gray_b2b2b2},bar:{width:"100%",height:6,borderRadius:2,backgroundColor:d.T.gray_e6e6e6,overflow:"hidden"},completeBar:{height:6,borderRadius:2,backgroundColor:d.T.yellow_ffb81c,transition:"width .3s ease-in-out"}});var h=i(82781);const f=({objectId:e,isOrg:t,rating:i,reviewsTotal:r})=>{const n=(0,h.c)(),{data:o}=a({id:e,forOrg:t});return 0===r?null:(0,s.jsx)(p,{distribution:o,rating:i,reviewsTotalText:n._nt(["%% оценка","%% оценки","%% оценок"],r)})};var v=i(12017),b=i(7335),y=i(80648);const x=(0,v.n5)("invalidateReviewsRatings",(e=>(0,b.RC)({entity:(0,y.EV)(e)},(({entity:e})=>{const t=e.data;return t?(0,v._7)(o({id:t.id,forOrg:!1}),"branch"===t.type?o({id:t.org.id,forOrg:!0}):void 0):(0,v.lQ)()}))))},66318:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s={};i.r(s),i.d(s,{trackShowSearchResultsMarkers:()=>b});var r={};i.r(r),i.d(r,{N:()=>s});var n=i(48914),a=i(7335),o=i(35023),c=i(80905),d=i(65290),l=i(74182),u=i(18396),p=i(23020),m=i(80648),g=i(46516);var h=i(54071);let f,v;const b=e=>(0,a.RC)({activeEntity:e=>{const t=(0,c.bB)(e.appContext.frames,"entity"),i=(0,m.EV)(null==t?void 0:t.entityId)(e).data;if(i&&(0,g.O)(i))return i},center:e=>e.appContext.center,searchFrame:e=>(0,c.Su)(e.appContext.frames),searchResultsList:e=>{const t=(0,c.Su)(e.appContext.frames);if(t)return(0,d.tp)({state:e,searchFrameId:t.id})},viewport:p.Pz},(({activeEntity:t,center:i,searchFrame:s,searchResultsList:r,viewport:a})=>{if((0,u.O)(s)){const c=(({entity:e,viewport:t})=>{var i;if((null==e?void 0:e.point)&&(({viewport:e,point:t})=>{const[i,s]=e,{lon:r,lat:n}=t;return r>=i.lon&&r<=s.lon&&n<=i.lat&&n>=s.lat})({point:e.point,viewport:t}))return{entity:{id:e.id,type:e.type},adsSearch:(null===(i=e.stat)||void 0===i?void 0:i.is_advertised)||!1,rubric:(0,h.Z)(e.rubrics)}})({entity:t,viewport:a}),d=(0,l.HX)(s.tabCatalog.searchId),u=JSON.stringify(i);if(d!==v||u!==f){v=d,f=u;const t=[...e.map((({key:e,data:t})=>({entity:{id:e,type:null==t?void 0:t.type},adsSearch:null==t?void 0:t.is_advertising,rubric:null==t?void 0:t.rubr}))),...c?[c]:[]];return(0,n.X_)({uiElement:{name:"markersList",ownerName:"searchResultsList",frameUuid:s.id},payload:{markersList:{items:t,size:t.length},searchResultsList:{size:(null==r?void 0:r.size)||0,searchHash:d}},showEventKey:(0,o.W7)()})}}}))},24271:(e,t,i)=>{"use strict";i.d(t,{N:()=>a});var s=i(26185),r=i(86664);function n(e){const{button:t,story:i,slide:n,storyPosition:a}=e;return{callToAction:{actionType:"getDiscount",value:t.action.value},storyItem:(0,s.N)({slide:n}),storiesList:(0,r.i)({story:i,position:a})}}const a={showDiscountPopup:e=>({frameId:t})=>({uiElement:{name:"discountPopup",ownerName:"storiesFrame",frameUuid:t,position:e.slidePosition},payload:n(e)}),closeDiscountPopup:e=>({frameId:t})=>({uiElement:{name:"discountPopup",ownerName:"storiesFrame",frameUuid:t,position:e.slidePosition},action:"close",payload:n(e)})}},62372:(e,t,i)=>{"use strict";i.d(t,{f:()=>f,N:()=>r});var s={};i.r(s),i.d(s,{HF:()=>d,gM:()=>u,JD:()=>c,Ej:()=>l});var r={};i.r(r),i.d(r,{PopupState:()=>s.PopupState,PopupType:()=>s.PopupType,closePopupAction:()=>d,getPopupSelector:()=>u,openPopupAction:()=>c,setCurrentPopupAction:()=>l});var n=i(7143),a=i(35023),o=i(1269);const c=(0,o.V)("openStoryPopup",(0,n.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{storiesPopupData:{currentStoryId:t.id,popupId:(0,a.W7)(),type:t.type,renderErrorFrameId:t.renderErrorFrameId}})))),d=(0,o.V)("closeStoryPopup",(0,n.T)("appContext",(e=>Object.assign(Object.assign({},e),{storiesPopupData:{}})))),l=(0,o.V)("setCurrentStory",(0,n.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{storiesPopupData:Object.assign(Object.assign({},e.storiesPopupData),t)})))),u=e=>e.appContext.storiesPopupData;var p=i(31085),m=i(10048),g=i(58471),h=i(40837);const f=e=>(0,p.jsx)(m.w,{loader:g.b.viewStoryPopup,render:t=>(0,p.jsx)(t,Object.assign({},e)),renderPlaceholder:h.N})},16316:(e,t,i)=>{"use strict";i.d(t,{Yr:()=>n.Y,no:()=>M,aB:()=>N,hU:()=>z,ZC:()=>V,cF:()=>r});var s={};i.r(s),i.d(s,{generators:()=>S,tapChangeSubscriptionButton:()=>k});var r={};i.r(r),i.d(r,{bss:()=>s,openUserRelationDifferencePopup:()=>_,saveSubscribeToUserInCache:()=>b,useSubscribe:()=>j,useUnsubscribe:()=>w});var n=i(26560),a=i(31085),o=i(14041),c=i(82781),d=i(96141),l=i(10742),u=i(79594),p=i(91818),m=i(85608),g=i(87017),h=i(37573),f=i(81678),v=i(12017);const b=(0,v.n5)("subscribeToUser",((e,{isSubscription:t})=>f.vK.updatePublicProfileCache(e,(e=>Object.assign(Object.assign({},e),{public_user:Object.assign(Object.assign({},e.public_user),{relation:Object.assign(Object.assign({},e.public_user.relation||{is_friend:!1}),{is_subscription:t})})})))));var y=i(29094),x=i(536);const j=()=>{const{socialGraphApi:e,credentialsApi:t}=(0,h.A)(),i=(0,u.wA)(),s=(0,c.c)();return(0,g.useMutation)((i=>(0,m.sH)(void 0,void 0,void 0,(function*(){const s=yield t.getToken();if(s)return yield e.subscribe({accessToken:s,user_ids:[i.userId]})}))),{onSuccess:(e,t)=>{i(b(t.publicUserId,{isSubscription:!0}))},onError:()=>{i((0,y.D)((0,x.z)({title:s._t("Что-то пошло не так"),message:s._t("Не удалось подписаться, попробуйте позже")})))}})},w=()=>{const{socialGraphApi:e,credentialsApi:t}=(0,h.A)(),i=(0,u.wA)(),s=(0,c.c)();return(0,g.useMutation)((i=>(0,m.sH)(void 0,void 0,void 0,(function*(){const s=yield t.getToken();if(s)return yield e.unsubscribe({accessToken:s,user_ids:[i.userId]})}))),{onSuccess:(e,t)=>{i(b(t.publicUserId,{isSubscription:!1}))},onError:()=>{i((0,y.D)((0,x.z)({title:s._t("Что-то пошло не так"),message:s._t("Не удалось подписаться, попробуйте позже")})))}})};var I=i(27892),C=i(35023);const _=(0,v.n5)("openUserRelationDifferencePopup",(e=>(0,I.PB)({type:"userRelationDifferencePopup",id:(0,C.W7)(),publicUserId:e}))),k=({userId:e,publicProfileId:t,inSubscriptions:i,name:s})=>({frameId:r})=>({uiElement:{name:s,frameUuid:r,ownerName:"profileCardFull"},action:"tap",payload:{profileItem:{authUser:e,publicProfileId:t,inSubscriptions:i}}});var O=i(60545);const S={actions:{changeSubscriptionsButton:e=>(0,O.gD)({uiElement:{name:expect.any(String),ownerName:"profileCardFull",frameUuid:expect.any(String)},payload:{profileItem:{authUser:expect.any(String),publicProfileId:expect.any(String),inSubscriptions:expect.any(Boolean)}}})(e)}};var T=i(21959),E=i(8365);const M=({userId:e,publicUserId:t})=>{const i=(0,c.c)(),s=(0,u.wA)(),r=j(),n=(0,u.d4)(T.x3),m=(0,E.E)().useBssHandler(k,{name:"subscribeButton",inSubscriptions:!1,userId:e,publicProfileId:t});(0,o.useEffect)((()=>{var i;"subscribeToUser"===(null===(i=(0,p.G7)())||void 0===i?void 0:i.key)&&(s((0,p.BP)()),r.mutate({userId:e,publicUserId:t}))}),[s,r,t,e]);const g=(0,l.D)((()=>{m(),n&&r.mutate({userId:e,publicUserId:t}),n||s((0,p.oC)("subscribeToUser"))}));return(0,a.jsx)(d.$,Object.assign({noBorder:!0,wide:!0,appearance:"noncontrast",onClick:g,disabled:r.isLoading,dataN:"wat-add-subscribe-button"},{children:i._t("Подписаться")}))},N=({userId:e,publicUserId:t})=>{const i=(0,c.c)(),s=w(),r=(0,E.E)().useBssHandler(k,{name:"unsubscribeButton",inSubscriptions:!0,userId:e,publicProfileId:t}),n=(0,l.D)((()=>{r(),s.mutate({userId:e,publicUserId:t})}));return(0,a.jsx)(d.$,Object.assign({noBorder:!0,wide:!0,appearance:"noncontrast",onClick:n,disabled:s.isLoading,dataN:"wat-unsubscribe-button"},{children:i._t("Отписаться")}))};var L=i(84175),P=i(2359),R=i(99259),A=i(80552),B=i(46579);const z=({publicUserId:e})=>{const t=(0,c.c)(),i=(0,u.wA)(),{featureFriends:s}=(0,B.U)(),{css:r,s:n}=(0,L.I)(F);return s?(0,a.jsxs)("button",Object.assign({className:r(n.button),type:"button",onClick:()=>{i(_(e))}},{children:[(0,a.jsx)(P.a,{color:"currentColor"}),(0,a.jsx)("span",{children:t._t("Разница между подписчиками и друзьями?")})]})):null},F=(0,L.r)({button:Object.assign({display:"flex",background:"transparent",justifyContent:"center",gap:8,width:"100%",color:R.T.gray_929292,padding:"12px 0"},A.regular)});var H=i(10048),U=i(40837),D=i(58471);const V=e=>(0,a.jsx)(H.w,{loader:D.b.userRelationDifferencePopup,render:t=>(0,a.jsx)(t,Object.assign({},e)),renderPlaceholder:U.N})},26560:(e,t,i)=>{"use strict";i.d(t,{Y:()=>d});var s=i(31085),r=i(79594),n=i(46579),a=i(82781),o=i(96141),c=i(55027);const d=({publicUserId:e,onClick:t})=>{const i=(0,a.c)(),d=(0,r.d4)((e=>e.session.platform)),{featureFriends:l}=(0,n.U)(),u=(0,c.zP)({platform:d,type:"addFriendPromo",deepLink:`https://2gis.ru/user/${e}`});return l?(0,s.jsx)(o.$,Object.assign({wide:!0,appearance:"primary",external:!0,href:u,onClick:t,dataN:"wat-add-to-friends-button"},{children:i._t("Добавить в друзья")})):null}},77577:(e,t,i)=>{"use strict";i.d(t,{Fi:()=>f,LH:()=>I,HI:()=>C,j_:()=>m,is:()=>v});var s=i(12017),r=i(86185),n=i(95014),a=i(90882),o=i(90059),c=i(78069),d=i(51557),l=i(10742),u=i(79594);const p=(0,s.n5)("deleteCollection",(e=>{const{id:t}=e;return(0,d.QY)((({tp:e})=>(0,a.L)(e._t("Удалить подборку? Это действие нельзя отменить."),(()=>{return(0,s.K2)((e=t,(0,s.Q2)((t=>{const i=t.appContext.frames.find(o.Sv);return i?i.collectionId===e?(0,c.wU)({id:i.id}):void 0:(0,s.lQ)()}))),(0,r.y)({[t]:void 0}),(0,n.v)());var e}))))}));const m=()=>{const e=(0,u.wA)();return{deleteCollection:(0,l.D)((t=>{e(p({id:t}))}))}};var g=i(7335),h=i(84082);const f=(0,s.n5)("editCollection",(e=>{const{id:t,title:i,color:a,is_visible_on_map:o}=e;return(0,g.eU)((0,h.nq)(t),(e=>e?(0,s.K2)((0,r.y)({[t]:Object.assign(Object.assign(Object.assign(Object.assign({},e),i?{title:i}:{}),a?{color:a}:{}),void 0!==o?{is_visible_on_map:o}:{})}),(0,n.v)()):(0,s.lQ)()))})),v=()=>{const e=(0,u.wA)();return{edit:(0,l.D)((t=>{e(f(t))}))}};var b=i(29787),y=i(71794),x=i(63041),j=i(35023),w=i(60776);const I=(0,s.n5)("openCollectionFromList",(e=>{const{id:t}=e;return(0,s.K2)((0,b.PC)(),(0,y.l)({collectionId:t,type:"private"}))})),C=(0,s.n5)("openEntityCardFromPlace",(e=>!e.object_id&&e.point?(0,w.v)({point:e.point,shouldCenterMap:!0}):e.object_type&&(0,j.O9)(e.object_id)?(0,x.UP)({id:e.object_id,type:e.object_type,point:e.point}):(0,s.lQ)()))},80982:(e,t,i)=>{"use strict";i.d(t,{Jj:()=>V,Iu:()=>q,IH:()=>H,rx:()=>F});var s=i(31085),r=i(14041),n=i(10742),a=i(85608),o=i(84175),c=i(64099),d=i(99259),l=i(52821);function u({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 19V6.33333L9 5L14 6.11111V16H15V6.33333L20 5V17.6667L15 19L10 17.8889V12H9V17.6667L4 19Z",fill:e})}))}function p({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.99799 3.58789L2.58594 4.99994L4 6.414V18.9999L9 17.6666V11.9999H9.58594L10 12.414V17.8888L15 18.9999L16.2521 18.6661L18.9999 21.4139L20.412 20.0019L3.99799 3.58789ZM20 16.7653V4.99994L15 6.33327V11.7642L20 16.7653ZM14 10.764V6.11105L9 4.99994L8.39782 5.16052L14 10.764Z",fill:e})}))}var m=i(18971),g=i(81618);const h=r.memo((({onClick:e,icon:t,children:i,dataN:r=""})=>{const{css:n,s:a}=(0,o.I)(f);return(0,s.jsxs)("button",Object.assign({type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),e()},className:n(a.button)},g.dx.n(r),{children:[(0,s.jsx)("div",Object.assign({className:n(a.icon)},{children:t})),i]}))})),f=(0,o.r)({button:{paddingTop:6,width:"100%",boxSizing:"border-box",paddingEnd:16,paddingBottom:6,paddingStart:12,display:"flex",gap:12,color:d.T.gray_929292,background:d.T.white,cursor:"pointer",alignItems:"center",":hover":{color:d.T.blue_028eff}},icon:{color:d.T.gray_262626,display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"}});var v=i(82781);const b=r.memo((({isVisibleOnMap:e,hideRemoveControl:t,onEditIsVisibleOnMap:i,onDelete:r,onEditTitle:n})=>{const a=(0,v.c)(),o=e?a._t("Убрать с карты"):a._t("Показывать на карте");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,Object.assign({icon:e?(0,s.jsx)(p,{}):(0,s.jsx)(u,{}),dataN:"wat-favorites-remove-from-map",onClick:i},{children:o})),(0,s.jsx)(h,Object.assign({icon:(0,s.jsx)(l.f,{}),onClick:n,dataN:"wat-favorites-change"},{children:a._t("Изменить")})),!t&&(0,s.jsx)(h,Object.assign({icon:(0,s.jsx)(m.l,{color:d.T.red_fe5000}),onClick:r,dataN:"wat-favorites-delete"},{children:a._t("Удалить")}))]})})),y=r.memo((e=>{var{innerRef:t}=e,i=(0,a.Tt)(e,["innerRef"]);const{css:r,s:n}=(0,o.I)(x);return(0,s.jsx)("div",Object.assign({ref:t,className:r(n.root)},{children:(0,s.jsx)("div",Object.assign({className:r(n.dropdown)},{children:(0,s.jsx)(b,Object.assign({},i))}))}))})),x=(0,o.r)({root:{position:"absolute",top:24,zIndex:c.fE.top,width:200,end:0,paddingTop:8},dropdown:{width:"100%",background:"#fff",padding:"8px 0",borderRadius:4,boxShadow:"0px 1px 3px 0px rgba(38, 38, 38, 0.5)"}});var j=i(54935);function w({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5C14 7.32843 13.3284 8 12.5 8Z",fill:e}),(0,s.jsx)("path",{d:"M12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14Z",fill:e}),(0,s.jsx)("path",{d:"M11 18.5C11 19.3284 11.6716 20 12.5 20C13.3284 20 14 19.3284 14 18.5C14 17.6716 13.3284 17 12.5 17C11.6716 17 11 17.6716 11 18.5Z",fill:e})]}))}var I=i(46579),C=i(24963);const _=r.memo((({onClick:e,dropdown:t,styles:i,openByClick:a=!1,dataN:c=""})=>{const{css:d,s:l}=(0,o.I)(k),u=(0,r.useRef)(null),[p,m]=(0,r.useState)(!1),{isMobileDevice:h}=(0,I.U)(),{isHovered:f,ref:v}=(0,j.M)(),{isHovered:b,ref:y}=(0,j.M)(),x=f||b||p,_=(0,n.D)((t=>{t.preventDefault(),t.stopPropagation(),e&&e(),a&&m(!0)}));(0,C.W)(u,(()=>{a&&p&&m(!1)}));const O=h?(0,s.jsx)("button",Object.assign({onClick:_,type:"button",className:d(l.control)},{children:(0,s.jsx)(w,{})})):(0,s.jsx)("div",Object.assign({className:d(l.control),ref:v},{children:(0,s.jsx)(w,{})}));return(0,s.jsxs)("div",Object.assign({ref:u,className:d(l.root,i)},g.dx.n(c),{children:[O,x&&t(y)]}))})),k=(0,o.r)({root:{position:"relative"},control:{background:"transparent",color:d.T.gray_929292,border:"none",display:"flex",justifyContent:"center",alignItems:"center",":hover":{cursor:"pointer",color:d.T.gray_262626}}}),O=r.memo((e=>{var{onClick:t}=e,i=(0,a.Tt)(e,["onClick"]);return(0,s.jsx)(_,{onClick:t,dropdown:e=>(0,s.jsx)(y,Object.assign({innerRef:e},i)),dataN:"wat-favorites-edit"})}));var S=i(79594),T=i(27892),E=i(12017),M=i(35023);const N=(0,E.n5)("openEditUserFavoritesPopup",((e,t)=>(0,T.PB)({type:"editUserFavoritesPopup",id:(0,M.W7)(),collection:e,itemsCount:t})));var L=i(8365),P=i(77577);const R=e=>{const{id:t,size:i}=e;return{entity:{id:t,type:"collection"},size:i}},A=e=>({frameId:t})=>{const{id:i,isVisibleOnMap:s,size:r}=e;return{action:s?"on":"off",uiElement:{frameUuid:t,name:"showFavoritesOnMap",ownerName:"collectionItem"},payload:{collectionItem:R({id:i,size:r})}}};var B=i(7143),z=i(1269);const F=(0,z.V)("enableEditMode",(0,B.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:Object.assign(Object.assign({},e.weak.favoritesUIState),{[t.id]:{editMode:!0}})})})))),H=(0,z.V)("disableEditMode",(0,B.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:Object.assign(Object.assign({},e.weak.favoritesUIState),{[t.id]:{editMode:!1}})})})))),U=((0,z.V)("clearFavoritesUIState",(0,B.T)("appContext",(e=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:{}})})))),(e,t)=>{const{edit:i}=(0,P.is)(),{deleteCollection:s}=(0,P.j_)(),{enterEditMode:r}=(()=>{const e=(0,S.wA)();return{enterEditMode:(0,n.D)((t=>{e(F({id:t}))}))}})(),a=(0,L.E)().useBssHandler(A,{id:e.id,isVisibleOnMap:void 0!==e.is_visible_on_map&&!e.is_visible_on_map,size:t}),o=(0,n.D)((()=>{i({id:e.id,is_visible_on_map:!e.is_visible_on_map}),a()}));return{delete:(0,n.D)((()=>{s(e.id)})),changeIsVisibleOnMap:o,enterEditMode:(0,n.D)((()=>{r(e.id)}))}});var D=i(68299);const V=r.memo((({collection:e,itemsCount:t})=>{const{open:i}=(()=>{const e=(0,S.wA)();return{open:(0,n.D)(((t,i)=>{e(N(t,i))}))}})(),r=U(e,t),a=(0,n.D)((()=>{void 0!==e.is_visible_on_map&&i(e,t)})),o=(0,D.Y)((()=>{r.changeIsVisibleOnMap()}),300);return(0,s.jsx)(O,{onClick:a,isVisibleOnMap:!!e.is_visible_on_map,onDelete:r.delete,onEditIsVisibleOnMap:o,onEditTitle:r.enterEditMode,hideRemoveControl:!!e.is_default})}));var $=i(5449);var W=i(99906);const q=r.memo((e=>{const{popup:{collection:t,itemsCount:i}}=e,{css:r,s:a}=(0,o.I)(Z),c=(0,S.wA)(),{bssRef:d}=(0,L.E)((({frameId:e},t)=>(0,W.f_)({state:t,uuid:e,name:"showFavoritesSettingsFrame"}))),l=U(t,i),u=(0,n.D)((()=>{l.enterEditMode(),c((0,T.fs)())})),p=(0,n.D)((()=>{l.changeIsVisibleOnMap(),c((0,T.fs)())})),m=(0,n.D)((()=>{l.delete(),c((0,T.fs)())}));return(0,s.jsx)($.B,Object.assign({innerRef:d,withCloseButton:!0},{children:(0,s.jsx)("div",Object.assign({className:r(a.root)},{children:(0,s.jsx)(b,{isVisibleOnMap:!!t.is_visible_on_map,hideRemoveControl:!!t.is_default,onEditIsVisibleOnMap:p,onDelete:m,onEditTitle:u})}))}))})),Z=(0,o.r)({root:{width:"100%",height:"100%",paddingTop:44,paddingBottom:24,paddingStart:24,paddingEnd:24}})},81988:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});var s={};i.r(s),i.d(s,{openPublicProfile:()=>u,showOpenPublicProfileError:()=>h});var r=i(21959),n=i(77314),a=i(78069),o=i(12017),c=i(35023),d=i(29787),l=i(7335);const u=({userId:e})=>(0,l.eU)(r.ug,(t=>{var i;const s=null===(i=t.data)||void 0===i?void 0:i.public_user_id;return s&&s===e?(0,n.x)("reviews"):(0,o.K2)((0,d.PC)(),(0,a.fL)({id:(0,c.W7)(),type:"userPublicProfile",userId:e}))}));var p=i(51557),m=i(29094),g=i(536);const h=(0,o.n5)("showOpenPublicProfileError",(()=>(0,p.QY)((({tp:e})=>(0,m.D)((0,g.z)({title:e._t("Отзыв из внешнего источника"),message:e._t("Не можем показать профиль пользователя")}))))))},28462:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>s,QO:()=>M});var s={};i.r(s),i.d(s,{show:()=>n,showMarketPrice:()=>m,showTab:()=>c,tapAddress:()=>l,tapMarketPriceMoreButton:()=>g,tapParkings:()=>p,tapStation:()=>u,tapToReadMoreButton:()=>d,trackButtonTap:()=>a,trackTabTap:()=>o});const r=e=>{switch(e){case"ad":return"realtyOfferTab";case"nearby":return"realtyNearbyTab";case"reviews":return"buildingReviewTab";case"transport":return"realtyTransportTab"}},n=e=>({frameId:t})=>{const{productOffersList:i,productOfferItem:s}=e;return{uiElement:{name:"productOfferCardFull",ownerName:"realtyLayerProductOfferFrame",frameUuid:t},payload:{productOfferItem:s,productOffersList:i}}},a=()=>({frameId:e,showEventParams:t})=>{var i,s;const r=null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.productOfferItem,n=null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.productOffersList;if(r)return{uiElement:{name:"toTheShopButton",ownerName:"productOfferCardFull",frameUuid:e},action:"tap",payload:{productOfferItem:r,productOffersList:n}}},o=e=>({frameId:t})=>{const{productOfferItem:i,productOffersList:s,type:n}=e;return{uiElement:{name:r(n),ownerName:"productOfferCardFull",frameUuid:t},action:"tap",payload:{productOfferItem:i,productOffersList:s}}},c=e=>({frameId:t})=>{const{productOfferItem:i,productOffersList:s,type:n}=e;return{uiElement:{name:r(n),ownerName:"productOfferCardFull",frameUuid:t},payload:{productOfferItem:i,productOffersList:s}}},d=({productOfferItem:e,productOffersList:t})=>({frameId:i})=>({uiElement:{name:"expandDescription",ownerName:"realtyOfferTab",frameUuid:i},action:"tap",payload:{productOfferItem:e,productOffersList:t}}),l=({productOfferItem:e,productOffersList:t,ownerName:i})=>({frameId:s})=>({uiElement:{name:"nearAddressButton",ownerName:i,frameUuid:s},action:"tap",payload:{productOfferItem:e,productOffersList:t}}),u=({productOfferItem:e,productOffersList:t,ownerName:i})=>({frameId:s},r,n)=>({uiElement:{name:"nearestStations",ownerName:i,position:null==n?void 0:n.position,frameUuid:s},action:"tap",payload:{productOfferItem:e,productOffersList:t}}),p=({productOfferItem:e,productOffersList:t,ownerName:i})=>({frameId:s})=>({uiElement:{name:"nearestParkings",ownerName:i,frameUuid:s},action:"tap",payload:{productOfferItem:e,productOffersList:t}}),m=e=>({frameId:t})=>{const{productOfferItem:i,productOffersList:s,url:r}=e;return{uiElement:{name:"marketPriceBlock",ownerName:"productOfferCardFull",frameUuid:t},payload:{productOfferItem:i,productOffersList:s,callToAction:{actionType:"link",value:r}}}},g=({productOfferItem:e,productOffersList:t,url:i})=>({frameId:s})=>({uiElement:{name:"marketPriceLink",ownerName:"productOfferCardFull",frameUuid:s},action:"tap",payload:{productOfferItem:e,productOffersList:t,callToAction:{actionType:"link",value:i}}});var h=i(88735),f=i(46287),v=i(21959),b=i(12017),y=i(63041),x=i(34540),j=i(7335),w=i(6491),I=i(61120);const C=(0,b.n5)("fetchEntityPhotosFull",(e=>(0,j.eU)((t=>(0,f.JC)({state:t,entityId:e.id})),(t=>t.data||t.meta&&"loading"===t.meta.status||I.S$?(0,b.lQ)():(0,x.z)(Object.assign({page:1,pageSize:w.e},e))))));var _=i(81866),k=i(40268),O=i(80905),S=i(35058),T=i(20887);const E=(0,b.n5)("fetchUgcContent",(e=>(0,j.eU)((e=>(0,O.bB)(e.appContext.frames,"realtyCard")),(t=>t&&e?(0,b._7)((0,_.s)((e=>(0,f.YH)({state:e,searchId:t.reviewSearchId})),(0,S.M)({id:e,type:"geo",searchId:t.reviewSearchId})),(0,b.K2)((0,y.lQ)({id:e,searchId:void 0}),(0,h.o6)({entityId:e},(e=>T.jC.signals.patchFrameRealtyCard(t.id,(t=>{var i,s;return Object.assign(Object.assign({},t),{entranceId:null===(s=null===(i=e.data)||void 0===i?void 0:i.context)||void 0===s?void 0:s.entrance_id})}))))),C({id:e,type:"building"}),(0,_.s)((0,v.kR)(e),(0,k.cb)(e))):(0,b.lQ)())))),M={fetchUgcContent:E}},5161:(e,t,i)=>{"use strict";i.d(t,{Wm:()=>l.W,rg:()=>c,qI:()=>u});var s=i(31085),r=i(10048),n=i(58471),a=i(41950),o=i(1626);const c=e=>(0,s.jsx)(r.w,{loader:n.b.realtySearchFrame,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:d(e.frameContext.areFiltersOpened)}),d=e=>t=>"loading"===t?(0,s.jsx)(a.U,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,s.jsx)(o.$,{code:500});var l=i(3574),u=i(13953)},13953:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>r,Qd:()=>v,QO:()=>s,Oi:()=>g,VI:()=>u});var s={};i.r(s),i.d(s,{changeCategory:()=>F,clearAreaSuggester:()=>H,pickSuggest:()=>D,pickSuggestDesktop:()=>U,resetFilters:()=>z,setFilter:()=>B,setupRealtySearchFrame:()=>L});var r={};i.r(r),i.d(r,{showList:()=>$});var n=i(23102),a=i(34179),o=i(14041),c=i(79594),d=i(33581),l=i(82393);function u(){const e=(0,c.wA)(),t=(0,c.d4)(l.n$),i=(0,c.d4)(d.C),s=(0,c.d4)(a.H);(0,o.useEffect)((()=>{if(!t||!s)return;const{id:r,flags:{metro:a}}=t;a&&"realtyWalkDistance"===i&&!s[r]&&e((0,n.P)({regionId:r}))}),[null==t?void 0:t.id,null==t?void 0:t.flags.metro,i,s])}var p=i(20887),m=i(80905);function g(e){var t;const i=(0,c.wA)(),s=null===(t=(0,c.d4)((e=>(0,m.bB)(e.appContext.frames,"realtyCard"))))||void 0===t?void 0:t.realtyId;(0,o.useEffect)((()=>{i(p.Pf.signals.patchFrame(e.id,(t=>e.previousRealtyId!==s&&s?Object.assign(Object.assign({},t),{previousRealtyId:s}):e)))}),[s,e.id,e.previousRealtyId])}var h=i(38519),f=i(92448);function v({widgets:e,filters:t,categoryId:i,featureAirplane:s,featureBrusnika:r}){const n=h.lX.getRealtyCompanyWidget(e,"ПИК"),a=s&&h.lX.getRealtyCompanyWidget(e,"Самолет Плюс"),o=r&&h.lX.getRealtyCompanyWidget(e,"Брусника");return o&&(null==t?void 0:t[o.tag])===o.value?{brusnikaWidget:o}:n&&(null==t?void 0:t[n.tag])===n.value?{pikWidget:n}:a&&(null==t?void 0:t[a.tag])===a.value?{airplaneWidget:a}:i===f.gI.sale.categoryId?n?{pikWidget:n}:{airplaneWidget:a}:i===f.gI.rent.categoryId&&a?{airplaneWidget:a}:{pikWidget:n}}var b=i(12017),y=i(46287),x=i(37163),j=i(63041),w=i(7335),I=i(24872),C=i(41350),_=i(39890),k=i(35023),O=i(29787),S=i(88735),T=i(63312),E=i(51021),M=i(9763),N=i(35606);const L=(0,b.n5)("setupRealtySearchFrame",(({at:e,rc:t,category:i,filters:s})=>(0,b.K2)((0,x.cK)("realty"),p.Pf.signals.open({categoryId:f.gI[i||"sale"].categoryId,filters:s}),P({entityId:e,linkedEntityId:t})))),P=({entityId:e,linkedEntityId:t})=>t?(0,b.K2)((0,N.it)({id:t,searchId:void 0}),(0,w.eU)((e=>(0,y.DE)({state:e,entityId:t}).data),(e=>{var i;return R({entityId:"branch"===(null==e?void 0:e.type)?null===(i=null==e?void 0:e.address)||void 0===i?void 0:i.building_id:void 0,linkedEntityId:t})}))):R({entityId:e}),R=({entityId:e,linkedEntityId:t})=>(0,b.K2)((0,b._7)((0,w.eU)(C.QU.selectors.getRealtyQueryParams,(t=>t?C.QU.query.prefetchGetItems(Object.assign(Object.assign({},t),{geo_id:e})):(0,b.lQ)())),e?A({entityId:e,linkedEntityId:t}):(0,b.lQ)()),e?(0,I.TE)({entityId:e}):(0,b.lQ)()),A=({entityId:e,linkedEntityId:t})=>(0,b.K2)((0,j.lQ)({id:e,searchId:void 0}),(0,w.RC)({entity:t=>(0,y.DE)({state:t,entityId:e}).data,linkedEntity:e=>t?(0,y.DE)({state:e,entityId:t}).data:void 0},(({entity:e,linkedEntity:t})=>p.Pf.signals.withFrame((i=>(null==i?void 0:i.id)&&e?p.Pf.signals.patchFrame(i.id,(i=>Object.assign(Object.assign(Object.assign({},i),t?{linkedEntity:{id:null==t?void 0:t.id,type:null==t?void 0:t.type}}:{}),{entity:{id:e.id,type:e.type},suggestId:e.id}))):(0,b.lQ)()))))),B=(0,b.n5)("setFilter",(e=>{const t=(0,k.W7)();return(0,O.PC)((0,w.eU)((e=>e.appContext.frames.find(p.Pf.isFrameRealtySearch)),(i=>{if(!i||!p.Pf.isFrameRealtySearch(i))return(0,b.lQ)();const s=void 0===e.value&&e.name&&i.filterValues?(0,k.cJ)(i.filterValues,[e.name]):(0,_.$)(e,i.filterValues);return p.Pf.signals.patchFrame(i.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,k.W7)(),page:1,filtersId:t,scrollId:(0,k.W7)(),filterValues:s,seoH1:void 0})))})))})),z=(0,b.n5)("resetFilters",(()=>p.Pf.signals.withFrame((e=>e?p.Pf.signals.patchFrame(e.id,(e=>Object.assign(Object.assign({},e),{entity:void 0,filterValues:{}}))):(0,b.lQ)())))),F=(0,b.n5)("changeCategory",(e=>{const{newValue:t}=e;return p.Pf.signals.withFrame((e=>e?p.Pf.signals.patchFrame(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,k.W7)(),filterValues:{},page:1,categoryId:t,scrollId:(0,k.W7)(),seoH1:void 0}))):(0,b.lQ)()))})),H=(0,b.n5)("clearAreaSuggester",(()=>p.Pf.signals.withFrame((e=>e?(0,b.K2)((0,O.PC)(p.Pf.signals.patchFrame(e.id,(e=>Object.assign(Object.assign({},e),{entity:void 0,suggestId:void 0})))),p.Pf.signals.patchFrame(e.id,(e=>Object.assign(Object.assign({},e),{seoH1:void 0})))):(0,b.lQ)())))),U=(e,t)=>{const i=e.id;return(0,b.K2)((0,j.lQ)({id:i,searchId:void 0}),(0,S.o6)({entityId:i},(e=>{const s=e.data;if(!s)return;const r=(0,T.A)(s)?void 0:{id:s.id,type:s.type};return(0,M.H)(s)?p.Pf.signals.open({suggestId:i,entity:r,filters:t.filterValues}):(0,O.PC)(p.Pf.signals.patchFrame(t.id,(e=>Object.assign(Object.assign({},e),{entity:r,suggestId:i}))))})))},D=(0,b.n5)("pickSuggest",((e,t)=>(0,b.K2)((0,E.P)(U(e,t)),(0,E.n)(((e,t)=>{const i=e.id;return(0,b.K2)((0,j.lQ)({id:i,searchId:void 0}),(0,S.o6)({entityId:i},(e=>{const s=e.data;if(s)return(0,O.PC)(p.Pf.signals.patchFrame(t.id,(e=>Object.assign(Object.assign({},e),{entity:(0,T.A)(s)?void 0:{id:s.id,type:s.type},suggestId:i}))))})))})(e,t)),p.Pf.signals.patchFrame(t.id,(e=>Object.assign(Object.assign({},e),{seoH1:void 0}))))));var V=i(81462);const $=({search:e,isSuccess:t})=>({frameId:i},s)=>{var r;const n=(0,m.w1)(s.appContext.frames,i);if(!n||"realty"!==n.type||!e)return;const a=(0,V.i)({state:s,isSuccess:t,search:e});return a?{uiElement:{name:"building"==(null===(r=n.entity)||void 0===r?void 0:r.type)?"buildingProductOffersList":"productOffersList",ownerName:"realtyLayerFrame",frameUuid:i},payload:{productOffersList:a}}:void 0}},3574:(e,t,i)=>{"use strict";i.d(t,{W:()=>B});var s=i(31085),r=i(90882),n=i(12017),a=i(14041),o=i(79594),c=i(10742),d=i(14701),l=i(20091),u=i(84175),p=i(82781),m=i(38065),g=i(99259),h=i(69158),f=i(64099),v=i(93404),b=i(80552),y=i(4957),x=i(49048),j=i(84593),w=i(16914),I=i(8365),C=i(91984),_=i(61979),k=i(81618),O=i(33581);const S=a.memo((({onLogoClick:e,showFilters:t,showList:i})=>{const[r,n]=a.useState(!1),c=(0,o.d4)((e=>e.session.is3dEnabled)),{bssRef:d,useBssHandler:l}=(0,I.E)(),h=l(C.h,{type:r?"closeMapSubLayers":"mapSubLayers"}),f=a.useCallback((()=>{c&&(h(),n((e=>!e)))}),[c,h]),b=(0,o.d4)(O.C),S=!!b,E=m.xG.useRealtySublayers(),M=S?E.find((e=>e.type===b)):void 0,N=(0,p.c)(),{css:L,s:P}=(0,u.I)(T);return(0,s.jsx)("div",Object.assign({ref:d},{children:(0,s.jsxs)(j.L,Object.assign({appearance:"transparent"},{children:[(0,s.jsx)("button",Object.assign({onClick:e,className:L(P.dgisButton)},{children:(0,s.jsx)(_.z,{size:36})})),(0,s.jsx)(j.j,Object.assign({onClick:t,icon:(0,s.jsx)(y.C,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-filter"},{children:N._gg("Фильтры")})),(0,s.jsx)(j.j,Object.assign({onClick:i,icon:(0,s.jsx)(w.B,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-list"},{children:N._gg("Списком")})),(null==E?void 0:E.length)>0&&c&&(0,s.jsx)(j.j,Object.assign({onClick:f,icon:(0,s.jsx)(x.z,{}),type:S?"blueWithShadow":"whiteWithShadow",dataN:"wat-realty-footer-sublyers"},{children:M?M.title:N._gg("Карты недвижимости")})),r&&c&&(0,s.jsx)("div",Object.assign({onClick:f,className:L(P.sublayerRoot)},{children:(0,s.jsxs)("div",Object.assign({className:L(P.sublayerList)},k.dx.n("wat-realty-footer-sublayer-list"),{children:[(0,s.jsxs)("div",Object.assign({className:L(P.sublayersHeader)},{children:[N._gg("Карты недвижимости"),(0,s.jsx)("div",Object.assign({className:L(P.icon)},{children:(0,s.jsx)(v.b,{color:g.T.gray_cccccc})}))]})),(0,s.jsx)(m.UC,{items:E,isListCollapsed:!r})]}))}))]}))}))})),T=(0,u.r)({dgisButton:{marginEnd:10},sublayerRoot:{position:"fixed",zIndex:f.fE.top,top:0,start:0,width:"100%",height:"100%",background:(0,h.m)(g.T.black,.7),display:"flex",flexDirection:"column",justifyContent:"flex-end"},sublayerList:{background:g.T.white,borderRadius:"8px 8px 0 0",paddingTop:20,paddingBottom:20,paddingStart:20,paddingEnd:24},sublayersHeader:Object.assign(Object.assign({},b.lead),{display:"flex",justifyContent:"space-between",paddingBottom:20}),icon:{display:"flex",justifyContent:"center",alignItems:"center",width:28,height:28}});var E=i(75098),M=i(22786),N=i(18887),L=i(92448);const P=a.memo((({onLogoClick:e,showFilters:t,showMap:i,entityId:r,goBack:n,categoryId:a})=>{const o=(0,p.c)(),{css:c,s:d}=(0,u.I)(R),l=(0,N.P)({type:a===L.gI.rent.categoryId?"realtyRent":"realtySales"});return(0,s.jsxs)(j.L,{children:[r?(0,s.jsx)(j.j,{href:l,onClick:n,icon:(0,s.jsx)(M.v,{})}):(0,s.jsx)("button",Object.assign({onClick:e,className:c(d.dgisButton)},{children:(0,s.jsx)(_.z,{size:36})})),(0,s.jsx)(j.j,Object.assign({dataN:"wat-realty-footer-filters",onClick:t,icon:(0,s.jsx)(y.C,{})},{children:o._gg("Фильтры")})),(0,s.jsx)(j.j,Object.assign({dataN:"wat-realty-footer-map",onClick:i,icon:(0,s.jsx)(E.T,{})},{children:o._gg("На карте")}))]})})),R=(0,u.r)({dgisButton:{marginEnd:10}});var A=i(52072);const B=(0,a.memo)((()=>{const e=(0,o.d4)((e=>e.appContext.frames[0]));return e&&"realty"===e.type&&"manuallyOpened"!==e.filterPanelState?(0,s.jsx)(z,{frame:e}):null})),z=(0,a.memo)((({frame:e})=>{var t;const i=(0,o.d4)((e=>e.appContext.isDataViewerMinimized)),a=(0,o.wA)(),u=(0,c.D)((()=>{a((0,r.L)("Уверены, что хотите покинуть раздел недвижимости?",(()=>(0,n.v6)((()=>{window.location.href=`https://${window.location.host}`})))))})),p=(0,c.D)((()=>a((0,A.c)()))),m=(0,c.D)((()=>a((0,n.K2)((0,l.X_)({isMinimized:!1}),(0,d.p)({frameId:e.id,shouldOpen:!0}))))),g=(0,c.D)((()=>{a((0,l.X_)({isMinimized:!i}))}));return i?(0,s.jsx)(S,{onLogoClick:u,showFilters:m,showList:g}):(0,s.jsx)(P,{onLogoClick:u,showFilters:m,showMap:g,entityId:null===(t=e.entity)||void 0===t?void 0:t.id,goBack:p,categoryId:e.categoryId})}))},42586:(e,t,i)=>{"use strict";i.d(t,{N:()=>s});var s={};i.r(s),i.d(s,{generators:()=>c,getProfileItemPayload:()=>d,showVisitedPlaces:()=>l,tapFeedTab:()=>a,tapFriendsTab:()=>n,tapVisitedPlaces:()=>u});var r=i(81678);const n=()=>({frameId:e},t,i)=>{if(!i)return;const{isFriend:s,profile:n}=i;return{uiElement:{name:"friendsTab",ownerName:s?"friendCardFull":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:r.vK.bss.getProfileItemPayload({user:n})}}},a=()=>({frameId:e},t,i)=>{if(!i)return;const{isFriend:s,profile:n}=i;return{uiElement:{name:"activitiesTab",ownerName:s?"friendCardFull":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:r.vK.bss.getProfileItemPayload({user:n})}}};var o=i(60545);const c={actions:{tab:e=>(0,o.gD)({uiElement:{name:"friendsTab",ownerName:"friendCardFull",frameUuid:expect.any(String)},payload:{profileItem:{authUser:expect.any(String),publicProfileId:expect.any(String),isPrivate:expect.any(Boolean),isDeleted:expect.any(Boolean),hasPhoto:expect.any(Boolean)}}})(e)}},d=({user:e})=>({authUser:e.user_id,publicProfileId:e.public_user_id,isPrivate:"CLOSE"===e.privacy,isDeleted:e.is_deleted,hasPhoto:!!e.avatar}),l=({user:e})=>({frameId:t})=>({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds",frameUuid:t},payload:{profileItem:d({user:e}),activitiesList:{size:756}}}),u=()=>({frameId:e},t,i)=>{if(!i)return;const{isFriend:s,user:r}=i;return{uiElement:{name:"profileCardActivitiesList",ownerName:s?"profileCardTwoThirds":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:d({user:r}),activitiesList:{size:756}}}}},58471:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});const s={prices:{asyncImport:()=>i.e(401).then(i.bind(i,35670)),chunkName:"prices",moduleID:35670},catalog:{asyncImport:()=>Promise.all([i.e(4121),i.e(9114),i.e(5880),i.e(7624)]).then(i.bind(i,34473)),chunkName:"catalog",moduleID:34473},collection:{asyncImport:()=>i.e(1171).then(i.bind(i,92824)),chunkName:"collection",moduleID:92824},contactsTab:{asyncImport:()=>Promise.all([i.e(4121),i.e(7098),i.e(1515),i.e(1293)]).then(i.bind(i,85842)),chunkName:"contactsTab",moduleID:85842},discountsTab:{asyncImport:()=>i.e(4250).then(i.bind(i,83231)),chunkName:"discountsTab",moduleID:83231},dashboard:{asyncImport:()=>i.e(945).then(i.bind(i,46058)),chunkName:"dashboard",moduleID:46058},direction:{asyncImport:()=>i.e(2526).then(i.bind(i,27199)),chunkName:"direction",moduleID:27199},directions:{asyncImport:()=>Promise.all([i.e(4121),i.e(4849)]).then(i.bind(i,19913)),chunkName:"directions",moduleID:19913},editFavorite:{asyncImport:()=>i.e(1603).then(i.bind(i,32476)),chunkName:"editFavorite",moduleID:32476},entityList:{asyncImport:()=>i.e(8962).then(i.bind(i,71675)),chunkName:"entityList",moduleID:71675},entityTooltip:{asyncImport:()=>i.e(2851).then(i.bind(i,46146)),chunkName:"entityTooltip",moduleID:46146},entityVideoPopup:{asyncImport:()=>i.e(6115).then(i.bind(i,27343)),chunkName:"entityVideoPopup",moduleID:27343},exchangeTooltip:{asyncImport:()=>i.e(9185).then(i.bind(i,14980)),chunkName:"exchangeTooltip",moduleID:14980},favorites:{asyncImport:()=>i.e(4062).then(i.bind(i,77242)),chunkName:"favorites",moduleID:77242},feedback:{asyncImport:()=>i.e(7030).then(i.bind(i,60268)),chunkName:"feedback",moduleID:60268},filters:{asyncImport:()=>i.e(5028).then(i.bind(i,31054)),chunkName:"filters",moduleID:31054},galleryAlbum:{asyncImport:()=>Promise.all([i.e(7361),i.e(7724)]).then(i.bind(i,98917)),chunkName:"galleryAlbum",moduleID:98917},gtaAds:{asyncImport:()=>i.e(3907).then(i.bind(i,35205)),chunkName:"gtaAds",moduleID:35205},gdprCookieBanner:{asyncImport:()=>i.e(1644).then(i.bind(i,72793)),chunkName:"gdprCookieBanner",moduleID:72793},infoTab:{asyncImport:()=>Promise.all([i.e(4121),i.e(9114),i.e(7098),i.e(1515),i.e(2500)]).then(i.bind(i,32886)),chunkName:"infoTab",moduleID:32886},insideTab:{asyncImport:()=>i.e(8828).then(i.bind(i,1613)),chunkName:"insideTab",moduleID:1613},installAppToSeeFriendsPopup:{asyncImport:()=>i.e(4392).then(i.bind(i,55775)),chunkName:"installAppToSeeFriendsPopup",moduleID:55775},interestingCarousel:{asyncImport:()=>i.e(825).then(i.bind(i,79232)),chunkName:"interestingCarousel",moduleID:79232},catalogMarkers:{asyncImport:()=>i.e(8089).then(i.bind(i,532)),chunkName:"catalogMarkers",moduleID:532},rubricExperimentMarker:{asyncImport:()=>i.e(8967).then(i.bind(i,2483)),chunkName:"rubricExperimentMarker",moduleID:2483},realtyMarkers:{asyncImport:()=>i.e(8551).then(i.bind(i,1114)),chunkName:"realtyMarkers",moduleID:1114},infrastructureMarkers:{asyncImport:()=>i.e(8399).then(i.bind(i,91252)),chunkName:"infrastructureMarkers",moduleID:91252},miniEntity:{asyncImport:()=>i.e(5163).then(i.bind(i,53377)),chunkName:"miniEntity",moduleID:53377},offer:{asyncImport:()=>Promise.all([i.e(4121),i.e(9114),i.e(5880),i.e(1895)]).then(i.bind(i,24346)),chunkName:"offer",moduleID:24346},photoUploader:{asyncImport:()=>i.e(1475).then(i.bind(i,41460)),chunkName:"photoUploader",moduleID:41460},mediaUploader:{asyncImport:()=>Promise.all([i.e(4121),i.e(5731)]).then(i.bind(i,1950)),chunkName:"mediaUploader",moduleID:1950},photoViewer:{asyncImport:()=>i.e(1651).then(i.bind(i,41553)),chunkName:"photoViewer",moduleID:41553},mediaViewer:{asyncImport:()=>i.e(2195).then(i.bind(i,43952)),chunkName:"mediaViewer",moduleID:43952},product:{asyncImport:()=>Promise.all([i.e(9114),i.e(964)]).then(i.bind(i,60611)),chunkName:"product",moduleID:60611},pricesTab:{asyncImport:()=>i.e(1894).then(i.bind(i,7417)),chunkName:"pricesTab",moduleID:7417},publicFavorites:{asyncImport:()=>i.e(9975).then(i.bind(i,63887)),chunkName:"publicFavorites",moduleID:63887},realtyTab:{asyncImport:()=>Promise.all([i.e(9192),i.e(4431)]).then(i.bind(i,9342)),chunkName:"realtyTab",moduleID:9342},reviewsTab:{asyncImport:()=>i.e(1103).then(i.bind(i,73551)),chunkName:"reviewsTab",moduleID:73551},menuTab:{asyncImport:()=>i.e(8587).then(i.bind(i,8538)),chunkName:"menuTab",moduleID:8538},mediaTab:{asyncImport:()=>Promise.all([i.e(7361),i.e(1790)]).then(i.bind(i,52515)),chunkName:"mediaTab",moduleID:52515},rubric:{asyncImport:()=>i.e(4828).then(i.bind(i,16460)),chunkName:"rubric",moduleID:16460},rubricator:{asyncImport:()=>i.e(7656).then(i.bind(i,50859)),chunkName:"rubricator",moduleID:50859},servicesTab:{asyncImport:()=>i.e(8340).then(i.bind(i,19669)),chunkName:"servicesTab",moduleID:19669},sharing:{asyncImport:()=>Promise.all([i.e(9114),i.e(8969)]).then(i.bind(i,90422)),chunkName:"sharing",moduleID:90422},suggestList:{asyncImport:()=>Promise.all([i.e(9114),i.e(5747)]).then(i.bind(i,21033)),chunkName:"suggestList",moduleID:21033},typedFeedback:{asyncImport:()=>i.e(7392).then(i.bind(i,93358)),chunkName:"typedFeedback",moduleID:93358},userProfile:{asyncImport:()=>Promise.all([i.e(9114),i.e(8269)]).then(i.bind(i,27181)),chunkName:"userProfile",moduleID:27181},subscriptions:{asyncImport:()=>i.e(6671).then(i.bind(i,33646)),chunkName:"subscriptions",moduleID:33646},subscribers:{asyncImport:()=>i.e(2512).then(i.bind(i,47521)),chunkName:"subscribers",moduleID:47521},successfulSubscriptions:{asyncImport:()=>i.e(5253).then(i.bind(i,57099)),chunkName:"successfulSubscriptions",moduleID:57099},noFriends:{asyncImport:()=>i.e(4061).then(i.bind(i,960)),chunkName:"noFriends",moduleID:960},social:{asyncImport:()=>i.e(9158).then(i.bind(i,54909)),chunkName:"social",moduleID:54909},recommendations:{asyncImport:()=>i.e(8770).then(i.bind(i,2080)),chunkName:"recommendations",moduleID:2080},videoPopup:{asyncImport:()=>i.e(4930).then(i.bind(i,67713)),chunkName:"videoPopup",moduleID:67713},mediaVideoPlayer:{asyncImport:()=>i.e(5477).then(i.bind(i,59466)),chunkName:"mediaVideoPlayer",moduleID:59466},writeReview:{asyncImport:()=>i.e(5952).then(i.bind(i,94049)),chunkName:"writeReview",moduleID:94049},unconfirmedReviews:{asyncImport:()=>i.e(4248).then(i.bind(i,47099)),chunkName:"unconfirmedReviews",moduleID:47099},currentReview:{asyncImport:()=>Promise.all([i.e(9114),i.e(5670)]).then(i.bind(i,10208)),chunkName:"currentReview",moduleID:10208},tUgcCard:{asyncImport:()=>i.e(6494).then(i.bind(i,53177)),chunkName:"tUgcCard",moduleID:53177},searchResults:{asyncImport:()=>Promise.all([i.e(4121),i.e(5880),i.e(4163)]).then(i.bind(i,6084)),chunkName:"searchResults",moduleID:6084},deliveryOrderPopup:{asyncImport:()=>i.e(4197).then(i.bind(i,34933)),chunkName:"deliveryOrderPopup",moduleID:34933},cart:{asyncImport:()=>Promise.all([i.e(4121),i.e(9114),i.e(7949)]).then(i.bind(i,95632)),chunkName:"cart",moduleID:95632},sendOrderPopup:{asyncImport:()=>Promise.all([i.e(9114),i.e(7443)]).then(i.bind(i,77932)),chunkName:"sendOrderPopup",moduleID:77932},confirm:{asyncImport:()=>i.e(4029).then(i.bind(i,96397)),chunkName:"confirm",moduleID:96397},userFriendsActivity:{asyncImport:()=>i.e(8386).then(i.bind(i,93355)),chunkName:"userFriendsActivity",moduleID:93355},realtySearchFrame:{asyncImport:()=>Promise.all([i.e(7098),i.e(9192),i.e(3061)]).then(i.bind(i,27283)),chunkName:"realtySearchFrame",moduleID:27283},realtyCardFrame:{asyncImport:()=>Promise.all([i.e(9114),i.e(659)]).then(i.bind(i,49162)),chunkName:"realtyCardFrame",moduleID:49162},achievementsFrame:{asyncImport:()=>Promise.all([i.e(9114),i.e(2086)]).then(i.bind(i,38233)),chunkName:"achievementsFrame",moduleID:38233},privacyPolicyBanner:{asyncImport:()=>Promise.all([i.e(9114),i.e(6097)]).then(i.bind(i,7192)),chunkName:"privacyPolicyBanner",moduleID:7192},exchange:{asyncImport:()=>i.e(7552).then(i.bind(i,60075)),chunkName:"exchange",moduleID:60075},personalDataAgreementPopup:{asyncImport:()=>i.e(6381).then(i.bind(i,61533)),chunkName:"personalDataAgreementPopup",moduleID:61533},thanksForPhoto:{asyncImport:()=>i.e(6539).then(i.bind(i,50536)),chunkName:"thanksForPhoto",moduleID:50536},thanksForReview:{asyncImport:()=>i.e(389).then(i.bind(i,57218)),chunkName:"thanksForReview",moduleID:57218},smmTipPopup:{asyncImport:()=>i.e(3615).then(i.bind(i,83761)),chunkName:"smmTipPopup",moduleID:83761},smmCheckoutPopup:{asyncImport:()=>i.e(8738).then(i.bind(i,88682)),chunkName:"smmCheckoutPopup",moduleID:88682},phonePopup:{asyncImport:()=>i.e(5197).then(i.bind(i,85021)),chunkName:"phonePopup",moduleID:85021},newYearPromoPopup:{asyncImport:()=>i.e(5109).then(i.bind(i,10012)),chunkName:"newYearPromoPopup",moduleID:10012},otelloChooseBookingParamsPopup:{asyncImport:()=>Promise.all([i.e(4121),i.e(5870)]).then(i.bind(i,83886)),chunkName:"otelloChooseBookingParamsPopup",moduleID:83886},otelloGeoWidget:{asyncImport:()=>i.e(7841).then(i.bind(i,84875)),chunkName:"otelloGeoWidget",moduleID:84875},desktopPromoMapBanner:{asyncImport:()=>i.e(4226).then(i.bind(i,63804)),chunkName:"desktopPromoMapBanner",moduleID:63804},mobileAppPromoBannerPopup:{asyncImport:()=>i.e(3625).then(i.bind(i,21390)),chunkName:"mobileAppPromoBannerPopup",moduleID:21390},routeEditorBillboardBanner:{asyncImport:()=>i.e(6480).then(i.bind(i,97092)),chunkName:"routeEditorBillboardBanner",moduleID:97092},launchSimplePopup:{asyncImport:()=>i.e(4338).then(i.bind(i,82809)),chunkName:"launchSimplePopup",moduleID:82809},routeSearchFullscreenPopup:{asyncImport:()=>i.e(217).then(i.bind(i,26840)),chunkName:"routeSearchFullscreenPopup",moduleID:26840},viewStoryPopup:{asyncImport:()=>i.e(3199).then(i.bind(i,65632)),chunkName:"viewStoryPopup",moduleID:65632},discountPopup:{asyncImport:()=>i.e(4328).then(i.bind(i,60678)),chunkName:"discountPopup",moduleID:60678},airplaneLogoOnMap:{asyncImport:()=>i.e(3663).then(i.bind(i,80857)),chunkName:"airplaneLogoOnMap",moduleID:80857},airplaneControl:{asyncImport:()=>i.e(1808).then(i.bind(i,99027)),chunkName:"airplaneControl",moduleID:99027},friendsOnMap:{asyncImport:()=>i.e(6377).then(i.bind(i,25128)),chunkName:"friendsOnMap",moduleID:25128},facts:{asyncImport:()=>i.e(7612).then(i.bind(i,88907)),chunkName:"facts",moduleID:88907},attributes:{asyncImport:()=>Promise.all([i.e(541),i.e(3772)]).then(i.bind(i,46794)),chunkName:"attributes",moduleID:46794},review:{asyncImport:()=>Promise.all([i.e(541),i.e(7219)]).then(i.bind(i,9030)),chunkName:"review",moduleID:9030},mobileFriendsOnMapPopup:{asyncImport:()=>i.e(5679).then(i.bind(i,15335)),chunkName:"mobileFriendsOnMapPopup",moduleID:15335},invitingFriendsOnMapPopup:{asyncImport:()=>i.e(1195).then(i.bind(i,58597)),chunkName:"invitingFriendsOnMapPopup",moduleID:58597},competitionNoFriends:{asyncImport:()=>i.e(1871).then(i.bind(i,49445)),chunkName:"competitionNoFriendsOnMapPopup",moduleID:49445},competitionHaveFriends:{asyncImport:()=>i.e(9606).then(i.bind(i,32794)),chunkName:"competitionHaveFriendsOnMapPopup",moduleID:32794},authFriendsOnMapPopup:{asyncImport:()=>i.e(3415).then(i.bind(i,94961)),chunkName:"authFriendsOnMapPopup",moduleID:94961},userPublicProfileFrame:{asyncImport:()=>i.e(7587).then(i.bind(i,91495)),chunkName:"userPublicProfileFrame",moduleID:91495},friendsListFrame:{asyncImport:()=>i.e(9605).then(i.bind(i,64838)),chunkName:"friendsListFrame",moduleID:64838},adviceFrame:{asyncImport:()=>i.e(8822).then(i.bind(i,1057)),chunkName:"adviceFrame",moduleID:1057},friendInOtherDomainPopup:{asyncImport:()=>i.e(7110).then(i.bind(i,81683)),chunkName:"friendInOtherDomainPopup",moduleID:81683},friendsBanner:{asyncImport:()=>i.e(3840).then(i.bind(i,54446)),chunkName:"friendsBanner",moduleID:54446},immersivePromoBanner:{asyncImport:()=>i.e(6899).then(i.bind(i,78773)),chunkName:"immersivePromoBanner",moduleID:78773},immersivePromoTour:{asyncImport:()=>i.e(2703).then(i.bind(i,1326)),chunkName:"immersivePromoTour",moduleID:1326},mobileImmersiveFullscreenPopup:{asyncImport:()=>i.e(981).then(i.bind(i,42054)),chunkName:"mobileImmersiveFullscreenPopup",moduleID:42054},userRelationDifferencePopup:{asyncImport:()=>i.e(4635).then(i.bind(i,93434)),chunkName:"userRelationDifferencePopup",moduleID:93434},guideBookmarksPopup:{asyncImport:()=>i.e(6418).then(i.bind(i,17532)),chunkName:"guideBookmarks",moduleID:17532},deloPromoPopup:{asyncImport:()=>i.e(3012).then(i.bind(i,87533)),chunkName:"deloPromoPopup",moduleID:87533},guideFrame:{asyncImport:()=>Promise.all([i.e(4121),i.e(7638),i.e(4848)]).then(i.bind(i,6184)),chunkName:"guideFrame",moduleID:6184},awardsHeader:{asyncImport:()=>i.e(4354).then(i.bind(i,92634)),chunkName:"awardsHeader",moduleID:92634},filtersHeader:{asyncImport:()=>Promise.all([i.e(4121),i.e(8347)]).then(i.bind(i,58688)),chunkName:"filtersHeader",moduleID:58688},collectionFrame:{asyncImport:()=>Promise.all([i.e(4121),i.e(7638),i.e(7766)]).then(i.bind(i,22645)),chunkName:"collectionFrame",moduleID:22645}}},89235:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});const s=50},71794:(e,t,i)=>{"use strict";i.d(t,{l:()=>c});var s=i(78069),r=i(35023),n=i(12017),a=i(5795),o=i(89235);function c(e){const{collectionId:t,type:i}=e;return(0,n._7)((0,s.fL)({id:(0,r.W7)(),type:"collection",subtype:i,collectionId:t,visibleItemsLimit:o.n}),(0,a.m)(i,t,o.n))}},5795:(e,t,i)=>{"use strict";i.d(t,{m:()=>p});var s=i(12017),r=i(63041),n=i(96863),a=i(46287),o=i(14908),c=i(74961),d=i(76127);const l=(e,t,i)=>s=>{const r=("private"===e?c.c_:n.iP)(t)(s);if(!r.length)return[];const l=[];return("private"===e?r.slice(0,i):r).forEach((e=>{const t=e.object_id;if(!t)return;const i=(0,a.DE)({state:s,entityId:t});(0,o.$)(i)&&l.push(t)})),(0,d.h)(l,(e=>e))};const u=50;function p(e,t,i){return"private"===e?function(e,t){return(0,s.Q2)((i=>{const n=l("private",e,t)(i);return n.length?(0,r.r_)({ids:n.slice(0,50),searchId:void 0}):(0,s.lQ)()}))}(t,i):function(e){return(0,s.Q2)((t=>{const i=l("public",e)(t);if(!i.length)return(0,s.lQ)();const n=new Array(Math.ceil(i.length/u)).fill(1).map(((e,t)=>i.slice(u*t,u*t+u)));return(0,s._7)(...n.map((e=>(0,r.r_)({ids:e,searchId:void 0}))))}))}(t)}},88632:(e,t,i)=>{"use strict";i.d(t,{d:()=>a});var s=i(12017),r=i(78069),n=i(90059);const a=(0,s.n5)("closeUserProfileFrame",(()=>(0,n.iZ)((e=>"private"===(null==e?void 0:e.subtype)?(0,r.wU)({id:e.id}):(0,s.lQ)()))))},70143:(e,t,i)=>{"use strict";i.d(t,{t:()=>a});var s=i(78069),r=i(35023),n=i(12017);function a(e){const{reviewId:t,searchId:i,publicUserId:a}=e;if(!t)return(0,n.lQ)();const o=(0,r.W7)();return(0,s.fL)({id:o,type:"currentReview",reviewId:t,searchId:i,publicUserId:a})}},21282:(e,t,i)=>{"use strict";i.d(t,{N:()=>n,a:()=>a});var s=i(48914),r=i(99906);const n=(e,t)=>({bssOnFeedbackClick(){e((0,s.cD)({uiElement:{name:"feedbackButton",ownerName:"dashboard",frameUuid:t.ownerFrameId},action:"tap"}))}}),a=()=>({frameId:e},t)=>(0,r.f_)({state:t,name:"dashboardFrame",uuid:e})},86676:(e,t,i)=>{"use strict";i.d(t,{J:()=>m});var s=i(31085),r=i(14041),n=i(4431),a=i(80774),o=i(99259),c=i(21252),d=i(48914),l=i(7335);var u=i(7515);class p extends r.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,s.jsx)(a.X,{color:o.T.gray_262626}),this.handleClick=()=>{this.props.bssOnClick(),this.props.onClick()}}render(){return(0,s.jsx)(n.D,{icon:this.renderIcon,title:this.props.i18n.tp._t("Избранное"),onClick:this.handleClick,dataT:"favorite"})}}const m=(0,u.Q)()((0,c.f)(void 0,(e=>({bssOnClick(){e((0,l.eU)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,d.cD)({uiElement:{name:"favoritesIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))(p))},45193:(e,t,i)=>{"use strict";i.d(t,{H:()=>r,L:()=>n});const s=e=>{switch(e){case"interesting":return"interestingIcon";case"guidebook":return"guidebookIcon";case"award2019":return"awardsIcon";case"realty":return"realtyIcon";case"award2025":return"award2gisIcon";case"GreatList":return"greatlistIcon";case"РРФ":return"rrfIcon";default:return}},r=e=>({frameId:t})=>{const{code:i,position:r}=e,n=s(i);if(n)return{uiElement:{name:n,ownerName:"dashboardFrame",frameUuid:t,position:r}}},n=e=>({frameId:t})=>{const{code:i,position:r}=e,n=s(i);if(n)return{uiElement:{name:n,ownerName:"dashboardFrame",frameUuid:t,position:r},action:"tap"}}},44724:(e,t,i)=>{"use strict";i.d(t,{M:()=>_});var s=i(31085),r=i(14041),n=i(71064),a=i(84175),o=i(66698),c=i(82781),d=i(80552),l=i(99259),u=i(69158),p=i(64099),m=i(8365),g=i(45193),h=i(46579),f=i(91466),v=i(95305),b=i(98626),y=i(79594),x=i(12017),j=i(7335),w=i(15942),I=i(71483);const C=`${i(39954).Y}?utm_source=dashboard_online&utm_campaign=premiya_2023`,_=(0,r.memo)((()=>{const{css:e,s:t}=(0,a.I)(k),{_t:i}=(0,c.c)(),o=(0,y.wA)(),{feature2gisAwardPromoAnnouncement:d,feature2gisAwardPromoMain:l,featureAwardPartner:u,baseDomain:p,locale:_,isMobileDevice:O}=(0,h.U)(),S="2gis.ru"===p&&"ru_RU"===_?"Премия 2ГИС 2025":"2GIS Awards 2025",{bssRef:T,useBssHandler:E}=(0,m.E)((0,g.H)({code:"award2025",position:1})),M=E(g.L,{code:"award2025",position:1}),N=(0,r.useCallback)((()=>{M(),o((0,x.Q2)((e=>(0,j.Cl)((t=>(0,w.q_)({query:"Премия 2ГИС",viewpoint:t,regionId:(0,I.O)(e)}))))))}),[M,o]);return l||d?(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)("div",Object.assign({ref:T,className:e(t.root,O&&t.rootMobile)},{children:(0,s.jsxs)("div",Object.assign({onClick:N,className:e(t.content,O&&t.contentMobile)},{children:[(0,s.jsx)("div",{className:e(t.logo)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",Object.assign({className:e(t.title)},{children:S})),(0,s.jsx)("p",Object.assign({className:e(t.title,t.extraTitle,O&&t.extraTitleMobile)},{children:i("Победители")})),!O&&(0,s.jsx)("p",Object.assign({className:e(!O&&t.description)},{children:i("Лучшие компании по&nbsp;версии пользователей")}))]}),u&&(0,s.jsx)("div",Object.assign({className:e(t.partnerLogo,O&&t.partnerLogoMobile)},{children:(0,s.jsx)(f.i,{src:`${(0,v.c)()}promo2gisAwards/partner-logo.png`,width:81,height:19})}))]}))})),l&&u&&(0,s.jsx)("div",{children:(0,s.jsx)(b.Q,{tiny:!0,gray:!0,source:"banner",erid:["2RanynkWasr"],legalName:'ООО "Байкал-Сервис ТК"'})}),d&&(0,s.jsx)("div",Object.assign({ref:T,className:e(t.root,O&&t.rootMobile)},{children:(0,s.jsxs)(n.A,Object.assign({external:!0,href:C,onClick:N,styles:O?Object.assign(Object.assign({},t.link),t.linkMobile):t.link},{children:[(0,s.jsx)("p",Object.assign({className:e(t.title,t.flexTitle,O&&t.flexTitleMobile)},{children:`${i("Премия 2ГИС")}`})),!O&&(0,s.jsx)("p",Object.assign({className:e(t.description)},{children:i("Пользователи выбрали лучшие компании, результаты уже в мае")}))]}))}))]}):null}));_.displayName="AwardsPromo";const k=(0,a.r)({root:{display:"block",position:"relative",height:132,boxSizing:"border-box",backgroundSize:"cover",borderRadius:p.Vq.default,border:`1px solid ${l.T.gray_e6e6e6}`,[`@media (max-height: ${o.J1}px)`]:{height:56}},rootMobile:{height:56},link:{display:"block",width:"100%",height:"100%",paddingTop:8,paddingEnd:16,paddingBottom:12,paddingStart:16,boxSizing:"border-box",[`@media (max-height: ${o.J1}px)`]:{padding:"10px 16px"}},linkMobile:{padding:"10px 16px"},content:{display:"flex",flexDirection:"column",width:"100%",height:"100%",paddingTop:8,paddingEnd:16,paddingBottom:12,paddingStart:16,boxSizing:"border-box",cursor:"pointer",[`@media (max-height: ${o.J1}px)`]:{padding:"10px 16px",flexDirection:"row-reverse",flexWrap:"nowrap",justifyContent:"space-between"}},contentMobile:{padding:"10px 16px"},logo:{boxSizing:"border-box",backgroundSize:"cover",backgroundImage:"url(/public/promo2gisAwards/pin-logo.png)",width:40,height:40,[`@media (max-height: ${o.J1}px)`]:{marginTop:-3}},title:{fontSize:"18px",lineHeight:"20px",fontWeight:450,wordWrap:"break-word",letterSpacing:"-0.9px",color:l.T.black,maxWidth:227,paddingTop:6,"&:hover, &:focus":{color:(0,u.m)(l.T.black,.7)},[`@media (max-height: ${o.J1}px)`]:{paddingTop:0}},flexTitle:{paddingTop:0,[`@media (max-height: ${o.J1}px)`]:{paddingTop:8}},flexTitleMobile:{paddingTop:8},extraTitle:{fontSize:"18px",lineHeight:"20px",fontWeight:450,wordWrap:"break-word",letterSpacing:"-0.9px",color:l.T.black,display:"none",[`@media (max-height: ${o.J1}px)`]:Object.assign(Object.assign({},d.small),{display:"inline-block"})},extraTitleMobile:{display:"inline-block"},description:Object.assign(Object.assign({},d.small),{maxWidth:227,marginTop:6,display:"inline-block",color:l.T.black,"&:hover, &:focus":{color:(0,u.m)(l.T.black,.7)},[`@media (max-height: ${o.J1}px)`]:{display:"none"}}),partnerLogo:{position:"absolute",bottom:16,right:"auto",left:16,[`@media (max-height: ${o.J1}px)`]:{bottom:10,right:13,left:"auto"}},partnerLogoMobile:{bottom:10,right:13,left:"auto"}})},12055:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});const s=new Set(["Москва","Санкт-Петербург","Екатеринбург","Сочи","Красноярск","Ялта","Симферополь","Казань","Краснодар","Геленджик","Нижний Новгород","Челябинск","Калининград","Владивосток","Ярославль","Уфа","Киров","Кострома","Тюмень","Новокузнецк","Тобольск","Мурманск","Самара","Волгоград","Пермь","Альметьевск","Воронеж","Махачкала","Новосибирск","Ростов-на-Дону","Томск","Орел","Кемерово","Владимир","Иркутск","Курган","Тула","Дзержинск","Иваново","Омск","Тверь","Саратов","Пенза","Благовещенск","Архангельск","Йошкар-Ола","Ставрополь","Новороссийск","Тольятти"])},1346:(e,t,i)=>{"use strict";i.d(t,{Q:()=>g});var s=i(31085),r=i(8365),n=i(14041),a=i(12043),o=i(99259),c=i(64433),d=i(84175),l=i(82781),u=i(12579),p=i(80552),m=i(45193);const g=()=>{const{s:e,css:t}=(0,d.I)(h),i=(0,l.c)(),{bssRef:o,useBssHandler:p}=(0,r.E)((0,m.H)({code:"РРФ",position:1})),g=p(m.L,{code:"РРФ",position:1}),f=(0,c.I)(u.bP,{query:"Российский ресторанный фестиваль"}),v=(0,n.useCallback)((()=>{g(),f()}),[g,f]);return(0,s.jsxs)("div",Object.assign({ref:o,onClick:v,className:t(e.root)},{children:[(0,s.jsx)(a.j,{children:(0,s.jsx)("div",{className:t(e.promoRRF)})}),(0,s.jsx)(a.h,{children:(0,s.jsxs)("div",Object.assign({className:t(e.promoRRF)},{children:[(0,s.jsx)("div",{children:i._gg("РРФ 2024")}),(0,s.jsx)("div",Object.assign({className:t(e.erid)},{children:"erid: 2RanynDp6aU"}))]}))})]}))},h=(0,d.r)((({mobile:e})=>({root:{cursor:"pointer"},promoRRF:Object.assign(Object.assign({background:o.T.white,color:o.T.black},p.leadMedium),{fontWeight:600,fontSize:16,paddingBottom:e?6:0,paddingTop:e?15:0,paddingStart:e?16:0,paddingEnd:e?16:0,borderRadius:e?4:7,backgroundImage:e?"url(/public/rrf/rrfLogo.png)":"url(/public/rrf/restFestBig.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:e?"auto":132,backgroundPosition:e?"right":"center"}),erid:Object.assign(Object.assign({},p.tiny),{fontSize:4,opacity:.7,marginTop:3,letterSpacing:-.2})})))},83104:(e,t,i)=>{"use strict";i.d(t,{D:()=>m});var s=i(31085),r=i(14041),n=i(4431),a=i(97984),o=i(7515),c=i(27248),d=i(21252),l=i(48914),u=i(7335);class p extends r.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,s.jsx)(a.L,{}),this.handleClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(),this.props.bssOnClick()}}render(){return(0,s.jsx)(c.W,Object.assign({type:"rubrics"},{children:e=>(0,s.jsx)(n.D,{href:e,icon:this.renderIcon,title:this.props.i18n.tp._t("Рубрики"),onClick:this.handleClick,dataT:"rubricator"})}))}}const m=(0,d.f)(void 0,(e=>({bssOnClick(){e((0,u.eU)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,l.cD)({uiElement:{name:"rubricatorIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))((0,o.Q)()(p))},74690:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});var s=i(91818);const r=()=>(0,s.oC)("openFavorites")},77620:(e,t,i)=>{"use strict";i.d(t,{b:()=>o});var s=i(12017),r=i(27892),n=i(35023),a=i(29787);const o=(0,s.n5)("openDeliveryOrderPopup",(({productId:e,entityId:t,source:i})=>(0,a.PC)((0,r.PB)({id:(0,n.W7)(),type:"deliveryOrder",productId:e,entityId:t,source:i}))))},78926:(e,t,i)=>{"use strict";i.d(t,{nN:()=>a});var s=i(39064),r=i(80905);const n=e=>"direction"===e.type;function a(e){const t=(0,r.bB)(e.appContext.frames,"direction");return t&&n(t)?t:void 0}(0,s.m)(n)},13843:(e,t,i)=>{"use strict";i.d(t,{P:()=>v});var s=i(78069),r=i(35023),n=i(66698);var a=i(12017),o=i(25872),c=i(34686),d=i(74182),l=i(77424);var u=i(13971),p=i(69929),m=i(90555),g=i(59172),h=i(26893),f=i(64438);function v(e={}){var t;const i=(0,r.W7)(),v=(0,r.W7)(),b=function(e){switch(e){case"car":case"truck":case"bus":case"pedestrian":return e;default:return n.ye}}(e.tab),y=function(e){const t=Math.max(0,n.vl-e.length);return(t?e.concat(Array(t).fill(void 0)):e.slice(0,n.Fj)).map((e=>(0,l.n)(e)))}(e.points||[]),x=(0,u.E)(y)?y:void 0,j=(0,u.E)(y)?(0,r.W7)():void 0,{filterValues:w,isMetroSchemeMode:I}=e,C=null===(t=(0,f.z)())||void 0===t?void 0:t.ppng,_={[b]:w};return _.truck=_.truck||C,(0,a.K2)((0,s.fL)({id:i,type:"directions",statusId:v,tab:b,points:y,searchId:(0,d.vt)(j),filterValuesByTab:_,filterPanelState:(0,r.Im)(w)||I?"manuallyClosed":"auto",isPpngSelected:"truck"===b,isMetroSchemeMode:I}),(0,a._7)((0,m.Y)({tab:b}),...y.map(p.Q)),(0,g.v)(),!!j&&!!x&&(0,a.K2)((0,o.J)(),(0,c.O)({searchId:j})),(0,h.x)())}},49109:(e,t,i)=>{"use strict";i.d(t,{GQ:()=>c,Iz:()=>a,Sy:()=>d,yj:()=>o});var s=i(39064),r=i(80905),n=i(84642);function a(e){return"directions"===e.type}function o(e){const t=(0,r.bB)(e.appContext.frames,"directions");return t&&a(t)?t:void 0}const c=(0,s.m)(a),d=(0,n.W)(a)},37051:(e,t,i)=>{"use strict";i.d(t,{X:()=>o});var s=i(45302),r=i(82393),n=i(49109),a=i(43793);const o=e=>{var t;const i=(0,n.yj)(e);if(!i||"car"===i.tab||"truck"===i.tab)return(0,r.JC)(e);const o=(0,a.X)(i);if(!o)return(0,r.JC)(e);const c=null===(t=(0,s.l4)({searchId:o,state:e}))||void 0===t?void 0:t.data;return c&&"projectCode"in c?c.projectCode:(0,r.JC)(e)}},25872:(e,t,i)=>{"use strict";i.d(t,{J:()=>x});var s=i(85608),r=i(3119),n=i(31823),a=i(1021),o=i(95983),c=i(7335),d=i(57744),l=i(23020),u=i(49109),p=i(74182),m=i(13971),g=i(37051),h=i(77664),f=i(82393),v=i(52160),b=i(66698),y=i(67509);function x(){return(0,c.RC)({locale:d.u,viewpoint:l.Pz,zoom:e=>e.appContext.zoom,needImmersion:e=>y.j._.get(e)&&e.appContext.zoom>=b.o0,frame:u.yj,profile:e=>e.data.entity.profile,region:e=>(0,f.$4)({state:e,code:(0,g.X)(e)||""}),segmentCode:e=>(0,v.kB)(e)},(({locale:e,viewpoint:t,zoom:i,needImmersion:c,frame:d,profile:l,region:u,segmentCode:g})=>{if(!d)return;const{tab:f,searchId:v,points:b,filterValuesByTab:y}=d,x=y[f],w=(0,p.At)(v),I=(0,h.J)(b,f),C=(0,m.E)(I)?I.map((e=>{var t,i,r;const{entityId:n}=e,a=(0,s.Tt)(e,["entityId"]),o=n?null===(t=l[n])||void 0===t?void 0:t.data:void 0;if(!n||!o)return a;const c="group"in o&&(null===(i=o.group)||void 0===i?void 0:i.some((e=>"adm_div"===e.type&&"place"===e.subtype)));return Object.assign(Object.assign({},c?a:e),{buildingId:"address"in o?null===(r=o.address)||void 0===r?void 0:r.building_id:void 0,floorId:"floor_id"in o?o.floor_id:void 0})})):void 0;if(w&&C)switch(f){case"car":return(0,n.s)({searchId:w,points:C,zoom:i,locale:e,viewpoint:t,needImmersion:c});case"truck":return(0,a.s)({searchId:w,points:C,zoom:i,locale:e,viewpoint:t,needImmersion:c,filterValues:x});case"bus":return(0,r.i)({searchId:w,points:C,zoom:i,locale:e,viewpoint:t,needImmersion:c,filterValues:x,projectCode:(null==u?void 0:u.code)||g});case"pedestrian":return(0,o.a)({searchId:w,points:C,zoom:i,useIndoor:j(C),locale:e,viewpoint:t,needImmersion:c,projectCode:(null==u?void 0:u.code)||g})}}))}function j(e){return!!e[0].buildingId&&e.every((t=>t.buildingId===e[0].buildingId&&t.floorId))}},90555:(e,t,i)=>{"use strict";i.d(t,{Y:()=>l});var s=i(7335),r=i(45302),n=i(53896),a=i(12017),o=i(81866),c=i(37051),d=i(82393);function l({tab:e}){return"bus"!==e?(0,a.lQ)():(0,s.eU)((e=>(0,d.$4)({state:e,code:(0,c.X)(e)||""})),(e=>(null==e?void 0:e.flags.public_transport)?(0,o.s)((0,r.W4)(e.code),(0,n.V)({projectCode:e.code})):(0,a.lQ)()))}},69929:(e,t,i)=>{"use strict";i.d(t,{Q:()=>u});var s=i(12017),r=i(82393),n=i(35606),a=i(46287),o=i(63041),c=i(65668),d=i(12148),l=i(7335);function u(e){if((0,c.p)(e)||(0,d.Yk)(e))return(0,s.lQ)();const{lonLat:t,searchId:i,entityId:u}=e;return(0,l.eU)((e=>(0,a.tx)({state:e,searchId:i,entityId:u})),(e=>e&&e.meta&&"error"!==e.meta.status?(0,s.lQ)():u?(0,o.x7)({id:u,searchId:i,clickPoint:t}):(0,l.RC)({zoom:e=>e.appContext.zoom,projectId:r.MJ},(({zoom:e,projectId:s})=>!!e&&(0,l.Cl)((r=>(0,n.tc)({point:t,searchId:i,viewpoint:r,zoom:Math.ceil(e),regionId:s||"0"})))))))}},34686:(e,t,i)=>{"use strict";i.d(t,{O:()=>g});var s=i(12017),r=i(7335),n=i(45302),a=i(24872),o=i(23020),c=i(6514),d=i(9729),l=i(19263),u=i(66698);function p(e){switch(e.type){case"ppna":case"ppng":case"pedestrian":return function(e){let t=[];return e.forEach((e=>{e.begin_pedestrian_path&&(t=t.concat(m(e.begin_pedestrian_path.geometry.selection))),(e.maneuvers||[]).forEach((e=>{const i=e.outcoming_path&&e.outcoming_path.geometry;i&&i.forEach((e=>{t=t.concat(m(e.selection))}))})),e.end_pedestrian_path&&(t=t.concat(m(e.end_pedestrian_path.geometry.selection)))})),t}(e.items);case"ppnot":return function(e){let t=[];return e.forEach((e=>{e.movements.forEach((e=>{(e.alternatives?e.alternatives[0].geometry.map((e=>e.selection)):[]).forEach((e=>{t=t.concat(m(e))}))}))})),t}(e.items)}}function m(e){const t=(0,l.sX)(e);return t&&t.length?t.map((e=>[e.lon,e.lat])):[]}const g=(0,s.n5)("fitDirectionsSearchInMapView",(({searchId:e,movementId:t,directionId:i})=>(0,r.eU)((t=>(0,n.l4)({searchId:e,state:t})),(e=>{if(!e)return;const{data:s,meta:n}=e;return n&&"success"===n.status&&s?(0,r.eU)((e=>function({directionsData:e,state:t,routeId:i,movementId:s}){const r=(0,o.kD)(t);let n;if(i&&s){if("ppnot"!==e.type)return;const t=e.items.filter((e=>e.id===i)),r=t[0].movements.filter((e=>e.id===s)),a=[Object.assign(Object.assign({},t[0]),{movements:r})];n=p(Object.assign(Object.assign({},e),{items:a}))}else n=p(e);if(!n.length)return;const a=(0,c.Y)(t.session.screen,r),l=(0,d.getCenterZoomByPoints)(n,t.appContext.rotation,[a.width,a.height]);return l?{lon:l.center[0],lat:l.center[1],zoom:Math.min(l.zoom,16)-u.qh}:void 0}({directionsData:s,state:e,routeId:i,movementId:t})),(e=>e&&(0,a.xZ)(e))):void 0}))))},59172:(e,t,i)=>{"use strict";i.d(t,{v:()=>o});var s=i(12017),r=i(56803),n=i(49109),a=i(59954);function o(){return(0,s.Q2)((e=>{const t=(0,n.yj)(e);if(!t)return;let i=!1;const s=t.points.map((t=>{if(t&&"point"===t.type&&!t.entityId){const s=(0,r.nJ)({state:e,searchId:t.searchId});if(s!==a.K0)return i=!0,Object.assign(Object.assign({},t),{entityId:s})}return t}));return i?(0,n.GQ)(t.id,(e=>Object.assign(Object.assign({},e),{points:s}))):void 0}))}},38337:(e,t,i)=>{"use strict";i.d(t,{J:()=>j});var s=i(12017),r=i(25872),n=i(34686),a=i(49109),o=i(78069),c=i(35023),d=i(74182),l=i(7335);var u=i(13971),p=i(69929),m=i(90555),g=i(29787),h=i(59172),f=i(77664),v=i(66698),b=i(65668),y=i(26893),x=i(23020);function j({frameId:e,tab:t,framePoints:i,filterValues:j,filterPanelState:w,activeDirectionId:I,dontClearEmptyAdditional:C,skipHistoryPush:_,skipMapFit:k}){const O=i.length>v.vl&&!C&&(0,b.p)(i[i.length-1])?i.slice(0,i.length-1):i,S=(0,f.J)(O,t),T=(0,u.E)(S)?(0,c.W7)():void 0,E=void 0===I;return(0,s.K2)(!_&&(0,g.PC)(),(0,l.eU)(x.jq,(i=>(0,a.GQ)(e,(e=>Object.assign(Object.assign({},e),{tab:t,points:O,searchId:T?(0,d.fY)(e.searchId,T):(0,d.vt)(void 0),activeDirectionId:I,filterValuesByTab:j?Object.assign(Object.assign({},e.filterValuesByTab),{[t]:j}):e.filterValuesByTab,filterPanelState:w||e.filterPanelState,isPpngSelected:"truck"===t||"car"!==t&&e.isPpngSelected,isImmersiveDirection:i>=v.o0}))))),E&&(0,o.hU)({id:e}),(0,s._7)(!!T&&(0,s.K2)((0,r.J)(),function({frameId:e,searchId:t}){return t?(0,l.CG)(e,a.Iz,(i=>(0,d.At)(i.searchId)===t&&(0,a.GQ)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,d.ZS)(e.searchId)}))))):(0,s.lQ)()}({frameId:e,searchId:T}),!k&&(0,n.O)({searchId:T})),(0,m.Y)({tab:t}),...O.map((e=>(0,p.Q)(e))),(0,h.v)()),(0,y.x)())}},26893:(e,t,i)=>{"use strict";i.d(t,{x:()=>u});var s=i(12017),r=i(80905),n=i(82393),a=i(49109),o=i(46287);var c=i(52160),d=i(7335),l=i(91565);const u=(0,s.n5)("updatePpngFiltersAvailability",(()=>(0,s.NV)((({featureFullCoveragePPNG:e})=>(0,s.Q2)((t=>{const i=(0,r.bB)(t.appContext.frames,"directions");if(!i||!p(i))return(0,s.lQ)();if(e)return(0,a.GQ)(i.id,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})));const u=[...i.points.map((e=>{var i;return"point"===(null==e?void 0:e.type)&&e.entityId?null===(i=(0,o.DE)({state:t,entityId:e.entityId}).data)||void 0===i?void 0:i.region_id:void 0})),(0,n.MJ)(t)].map((e=>function(e,t){if(!e)return;return(0,a.Sy)((i=>p(i)?(0,s.K2)((0,s.Q2)((t=>(0,l.cx)(t,e))),(0,d.eU)((t=>{var i;return null===(i=(0,c.b7)({state:t,id:e}))||void 0===i?void 0:i.data}),(e=>function(e){return!!e&&!!e.flags.truck_graph}(e)&&(0,a.GQ)(t,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})))))):(0,s.lQ)()))}(e,i.id)));return(0,s.K2)(...u)}))))));function p(e){return e&&["car","truck"].includes(e.tab)&&!e.isPpngFiltersAvailable}},75456:(e,t,i)=>{"use strict";i.d(t,{b:()=>d});var s=i(35023),r=i(24855),n=i(2895),a=i(66698),o=i(65668),c=i(12148);function d(e,t,i){if((0,o.p)(e)){if(!(0,s.O9)(i))return;return t.length>a.vl?(0,n.T)(t,i):(0,r.H)(t,void 0,i)}const c=(0,s.O9)(i)?i:t.findIndex(o.p);if(c<0)return;let d=t;l(e,t[c-1])&&(d=(0,r.H)(d,void 0,c-1));return l(e,t[c+1])&&(d=(0,r.H)(d,void 0,c+1)),(0,r.H)(d,e,c)}function l(e,t){return!(0,o.p)(e)&&!(0,o.p)(t)&&(!(!(0,c.Yk)(e)||!(0,c.Yk)(t))||!(0,c.Yk)(e)&&!(0,c.Yk)(t)&&(e.entityId===t.entityId&&e.lonLat.lon===t.lonLat.lon&&e.lonLat.lat===t.lonLat.lat))}},77424:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});var s=i(35023),r=i(12148);function n(e,t){return e?(0,r.Yk)(e)?e:Object.assign(Object.assign({},e),{searchId:t||(0,s.W7)()}):void 0}},23196:(e,t,i)=>{"use strict";function s(e){return"car"===e||"pedestrian"===e}i.d(t,{d:()=>s})},13971:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});var s=i(66698),r=i(65668);function n(e){const t=e.reduce(((e,t)=>{if((0,r.p)(t))return e;const i=t.lonLat;return i?e.concat({type:"point",lonLat:i,entityId:"entityId"in t?t.entityId:void 0}):e}),[]);return t.length===e.length&&t.length>=s.vl}},65668:(e,t,i)=>{"use strict";function s(e){return!e}i.d(t,{p:()=>s})},64438:(e,t,i)=>{"use strict";i.d(t,{S:()=>a,z:()=>n});var s=i(4340);const r="pp_filters",n=()=>{if("undefined"==typeof window)return;const e=s.IG.local.getItem(r);return e?JSON.parse(e):void 0},a=e=>{"undefined"!=typeof window&&s.IG.local.setItem(r,JSON.stringify({ppng:e}))}},77664:(e,t,i)=>{"use strict";i.d(t,{J:()=>n});var s=i(23196),r=i(66698);function n(e,t){return e.length<=r.vl||(0,s.d)(t)?e:[e[0],e[e.length-1]]}},52342:(e,t,i)=>{"use strict";i.d(t,{D:()=>p});var s=i(12017),r=i(27892),n=i(7335),a=i(84082),o=i(32065),c=i(35023),d=i(61165),l=i(10522),u=i(15401);const p=(0,s.n5)("openEditFavorite",(e=>(0,n.eU)(m(e),(t=>(0,r.PB)(Object.assign(Object.assign({},t),{id:(0,c.W7)(),type:"editFavorite",item:e})))))),m=e=>t=>{const i={},s=(0,l.cd)(t),r=(0,l.cU)(t),n=(0,u.b)(null==s?void 0:s.point,e.point)||(null==s?void 0:s.object_id)===e.object_id,c=(0,u.b)(null==r?void 0:r.point,e.point)||(null==r?void 0:r.object_id)===e.object_id;return(0,o.sm)((0,a.b1)(t)).forEach((t=>{if(t&&"favorite"===t.type&&(0,d.K)(t,e)){const e=t.collection_id;e&&(i[e]=!0)}})),{collectionsInitial:i,collectionsCurrent:i,homeInitial:n,workInitial:c,homeCurrent:void 0,workCurrent:void 0}}},4013:(e,t,i)=>{"use strict";i.d(t,{K7:()=>c,cT:()=>l,go:()=>d});var s=i(98379),r=i(50432),n=i(80905),a=i(16641),o=i(21959);const c=({ownerFrameId:e},t)=>{const i=(0,n.w1)(t.appContext.frames,e);if(!i||"entity"!==i.type)return void(0,r.vV)({message:"Попытка показать фрейм, которого нет",level:"warn",id:"iq3n4",payload:{type:"debug",subtype:"InconsistentState",data:t.appContext.frames.map((e=>e.type)).reverse().join(";")||"dashboard"}});const c=(0,o.LE)(t),d=(0,s.t)({state:t,entityFrameId:e});d||(0,r.vV)({message:"Не удалось сформировать payload для события показа полной карточки организации placeCardFull",level:"error",id:"kgvq5",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,n.w1)(t.appContext.frames,e))}});const l=(null==d?void 0:d.entity.id)?a.bK.get()[(0,a.QO)({entityId:d.entity.id,userId:c})]:void 0,u=l?{hasNote:!!l}:void 0;return{uiElement:{name:"placeCardFull",frameUuid:e},payload:{placeItem:d?Object.assign(Object.assign({},d),{adsId:void 0}):void 0,noteItem:u}}},d=e=>({frameId:t},i)=>{const{tag:r,name:n,ownerName:a}=e;return{uiElement:{name:"award2gisLink",ownerName:a,frameUuid:t},payload:{placeItem:(0,s.t)({state:i,entityFrameId:t}),awardItem:{id:r,name:n}}}},l=({tag:e,name:t,ownerName:i,link:r})=>({frameId:n},a)=>({uiElement:{name:"award2gisLink",ownerName:i,frameUuid:n},action:"tap",payload:Object.assign({placeItem:(0,s.t)({state:a,entityFrameId:n}),awardItem:{id:e,name:t}},r?{link:{value:r}}:{})})},16546:(e,t,i)=>{"use strict";i.d(t,{z:()=>a});var s=i(31085),r=i(87543),n=i(1626);const a=e=>"loading"===e.asyncStatus?(0,s.jsx)(r.Y,{hasPinnedGoods:e.hasPinnedGoods}):(0,s.jsx)(n.$,{code:500})},27337:(e,t,i)=>{"use strict";i.d(t,{c:()=>p});var s=i(12017),r=i(46287),n=i(51143),a=i(8335);var o=i(48699),c=i(28631),d=i(73865),l=i(51021),u=i(20091);function p(e){return(0,s._7)((0,o.TE)(["Beta","Card_flight_around","Click"]),(0,s.Q2)((t=>{const{rotation:i,zoom:s,pitch:r}=t.appContext;if(!t.session.is3dEnabled)return;const o=m(t);if(!o||!o.data)return;const d=(0,n.du)({entity:o.data,state:t});if(!d)return;const p=[{main:[{zoom:17,duration:c.P5,pitch:45,center:[d.lon,d.lat]}]},{main:[{rotation:i-150,duration:c.L5/2,easing:"easeInSine"}]},{main:[{rotation:i-300,duration:c.L5/2,easing:"easeOutSine"}]},{main:[{zoom:s,duration:c.P5,rotation:i,pitch:r}]}];return function(e,t){let i=0;const s=[];t.forEach((t=>{const r=t.main,n=t.background;if(n){const t=window.setTimeout((()=>{e((0,a.m3)(n))}),i);s.push(t)}r.forEach((t=>{const r=window.setTimeout((()=>{e((0,a.m3)(t))}),i);s.push(r),i+=t.duration||0}))}))}(e,p),(0,l.n)((0,u.X_)({isMinimized:!0}))})))}function m(e){const t=e.appContext.frames[0];switch(t.type){case"entity":return(0,r.Tq)({state:e,entityId:t.entityId});case"realtyCard":{const t=(0,d.X)(e);if(!t)return;return(0,r.Tq)({state:e,entityId:t})}}}},28631:(e,t,i)=>{"use strict";i.d(t,{Gp:()=>j,L5:()=>v,P5:()=>b});var s=i(31085),r=i(14041),n=i(7515),a=i(33626);const o=(0,i(66333).Mz)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),c=(0,a.tr)(((e,t)=>o({state:e,props:t})));var d=i(27337);const l=(0,a.Yn)((e=>({onClick:()=>e((0,d.c)(e))})));var u=i(26461),p=i(96141),m=i(21252),g=i(48914),h=i(98379),f=i(7335);const v=4e3,b=1e3,y=v+2*b;class x extends r.PureComponent{constructor(){super(...arguments),this.state={isDisabled:!1},this.handleClick=()=>{this.setState({isDisabled:!0}),this.props.onClick(),this.props.bssOnFlightAroundClick(),setTimeout((()=>this.setState({isDisabled:!1})),y)}}render(){const{i18n:{tp:e},is3d:t}=this.props;return t?(0,s.jsx)(p.$,Object.assign({appearance:"default",compact:!0,onClick:this.handleClick,disabled:this.state.isDisabled},{children:e._t("Рассмотреть")})):null}}x.displayName=(0,u.d)("src/modules/entity/containers/content/containers/flightAround");const j=(0,m.f)(void 0,((e,{ownerFrameId:t,ownerName:i})=>({bssOnFlightAroundClick(){e((0,f.eU)((e=>(0,h.t)({state:e,entityFrameId:t})),(e=>{const s={uiElement:{name:"descry",ownerName:i,frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,g.cD)(s)})))}})))((0,a.Ng)(c,l)((0,n.Q)()(x)))},62363:(e,t,i)=>{"use strict";i.d(t,{D8:()=>b,Ip:()=>f,$4:()=>g,Is:()=>h});var s=i(85608),r=i(78170),n=i(66333),a=i(46287),o=i(23020),c=i(80905),d=i(76125),l=i(82393),u=i(92448),p=i(9729);var m=i(53790);const g=12,{use:h,prefetch:f,withQueryData:v}=(0,r.r8)("realty-tab-search",(e=>[[e.geo_id,e.locale,e.category_ids,e.filters],({services:t,context:i})=>(0,s.sH)(void 0,void 0,void 0,(function*(){return yield t.marketApi.getRealtyItems(Object.assign(Object.assign({},e),{page:Number(i.pageParam)||1,pageSize:g}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:(e,t)=>g*(t.length-1)+e.items.length<e.total?t.length+1:void 0}),b=(0,n.Mz)([e=>(0,c.bB)(e.appContext.frames,"entity"),e=>{var t;const i=null===(t=(0,c.bB)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId;return i?(0,a.DE)({state:e,entityId:i}).data:void 0},o.Pz,l.zN],((e,t,i,s)=>{var r,n;const a=!t||"building"!==(null==e?void 0:e.entityType)&&"branch"!==(null==e?void 0:e.entityType)?null==e?void 0:e.entityId:(0,d.$)(t),o=null===(r=null==e?void 0:e.tabRealty)||void 0===r?void 0:r.currentCategoryValue,c="building"===(null==e?void 0:e.entityType)||(0,m._)(t)||"branch"===(null==e?void 0:e.entityType)?"":u.gI.sale.categoryId,l=o||c,g=(null==t?void 0:t.point)&&!(0,m._)(t)?function(e){const{point:t,radius:i=500}=e,s=[t.lon,t.lat],r=(0,p.lonLatToMapPoint)(s),n=(0,p.geoToMapDistance)(s,i),a=2*Math.PI/20,o=[];for(let e=0;e<20;e++){const t=a*e,i=r[0]+n*Math.cos(t),s=r[1]+n*Math.sin(t);o.push((0,p.mapPointToLonLat)([i,s]))}return`POLYGON((${o.reduce(((e,t)=>e.concat(`${t[0]} ${t[1]}`)),[]).concat(`${o[0][0]} ${o[0][1]}`).join(",")}))`}({point:null==t?void 0:t.point}):void 0;if(a&&i)return Object.assign(Object.assign({geometry:g,region_id:s,viewpoint:i,locale:"ru_RU",geo_id:a},l&&{category_ids:l}),{filters:null===(n=null==e?void 0:e.tabRealty)||void 0===n?void 0:n.currentFiltersValues})}))},33118:(e,t,i)=>{"use strict";i.d(t,{j:()=>o});var s=i(31085),r=i(10048),n=i(58471),a=i(16546);const o=e=>(0,s.jsx)(r.w,{loader:n.b.reviewsTab,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,s.jsx)(a.z,{asyncStatus:e})})},54477:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var s=i(73581);function r({activeDirectionId:e,frameId:t}){return(0,s.$e)(t,(t=>Object.assign(Object.assign({},t),{activeDirectionId:e})))}},50548:(e,t,i)=>{"use strict";i.d(t,{s:()=>u});var s=i(12017),r=i(29787),n=i(66944),a=i(36539),o=i(78069),c=i(76125),d=i(17525),l=i(18472);function u(e){const{entity:t,tab:i,frame:u}=e,p=(0,l.i)(t)?(0,d.N)(t):(0,c.$)(t);return(0,s.K2)((0,r.PC)(),(0,o.hU)({id:u.id}),(0,n.pd)({entityId:t.id,frameId:u.id,tab:i,searchId:(0,a.z)(u,i),objectId:p,tabQuery:"inside"===i&&u.tabInside?u.tabInside.query:void 0,filterValues:"inside"===i&&u.tabInside?u.tabInside.filterValues:void 0}))}},83438:(e,t,i)=>{"use strict";i.d(t,{X:()=>a});var s=i(12017),r=i(27892),n=i(35023);const a=(0,s.n5)("openVideoPlayerByEntity",(({entityId:e,searchId:t,isFmcg:i})=>{const s=(0,n.W7)();return(0,r.PB)({id:s,type:"entityVideoPlayer",isPopupGlassDark:!0,entityId:e,searchId:t,isFmcg:i})}))},53772:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(12017),r=i(27892),n=i(35023),a=i(29787);const o=(0,s.n5)("erirPopup",(e=>(0,a.PC)((0,r.PB)(Object.assign({id:(0,n.W7)(),type:"erir"},e)))))},89571:(e,t,i)=>{"use strict";i.d(t,{E:()=>u});var s=i(12017),r=i(78069),n=i(35023),a=i(69395),o=i(29787),c=i(37163),d=i(7335);const l=(0,s.n5)("openExchangeFrame",((e,t,i)=>(0,s.NV)((c=>c.featureExchange?(0,s.K2)((0,d.RC)({zoom:e=>e.appContext.zoom,center:e=>e.appContext.center},(({zoom:s,center:a})=>(0,o.PC)((0,r.fL)({type:"exchange",filterPanelState:"auto",id:(0,n.W7)(),page:e||1,scrollId:(0,n.W7)(),searchId:(0,n.W7)(),zoom:s,center:a,action:null==i?void 0:i.action,currencyCode:null==i?void 0:i.currencyCode,volume:null==i?void 0:i.volume,filterValues:t})))),(0,a.Tl)({suggesterKey:"primary",query:void 0})):(0,s.lQ)())))),u=(0,s.n5)("openExchange",(()=>(0,s.NV)((e=>e.featureExchange?(0,s.K2)((0,s.gd)(l()),(0,c.cK)("exchange")):(0,s.lQ)()))))},31610:(e,t,i)=>{"use strict";function s(e){return"exchange"===e.type}i.d(t,{p:()=>s,x:()=>r});const r=(0,i(39064).m)(s)},93818:(e,t,i)=>{"use strict";i.d(t,{H:()=>p});var s=i(85608);const r=(0,i(3398).createModel)("exchangeItems",(({services:e},t,i)=>({fetch(){return(0,s.sH)(this,void 0,void 0,(function*(){return i||(yield e.marketApi.getExchangeItems(t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var n=i(79594),a=i(54752),o=i(57744),c=i(31610),d=i(14041),l=i(23020);const u=12;function p(){const e=(0,n.d4)(o.u),t=(0,n.d4)((e=>e.appContext.frames.find(c.p))),i=(0,n.d4)(l.Pz),s=(0,d.useMemo)((()=>i),[null==t?void 0:t.zoom,null==t?void 0:t.center,null==t?void 0:t.filterValues,null==t?void 0:t.action,null==t?void 0:t.volume,null==t?void 0:t.currencyCode,null==t?void 0:t.searchId]),p=(0,a.fn)(t?r({viewpoint:s,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode,page:t.page,page_size:u,frameId:t.id}):void 0),g=(0,d.useMemo)((()=>Object.assign(Object.assign({},p),{data:m(p.data)})),[p]);return"undefined"==typeof window?a.Ml:g}const m=e=>{if(e)return Object.assign(Object.assign({},e),{pages:Math.ceil(e.total/u)})}},76087:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});var s=i(73861);const r=e=>{if(!e)return;let t=String(e);if(!t.includes("."))return`${(0,s.B)(e)},00`;t=t.replace(".",",");const[i,r]=t.split(",");return`${(0,s.B)(parseInt(i))},${1===r.length?r+"0":r.slice(0,2)}`}},34857:(e,t,i)=>{"use strict";i.d(t,{V:()=>n,i:()=>r});var s=i(76087);const r="--,--",n=({data:e,frame:t,short:i})=>{const{bid:r,offer:n,rate:o,total_amount:c}=e,{action:d}=t,l=o&&"buy"===d?o:n,u=o&&"sell"===d?o:r,p=(0,s.n)(l),m=(0,s.n)(u),g=(0,s.n)(c);if(!t.action)return[a({value:p,type:"buy"}),a({value:m,type:"sell"})];const h="buy"===t.action?p:m;return t.volume?i?[a({value:g,type:"result"})]:[a({value:h,type:t.action}),a({value:g,type:"result"})]:[a({value:h,type:t.action})]},a=e=>({type:e.type,value:e.value?e.value:r})},15417:(e,t,i)=>{"use strict";i.d(t,{B:()=>a});var s=i(12017),r=i(78069);const n=(0,i(84642).W)((function(e){return"userFriendsActivity"===e.type})),a=(0,s.n5)("closeUserFriendsActivityFrame",(()=>n((e=>e?(0,r.kg)():(0,s.lQ)()))))},74798:(e,t,i)=>{"use strict";i.d(t,{E:()=>l});var s=i(31085),r=i(84175),n=i(14041),a=i(10520),o=i(81618),c=i(55027);const d="fullscreen_friend_popup_qrcode",l=(0,n.memo)((({qrText:e,contentText:t,dataN:i="wat-install-app-popup-content"})=>{const{css:n,s:l}=(0,r.I)(u);return(0,c.i$)({elementId:d,type:"fullscreenFriendsPopup"}),(0,s.jsxs)("div",Object.assign({className:n(l.content)},o.dx.n(i),{children:[(0,s.jsx)("div",{className:n(l.qrCode),id:d}),(0,s.jsxs)("div",Object.assign({className:n(l.text)},{children:[(0,s.jsx)(a.E,{children:e}),(0,s.jsx)(a.E,{children:t})]}))]}))})),u=(0,r.r)({content:{display:"flex",flexDirection:"row",alignItems:"center",gap:16},text:{display:"flex",flexDirection:"column",gap:10},qrCode:{"& canvas":{width:88,height:88}}})},53180:(e,t,i)=>{"use strict";i.d(t,{$0:()=>w,$S:()=>C,Ak:()=>I,Br:()=>b,CU:()=>v,EQ:()=>x,K7:()=>h,Xr:()=>f,dH:()=>y,qk:()=>j});var s=i(48914),r=i(7335),n=i(99906),a=i(80905),o=i(19519),c=i(50432),d=i(7818),l=i(35023),u=i(60695),p=i(31610),m=i(20371),g=i(46287);const h=(e,t)=>(0,n.f_)({state:t,name:"map",uuid:e.ownerFrameId});function f(){return(0,r.RC)({mapUuid:e=>e.appContext.staticFrames.map.id},(({mapUuid:e})=>{const t={uiElement:{name:"favoritesMapIcon",ownerName:"map",frameUuid:e},action:"tap"};return(0,s.cD)(t)}))}function v(e){const t=e.isCommercial&&e.entity?(0,d.ij)({entity:e.entity}):void 0;return(0,r.eU)((e=>e.appContext.staticFrames.map.id),(i=>(0,s.cD)({uiElement:{name:"POI",ownerName:"map",frameUuid:i},action:"tap",payload:{POI:(0,m.T)(e),placeItem:t},dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function b({id:e,adsPriority:t}){return(0,r.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>{const i=(0,g.DE)({state:t,entityId:e}).data;return i&&(0,d.ij)({entity:i})}},(({mapBssUuid:e,placeItem:i})=>(0,s.X_)({uiElement:{name:"POI",ownerName:"map",frameUuid:e},payload:{POI:{adsPriority:t,adsHighlight:!0},placeItem:i},showEventKey:(0,l.W7)()})))}function y(e){return(0,r.eU)((e=>e.appContext.staticFrames.map.id),(t=>(0,s.cD)({uiElement:{name:"stationIcon",ownerName:"routeGeometry",frameUuid:t},action:"tap",dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function x(e){const{isModel3d:t,forcedEventOrdinal:i,adsHighlight:n,entityId:a,sublayer:o}=e;return(0,r.eU)((e=>e.appContext.staticFrames.map.id),(e=>t?(0,s.cD)({action:"tap",uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:{adsHighlight:n,entity:{type:n?"branch":"point",id:a},sublayerType:o}},dangerouslyForcedEventOrdinal:i}):(0,s.cD)({uiElement:{name:"mapObject",ownerName:"map",frameUuid:e},action:"tap",dangerouslyForcedEventOrdinal:i})))}function j(){return(0,r.RC)({mapBssUuid:e=>e.appContext.staticFrames.map.id,query:e=>{const t=(0,a.bB)(e.appContext.frames,"search");return t&&t.query||""},rubric:e=>{const t=(0,a.bB)(e.appContext.frames,"search");if(t&&"query"===t.searchType)return t.tabCatalog.rubricId||(0,a.al)(t)}},(({mapBssUuid:e,query:t,rubric:i})=>(0,s.cD)({uiElement:{name:"map",frameUuid:e},action:"dragAndDrop",payload:{searchRequest:{text:t,entities:i?[{id:i,type:"rubric"}]:[]}}})))}const w=(e,t)=>(0,r.RC)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>e.appContext.frames.find(p.p)},(({mapUuid:i,frame:r})=>{if(!r)return void(0,c.vV)({message:"Не удалось затрекать клик в маркер обмена валют(a-knpw8)",level:"error",id:"a-knpw8",payload:{type:"debug",subtype:"BssTrackerV3"}});const n={uiElement:{name:"exchangeCurrencyMarker",ownerName:"exchangeCurrencyList",frameUuid:i},action:"tap",payload:{mapMarker:{scale:(0,o.j)(e.currentType),mapLayer:"exchangeCurrencyLayer"},exchangeCurrencyList:(0,u.$)(r,t)}};return(0,s.cD)(n)})),I=({entityId:e,adsHighlight:t,sublayer:i})=>(0,r.RC)({mapUuid:e=>e.appContext.staticFrames.map.id},(({mapUuid:r})=>(0,s.X_)({uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:r},payload:{placeItem:{adsHighlight:t,entity:{type:t?"branch":"point",id:e},sublayerType:i}},showEventKey:(0,l.W7)()}))),C=({entityId:e,adsHighlight:t,sublayer:i})=>(0,r.eU)((e=>e.appContext.staticFrames.map.id),(r=>(0,s.cD)({uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:r},action:"off",payload:{placeItem:{adsHighlight:t,entity:{type:t?"branch":"point",id:e},sublayerType:i}}})))},61700:(e,t,i)=>{"use strict";i.d(t,{C:()=>f,q:()=>v});var s=i(56803),r=i(12017),n=i(67013),a=i(7335),o=i(23020),c=i(57744),d=i(20368),l=i(35023);const u=(0,r.n5)("searchMarkersWithViewpoint",(e=>(0,a.RC)({viewpoint:o.Pz,mapSize:o.Yk,locale:c.u,currentMarkers:t=>{var i;return null===(i=t.data.search.markers[e.searchId])||void 0===i?void 0:i.data},geolocationPosition:e=>e.session.geolocation.position,zoom:e=>e.appContext.zoom},(({viewpoint:t,mapSize:i,locale:s,currentMarkers:n,geolocationPosition:a})=>(0,r.rq)((0,d.r)({query:e.query,attrId:e.attrId,rubrId:e.rubricId,buildingId:e.buildingId,orgId:e.orgId,brandId:e.brandId,searchId:e.searchId,filters:e.filters||{},adsIds:e.adsIds,sortPoint:a,viewpoint:e.isViewportChanged?t:e.viewpoint||t,isViewportChanged:!!e.isViewportChanged,mapSize:i,locale:s,markersWithLogoIds:n&&200===n.code?n.items.reduce(((e,t)=>{var i,s;return(null===(s=null===(i=t.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.marker_logo)&&e.push((0,l.ox)(t.id)),e}),[]):[]}))))));var p=i(98638),m=i(1321),g=i(92695),h=i(12154);const f=e=>v(e),v=e=>(0,r.Q2)((t=>{g.k.startTracker();const{update:i,isViewportChanged:s}=e||{},n=(0,h.u)(t);if(!n)return(0,r.lQ)();return"query"===n.searchType&&"catalog"===n.tab||"filials"===n.searchType||"brand"===n.searchType||"inside"===n.searchType||"buyHere"===n.searchType||"fmcg"===n.searchType?(0,r.K2)(b(),y({update:i,isViewportChanged:s})):(0,r.lQ)()})),b=(0,r.n5)("updateCatalogMarkersId",(()=>(0,a.RC)({frame:h.u,markersId:o.rL},(({frame:e,markersId:t})=>e&&!t?(0,m.q)({frameId:e.id,markersId:(0,l.W7)()}):(0,r.lQ)())))),y=(0,r.n5)("fetchCatalogMarkersIfNecessary",(({update:e,isViewportChanged:t})=>(0,r.Q2)((i=>{const a=(0,h.u)(i),c=(0,o.rL)(i);if(!a||!c)return(0,r.lQ)();const d=!!(0,s.Iv)({state:i,searchId:c});if(!e&&d)return(0,r.lQ)();let l;if("query"===a.searchType){const e=a.tabCatalog.rubricId||a.tabCatalog.attributeId?void 0:a.query;l={searchId:c,attrId:a.tabCatalog.attributeId,filters:(0,p.G)(a),isViewportChanged:t,query:e,rubricId:a.tabCatalog.rubricId,viewpoint:(0,n.b)(a)}}return"filials"===a.searchType&&(l={searchId:c,filters:(0,p.G)(a),isViewportChanged:t,orgId:a.orgId,viewpoint:void 0}),"brand"===a.searchType&&(l={searchId:c,filters:(0,p.G)(a),isViewportChanged:t,brandId:a.brandId,viewpoint:void 0}),"inside"===a.searchType&&a.query&&(l={searchId:c,filters:(0,p.G)(a),isViewportChanged:t,query:a.query,rubricId:a.rubricId,buildingId:a.originalSearchId?void 0:a.objectId,viewpoint:void 0}),"buyHere"!==a.searchType&&"fmcg"!==a.searchType||(l={query:a.query,searchId:c,viewpoint:void 0,isViewportChanged:t,adsIds:a.adsIds,filters:(0,p.G)(a)}),l?u(l):(0,r.lQ)()}))))},88266:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});const s=(0,i(66333).Mz)([({state:e})=>e.appContext.floors],(e=>e?{id:e.floorsId,floorIndex:e.currentFloor}:void 0))},58309:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(74867);function r(e){if(!e||!e.type)return"other";switch(e.type){case"crash":return"crash";case"camera":return(0,s.e)(e);case"roadwork":return"roadwork";case"restriction":return"closure";case"comment":return"chat"}return"other"}},74867:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var s=i(47);const r=e=>{var t,i;const r=null===(t=e.data)||void 0===t?void 0:t.violation;if(!r)return"camera";if(r.includes(1)||r.includes(9)){const t=null===(i=e.data)||void 0===i?void 0:i.speed,r=`camera-${t}`;return t&&s.d.includes(r)?r:"camera"}return r.includes(10)?"camera-parking":r.includes(11)?"camera-line":r.includes(4)?"camera-bus":r.includes(2)?"camera-tl":"camera"}},10753:(e,t,i)=>{"use strict";function s(e){let t;if("3d"===e)t=i.e(7826).then(i.bind(i,27703));else t=i.e(6389).then(i.bind(i,3910));return t.then((e=>{"get3dMap"in e&&e.get3dMap?e.get3dMap().then(a):a(void 0)})),t}function r(e,t,i,r){return s(r).then((s=>s.init(e,t,i)))}function n(e,t){return s(t).then((t=>t.update(e)))}let a;i.d(t,{Q2:()=>s,cA:()=>n,uj:()=>c,vU:()=>r});const o=new Promise((e=>{a=e}));function c(){return o}},63235:(e,t,i)=>{"use strict";i.d(t,{B:()=>n});var s=i(12017),r=i(68217);const n=(0,s.n5)("killTooltips",(()=>(0,s.gd)((0,s.v6)((()=>r.o.set((()=>{})))))))},33616:(e,t,i)=>{"use strict";i.d(t,{e:()=>f});var s=i(12017),r=i(23020),n=i(15942),a=i(80905),o=i(30066),c=i(56803),d=i(39115),l=i(98638),u=i(7335),p=i(53180);var m=i(61700),g=i(44138),h=i(54713);const f=(0,s.n5)("refreshSearchResults",(({prevZoom:e,afterMapViewChange:t})=>(0,u.eU)((e=>function(e){const t=e[e.length-1];if(t&&"search"===t.type)switch(t.searchType){case"query":case"fmcg":case"buyHere":case"filials":case"brand":case"inside":return t;default:return}}(e.appContext.frames)),(i=>i?v({frame:i,prevZoom:e,afterMapViewChange:t}):(0,s.lQ)())))),v=(0,s.n5)("refreshCatalogSearchResults",(({prevZoom:e,frame:t,afterMapViewChange:i})=>(0,s.Q2)((f=>{var v;const b=(0,a.Xk)(t),y=(0,c.s8)({state:f,searchId:b}).data,x=(0,l.G)(t),j=(0,r.Pz)(f),w="filials"===t.searchType,I="brand"===t.searchType,{center:C,zoom:_,pitch:k,rotation:O}=f.appContext,{screen:S}=f.session,T=(0,r.kD)(f),E=(0,d.Ag)({dragBound:y&&y.searchAttributes&&y.searchAttributes.drag_bound,center:C,zoom:_,screen:S,offset:T,pitch:k,rotation:O}),M=(0,d.SI)({zoomInBound:null===(v=null==y?void 0:y.searchAttributes)||void 0===v?void 0:v.zoomin_bound,viewpoint:j}),N=(0,d.Ru)({isDragboundOut:E,isZoomInBoundOut:M,isFilialsResults:w,isBrandResults:I,isBuyHereResult:"buyHere"===t.searchType||"fmcg"===t.searchType,zoom:_,prevZoom:e,filterValues:x}),L=(0,d.fX)({updateSearchAndMarkers:N,isFilialsResults:w,zoom:_,prevZoom:e}),P=i&&L;switch(t.searchType){case"query":if(L)return(0,s.K2)(P&&(0,p.qk)(),(0,u.Cl)((e=>(0,n.kY)({frameId:t.id,rubricId:t.tabCatalog.rubricId,filterValues:x||{},parentSearchId:(0,a.Rh)(t),filtersId:(0,o.Y)(t),isViewportChanged:!0,query:t.query,preserveMarkers:!1,searchId:b,viewpoint:e}))));break;case"filials":if(L)return(0,s.K2)(P&&(0,p.qk)(),(0,n.xT)({frameId:t.id,filterValues:x||{},isViewportChanged:!0,filtersId:(0,o.Y)(t),orgId:t.orgId}));break;case"brand":if(L)return(0,s.K2)(P&&(0,p.qk)(),(0,h.Wx)({frameId:t.id,filterValues:x||{},isViewportChanged:!0,filtersId:(0,o.Y)(t),brandId:t.brandId}));break;case"buyHere":case"fmcg":if(L)return(0,s.K2)(P&&(0,p.qk)(),(0,g.b)({frame:t,filterValues:(0,l.G)(t),isViewportChanged:!0}))}return(0,m.C)({update:!0,isViewportChanged:!0})}))))},90380:(e,t,i)=>{"use strict";i.d(t,{F:()=>T});var s=i(85608);const r=(0,i(3398).createModel)("exchangeMarkers",(({services:e},t)=>({fetch(){return(0,s.sH)(this,void 0,void 0,(function*(){return yield e.marketApi.getExchangeMarkers(Object.assign({},t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var n=i(79594),a=i(23020),o=i(54752),c=i(57744),d=i(31610),l=i(14041),u=i(31085),p=i(22758),m=i(40931),g=i(47016),h=i(34857);const f=`${i(80690).aY}/ `;var v=i(18006),b=i(23614),y=i(42494),x=i(10330);const j=e=>{const{marker:t,labelLines:i,frame:s,currency:r,time:n,tp:a,is12h:o}=e,{name_ex:c,reviews:d}=t.data.branch;if(i.length)return i.reduce(((e,i)=>{var l;switch(i){case"name":{const t=null==c?void 0:c.primary;return t&&e.push([{type:"name",text:t}]),e}case"rating":{const i=null===(l=null==d?void 0:d.general_rating)||void 0===l?void 0:l.toString(),s=(e=>{const{marker:t,tp:i,time:s,is12h:r}=e,{timezone_offset:n,schedule:a}=t.data.branch;if(void 0===n||!a)return;const o=(0,x.F)(s,n),c=(0,b.v3)(a,!1,o,i,r),d=(0,v.f)(a,o);return c?{text:c,color:(0,y.w)(d),type:"workingTime"}:void 0})({marker:t,time:n,tp:a,is12h:o}),r=[];return i&&r.push({type:"rating",text:i}),s&&r.push(s),e.push(r),e}case"rates":{const i=(0,h.V)({frame:s,data:t.data,short:!0}),n=(e=>{const{tp:t,values:i,symbol:s}=e;return null==i?void 0:i.map((e=>t._gg("%1&nbsp;%2",[e.value,s]))).join(f)})({symbol:r.symbol||r.code,tp:a,values:i});return e.push([{type:"exchange",text:n}]),e}default:return e}}),[])},w={offset:[14,-7]};function I(e){const{marker:t,tp:i,currency:s,labelLines:r,frame:n,is12h:a}=e,o=function(e){const t=j(e);if(!t)return;const i=(0,p.k)(t),s=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,m.qV)((0,u.jsx)(g.zo,{labelLines:t,dbgSize:s?i:void 0})),width:i.width,height:i.height,offset:w.offset}}({marker:t,tp:i,currency:s,labelLines:r,frame:n,time:Date.now(),is12h:a});return Object.assign(Object.assign({},t),{htmlLabel:o})}var C=i(82781),_=i(46579),k=i(59954);function O(e,t,i){const s=["bigbullet","middlebullet","smallbullet"].reduce(((s,r)=>{var n,a;const o=null===(n=e[r])||void 0===n?void 0:n[t],c=null===(a=e[r])||void 0===a?void 0:a[i];return o&&(s[r]=Object.assign({normal:o},c&&{hover:c})),s}),{});return Object.keys(s).length>0?s:void 0}var S=i(37383);function T(){const e=(0,n.d4)(c.u),t=(0,n.d4)((e=>e.appContext.frames.find(d.p))),i=(0,C.c)(),s=(0,n.d4)(a.Pz),u=(0,n.d4)((e=>e.appContext.zoom)),p=(0,n.d4)((e=>e.appContext.center)),m=(0,n.d4)((e=>(0,S.M)({state:e}))),g=(0,l.useMemo)((()=>s),[u,p]),{is12h:h}=(0,_.U)(),f=(0,o.fn)(t?r({viewpoint:g,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode}):void 0);return(0,l.useMemo)((()=>{if(!(null==f?void 0:f.data)||!t)return{markersData:void 0,isPending:null==f?void 0:f.isPending,error:null==f?void 0:f.error};const{items:e,national_currency:s}=f.data;return{markersData:e.reduce(((e,r,n)=>{const a=r.branch.id,o=Object.assign(Object.assign({},r),{source:"exchange"}),c=I({marker:{key:a,id:a,lonLat:[r.lon,r.lat],type:"bigbullet",data:o,icon:O(m.styles.exchange.icons,r.benefit,"hover")},currency:s,tp:i,labelLines:M({zoom:u}),frame:t,is12h:h});return e.hashMap[a]=n,e.markers.push(c),e}),{hashMap:{},markers:[]}),isPending:null==f?void 0:f.isPending,error:null==f?void 0:f.error}}),[f.data,t])}const E=[{zoom:15,lines:["name","rating","rates"]},{zoom:12,lines:["name","rates"]},{zoom:9,lines:["rates"]},{zoom:1,lines:k.Ml}];function M(e){const{zoom:t}=e,i=E.find((e=>t>=e.zoom));return void 0!==i?i.lines:k.Ml}},39115:(e,t,i)=>{"use strict";i.d(t,{GF:()=>f,Zs:()=>h,Ag:()=>p,SI:()=>v,fX:()=>g,Ru:()=>m});var s=i(49804),r=i(6514),n=i(27783),a=i(35023),o=i(73516),c=i(29908),d=i(66900);const l=11;function u(e,t){return Math.floor(e)!==Math.floor(t)}function p(e){const{dragBound:t,center:i,zoom:n,screen:a,offset:o,pitch:c,rotation:d}=e;if(!t)return!0;const l=(0,r.Y)(a,o),u=(0,s.I4)({center:i,zoom:n,mapSize:l,pitch:c,rotation:d});return p=u,m=t.map((e=>[e.longitude,e.latitude])),!!p.find((e=>!function(e,t){const i=e[0],s=e[1];let r=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){const a=t[e][0],o=t[e][1],c=t[n][0],d=t[n][1];o>s!=d>s&&i<(c-a)*(s-o)/(d-o)+a&&(r=!r)}return r}(e,m)));var p,m}function m(e){const{filterValues:t,isFilialsResults:i,isBrandResults:s,isBuyHereResult:r,isDragboundOut:a,isZoomInBoundOut:o,prevZoom:c,zoom:d}=e;return!(!t||"true"!==t.bound)||!(i||s||r)&&(!!a||(!(!u(c,d)||!(0,n.b)(c))||!!o))}function g(e){const{updateSearchAndMarkers:t,isFilialsResults:i,zoom:s,prevZoom:r}=e;return!!t||!i&&(!!u(r,s)&&Math.min(s,r)<=l)}function h(e){return"marker"===e.origin&&e.marker?e.marker&&e.marker.data&&"market"===e.marker.data.source?e.marker.data.branch_id:e.marker&&e.marker.data&&"favorites"===e.marker.data.source?e.marker.data.entityId?e.marker.data.entityId:void 0:(0,a.ox)(e.marker.id):"poi"===e.origin?e.target.id:void 0}function f(e,t,i,s){const{floorNames:r,firmsToFloorIndexMap:n,currentFloor:a}=e;if(void 0!==t&&!t.floorsId&&void 0!==t.currentFloor&&e.floorNames[t.currentFloor])return t.currentFloor;const d=i?n[i.entityId]:void 0;if(void 0!==d)return d;if(void 0===a){const e=(0,c.k)({floorNames:r,firmsToFloorIndexMap:n},s),t=e&&(0,o._)(e);if(void 0!==t)return t}return a}function v(e){const{viewpoint:t,zoomInBound:i}=e,[s,r]=t;if(void 0===i)return!1;if(0===i)return!0;const n={lon:r.lon,lat:s.lat},a=(0,d.g)(s,n),o=(0,d.g)(n,r);return Math.max(a,o)<i}},48616:(e,t,i)=>{"use strict";i.d(t,{D:()=>a});var s=i(12017),r=i(35023),n=i(27892);const a=(0,s.n5)("openAgreementPopup",(e=>(0,n.PB)({id:(0,r.W7)(),type:"personalDataAgreement",withDecline:e})))},68710:(e,t,i)=>{"use strict";i.d(t,{AQ:()=>n,B:()=>o,Cf:()=>r,YG:()=>l,aO:()=>d,eU:()=>a,gN:()=>c});var s=i(99906);const r=e=>({frameId:t})=>({uiElement:{name:e?"editPhoneNumber":"addPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap"}),n=()=>({frameId:e})=>({uiElement:{name:"confirmPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:e},action:"tap"}),a=e=>({frameId:t})=>({uiElement:{name:"phoneExistsError",ownerName:"profile"===e?"profileSettingsFrame":"phoneVerificationFrame",frameUuid:t}}),o=()=>({frameId:e},t)=>(0,s.f_)({state:t,name:"phoneConfirmationFrame",uuid:e}),c=()=>({frameId:e})=>({uiElement:{name:"sendAgainButton",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),d=e=>({uiElement:{name:"sendConfirm",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),l=()=>({frameId:e})=>({uiElement:{name:"phoneConfirmationFrame",frameUuid:e},action:"close"})},92782:(e,t,i)=>{"use strict";i.d(t,{G:()=>a});var s=i(12017),r=i(35023),n=i(27892);const a=(0,s.n5)("openPhoneConfirmationPopup",(({phone:e,withDecline:t,source:i,error:a})=>e?(0,n.PB)({id:(0,r.W7)(),type:"phoneConfirmationPopup",phone:e,withDecline:t,source:i,error:a}):(0,s.lQ)()))},78522:(e,t,i)=>{"use strict";i.d(t,{L:()=>w});var s=i(31085),r=i(99259),n=i(46579),a=i(10742),o=i(84175),c=i(71064),d=i(37171),l=i(8365),u=i(81618),p=i(14041),m=i(79594),g=i(82781),h=i(68913),f=i(604),v=i(80552),b=i(68710),y=i(1707),x=i(63180),j=i(43984);const w=(0,p.memo)((({phone:e,phoneCode:t,isConfirmed:i,onChange:v,onSubmit:w,source:C,autofocus:_,showConfirm:k,hasPhone:O})=>{const{_t:S}=(0,g.c)(),{css:T,s:E}=(0,o.I)(I),M=(0,m.wA)(),{useBssHandler:N}=(0,l.E)(),{bssRef:L}=(0,l.E)((0,b.eU)(C)),P=N(b.Cf,!!e&&i),R=N(b.AQ),{featurePhone:A,countryPhoneCode:B}=(0,n.U)(),z=(0,p.useRef)(null),F=t||B,H=(0,m.d4)((e=>e.appContext.weak.phoneError)),U=(0,m.d4)((e=>{var t,i;return"loading"===(null===(i=null===(t=e.data.user.phone)||void 0===t?void 0:t[j._])||void 0===i?void 0:i.status)})),[D,V]=(0,p.useState)((()=>(0,x.qH)(e,B))),[$,W]=(0,p.useState)(!1),q=!!e&&!i,Z=!!D&&!(0,x.fn)(D),Q=q&&k||Z||!!H;(0,p.useEffect)((()=>()=>{M((0,y.w0)())}),[]);const G=(0,p.useCallback)((()=>{W(!0)}),[]),K=(0,a.D)((()=>{"profile"===C&&P()})),Y=(0,a.D)((()=>{W(!1)})),X=(0,a.D)((()=>{U||(R(),M((0,y.Sv)({phone:D,source:C})))})),J=(0,a.D)((e=>{13===e.keyCode&&(0,x.fn)(D)&&w&&(e.preventDefault(),w())})),ee=(0,a.D)((e=>{V(e),(0,x.fn)(e)?v(e):v(""),H&&M((0,y.w0)())})),te=(0,p.useRef)(0),ie=(0,p.useCallback)((e=>(setTimeout((()=>{if(!z.current||e===D)return;const t=z.current.selectionStart||0,i=(0,x.Oz)({currentPosition:t,previousPosition:te.current,newValue:e,oldValue:D});z.current.setSelectionRange(i,i),te.current=i})),e)),[D]),se=(0,p.useCallback)((e=>(0,x.qH)(e,B)),[B]);return A||O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.S,{label:S("Телефон"),hasLabel:!0,input:(0,s.jsx)(d.$,Object.assign({accept:/[\d\s/+]+/g,format:se,onChange:ee,value:D,replace:ie},{children:({value:e,onChange:t})=>(0,s.jsx)("input",Object.assign({ref:z,className:T(E.input),type:"tel",autoComplete:"tel",placeholder:F,value:e,onChange:t,onFocus:G,onBlur:Y,onKeyDown:J,onClick:K,autoFocus:_},u.dx.n("wat-phone-input")))})),error:!$&&Q,focused:$,renderOutside:()=>e&&(0,x.fn)(e)&&k?q?(0,s.jsx)(c.A,Object.assign({styles:$?E.appendixFocused:E.appendixError,onClick:X},{children:S("Подтвердить")})):(0,s.jsx)("span",Object.assign({className:T(E.appendix,$&&E.appendixFocused)},{children:(0,s.jsx)(h.J,{color:r.T.gray_e6e6e6})})):null}),Q&&(0,s.jsx)("div",Object.assign({className:T(E.errorMessage)},{children:"EntityExists"===H?(0,s.jsx)("div",Object.assign({ref:L},{children:S("Этот номер привязан к другому аккаунту. Воспользуйтесь вторым аккаунтом или привяжите другой номер")})):"ValueIsNotValid"===H?S("Неправильный номер телефона"):H?S("Что-то пошло не так, попробуйте позже"):Z&&!$?S("Указан неполный номер телефона"):q?S("Телефон не подтверждён"):""}))]}):null}));w.displayName="PhoneInput";const I=(0,o.r)({input:Object.assign(Object.assign({color:r.T.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial"},v.input),{"::placeholder":{color:r.T.gray_929292}}),appendix:{display:"flex",alignItems:"center",borderBottom:`1px solid ${r.T.gray_e6e6e6}`},appendixError:{borderBottom:`1px solid ${r.T.red_fe5000}`},appendixFocused:{borderBottom:`1px solid ${r.T.blue_0072ce}`},errorMessage:Object.assign(Object.assign({},v.small),{color:r.T.red_fe5000,paddingTop:6})})},1707:(e,t,i)=>{"use strict";i.d(t,{SA:()=>j,Sv:()=>y,ll:()=>b,rH:()=>x,w0:()=>w});var s=i(88735),r=i(48914),n=i(82384),a=i(12017),o=i(35023),c=i(21959),d=i(35383),l=i(27892),u=i(1321),p=i(82393),m=i(7335),g=i(68710),h=i(92782),f=i(63180),v=i(48065);const b=(0,a.n5)("requestCode",((e,t)=>(0,m.RC)({projectId:p.MJ,userId:e=>{var t;return null===(t=(0,c.ug)(e).data)||void 0===t?void 0:t.user_id}},(({projectId:i,userId:s})=>s?(0,a.NV)((({authClientId:r})=>(0,v.C)({phone:(0,f.Lk)(e),segmentId:i||"65573",userId:s,statusId:t,authClientId:r}))):(0,a.lQ)())))),y=(0,a.n5)("tryConfirmPhone",(({phone:e,withDecline:t,source:i})=>{const r=(0,o.W7)();return(0,a.K2)(b((0,f.Lk)(e),r),(0,s.zC)(r,(s=>(0,d.o)(s)?(0,h.G)({phone:e,withDecline:!!t,source:i}):(0,u.Ip)({phoneError:(null==s?void 0:s.meta).error.message}))))})),x=(0,a.n5)("confirmPhone",(({phone:e,confirmationCode:t,withDecline:i,source:c})=>{const l=(0,o.W7)();return(0,a.K2)((0,a.NV)((({authClientId:i})=>(0,v.r)({phone:(0,f.Lk)(e),confirmationCode:t,statusId:l,authClientId:i}))),(0,s.zC)(l,(t=>(0,d.o)(t)?(0,a.K2)((0,n.y)({}),(0,m.eU)((e=>{var t;return null===(t=e.appContext.popup)||void 0===t?void 0:t.id}),(e=>e?(0,r.cD)((0,g.aO)(e)):(0,a.lQ)())),j(c,!0)):(0,h.G)({phone:e,withDecline:i,source:c,error:(null==t?void 0:t.meta).error.message}))))})),j=(0,a.n5)("closeConfirmationPopup",((e,t)=>(0,a.K2)((0,l.fs)(),(0,f.Fj)(e,t)))),w=()=>(0,u.Ip)({phoneError:""})},63180:(e,t,i)=>{"use strict";i.d(t,{$H:()=>E,qH:()=>C,Fj:()=>S,B$:()=>M,xj:()=>L,Oz:()=>N,CF:()=>k,jU:()=>O,hh:()=>P,yp:()=>T,fn:()=>v,Lk:()=>_});var s=i(59939),r=i(12017),n=i(29094),a=i(536),o=i(60832),c=i(51557);const d=(0,r.n5)("returnToPhoneLawPopup",(e=>e?(0,s.M)(!0):(0,o.z)())),l=(0,r.n5)("returnToPhoneAddPopup",(e=>e?(0,c.QY)((({tp:e})=>(0,n.D)((0,a.k)({title:e._gg("Готово!"),message:e._gg("Теперь вы можете использовать номер телефона для входа в 2ГИС.")})))):(0,o.W)()));var u=i(85724);const p=10,m=20,g="+7",h="8",f={russia:"7",belarus:"375",ukrain:"380",kyrgyz:"996",uzbek:"998",azer:"994",arab:"971"};function v(e){const t=_(e),i=t.length;return t.startsWith(f.russia)||t.startsWith(h)||t.startsWith(f.kyrgyz)?11===i:t.startsWith(f.belarus)||t.startsWith(f.ukrain)||t.startsWith(f.uzbek)||t.startsWith(f.azer)?12===i:t.startsWith(f.arab)?12===i||11===i:p<=t.length&&t.length<=m}const b=/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/,y=/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/,x=/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})(\d{0,2})/,j=/(\d{0,3})(\d{0,1})(\d{0,7})/,w=/(\d{0,3})(\d{0,9})/,I=/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/;function C(e,t){var i;const s=_(e),r="+"===e[0],n=function(e,t){if(e.startsWith(f.russia)||e.startsWith(h)&&!t)return b;if(e.startsWith(f.belarus)||e.startsWith(f.ukrain)||e.startsWith(f.uzbek)||e.startsWith(f.azer))return y;if(e.startsWith(f.kyrgyz))return x;if(e.startsWith(f.arab))return 12===e.length?w:j;return I}(s,r),a=null===(i=n.exec(s))||void 0===i?void 0:i.slice(1);if(!a)return e;const o=a.join(" ").trim();return v(o)&&!r?t===g&&o.startsWith(h)?g+o.slice(1,o.length):"+"+o:r?"+"+o:o}function _(e){return e.replace(/\D/g,"")}function k(e){const t=e.previousSibling;t&&t.focus()}function O(e){const t=e.nextSibling;t&&t.focus()}function S(e,t){switch(e){case"profile":return(0,u.v)();case"law":return d(t);case"add":return l(t)}}function T(e){const t=parseInt(e);return 0<=t&&t<=9}const E="ConfirmationAttemptsExceeded";function M(e,t){switch(e){case"ConfirmationCodeIsNotValid":return t("Неверный код");case E:return t("Упс, вы ввели неверный код несколько раз подряд. Попробуйте ещё разок через несколько часов — верим, всё получится!");case"SMSLimitExceeded":return t("Дождитесь SMS с кодом подтверждения. Если код не приходит, запросите его ещё раз через несколько часов");default:return t("Что-то пошло не так, попробуйте позже")}}function N({currentPosition:e,previousPosition:t,newValue:i,oldValue:s}){return" "===i[e]?s.length?e+2:e+1:0===e&&i.startsWith("+")&&!s.startsWith("+")?t?t+3:2:e}function L(e){return((null==e?void 0:e.phone_code)||"")+((null==e?void 0:e.phone_number)||"")}function P(e){return e.join("").length===e.length}},60832:(e,t,i)=>{"use strict";i.d(t,{W:()=>o,z:()=>a});var s=i(12017),r=i(35023),n=i(27892);const a=(0,s.n5)("openPhoneLawPopup",(()=>(0,n.PB)({id:(0,r.W7)(),type:"phonePopup",subtype:"law"}))),o=(0,s.n5)("openPhoneAddPopup",(()=>(0,n.PB)({id:(0,r.W7)(),type:"phonePopup",subtype:"add"})))},60776:(e,t,i)=>{"use strict";i.d(t,{v:()=>c});var s=i(78069),r=i(12017),n=i(59954),a=i(24872),o=i(35023);const c=(0,r.n5)("openPoint",(e=>{const{point:t,shouldCenterMap:i}=e;return(0,r.K2)((0,s.fL)({id:(0,o.W7)(),type:"entity",entityId:n.K0,entityType:"point",point:e.point,searchId:"",gtaId:""}),i?(0,a.xZ)({lon:t.lon,lat:t.lat,zoom:16}):(0,r.lQ)())}))},14414:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});const s=(0,i(46287).eJ)(),r=(e,t)=>i=>s({state:i,entityId:e,searchId:t}).data},68367:(e,t,i)=>{"use strict";i.d(t,{_:()=>d});var s=i(12017),r=i(29787),n=i(78069),a=i(7335),o=i(92585),c=i(63041);const d=(0,s.n5)("backToEntityCard",(e=>(0,a.eU)((e=>e.appContext.graveyard),(t=>!(!t[0]||!t[0].find(o.n))?(0,s.K2)((0,r.PC)(),(0,n.kg)()):(0,s.K2)((0,n.S2)(),(0,c.UP)({id:e.id,type:e.type}))))))},3741:(e,t,i)=>{"use strict";i.d(t,{l:()=>u});var s=i(31085),r=i(14041),n=i(79594),a=i(10048),o=i(58471);const c=e=>(0,s.jsx)(a.w,{loader:o.b.privacyPolicyBanner,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,s.jsx)("div",{})});var d=i(35023),l=i(15471);const u=r.memo((({isAbsolute:e})=>{const t=(0,n.d4)((e=>e.appContext.showPrivacyPolicyBanner)),i=(0,r.useMemo)((()=>({frameId:(0,d.W7)()})),[]);return t?(0,s.jsx)(l.X.Provider,Object.assign({value:i},{children:(0,s.jsx)(c,{isAbsolute:e})})):null}));u.displayName="PrivacyPolicyBanner"},91414:(e,t,i)=>{"use strict";i.d(t,{n:()=>m});var s=i(31085),r=i(14041),n=i(79594),a=i(84593),o=i(44920),c=i(98827);const d=()=>{const e=[(0,o.A)({isLabelShown:!0}),(0,c.n)({isLabelShown:!0})];return(0,s.jsx)(a.L,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,s.jsx)(a.j,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=i(33489),u=i(18389);const p=()=>{const e=(0,u.o)(),t=e&&"tab"in e?e.tab:void 0,i=[(0,o.A)({isLabelShown:"whereToBuy"===t}),(0,l.j)({isLabelShown:!0})];return(0,s.jsx)(a.L,{children:i.map(((e,t)=>e&&(0,s.jsx)(a.j,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})},m=(0,r.memo)((()=>(0,n.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,s.jsx)(d,{}):(0,s.jsx)(p,{})))},72760:(e,t,i)=>{"use strict";i.d(t,{J:()=>n});var s=i(78069),r=i(35023);function n(e){return(0,s.fL)({id:(0,r.W7)(),type:"publicFavorites",subtype:e})}},48455:(e,t,i)=>{"use strict";i.d(t,{K:()=>H,$:()=>V});var s=i(31085),r=i(14041),n=i(84175),a=i(46579),o=i(51068),c=i(82781),d=i(52821),l=i(18971),u=i(99259),p=i(80552),m=i(79594),g=i(90882),h=i(12017),f=i(87177),v=i(88122),b=i(16641),y=i(8365),x=i(98379),j=i(50432);const w=e=>({frameId:t},i,s)=>{const{type:r,currentCongestion:n}=e,a=null==s?void 0:s.hasNote,o=(0,x.t)({state:i,entityFrameId:t,currentCongestion:n}),c=a?{hasNote:a}:void 0;return o&&c||(0,j.vV)({message:"Не удалось сформировать payload (placeItem или noteItem) для события показа заметки (a-56a58, a-ao0di или a-vittc)",level:"error",id:"asda1",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:I(r),ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{noteItem:c,placeItem:o}}};function I(e){switch(e){case"add":return"addNote";case"edit":return"editNote";default:return"saveNote"}}const C=e=>({frameId:t},i,s)=>{const{currentCongestion:r}=e,n=null==s?void 0:s.hasNote,a=(0,x.t)({state:i,entityFrameId:t,currentCongestion:r}),o=n?{hasNote:n}:void 0;return a&&o||(0,j.vV)({message:"Не удалось сформировать payload (placeItem или noteItem) для события нажатия кнопки удаления (a-5winq)",level:"error",id:"5winq",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:"deleteNote",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{noteItem:o,placeItem:a}}},_=()=>({frameId:e})=>({uiElement:{name:"confirmDelete",ownerName:"placeCardFull",frameUuid:e},action:"tap"});var k=i(81618),O=i(4911);const S=r.memo((e=>e.componentReady?e.children:e.skeleton||null));var T=i(23300);const E=(0,r.memo)((()=>{const{s:e,css:t}=(0,n.I)(M);return(0,s.jsx)("div",Object.assign({className:t(e.container,e._withContent)},{children:(0,s.jsx)("div",Object.assign({className:t(e.inputBlock)},{children:(0,s.jsx)("div",Object.assign({className:t(e.note)},{children:(0,s.jsx)(T.Y,{fontSize:13,lineHeight:16,short:!0})}))}))}))}));E.displayName="QuickNotesSkeleton";const M=(0,n.r)({container:{marginEnd:22,paddingTop:8,paddingBottom:12},_withContent:{paddingTop:16,paddingBottom:16},inputBlock:{display:"flex"},note:{width:"100%",paddingTop:4,marginEnd:4,color:u.T.gray_262626}});var N=i(21959),L=i(7290),P=i(68887),R=i(806),A=i(61120);const B=()=>A.S$||window.isServerRendered,z=(0,R.e)(B()),F=r.memo((e=>{const t=z.use(),{children:i,skeleton:n}=e;return r.useEffect((()=>{t&&z.set(B)}),[t]),(0,s.jsx)(S,Object.assign({componentReady:!t,skeleton:n},{children:i}))})),H=(0,r.memo)((e=>{const{entity:t}=e,[i]=(0,b.m6)({entityId:t.id}),{featureQuickFavorite:r}=(0,a.U)(),n=(0,m.d4)(N.Us);return r?n?null:i?(0,s.jsx)(F,{children:(0,s.jsx)(U,{note:i})}):null:null}));H.displayName="MiniQuickNotes";const U=e=>{const{s:t,css:i}=(0,n.I)(D);return(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-view-block"),{className:i(t.container)},{children:(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-text"),{className:i(t.note)},{children:e.note}))}))},D=(0,n.r)({container:{backgroundColor:u.T.white,marginStart:-12,marginTop:12,marginBottom:12,paddingTop:8,paddingBottom:8,paddingEnd:8,display:"flex",alignItems:"center",border:`1px solid ${u.T.gray_e6e6e6}`,boxSizing:"border-box",borderRadius:P.V.default},note:Object.assign(Object.assign({},(0,p.lineClamped)(3,p.regular)),{width:"100%",paddingStart:12,color:u.T.gray_262626})}),V=(0,r.memo)((e=>{const{entity:t}=e,{featureQuickFavorite:i,featureReadOnly:r}=(0,a.U)(),n=(0,m.d4)(N.Us);return!i||r?null:(0,s.jsx)(S,Object.assign({skeleton:(0,s.jsx)(E,{}),componentReady:!n},{children:(0,s.jsx)($,{entity:t})}))}));V.displayName="QuickNotes";const $=(0,r.memo)((e=>{const{entity:t}=e,{s:i,css:a}=(0,n.I)(q),[d,{updateItem:l,removeItem:u}]=(0,b.m6)({entityId:t.id}),{currentCongestion:p}=(0,O.X)({entity:t}),x=(0,c.c)(),j=(0,m.wA)(),[I,S]=(0,r.useState)(d||""),{useBssHandler:T}=(0,y.E)(),E=T(w,{type:"save",currentCongestion:p}),M=T(w,{type:"add",currentCongestion:p}),N=T(w,{type:"edit",currentCongestion:p}),P=T(C,{currentCongestion:p}),R=T(_),[A,B]=(0,r.useState)(!1),z=(0,r.useCallback)((()=>{M({hasNote:!!I}),B(!0)}),[B,M,I]),F=(0,r.useCallback)((()=>{N({hasNote:!!I}),B(!0)}),[B,N,I]),H=(0,r.useCallback)((()=>{P({hasNote:!!I}),j((0,g.L)(x._t("Вы действительно хотите удалить эту заметку?"),(()=>(R(),u(),(0,h.lQ)()))))}),[j,u,P,R,I,x]),U=(0,r.useCallback)((()=>{B(!1)}),[B]),D=(0,r.useCallback)((()=>{const e=I.trim();e&&(E({hasNote:!!e}),l(e)),B(!1)}),[B,l,E,I]);return A?(0,s.jsx)(L.Y,{children:(0,s.jsx)(f.W,Object.assign({initialState:{note:d},onSubmit:D,onCancel:U},{children:()=>(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-edit-block"),{className:a(i.container,i._textField)},{children:(0,s.jsx)(v.C,Object.assign({offset:32,icon:null},{children:(0,s.jsx)(o.A,{dataT:"quick-note-input",autoFocus:!0,initialValue:d,placeholder:x._t("Текст заметки"),maxLength:70,onChange:S})}))}))}))}):d?(0,s.jsx)(W,{note:d,currentCongestion:p,handleClear:H,handleEditClick:F}):(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-view-block"),{className:a(i.container,i._withContent)},{children:(0,s.jsx)("div",Object.assign({className:a(i.inputBlock,i._flexCenter,i._withPointer),onClick:z},{children:(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-add-button"),{className:a(i.emptyNote)},{children:x._t("Добавить заметку")}))}))}))}));$.displayName="QuickNotesInner";const W=(0,r.memo)((e=>{const{s:t,css:i}=(0,n.I)(q),{note:r,handleClear:a,handleEditClick:o,currentCongestion:c}=e,{bssRef:u}=(0,y.E)((e=>({frameId:t},i)=>{const{hasNote:s,currentCongestion:r}=e,n=(0,x.t)({state:i,entityFrameId:t,currentCongestion:r}),a=s?{hasNote:s}:void 0;if(n&&a||(0,j.vV)({message:"Не удалось сформировать payload (placeItem или noteItem) для события показа заметки (v-3z6m0)",level:"error",id:"fh489",payload:{type:"debug",subtype:"BssTrackerV3"}}),a)return{uiElement:{name:"noteItem",ownerName:"placeCardFull",frameUuid:t},payload:{noteItem:a,placeItem:n}}})({hasNote:!0,currentCongestion:c}));return(0,s.jsx)("div",Object.assign({ref:u},k.dx.n("wat-quick-note-view-block"),{className:i(t.container,t._withContent)},{children:(0,s.jsxs)("div",Object.assign({className:i(t.inputBlock)},{children:[(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-text"),{className:i(t.note)},{children:r})),(0,s.jsxs)("div",Object.assign({className:i(t.controls)},{children:[(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-edit-button"),{className:i(t.control),onClick:o},{children:(0,s.jsx)(d.f,{})})),(0,s.jsx)("div",Object.assign({},k.dx.n("wat-quick-note-trash-button"),{className:i(t.control),onClick:a},{children:(0,s.jsx)(l.l,{})}))]}))]}))}))})),q=(0,n.r)({container:{paddingTop:8,paddingBottom:12},_withContent:{paddingTop:16,paddingBottom:16},inputBlock:{display:"flex"},_flexCenter:{alignItems:"center"},emptyNote:{width:"100%",color:u.T.blue_0072ce,":hover":{color:u.T.gray_262626}},note:Object.assign(Object.assign({},(0,p.lineClamped)(3,p.regular)),{width:"100%",paddingTop:4,marginEnd:4,color:u.T.gray_262626}),_textField:{marginStart:-8,marginEnd:24},_withPointer:{cursor:"pointer"},controls:{backgroundColor:"#fff",display:"flex",justifyContent:"space-between"},control:{width:24,height:24,cursor:"pointer",color:u.T.gray_262626,":hover":{color:u.T.gray_929292},"&:first-child":{paddingEnd:4}}})},27431:(e,t,i)=>{"use strict";i.d(t,{G:()=>d});var s=i(78069),r=i(35023),n=i(35314),a=i(12017),o=i(82393),c=i(69395);function d(){return(0,a.K2)((0,a.Q2)((e=>{const t=(0,o.zN)(e);return(0,s.fL)({regionId:t,id:(0,r.W7)(),type:"rubricator"})})),(0,n.k8)(),(0,c.TJ)({suggesterKey:"primary",show:!1}))}},42744:(e,t,i)=>{"use strict";i.d(t,{k:()=>O});var s=i(31085),r=i(14041),n=i(79594),a=i(14701),o=i(84593),c=i(98827),d=i(10742),l=i(82781),u=i(12017);const p=e=>"offers"!==(null==e?void 0:e.searchType);var m=i(20091),g=i(4957),h=i(39123);function f({signalToOpen:e,trackBssTap:t}){const i=(0,n.wA)(),r=(0,l.c)(),a=(0,h.U)("search"),o=p(a),c=(0,d.D)((()=>{t(),i((0,u.K2)((0,m.X_)({isMinimized:!1}),e))}));if(o)return{type:"filters",label:r._t("Фильтры"),icon:(0,s.jsx)(g.C,{}),href:void 0,onClick:c}}var v=i(7335),b=i(8365),y=i(28076);const x=()=>(e,t)=>{const i=t.appContext.frames.find((e=>"search"===e.type));if(!i||"search"!==i.type)return;const s=(0,y.e)(i);return{uiElement:{name:"showFilters",frameUuid:i.id,ownerName:s},action:"tap"}},j=()=>{const{useBssHandler:e}=(0,b.E)(),t=e(x),i=[f({signalToOpen:(0,v.eU)((e=>e.appContext.frames[0]),(e=>(0,a.p)({frameId:e.id,shouldOpen:!0}))),trackBssTap:t}),(0,c.n)({isLabelShown:!0})];return(0,s.jsx)(o.L,Object.assign({appearance:"transparent"},{children:i.map(((e,t)=>e&&(0,s.jsx)(o.j,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var w=i(29787),I=i(22786),C=i(75098),_=i(68367);const k=()=>{const e=(0,n.wA)(),t=(0,l.c)(),i=(0,h.U)("search"),{useBssHandler:r}=(0,b.E)(),c=r(x),u=p(i),f=(0,d.D)((()=>{e((0,w.PC)((0,m.X_)({isMinimized:!0})))})),y=(0,d.D)((()=>{i&&(c(),e((0,a.p)({frameId:i.id,shouldOpen:!0})))})),j=(0,d.D)((()=>{e((0,v.eU)((e=>{var t;return"offers"===(null==i?void 0:i.searchType)&&i.branchId?null===(t=e.data.entity.profile[i.branchId])||void 0===t?void 0:t.data:void 0}),(e=>e&&(0,_._)(e))))}));return(0,s.jsxs)(o.L,{children:["offers"===(null==i?void 0:i.searchType)&&(0,s.jsx)(o.j,Object.assign({icon:(0,s.jsx)(I.v,{}),onClick:j},{children:t._t("Назад к карточке")})),u&&(0,s.jsx)(o.j,Object.assign({dataT:"Фильтры",icon:(0,s.jsx)(g.C,{}),onClick:y},{children:t._t("Фильтры")})),(0,s.jsx)(o.j,Object.assign({dataT:"На карте",icon:(0,s.jsx)(C.T,{}),grow:!0,onClick:f},{children:t._t("На карте")}))]})},O=(0,r.memo)((()=>(0,n.d4)((e=>!!e.appContext.isDataViewerMinimized))?(0,s.jsx)(j,{}):(0,s.jsx)(k,{})))},6532:(e,t,i)=>{"use strict";i.d(t,{X:()=>f,Y:()=>h});var s=i(12017),r=i(35023),n=i(78069),a=i(95083),o=i(7335),c=i(57744),d=i(74182),l=i(39890),u=i(59954),p=i(29787),m=i(13204),g=i(61700);const h=(0,s.n5)("openSearchBranchOffers",(({query:e="",filterValues:t={},page:i=1,branchId:p,branchSearchId:m=u.j4,categoryId:g})=>{const h=(0,r.W7)(),f=(0,r.W7)(),v=(0,r.W7)(),b=g&&t.category_ids!==g?(0,l.$)({valueType:"single",value:g,isChecked:!0,name:"category_ids"},t):t;return(0,s.K2)((0,n.fL)({id:(0,r.W7)(),type:"search",searchType:"offers",searchId:h,filtersId:(0,d.vt)(v),query:e,filterValues:b,statusId:f,branchId:p,branchSearchId:m,filterPanelState:"auto",page:(0,d.vt)(i)}),(0,o.eU)((e=>(0,c.u)(e)),(t=>(0,a.TI)({branchId:p,offersSearchId:h,filtersId:v,filters:b,query:e,page:i,locale:t,statusId:f}))))})),f=(0,s.n5)("searchBuyHere",(({adsIds:e,isFMCG:t=!1,page:i=1,filters:a={}})=>{const c=(0,r.W7)(),l=(0,r.W7)();return(0,s.K2)((0,p.PC)((0,n.fL)({id:(0,r.W7)(),type:"search",searchType:t?"fmcg":"buyHere",query:"",filterPanelState:"auto",adsIds:e,searchId:(0,d.vt)(c),page:(0,d.vt)(i),scrollIdHash:(0,r.W7)(),filtersId:l,filterValues:a})),(0,o.Cl)((t=>(0,s._7)((0,o.eU)((e=>e.session.geolocation.position),(s=>(0,m.Wj)({query:"",searchId:c,page:i,viewpoint:t,adsIds:e,filtersId:l,filters:a,withFilters:!0,sortPoint:s}))),(0,s.gd)((0,g.C)())))))}))},14701:(e,t,i)=>{"use strict";i.d(t,{p:()=>a});var s=i(12017),r=i(78069),n=i(80905);function a(e){return(0,s.K2)(e.shouldOpen?(0,s.Q2)((e=>{const t=(0,n.bB)(e.appContext.frames,"offer");if(t)return(0,r.wU)({id:t.id})})):void 0,(0,r.oy)(e.frameId,(t=>Object.assign(Object.assign({},t),{filterPanelState:e.shouldOpen?"manuallyOpened":"manuallyClosed"}))))}},7758:(e,t,i)=>{"use strict";i.d(t,{T:()=>o,t:()=>c});var s=i(91818),r=i(27892),n=i(12017),a=i(29787);const o=(0,n.n5)("openSendOrderPopup",(e=>e.hasDelivery?(0,s.oC)("openSendOrderPopup",e):c(e))),c=(0,n.n5)("openSendOrderPopupSimple",(e=>(0,a.PC)((0,r.PB)({type:"sendOrder",id:e.popupId,params:e}))))},7682:(e,t,i)=>{"use strict";i.d(t,{$D:()=>c,G1:()=>n,JL:()=>a,i7:()=>o,w$:()=>d});var s=i(98379),r=i(99906);const n=({ownerName:e})=>(t,i)=>({uiElement:{name:"share",ownerName:e,frameUuid:t.frameId},action:"tap",payload:{placeItem:(0,s.t)({state:i,entityFrameId:t.frameId})}}),a=()=>(e,t)=>(0,r.f_)({state:t,name:"shareFrame",uuid:e.frameId}),o=()=>e=>({uiElement:{name:"devicesList",frameUuid:e.frameId,ownerName:"shareFrame"}}),c=()=>e=>({uiElement:{name:"device",ownerName:"devicesList",frameUuid:e.frameId},action:"tap"}),d=()=>e=>({uiElement:{name:"copy",ownerName:"shareFrame",frameUuid:e.frameId},action:"tap"})},84963:(e,t,i)=>{"use strict";i.d(t,{T:()=>p});var s=i(12017),r=i(27892),n=i(35023),a=i(7246),o=i(5599),c=i(19071),d=i(68443),l=i(80905);function u(e){const t=["userProfile","collection"],i=(0,l.bB)(e.frames,"collection");return Object.assign(Object.assign({},e),{frames:"private"===(null==i?void 0:i.subtype)?e.frames.filter((e=>!t.includes(e.type))):e.frames})}const p=(0,s.n5)("openSharingPopup",(e=>(0,s.gd)((0,s.Q2)((t=>{const i=(0,n.W7)(),l=e.path||(0,c.w)((0,d.I)(Object.assign(Object.assign({},t),{appContext:u(t.appContext)}))),p=l?`${location.protocol}//${location.host}${l}`:location.href;return(0,s.K2)((0,r.PB)({id:i,type:"sharing",isPopupGlassDark:!0,urlToShort:p,frameId:e.frameId}),(0,a.f)({url:p}),(0,o.YO)())})))))},5599:(e,t,i)=>{"use strict";i.d(t,{Cz:()=>f,NR:()=>v,Xh:()=>g,YO:()=>h});var s=i(12017),r=i(21959),n=i(39684),a=i(27892),o=i(91818),c=i(35023),d=i(88735),l=i(29094),u=i(536),p=i(35383),m=i(51557);const g=()=>(0,o.oC)("openSharingPopup"),h=(0,s.n5)("fetchDevices",(()=>(0,s.gd)((0,s.Q2)((e=>(0,r.x3)(e)?(0,n.U)({}):(0,s.lQ)()))))),f=(0,s.n5)("pushNotification",(e=>(0,s.gd)((0,s.Q2)((t=>{if(!(0,r.x3)(t))return(0,s.lQ)();const i=(0,c.W7)();return(0,s.K2)((0,n.Y)(Object.assign(Object.assign({},e),{statusId:i})),(0,d.zC)(i,(t=>(0,p.o)(t)?(0,s.K2)((0,a.fs)(),(0,m.QY)((({tp:t})=>(0,l.D)((0,u.k)({title:t._t("Готово"),message:t._t("Уведомление отправлено на %1",[e.deviceName])}))))):(0,m.QY)((({tp:e})=>(0,l.D)((0,u.z)({title:e._t("Ошибка!"),message:e._t("Не удалось отправить уведомление, попробуйте позднее")})))))))}))))),v=(0,s.n5)("copyShareLink",(()=>(0,s.K2)((0,a.fs)(),(0,m.QY)((({tp:e})=>(0,l.D)((0,u.k)({title:e._t("Готово"),message:e._t("Ссылка скопирована")})))))))},16632:(e,t,i)=>{"use strict";i.d(t,{m:()=>s});const s=(0,i(806).e)(!1)},53898:(e,t,i)=>{"use strict";i.d(t,{N:()=>c});var s=i(48914),r=i(12017),n=i(35023),a=i(99906),o=i(7335);const c=e=>({bssSideMenuClick(){e((0,o.RC)({showFrameEvent:e=>(0,a.f_)({state:e,name:"sidebar",uuid:e.appContext.staticFrames.sidebar.id}),mapUuid:e=>e.appContext.staticFrames.map.id},(({showFrameEvent:e,mapUuid:t})=>(0,r.K2)((0,s.cD)({uiElement:{name:"sidebarIcon",frameUuid:t},action:"tap"}),e&&(0,s.X_)(Object.assign(Object.assign({},e),{showEventKey:(0,n.W7)()}))))))},bssOnFeedbackClick(){e((0,o.eU)((e=>e.appContext.staticFrames.sidebar.id),(e=>(0,s.cD)({uiElement:{name:"feedbackButton",ownerName:"sidebar",frameUuid:e},action:"tap"}))))}})},6028:(e,t,i)=>{"use strict";i.d(t,{Wb:()=>o,Xp:()=>n,a1:()=>a});var s=i(12017),r=i(46954);const n=(0,i(59754).lQ)("UI/SET_SHOW_SNOW"),a=(0,s.n5)("setSnowStatus",((e,t)=>(0,s.K2)(n({status:e,allowSnowStyle:t}),(0,r.l)({name:"noSnow",value:"off"===e}))));function o(){return(0,s.Q2)((e=>(0,s.NV)((({isMobileDevice:t,featureNewYear:i})=>t?n({status:"off",intensity:0,allowSnowStyle:e.appContext.showSnow.allowSnowStyle}):e.session.is3dEnabled&&i?(0,s.lQ)():n({status:"off",intensity:0,allowSnowStyle:!1})))))}},69969:(e,t,i)=>{"use strict";i.d(t,{G:()=>a,y:()=>c});var s=i(12017),r=i(1321),n=i(35023);const a=(0,s.n5)("showAddedToCollectionToast",(e=>{const{collectionId:t,item:i,targetBoundingClientRect:s}=e;return(0,r.Ip)({toast:{id:(0,n.W7)(),type:"addedToCollection",collectionId:t,item:i,targetBoundingClientRect:s}})}));var o=i(46954);const c=(0,s.n5)("showPromoToast",(e=>{const{targetBoundingClientRect:t,type:i,to:a,offset:c}=e;return(0,s.Q2)((e=>{const d=`_seen-${i}`;return!e.session.flags[d]&&(0,s.K2)((0,r.Ip)({toast:{id:(0,n.W7)(),type:"showPromoToast",subtype:i,targetBoundingClientRect:t,to:a,offset:c}}),(0,o.l)({name:d,value:!0}))}))}))},27127:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var s=i(1321);const r=()=>(0,s.Ip)({toast:void 0})},68217:(e,t,i)=>{"use strict";i.d(t,{o:()=>z,m:()=>F});var s=i(31085),r=i(14041),n=i(35731),a=i(76298),o=i(4986);function c({tooltip:e}){if(!e)return;const t=d(e);return t?{targetClientRect:(0,o.K)({left:e.point[0],top:e.point[1]}),tooltipData:t}:void 0}function d(e){if("poi"===e.origin){if(!e.poi)return;return{type:"poi",data:e.poi}}if(!e.marker)return;const t=(0,a.w)(e.marker);if(t)switch(t.source){case"favorites":return{type:"favorites",data:t,marker:e.marker};case"tUgc":return{type:"tUgc"};case"exchange":return{type:"exchange",data:t,marker:e.marker};default:return}}var l=i(8365),u=i(99259),p=i(84175),m=i(79495),g=i(47425),h=i(34406),f=i(80552),v=i(11540),b=i(98787),y=i(58309),x=i(823);var j=i(3683),w=i(79594),I=i(82393);const C=({tUgcEvent:e,offset:t},{tp:i,dateFns:s,config:r})=>{if(e)return{title:(0,g.X)(e,i),description:(0,h.a)(e,i,r),hint:(0,m.$)(e,i,s,r,t),comment:e.comment}},_=(0,r.memo)((e=>{var t,i;const{tooltipId:r}=e,n=(0,b.d)({id:r}),a=(0,w.d4)((e=>(0,I.$4)({state:e,code:(0,I.JC)(e)||""}))),{data:o,isFetching:c}=(0,j.s)({eventId:r}),d=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.preview_urls["328x170"];return(0,s.jsx)(k,{photo:d,tUgcEvent:n,isFetching:c,offset:(null===(i=null==a?void 0:a.time_zone)||void 0===i?void 0:i.offset)||0})}));_.displayName="TUgcTooltip";const k=(0,r.memo)((e=>{const{photo:t,tUgcEvent:i,isFetching:r,offset:n}=e,{s:a,css:o}=(0,p.I)(O),{bssRef:c}=(0,l.E)((d={tUgcEvent:i},({frameId:e},t)=>{const{tUgcEvent:i}=d;if(i)return{uiElement:{name:"tUGCTooltip",ownerName:"tUGCPOI",frameUuid:e},payload:{tUGC:{id:i.id,category:(0,y.O)(i),mode:(0,x.$)(t)}}}}));var d;const u=(0,v.kc)(C,{tUgcEvent:i,offset:n});if(!u||r)return null;const{title:m,description:g,comment:h,hint:f}=u;return(0,s.jsxs)("div",Object.assign({className:o(a.root),ref:c},{children:[(0,s.jsxs)("div",Object.assign({className:o(a.content)},{children:[(0,s.jsx)("div",Object.assign({className:o(a.title)},{children:m})),g&&(0,s.jsx)("div",Object.assign({className:o(a.description)},{children:g})),h&&(0,s.jsx)("div",Object.assign({className:o(a.comment)},{children:h})),f&&(0,s.jsx)("div",Object.assign({className:o(a.hint)},{children:f}))]})),t&&(0,s.jsx)("div",{className:o(a.photo),style:{backgroundImage:`url(${t})`}})]}))}));k.displayName="TUgcTooltipInner";const O=(0,p.r)({root:Object.assign({minHeight:64,display:"flex",justifyContent:"space-between"},f.regular),content:{minWidth:0,padding:16},title:{paddingBottom:2,color:u.T.blue_0072ce},description:Object.assign({},f.small),comment:Object.assign({paddingTop:2},(0,f.lineClamped)(3,f.small)),hint:Object.assign({paddingTop:8,color:u.T.gray_929292,whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"},f.small),photo:{flex:"0 0 64px",width:64,minHeight:64,maxHeight:"100%",backgroundSize:"cover",backgroundPosition:"center"}});var S=i(79086),T=i(806),E=i(46287),M=i(23020),N=i(10048),L=i(58471),P=i(40837);const R=e=>(0,s.jsx)(N.w,{loader:L.b.exchangeTooltip,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:P.N});var A=i(63795),B=i(63109);const z=(0,T.e)(void 0),F=r.memo((()=>{const e=z.use(),t=(0,v.kc)(c,{tooltip:e});if(!e||!t)return null;const{targetClientRect:i,tooltipData:r}=t;return(0,s.jsx)(S.w,Object.assign({to:"bottomEnd",targetBoundingClientRect:i,offset:5,pointerEvents:"none"},{children:(0,s.jsx)(B.T,Object.assign({dataN:"wat-tooltip"},{children:(0,s.jsx)(H,{tooltipId:e.id,tooltipData:r})}))}))}));function H(e){const{tooltipData:t,tooltipId:i}=e,r=(0,w.d4)((e=>(0,E.Tq)({state:e,entityId:i,searchId:(0,M.uI)(e)}))).data;switch(t.type){case"favorites":case"poi":return(0,s.jsx)(n.Z,{entity:r,tooltipData:t,marker:"marker"in t?t.marker:void 0});case"tUgc":return(0,s.jsx)(_,{tooltipId:i});case"exchange":return(0,s.jsx)(R,{marker:t.marker});case"friend":return(0,s.jsx)(A.Oq,{friendId:t.friendId});default:return null}}F.displayName="Tooltip"},85005:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var s=i(27892),r=i(35023);function n(e){return(0,s.PB)({id:(0,r.W7)(),type:"typedFeedback",withBackToFeedbackForm:e.withBackToFeedbackForm,subtype:e.subtype,frameId:e.frameId,entityId:e&&e.entityId,searchId:e&&e.searchId})}},99949:(e,t,i)=>{"use strict";i.d(t,{U:()=>o});var s=i(77314),r=i(12017),n=i(29787),a=i(27127);const o=(0,r.n5)("openProfile",(e=>{return(0,r.K2)((0,n.PC)(),(0,s.x)("achievements"===(t=e)||"photos"===t||"feedbacks"===t||"reviews"===t||"favorites"===t||"missions"===t||"places"===t?t:void 0),(0,a.c)());var t}))},35774:(e,t,i)=>{"use strict";i.d(t,{U:()=>u,d:()=>d});var s=i(31085),r=i(14041),n=i(84175),a=i(81618),o=i(80552),c=i(99259);const d=(0,r.memo)((e=>{const{image:t,title:i,description:r,styles:o,titleStyle:c,imageStyle:d}=e,{s:u,css:p}=(0,n.I)(l);return(0,s.jsxs)("figure",Object.assign({className:p(u.wrapper,o)},a.dx.n("wat-empty-ugc"),{children:[(0,s.jsx)("div",Object.assign({className:p(u.image,d)},a.dx.n("wat-status-empty-image"),{children:t})),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)("p",Object.assign({className:p(u.title,c)},a.dx.n("wat-status-empty-title"),{children:i})),r&&(0,s.jsx)("p",Object.assign({className:p(u.description)},a.dx.n("wat-status-empty-description"),{children:r}))]})]}))})),l=(0,n.r)({wrapper:{padding:"48px 66px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},image:{marginBottom:32},title:Object.assign(Object.assign({},o.lead),{marginBottom:12}),description:Object.assign({},o.regular)}),u=(0,r.memo)((e=>{const{message:t}=e,{s:i,css:r}=(0,n.I)(p);return(0,s.jsxs)("div",Object.assign({},a.dx.n("wat-empty-ugc"),{className:r(i.wrapper)},{children:[(0,s.jsx)("div",Object.assign({className:r(i.icon)},{children:(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"140",height:"140",viewBox:"0 0 140 140"},{children:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{fill:"#E6E6E6",d:"M57.804 47.49a20.454 20.454 0 0 0-2.914-3.287C57.716 38.736 63.422 35 70 35c6.485 0 12.122 3.631 14.988 8.971l-.375 1.093c0 2.527-.408 4.88-1.099 6.936H83c0-7.18-5.82-13-13-13-5.594 0-10.362 3.533-12.196 8.49zm44.516 58.78l2.828-2.829 14.85 14.85-2.829 2.828-14.85-14.85zM18.88 22.83l2.829-2.828 14.849 14.849-2.829 2.828-14.849-14.849zm98.995-4.243l2.829 2.829-14.85 14.849-2.828-2.828 14.85-14.85zm-83.438 83.439l2.828 2.828-14.85 14.85-2.828-2.829 14.85-14.85zM119 73v-4h21v4h-21zM0 73v-4h21v4H0zM68 0h4v21h-4V0zm0 118h4v21h-4v-21zm0-68v-5h4v5h5v4h-5v5h-4v-5h-5v-4h5z"}),(0,s.jsx)("path",{fill:"#B5D4ED",d:"M58 88c0-6.619 5.381-12 12-12s12 5.381 12 12-5.381 12-12 12-12-5.381-12-12zm4 0c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8-8 3.59-8 8zM52 76v24.002A2.996 2.996 0 0 0 55.005 103h29.99A2.999 2.999 0 0 0 88 100.002V76h-4.958l-.155-.025a9.676 9.676 0 0 1-2.803-.931c-1.406-.717-2.484-1.73-3.02-3.193L76.11 69H63.89l-.974 2.904c-.517 1.41-1.594 2.423-3 3.14a9.673 9.673 0 0 1-2.803.931l-.155.025H52zm40-4v28.002A6.999 6.999 0 0 1 84.995 107h-29.99A6.996 6.996 0 0 1 48 100.002V72h8.613c.086-.019.204-.047.345-.086.396-.109.79-.254 1.14-.434.588-.3.946-.635 1.043-.9L61.012 65h17.976l.457 1.365 1.394 4.163c.116.317.474.652 1.062.952.351.18.745.325 1.14.434.142.039.26.067.346.086H92zm-60.718-6.547c4.993 0 8.424 2.963 10.354 7.94 1.375 3.545 1.947 7.93 1.947 12.652 0 .378.016.793.045 1.21.017.25.033.442.044.543l-3.98.404a21.448 21.448 0 0 1-.055-.678c-.034-.5-.054-1-.054-1.479 0-9.982-2.564-16.592-8.301-16.592h-3.598l-.446-1.388C26.492 65.745 26 61.553 26 58.387 26 50.245 33.205 43 41.682 43c8.479 0 15.682 7.244 15.682 15.387 0 3.164-.492 7.357-1.237 9.677l-3.808-1.222c.598-1.866 1.045-5.67 1.045-8.455C53.364 52.448 47.947 47 41.682 47 35.419 47 30 52.45 30 58.387c0 2.206.28 5.051.695 7.066h.587zm52.077.003l-1.338-3.996c3.86-3.214 6.592-9.337 6.592-16.396.515-1.502.515-1.502 1.074-1.778.328-.146.328-.146.494-.187.134-.032.253-.05.386-.063a7.67 7.67 0 0 1 .543-.029c.338-.009.785-.01 1.293-.003 1.415.019 2.048.04 2.393.142 2.987.884 4.754 5.665 3.888 13.655v.902h-4v-1.011l.012-.221c.42-3.786.206-6.492-.431-8.228-.208-.566-.438-.963-.658-1.21-.354-.012-.708-.02-1.055-.026-.505 8.045-4.11 14.971-9.193 18.45zM96 83.776c1.478.137 2.797.214 3.907.223.944.008 1.716-.033 2.281-.12.249-.039.442-.083.571-.128.197-.167.776-1.128 1.39-2.47.722-1.578 1.44-3.527 2.024-5.533 1.24-4.258 1.72-8.167 1.238-10.748H92v-4h16.31c1.236-.002 2.423.982 2.756 2.106 1.889 6.364-2.297 20.744-5.731 23.721-1.413 1.226-4.479 1.42-9.335.975v-4.025z"})]})}))})),(0,s.jsx)("div",Object.assign({className:r(i.text)},{children:t}))]}))})),p=(0,n.r)({wrapper:{padding:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{paddingBottom:20},text:{color:c.T.gray_929292}})},27812:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(12017),r=i(7335),n=i(80905),a=i(78069);const o=(0,s.n5)("notifySuccessPlaceUpdate",(e=>{const{entityId:t,type:i}=e;return(0,r.eU)((e=>(0,n.bB)(e.appContext.frames,"userProfile")),(e=>e?(0,a.oy)(e.id,(e=>{if("userProfile"===e.type)return Object.assign(Object.assign({},e),{placeNotifications:Object.assign(Object.assign({},e.placeNotifications),{[t]:{type:i}})})})):(0,s.lQ)()))}))},10361:(e,t,i)=>{"use strict";i.d(t,{h:()=>o});var s=i(31085),r=i(10048),n=i(58471),a=i(40837);const o=()=>(0,s.jsx)(r.w,{loader:n.b.noFriends,render:e=>(0,s.jsx)(e,{}),renderPlaceholder:a.N})},77314:(e,t,i)=>{"use strict";i.d(t,{x:()=>n});var s=i(78069),r=i(35023);function n(e="favorites"){const t=(0,r.W7)();return(0,s.fL)({id:(0,r.W7)(),type:"userProfile",profileTab:e,searchId:t})}},23205:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var s=i(12017),r=i(78069),n=i(39064);const a=e=>"userProfile"===e.type,o=(0,i(84642).W)(a),c=((0,n.m)(a),(0,s.n5)("closeUserProfileFrame",(()=>o((e=>e?(0,r.kg)():(0,s.lQ)())))))},85724:(e,t,i)=>{"use strict";i.d(t,{v:()=>a});var s=i(12017),r=i(27892),n=i(35023);const a=(0,s.n5)("openEditUserProfilePopup",(()=>(0,r.PB)({id:(0,n.W7)(),type:"editUserProfile"})))},80981:(e,t,i)=>{"use strict";i.d(t,{C8:()=>n,Gt:()=>a,lS:()=>d,sA:()=>o});const s=10,r=30,n=10,a=2e3,o=20,c=90/o;function d({textScore:e,hasPhotos:t,hasRating:i}){return l(e.words)+(i?s:0)+(t?r:0)}const l=e=>{switch(!0){case 0===e:return 0;case e>=o:return 90;default:return c*e}}},88654:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});const s=e=>{var t;return{length:e.replace(/\s+/gm,"").length,words:(null===(t=e.match(/\S+/gm))||void 0===t?void 0:t.length)||0}}},66688:(e,t,i)=>{"use strict";i.d(t,{P:()=>p});var s=i(31085),r=i(10742),n=i(8365),a=i(14041),o=i(4431),c=i(82781);function d(){return(0,s.jsxs)("svg",Object.assign({width:"33",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_842_55722)"},{children:[(0,s.jsx)("mask",Object.assign({id:"mask0_842_55722",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"33",height:"32"},{children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M.333 16c0-10.4 5.6-16 16-16s16 5.6 16 16-5.6 16-16 16-16-5.6-16-16Z",fill:"#000"})})),(0,s.jsxs)("g",Object.assign({mask:"url(#mask0_842_55722)"},{children:[(0,s.jsx)("path",{fill:"#7FE740",d:"M.333 0h32v32h-32z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M5.27 15.5c0-3.875 2.5-6.25 6.126-6.25 2.813 0 4.949 1.43 5.764 3.882a.527.527 0 0 0 .494.368h9.617a.5.5 0 0 1 .5.5v2.75a.5.5 0 0 1-.5.5H25.18a.5.5 0 0 0-.5.47l-.194 3.31a.5.5 0 0 1-.5.47h-2.181a.5.5 0 0 1-.5-.47l-.194-3.31a.5.5 0 0 0-.5-.47h-2.88a.527.527 0 0 0-.499.387c-.755 2.592-2.935 4.113-5.836 4.113-3.626 0-6.125-2.375-6.125-6.25Zm2.626-.011c0 .886.286 2.011 1.75 2.011s1.75-1.125 1.75-2.011c0-.864-.286-1.989-1.75-1.989s-1.75 1.125-1.75 1.989Z",fill:"#224249"})]}))]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_842_55722"},{children:(0,s.jsx)("path",{fill:"#fff",d:"M.333 0h32v32h-32z"})}))})]}))}function l(){return(0,s.jsxs)("svg",Object.assign({width:"25",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_842_55722)"},{children:[(0,s.jsx)("mask",Object.assign({id:"mask0_842_55722",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"24"},{children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M.333 12c0-7.8 4.2-12 12-12s12 4.2 12 12-4.2 12-12 12-12-4.2-12-12Z",fill:"#000"})})),(0,s.jsxs)("g",Object.assign({mask:"url(#mask0_842_55722)"},{children:[(0,s.jsx)("path",{fill:"#7FE740",d:"M.333 0h24v24h-24z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.037 11.625c0-2.906 1.875-4.688 4.593-4.688 2.11 0 3.712 1.073 4.323 2.912.054.161.201.276.37.276h7.213c.208 0 .375.168.375.375v2.063a.375.375 0 0 1-.375.374h-1.568a.375.375 0 0 0-.374.354l-.146 2.481a.375.375 0 0 1-.375.353h-1.636a.375.375 0 0 1-.374-.353l-.146-2.482a.375.375 0 0 0-.375-.352h-2.16a.395.395 0 0 0-.374.29c-.567 1.944-2.202 3.085-4.378 3.085-2.72 0-4.594-1.782-4.594-4.688Zm1.968-.008c0 .664.215 1.508 1.313 1.508 1.098 0 1.312-.844 1.312-1.508 0-.648-.214-1.492-1.312-1.492s-1.313.844-1.313 1.492Z",fill:"#224249"})]}))]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_842_55722"},{children:(0,s.jsx)("path",{fill:"#fff",d:"M.333 0h24v24h-24z"})}))})]}))}const u=()=>({frameId:e,showEventParams:t})=>{if(null==t?void 0:t.payload)return{uiElement:{name:"otelloIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap",payload:Object.assign({searchRequest:{text:"Бронирование отелей"}},t.payload)}},p=(0,a.memo)((({isMobile:e})=>{const t=(0,c.c)(),{bssRef:i,useBssHandler:p}=(0,n.E)((({frameId:e})=>({uiElement:{name:"otelloIcon",ownerName:"dashboardFrame",frameUuid:e},payload:{icon:{tag:"otello",where:"Dashboard"}}}))),m=p(u),g=(0,r.D)((()=>{m()})),h=(0,a.useCallback)((()=>e?(0,s.jsx)(l,{}):(0,s.jsx)(d,{})),[e]);return(0,s.jsx)(o.D,{bssRef:i,title:t._gg("Бронирование отелей"),href:"https://otello.ru/?utm_source=2gis-dashboard",external:!0,icon:h,dataT:"otello-dashboard-icon",onClick:g})}))},86366:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(92206);const r=e=>!!e&&e!==s.j&&e!==s.p},95305:(e,t,i)=>{"use strict";i.d(t,{c:()=>n,q:()=>r});let s="";function r(e){i.p=e,s=e}function n(){return s}},95993:(e,t,i)=>{"use strict";i.d(t,{c:()=>r,f:()=>a,q2:()=>n});var s=i(76428);const{emitEvent:r,addEventListener:n,removeEventListener:a}=(0,s.m)()},78069:(e,t,i)=>{"use strict";i.d(t,{fL:()=>h,S2:()=>u,P8:()=>p,oy:()=>g,wU:()=>c,hU:()=>d,sr:()=>m,xd:()=>f,kg:()=>l});var s=i(59754),r=i(7335),n=i(12017),a=i(51021),o=i(20091);function c(e){return{type:"UI/REMOVE_FRAME",payload:e}}const d=(0,s.lQ)("UI/REMOVE_RIGHT_FRAMES"),l=(0,s.lQ)("UI/RESURRECT_FRAMES"),u=(0,s.lQ)("UI/CLEAR_FRAMES"),p=(0,s.lQ)("UI/KILL_FRAMES"),m=(0,s.lQ)("UI/REPLACE_FRAME"),g=(0,n.n5)("patchFrame",((e,t)=>(0,r.kE)(e,(i=>{if(!i)return(0,n.lQ)(`skipped patchFrame: there is no frame with id ${e}`);const s=t(i);return s===i?(0,n.lQ)():s?m(s):(0,n.lQ)("skipped patchFrame: callback returned undefined")})))),h=(0,n.n5)("addFrame",(e=>(0,n.Q2)((t=>(0,n._7)(function(e){return{type:"UI/ADD_FRAME",payload:e}}(e),t.appContext.isDataViewerMinimized&&(0,a.n)((0,o.X_)({isMinimized:!1})))))));function f(e,t){return(0,r.kE)(e,(e=>e&&"pending"===e.type?m(t(e)):(0,n.lQ)()))}},73581:(e,t,i)=>{"use strict";i.d(t,{$e:()=>u,I8:()=>v,Pk:()=>f,Q7:()=>p,WB:()=>g,mY:()=>m,rO:()=>b,ye:()=>h});var s=i(78069),r=i(18396),n=i(33920),a=i(76666),o=i(81625),c=i(92585),d=i(49206),l=i(25545);function u(e,t){return(0,s.oy)(e,(e=>(0,c.n)(e)?t(e):void 0))}function p(e,t,i){return(0,s.oy)(e,(e=>t(e)?i(e):void 0))}function m(e,t){return(0,s.oy)(e,(e=>(0,r.O)(e)?t(e):void 0))}function g(e,t){return(0,s.oy)(e,(e=>(0,a.A)(e)?t(e):void 0))}function h(e,t){return(0,s.oy)(e,(e=>(0,n.a)(e)?t(e):void 0))}function f(e,t){return(0,s.oy)(e,(e=>(0,l.F)(e)?t(e):void 0))}function v(e,t){return(0,s.oy)(e,(e=>(0,d.q)(e)?t(e):void 0))}function b(e,t){return(0,s.oy)(e,(e=>(0,o.D)(e)?t(e):void 0))}},51557:(e,t,i)=>{"use strict";i.d(t,{QY:()=>n,Zc:()=>r});var s=i(59754);const r=(0,s.lQ)("I18N/SET_LOCALE"),n=((0,s.lQ)("I18N/SYNC_LANG"),(0,s.lQ)("I18N/WITH_INTL"))},37163:(e,t,i)=>{"use strict";i.d(t,{Hq:()=>c,OB:()=>o,cK:()=>n,xA:()=>a});var s=i(1269),r=i(7143);const n=(0,s.V)("setActiveLayer",(0,r.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeLayer:t,activeSublayer:t!==e.activeLayer?void 0:e.activeSublayer})))),a=(0,s.V)("clearActiveLayer",(0,r.T)("appContext",(e=>Object.assign(Object.assign({},e),{activeLayer:void 0,activeSublayer:void 0})))),o=(0,s.V)("setActiveLayer",(0,r.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeSublayer:t,showTrafficOnMap:!1})))),c=(0,s.V)("clearActiveLayer",(0,r.T)("appContext",(e=>Object.assign(Object.assign({},e),{activeSublayer:void 0}))))},8335:(e,t,i)=>{"use strict";i.d(t,{G0:()=>r,Jc:()=>o,iw:()=>n,m3:()=>c,s_:()=>a,y5:()=>d});var s=i(59754);const r=(0,s.lQ)("MAP/SYNC_VIEW"),n=(0,s.lQ)("MAP/SET_FLOORS"),a=(0,s.lQ)("MAP/REMOVE_FLOORS"),o=(0,s.lQ)("MAP/SELECT_FLOOR"),c=(0,s.lQ)("MAP/SET_VIEW"),d=(0,s.lQ)("MAP/GENERALIZE_MARKERS")},29094:(e,t,i)=>{"use strict";i.d(t,{D:()=>r,_:()=>n});var s=i(59754);const r=(0,s.lQ)("UI/SHOW_NOTIFICATION"),n=(0,s.lQ)("UI/HIDE_NOTIFICATION")},27892:(e,t,i)=>{"use strict";i.d(t,{PB:()=>n,R4:()=>o,fs:()=>a});var s=i(59754),r=i(12017);const n=(0,s.lQ)("UI/OPEN_POPUP"),a=(0,s.lQ)("UI/CLOSE_POPUP"),o=e=>(0,r.Q2)((t=>{const i=t.appContext.popup;if(!i)return(0,r.lQ)("skipped patchPopup: popup is not opened");const s=e(i);return s===i?(0,r.lQ)():s?n(s):(0,r.lQ)("skipped patchPopup: callback returned undefined")}))},19952:(e,t,i)=>{"use strict";i.d(t,{g:()=>n});var s=i(1269),r=i(7143);const n=(0,s.V)("setReliefIsActive",(0,r.T)("appContext",((e,t)=>Object.assign(Object.assign({},e),{relief:t}))))},69395:(e,t,i)=>{"use strict";i.d(t,{TJ:()=>a,Tl:()=>n,qP:()=>r,r_:()=>o});var s=i(59754);const r=(0,s.lQ)("SUGGEST/SET_SUGGEST_ID"),n=(0,s.lQ)("SUGGEST/SET_QUERY"),a=(0,s.lQ)("SUGGEST/TOGGLE"),o=(0,s.lQ)("SUGGEST/HIGHLIGHT_SUGGESTION")},20091:(e,t,i)=>{"use strict";i.d(t,{HT:()=>c,JE:()=>o,X_:()=>a});var s=i(59754),r=i(1269),n=i(7143);const a=(0,r.V)("minimizeDataViewer",(0,n.T)("appContext",((e,{isMinimized:t})=>Object.assign(Object.assign({},e),{isDataViewerMinimized:t})))),o=((0,s.lQ)("UI/SET_LANG"),(0,s.lQ)("UI/SET_DEFAULT_LOCALE"),(0,s.lQ)("UI/SET_RULER")),c=(0,s.lQ)("UI/TOGGLE_TRAFFIC")},1321:(e,t,i)=>{"use strict";i.d(t,{Ip:()=>c,Vz:()=>o,YB:()=>l,bn:()=>n,cr:()=>r,q:()=>d,zu:()=>a});var s=i(59754);const r=(0,s.lQ)("WEAK/SET_DASHBOARD_RUBRICS_ID"),n=(0,s.lQ)("WEAK/MAP_INTERACTION_START"),a=(0,s.lQ)("WEAK/SET_RUBRICATOR_ID"),o=(0,s.lQ)("WEAK/SET_RUBRIC_ID"),c=(0,s.lQ)("WEAK/PATCH"),d=(0,s.lQ)("WEAK/SET_CATALOG_MARKERS_ID"),l=((0,s.lQ)("WEAK/SET_REVIEW_RATING"),(0,s.lQ)("WEAK/REMOVE_REVIEW_RATING"))},33466:(e,t,i)=>{"use strict";i.d(t,{S:()=>s,l:()=>r});const s={long:0,veryshort:120,short:200,spinner:1e3},r={base:"cubic-bezier(0.25, 0.1, 0.25, 1)"}},50334:(e,t,i)=>{"use strict";i.d(t,{eY:()=>c,kC:()=>o});var s=i(91171),r=i(19297),n=i(35023),a=i(50432);const o=e=>e?{"X-Request-Id":e}:void 0;function c(e,t,i){return o=>{const c=(0,r.cl)(o),l=`${c.name}: ${c.message||"Unknown error"}`;if("skipLog"in o&&o.skipLog)throw c;var u;throw o instanceof s.pe?(0,a.vV)({message:l,id:"xsk47",level:"undefined"==typeof window?"error":"warn",payload:{type:"network",subtype:e,request_url:o.details.config.url,request_params:JSON.stringify(o.details.config.params),request_data:JSON.stringify(o.details.config.data),is_timeout:"ECONNABORTED"===o.details.code,response_status_code:o.details.response&&o.details.response.status},requestId:i}):o instanceof r.Dr?(0,a.vV)({message:l,id:"5tnb8",level:"warn",payload:{type:"network",subtype:e},requestId:i}):(0,a.vV)({message:l,id:"guf37",level:"error",payload:{type:"exception",subtype:e,stack:o.stack,data:JSON.stringify((u=t,Object.assign(Object.assign({},(0,n.cJ)(u,["accessToken","refreshToken","access_token","token"])),{fields:d(u,"fields",50),type:d(u,"type",50)})))},requestId:i}),c}}function d(e,t,i){const s=e[t];if("string"==typeof s)return s.length>i?`...(${s.length})`:void 0}},53930:(e,t,i)=>{"use strict";i.d(t,{NO:()=>d,PL:()=>c,Sl:()=>f,So:()=>b,WI:()=>o,Xr:()=>u,aY:()=>h,cS:()=>x,ce:()=>l,fn:()=>a,kt:()=>m,n_:()=>p,tH:()=>n,tm:()=>y,wh:()=>r,xz:()=>g,z9:()=>v,zf:()=>j});var s=i(19400);const r=e=>h(e.pages[0].items[0]),n=e=>(0,s.ED)(e.pages[0].items[0]),a=e=>h(e[0].items[0]),o=e=>(0,s.ED)(e[0].items[0]),c=e=>{if(!e||!e.items)return!1;if(!(Object.keys(null==e?void 0:e.items).length>0))return!1;const t=Object.values(null==e?void 0:e.items).find((e=>e.find((e=>b(e)||y(e)))));return Boolean(t)},d=e=>{if(!e||!e.items)return!1;if(!(Object.keys(null==e?void 0:e.items).length>0))return!1;const t=Object.values(null==e?void 0:e.items).find((e=>e.find((e=>x(e)))));return Boolean(t)},l=e=>e&&"photo"in e&&"photo"===e.media_type&&!("object"in e)&&"real_object_type"in e,u=e=>e&&"video"in e&&"video"===e.media_type&&!("object"in e)&&"real_object_type"in e,p=e=>e&&"photo"in e&&"photo"===e.media_type&&"object"in e&&"status"in e,m=e=>e&&"video"in e&&"video"===e.media_type&&"object"in e&&"status"in e,g=e=>p(e)||m(e),h=e=>l(e)||u(e),f=e=>Array.isArray(e),v=e=>e&&"photo"in e,b=e=>e&&"photo"in e&&!!e.photo&&"photo"===e.media_type,y=e=>e&&"video"in e&&"video"===e.media_type,x=e=>e&&!("video"in e)&&!("photo"in e)&&"preview_urls"in e,j=e=>"url"in e},52524:(e,t,i)=>{"use strict";i.d(t,{C:()=>n,Z:()=>a});var s=i(50334),r=i(98767);const n=i(37397).$.join(",");function a(e,t){const{requestId:i,photoApiKey:a,photoApiUrl:o,photosPerPage:c,photosPerPageInUserProfile:d,featureDiscoveryKeywords:l,featureVideoInGallery:u}=t;return{getPhotos({objectId:t,objectType:d,page:l,locale:u,pageSize:p,accessToken:m}){const g={key:a,object_id:t,object_type:d,locale:u,status:"active",sort_by:"position",album_code:"branch"===d?"common":"view",preview_size:n,size:p||c,page:l};return e(`${o}2.0/photo/get`,{params:g,headers:Object.assign({},m?{"Auth-Version":"2.0","Auth-Token":m}:void 0)}).then((e=>(0,r.Je)(e,c))).catch((0,s.eY)("getPhotos",g,i))},getPhotosByAlbum({objectId:n,albumId:d,preview_size:u,page_size:p,page_token:m,accessToken:g,searchCtx:h,searchKeyword:f}){const v=Object.assign(Object.assign({locale:t.locale,key:a,preview_size:u,page_size:p||c,page_token:m},h?{search_ctx:h}:{}),f&&l?{search_keyword:f}:{});return e(`${o}3.0/objects/${n}/albums/${d}/photos`,{params:v,headers:Object.assign({},g?{"Auth-Version":"2.0","Auth-Token":g}:void 0)}).then(r.$H).catch((0,s.eY)("getPhotosByAlbum",v,i))},getPhotosCount({objectIds:t,objectType:n,locale:c,accessToken:d}){const l={key:a,object_id:t.join(","),object_type:n,locale:c};return e(`${o}2.0/photo/count`,{params:l,headers:Object.assign({},d?{"Auth-Version":"2.0","Auth-Token":d}:void 0)}).then(r.Sv).catch((0,s.eY)("getPhotosCount",l,i))},getUserPhotos({locale:t,page:c,accessToken:l}){const u={key:a,object_type:"branch,geo",preview_size:n,page:c,size:d,locale:t,access_token:l};return e(`${o}2.0/user/photo/get`,{params:u}).then(r.Ux).catch((0,s.eY)("getUserPhotos",u,i))},getPhotosLight({objectIds:t,photosCount:c,searchCtx:d,searchKeywords:u}){const p=Object.assign(Object.assign({key:a,object_ids:t.join(","),preview_size:n,size:c},d?{search_ctx:d}:{}),u&&l?{search_keywords:u}:{});return e(`${o}2.0/photo/get/light`,{params:p}).then(r.tw).catch((0,s.eY)("getPhotosLight",p,i))},getEntityAlbums({objectId:n,accessToken:c}){const d={key:a,locale:t.locale};return e(u?`${o}3.0/objects/${n}/albums/media/counts`:`${o}3.0/objects/${n}/albums/counts`,{params:d,headers:Object.assign({},c?{"Auth-Version":"2.0","Auth-Token":c}:void 0)}).then(r.wz).catch((0,s.eY)("getAlbums",d,i))},getPhotoById({photoId:c,locale:d,preview_size:l,accessToken:u}){const p={key:a,id:c,locale:d||t.locale||"ru_RU",preview_size:null!=l?l:n};return e(`${o}2.0/photo/by-id`,{params:p,headers:Object.assign({},u?{"Auth-Version":"2.0","Auth-Token":u}:void 0)}).then(r.si).catch((0,s.eY)("getPhotoById",p,i))}}}},98767:(e,t,i)=>{"use strict";i.d(t,{$H:()=>p,BZ:()=>d,Fj:()=>l,Je:()=>a,Sv:()=>r,Ux:()=>n,bT:()=>c,si:()=>m,tw:()=>o,wz:()=>u});var s=i(19297);function r({data:e}){return{items:e.result,total:0,code:e.meta.code}}function n({data:e}){if(e.result&&e.result.total){const t=e.result;return{items:t.items,total:t.total,code:200}}return g(e.meta.code)}function a(e,t){var i;const s=null===(i=e.data.result)||void 0===i?void 0:i[0];return s?{items:s.items,total:Math.min(t||0,s.total),code:200}:g(e.data.meta.code)}function o({data:e}){return e.result?{items:e.result.items,code:200}:{items:{},code:(0,s.F6)(e.meta.code)}}function c({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):g(e.meta.code)}function d({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):g(e.meta.code)}function l({data:e}){const t=e.result&&e.result.items[0];if(!t)throw{name:"Error",message:"Unexpected add photos error",code:(0,s.F6)(e.meta.code)};if(t.error)throw{name:t.error.type,message:t.error.message,code:(0,s.F6)(e.meta.code)};return{items:[t],total:1,code:200}}function u({data:e,status:t}){return e.albums?{albums:e.albums,code:200}:{albums:[],code:t}}function p({data:e,status:t}){return e.albums&&e.items?e:{albums:[],items:[],code:t}}function m({data:e,status:t}){var i;const s=null===(i=e.result)||void 0===i?void 0:i.items[0];return s?{photo:s,code:200}:{photo:void 0,code:t}}function g(e){return{items:[],total:0,code:(0,s.F6)(e)}}},33592:(e,t,i)=>{"use strict";i.d(t,{DR:()=>n,FD:()=>a});var s=i(85608),r=i(50334);const n=20;function a(e,t){return{getProfile(i){var{accessToken:n,id:a}=i,o=(0,s.Tt)(i,["accessToken","id"]);const c=Object.assign({method:"get",params:o},n?{headers:{Authorization:`Bearer ${n}`}}:{}),d=`${t.publicProfileUrl}/user/${a}`;return e(d,c).then((({data:e})=>e)).catch((0,r.eY)("getPublicProfile",o,t.requestId))},getCounters(i){const s=`${t.publicProfileUrl}/1.1/user/${i.id}/content/count`;return e(s,{method:"get"}).then((({data:e})=>e)).catch((0,r.eY)("getPublicProfileCounters",i,t.requestId))},getVisitedPlacesCounter(i){var{accessToken:n}=i,a=(0,s.Tt)(i,["accessToken"]);const o=Object.assign({method:"get",params:a},n?{headers:{Authorization:`Bearer ${n}`}}:{}),c=`${t.publicProfileUrl}/1.1/user/${a.id}/content/objects/count`;return e(c,o).then((({data:e})=>e)).catch((0,r.eY)("getPublicProfileVisitedPlacesCounters",a,t.requestId))},getContentFeed(i){const{page_size:s=n,id:a,preview_sizes:o,locale:c,page_token:d,accessToken:l}=i,u=`${t.publicProfileUrl}/1.1/user/${a}/content/feed`,p=Object.assign({method:"get",params:{page_size:s,page_token:d,locale:c,preview_sizes:o}},l?{headers:{Authorization:`Bearer ${l}`}}:{});return e(u,p).then((({data:e})=>e)).catch((0,r.eY)("getPublicProfileContentFeed",i,t.requestId))},updatePrivacy(i){const{publicUserId:s,privacy:n,accessToken:a}=i,o=`${t.publicProfileUrl}/user/${s}`;return e(o,{method:"put",data:{privacy:n},headers:{Authorization:`Bearer ${a}`}}).then((({data:e})=>e)).catch((0,r.eY)("updatePublicProfilePrivacy",i,t.requestId))}}}(0,i(65671).UM)("PublicProfileApi",a)},91984:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});const s=e=>({frameId:t})=>({uiElement:{name:e.type,ownerName:"mapSubLayersScreen",frameUuid:t},action:"tap"})},49959:(e,t,i)=>{"use strict";i.d(t,{B:()=>p});var s=i(31085),r=i(99259),n=i(84175),a=i(82781),o=i(88756),c=i(14041),d=i(90861),l=i(80552),u=i(3135);const p=(0,c.memo)((e=>{var t;const{css:i,s:r}=(0,n.I)(m),c=(0,a.c)(),l=(0,u.R)(e),p="warning"in e&&void 0!==e.warning,g="description"in e&&void 0!==e.description;return(null==l?void 0:l.isLoading)?(0,s.jsx)(d.Z,{}):(null===(t=null==l?void 0:l.blocks)||void 0===t?void 0:t.length)?(0,s.jsxs)("div",Object.assign({className:i(r.root)},{children:[l.blocks.map((({erid:t,legalName:n},a)=>(0,s.jsx)("div",Object.assign({className:i(r.block)},{children:t?(0,s.jsxs)(o.u,Object.assign({inline:!0},{children:[g&&(0,s.jsx)("span",Object.assign({className:i(r.description)},{children:e.description})),n||null,(0,s.jsxs)("span",{children:["erid:"," ",(0,s.jsx)("span",Object.assign({className:i(r.erid)},{children:t}))]}),p&&(0,s.jsx)("p",Object.assign({className:i(r.warning)},{children:e.warning}))]})):n}),a))),!!l.erid&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:i(r.comment)},{children:c._gg("Нажмите на «Реклама», чтобы скопировать ID")})),e.renderIdInput(l.erid)]})]})):(null==l?void 0:l.wasLoading)?(0,s.jsx)("div",{children:c._gg("Не удалось загрузить данные")}):null})),m=(0,n.r)({root:{position:"relative",maxWidth:240},block:{marginTop:6,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},comment:Object.assign(Object.assign({marginTop:6},l.small),{color:r.T.gray_b2b2b2}),warning:{padding:"10px 0"},description:{paddingBottom:10}})},12043:(e,t,i)=>{"use strict";i.d(t,{h:()=>r,j:()=>n});var s=i(46579);const r=({children:e})=>{const{isMobileDevice:t}=(0,s.U)();return e&&t?e:null},n=({children:e})=>{const{isMobileDevice:t}=(0,s.U)();return e?t?null:e:null}},36619:(e,t,i)=>{"use strict";i.d(t,{p:()=>E});var s=i(31085),r=i(14041),n=i(88756),a=i(71064),o=i(99259),c=i(26461),d=i(26064),l=i(68076),u=i(61200),p=i(19945),m=i(58147),g=i(35023),h=i(73620),f=i(56964);var v=i(27942),b=i(21252),y=i(48914),x=i(98379),j=i(7335);var w=i(7515),I=i(81618),C=i(27248),_=i(27209),k=i(79274);class O extends r.PureComponent{constructor(){super(...arguments),this.onFilialsClick=()=>{this.props.bssOnFilialsClick(),this.props.onFilialsClick()}}render(){const{s:e,address:t,drilldown:i,makani:a,isMobileDevice:o,excludeFields:c=[]}=this.props,l=this.getFilialComponent(),u=t.filter((e=>!c.includes(e.type))).map((e=>this.getAddressComponent(e)));return(0,s.jsxs)("div",Object.assign({},I.dx.n("wat-address"),{children:[(0,s.jsx)(n.u,{children:[...u,l].filter((e=>e)).map(((e,t)=>(0,s.jsx)(r.Fragment,{children:e},t)))}),a&&(0,s.jsx)("div",Object.assign({},I.dx.n("wat-address-makani"),{className:(0,d.AH)(e.description)},{children:a})),i&&(0,s.jsx)("div",Object.assign({},I.dx.n("wat-address-drilldown"),{className:(0,d.AH)(e.description,o&&e.mobileDrilldown)},{children:i}))]}))}getAddressComponent(e){if("street_number"!==e.type)return e.value;const{buildingId:t}=this.props;return t?(0,s.jsx)(C.W,Object.assign({type:"building",id:t},{children:t=>this.getAddressComponentContent(e,t)})):this.getAddressComponentContent(e)}getAddressComponentContent(e,t){const{onClick:i,addressNameStyles:r}=this.props;return(0,s.jsx)(a.A,Object.assign({href:t,onClick:i,color:"dark",dataN:"wat-address-link",styles:r},{children:e.value}))}getFilialComponent(){var e;const{i18n:t,showFilialsLink:i,entity:r,isSearchBot:n,showBrandLink:o}=this.props;if("branch"===r.type)return i&&!o?(0,s.jsx)(C.W,Object.assign({type:"organizationBranches",id:r.org.id},{children:e=>(0,s.jsx)(a.A,Object.assign({href:e,onClick:this.onFilialsClick,dataN:"wat-filials-link"},{children:(0,_.F)({tp:t.tp,isSearchBot:n,entity:r})}))})):o&&(null===(e=r.brand)||void 0===e?void 0:e.id)&&(0,s.jsx)(C.W,Object.assign({type:"organizationBranches",id:r.brand.id},{children:e=>(0,s.jsx)(a.A,Object.assign({href:e,onClick:this.onFilialsClick,dataN:"wat-filials-link"},{children:(0,k.I)({tp:t.tp,isSearchBot:n,entity:r})}))}))}}O.displayName=(0,c.d)("src/shared/components/address");const S={description:{color:o.T.gray_929292},mobileDrilldown:{marginTop:4}},T=(0,b.f)(void 0,((e,{ownerFrameId:t})=>({bssOnFilialsClick(){e((0,j.eU)((e=>(0,x.t)({state:e,entityFrameId:t,withBrand:!0})),(e=>{const i={uiElement:{name:"filialsLink",ownerName:"cardContacts",frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,y.cD)(i)})))}})))((0,l.Xy)(S)((0,w.Q)()(O))),E=(0,v.J)((({entity:e},{config:t})=>{var i;if(!("address"in e)||!e.address)return;const s="branch"===e.type&&e.org&&e.org.branch_count||0,r=!!s&&s>1,n="branch"===e.type&&!!(null==e?void 0:e.brand)&&(null===(i=e.brand)||void 0===i?void 0:i.branch_count)>1,a=(0,u.tB)(e,{config:t,includeRegion:!0});return{address:(0,p.ib)(e,{order:(0,f.t)(t),separator:t.addressSeparator,useSingleComponentForBranch:!1,capitalizeFirst:!0}),drilldown:(0,g.oE)([a,(0,m.T)(e)]).join(t.addressSeparator+" "),showFilialsLink:r,showBrandLink:n,buildingId:e.address&&e.address.building_id,makani:"AE"===t.defaultCountryCode?(0,h.C)({entity:e,withDegreeSymbol:!0}):void 0,isMobileDevice:t.isMobileDevice,isSearchBot:t.isSearchBot}}))(T)},60784:(e,t,i)=>{"use strict";i.d(t,{a:()=>g});var s=i(31085),r=(i(14041),i(81618)),n=i(84175),a=i(80552),o=i(99259),c=i(56153),d=i(88756),l=i(98626),u=i(74641),p=i(95792),m=i(28478);const g=({text:e,legalName:t,adInfo:i,dataN:a,colorOpacity:o,mt:g,withoutHint:f,withBlackTooltip:v,isUncollapsed:b})=>{const{s:y,css:x}=(0,n.I)(h),{isContentOverflow:j,containerRef:w}=(0,m.b)(),{ref:I,addTooltip:C}=(0,p.J)({title:(0,s.jsx)("div",Object.assign({className:x(y.blackTooltip)},{children:e})),to:"bottomBottomStart"}),_=({isExpanded:n})=>(0,s.jsx)("div",Object.assign({ref:w,className:x(y.root,"4"===g&&y.mt4,"8"===g&&y.mt8,o?y.colorOpacity:y.grey,!n&&y.collapsed)},{children:(0,s.jsxs)(d.u,Object.assign({inline:!0,styles:y.inline},{children:[!!i&&(0,s.jsx)(l.Q,Object.assign({},i)),null!=t?t:null,!!e&&(0,s.jsx)("span",Object.assign({ref:I},{children:(0,s.jsx)(c.v,Object.assign({html:e},r.dx.n(a||"wat-ads-text-warning"),{title:f||v?void 0:e}))})),v&&e&&C]}))}));return j||b?(0,s.jsx)(u.v,Object.assign({withoutShevron:!0},{children:e=>_({isExpanded:e})})):_({isExpanded:!1})},h=(0,n.r)({root:Object.assign({},a.tiny),grey:{color:o.T.gray_9b9b9b},colorOpacity:{opacity:.7},mt4:{marginTop:4},mt8:{marginTop:8},collapsed:Object.assign({},(0,a.lineClamped)(1,a.tiny)),inline:{display:"inline"},blackTooltip:{maxWidth:300}})},63694:(e,t,i)=>{"use strict";i.d(t,{E:()=>h});var s=i(31085),r=i(14041),n=i(84175),a=i(80813),o=i(80552),c=i(99259),d=i(47320),l=i(89446),u=i(7098),p=i(81618),m=i(92432),g=i(98626);const h=(0,r.memo)((({title:e,link:t,source:i,platform:r,lang:o,onClick:h,erid:v,legalName:b})=>{const{s:y,css:x}=(0,n.I)(f),j=(0,u.M)(r);return(0,s.jsx)("div",Object.assign({className:x("card"===i&&y.wrapper)},{children:(0,s.jsxs)("div",Object.assign({className:x(y.content)},{children:[(0,s.jsx)("a",Object.assign({},p.dx.n("wat-app-banner"),{className:x(y.link),href:t,target:"_blank",onClick:h},{children:(0,s.jsxs)("div",Object.assign({className:x(y.root,"dashboard"===i&&y.dashboardRoot)},{children:[(0,s.jsx)("div",Object.assign({className:x(y.logo)},{children:(0,s.jsx)(a.z,{})})),(0,s.jsxs)("div",Object.assign({className:x(y.info)},{children:[(0,s.jsx)("div",Object.assign({className:x(y.title)},{children:e})),(0,s.jsxs)("span",Object.assign({className:x(y.stat)},{children:[(0,s.jsx)(l.G,{color:c.T.yellow_ffb81c,size:"small",rating:j.rating}),(0,s.jsx)("span",Object.assign({className:x(y.additionalInfo)},{children:j.reviews}))]}))]})),(0,s.jsx)("div",Object.assign({className:x(y.storeLink)},{children:"ios"===r?(0,s.jsx)(d.h,{lang:o}):(0,s.jsx)(m.v,{lang:o})}))]}))})),(0,s.jsx)("div",{children:(0,s.jsx)(g.Q,{small:!0,gray:!0,source:"banner",erid:[v],legalName:b,rating:0})})]}))}))}));h.displayName="AppBannerInner";const f=(0,n.r)({wrapper:{marginTop:4,marginBottom:4},content:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:16,paddingRight:24,paddingBottom:16,paddingLeft:24,background:c.T.gray_f2f2f2,gap:8},root:{display:"flex",alignItems:"center",width:"100%"},dashboardRoot:{"@media (max-width: 320px)":{padding:16}},logo:{display:"flex","& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",paddingStart:8,color:c.T.black},title:Object.assign(Object.assign({},o.regular),{"@media (max-width: 320px)":Object.assign({},o.tiny)}),stat:{display:"flex",alignItems:"center"},additionalInfo:Object.assign(Object.assign({},o.tiny),{paddingStart:4,color:c.T.gray_929292}),storeLink:{display:"flex",paddingStart:4}})},7290:(e,t,i)=>{"use strict";i.d(t,{Y:()=>a});var s=i(31085),r=i(14041),n=i(84175);const a=(0,r.memo)((({source:e,children:t})=>{const{s:i,css:r}=(0,n.I)(o);return(0,s.jsx)("div",Object.assign({className:r("dashboard"===e?i.dashboardWrapper:i.cardWrapper)},{children:t}))})),o=(0,n.r)({dashboardWrapper:{marginStart:-16,marginEnd:-16,marginBottom:-16},cardWrapper:{marginStart:-24,marginEnd:-24}})},26485:(e,t,i)=>{"use strict";i.d(t,{k:()=>m});var s=i(31085),r=i(14041),n=i(79594),a=i(82781),o=i(55027),c=i(46579),d=i(63694),l=i(8365);function u(e){switch(e){case"branch":return"cardContacts";case"dashboard":return"dashboardFrame";case"geo":case"route":return"cardInformation"}}const p=e=>({frameId:t})=>({uiElement:{name:e.store,ownerName:"mobileDownloadPromo",frameUuid:t},action:"tap"}),m=(0,r.memo)((({cardType:e})=>{const t=(0,a.c)(),{brandName:i}=(0,c.U)(),r=(0,n.d4)((e=>e.session.platform)),m=(0,n.d4)((e=>e.appContext.lang)),g=e?"card":"dashboard",h=function(e,t){if("card"===e)switch(t){case"geo":return"geoCardPromo";case"route":return"transportCardPromo";default:return"firmCardPromo"}return"mainScreen"}(g,e),f=function(e){switch(e){case"geoCardPromo":return"2RanynPukDW";case"transportCardPromo":return"2RanynRPjVr";case"firmCardPromo":case"mainScreen":return"2RanynAZrgQ";default:return}}(h),{bssRef:v,useBssHandler:b}=(0,l.E)((y={cardType:e},({frameId:e})=>{const{cardType:t}=y;return{uiElement:{name:"mobileDownloadPromo",ownerName:u(t),frameUuid:e}}}));var y;const x=b(p,{store:"ios"===r?"appStoreButton":"googlePlayButton"}),j=(0,o.zP)({platform:r,type:h});if(!j||!f)return null;const{title:w}=function(e,t,i){switch(e){case"card":return function(e,t,i){if("navigator"===i)return{title:t._t("Получите доступ к навигации и&nbsp;другим&nbsp;функциям")};return{title:t._t("%1 лучше в&nbsp;приложении",[e])}}(i,t);case"dashboard":return{title:t._t("%1 умеет работать без интернета",[i])}}}(g,t,i);return(0,s.jsx)("div",Object.assign({ref:v},{children:(0,s.jsx)(d.E,{title:w,link:j,source:g,platform:r,lang:m,onClick:x,erid:f,legalName:'ООО "ДубльГИС"'})}))}));m.displayName="AppBanner"},23098:(e,t,i)=>{"use strict";i.d(t,{e:()=>c});var s=i(31085),r=(i(14041),i(80552)),n=i(91466),a=i(81618),o=i(84175);const c=e=>{const{src:t,initials:i,isLoadingForced:r,initialStyles:c}=e,{css:l,s:u}=(0,o.I)(d),p=()=>(0,s.jsx)("div",Object.assign({className:l(u.initials,c)},a.dx.n("wat-initials"),{children:i()}));return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(n.i,{src:t,isLoadingForced:!!r,renderPlaceholder:e=>{if("error"===e)return p()}}):p()})},d=(0,o.r)({initials:Object.assign(Object.assign({width:"100%",height:"100%"},r.regularBold),{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"})})},26948:(e,t,i)=>{"use strict";i.d(t,{OH:()=>d,Q6:()=>n,QY:()=>c,e1:()=>a,zF:()=>l});var s=i(806);const r="clickabletooltip",n={[`data-${r}`]:!0},a=(0,s.e)(void 0),o=(0,s.e)(void 0),c=()=>{var e;return"true"===(null===(e=a.get())||void 0===e?void 0:e.dataset[r])},d=()=>{o.get()&&(clearTimeout(o.get()),o.set((()=>{})))},l=(e,t)=>{const i=setTimeout((()=>e()),t);o.set((()=>i))}},99781:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var s=i(12017),r=i(63235),n=i(1321);const a=(0,s.n5)("killClickableTooltip",(()=>(0,s._7)((0,r.B)(),(0,n.Ip)({realtyHoveredId:void 0,hoveredId:void 0}))))},67266:(e,t,i)=>{"use strict";i.d(t,{m:()=>f});var s=i(85608),r=i(31085),n=i(14041),a=i(71064),o=i(53157);function c({href:e,tabId:t,name:i,ownerName:s,position:r,forkEventOrdinal:n,isSearchBot:a,placeItem:c,searchResultsList:d,promoItem:l}){if(!e)return;if(a||!s||"searchResultsList"!==s||"undefined"==typeof window||void 0===r||void 0===n||!d)return e;const u={parentTabId:t,forkEventOrdinal:n,uiElement:{name:i,ownerName:s,position:r},placeItem:c,searchResultsList:d,promoItem:l},p=(0,o.WG)(JSON.stringify(u));return`${e}?stat=${encodeURIComponent(p)}`}var d=i(91650),l=i(60077),u=i(80905),p=i(65290),m=i(32288),g=i(15341);class h extends n.PureComponent{render(){const e=this.props,{href:t,tabId:i,isSearchBot:n,name:o,ownerName:l,placeItem:u,searchResultsList:p,position:m}=e,g=(0,s.Tt)(e,["href","tabId","isSearchBot","name","ownerName","placeItem","searchResultsList","position"]);return(0,r.jsx)(d.$.Consumer,{children:e=>(0,r.jsx)(a.A,Object.assign({},g,{href:c({href:t,tabId:i,name:o,ownerName:l,placeItem:u,searchResultsList:p,position:m,forkEventOrdinal:e,isSearchBot:n})}))})}}const f=(0,l.M)({selectors:()=>({entity:e,position:t})=>{const i=(0,m.eH)(),s=(0,p.Mj)();return{searchResultsList:e=>{const t=(0,u.bB)(e.appContext.frames,"search");if(t)return s({state:e,frame:t})},promoItem:e=>{const t=(0,u.bB)(e.appContext.frames,"search");if(t&&(0,g.C)({state:e,frame:t}))return{name:"Премия 2ГИС 2025"}},placeItem:()=>i({entity:e,position:t})}}})(h)},78578:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,X:()=>r});const s=120,r=({content:e,withoutSpoiler:t=!1})=>{const i=!!(e&&e.length<=s);return{showSpoiler:!t&&!i}}},83460:(e,t,i)=>{"use strict";i.d(t,{M:()=>f});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(74641),c=i(27942),d=i(78578),l=i(81618),u=i(99259),p=i(80552),m=i(56153);class g extends r.PureComponent{render(){const{content:e,s:t,showSpoiler:i,withoutPadding:r,clampLines:a=5,isDark:c=!1,dataN:d,id:u,styles:g,onToggle:h,isHTML:f=!1,isPre:v=!1}=this.props;return e?i?(0,s.jsx)("div",Object.assign({className:(0,n.AH)(t.root,!r&&t.rootWithPadding,v&&t._pre)},{children:(0,s.jsx)(o.v,Object.assign({onToggle:h,dataN:"wat-spoiler"},{children:i=>(0,s.jsx)("div",Object.assign({id:u,className:(0,n.AH)(c&&t._dark),style:i?void 0:(0,p.lineClamped)(a,p.regular)},l.dx.n(d||"wat-description"),{children:f?(0,s.jsx)(m.v,{html:e,contentClassName:g}):e}))}))})):(0,s.jsx)("div",Object.assign({className:(0,n.AH)(t.root,!r&&t.rootWithPadding,v&&t._pre)},l.dx.n(d||"wat-description"),{children:(0,s.jsx)("div",Object.assign({className:(0,n.AH)(c&&t._dark)},{children:f?(0,s.jsx)(m.v,{html:e}):e}))})):null}}const h={root:{"@media print":{display:"none"}},rootWithPadding:{paddingTop:8,paddingBottom:12,paddingStart:0,paddingEnd:0},collapsed:Object.assign({},(0,p.lineClamped)(5,p.regular)),_dark:{"& a":{color:u.T.white,opacity:.7,textDecoration:"none",cursor:"pointer",":hover":{color:u.T.white,opacity:1}}},_pre:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},f=(0,a.Xy)(h)((0,c.J)(d.X)(g))},87177:(e,t,i)=>{"use strict";i.d(t,{W:()=>f});var s=i(31085),r=i(14041),n=i(68076),a=i(7515),o=i(26461),c=i(80552),d=i(96141),l=i(99259);class u extends r.PureComponent{render(){const{s:e,i18n:t,onCancel:i,onSubmit:r,isSubmitAvailable:a}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.footer)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.cancel)},{children:(0,s.jsx)(d.$,Object.assign({noBorder:!0,medium:!0,appearance:"ghost",onClick:i,dataN:"wat-editmode-footer-cancel"},{children:t.tp._t("Отменить")}))})),(0,s.jsx)(d.$,Object.assign({medium:!0,appearance:"secondary",onClick:r,disabled:!a,type:"submit",dataN:"wat-editmode-footer-submit"},{children:t.tp._t("Сохранить")}))]}))}}u.displayName=(0,o.d)("src/shared/components/editMode/components/footer");const p={footer:Object.assign(Object.assign({},c.regular),{background:l.T.gray_f2f2f2,display:"flex",padding:"8px 16px",justifyContent:"flex-end",marginTop:-4}),cancel:{marginEnd:16},link:{color:l.T.blue_0072ce}},m=(0,n.Xy)(p)((0,a.Q)()(u));var g=i(88096),h=i(81618);class f extends r.PureComponent{constructor(){super(...arguments),this.state=this.props.initialState,this.handleCancel=()=>{this.props.onCancel()},this.handleSubmit=()=>{this.props.onSubmit(this.state)},this.handleFormSubmit=e=>{e.preventDefault(),this.handleSubmit()},this.checkIfSubmitAvailable=()=>{const{checkIfSubmitAvailable:e}=this.props;return!e||e(this.state)},this.handleFormKeyUp=e=>{e.keyCode===g.aH&&(e.stopPropagation(),this.handleCancel())}}render(){const{children:e}=this.props,t={setState:this.setState.bind(this),submit:this.handleSubmit,cancel:this.handleCancel};return(0,s.jsxs)("form",Object.assign({onSubmit:this.handleFormSubmit,onKeyUp:this.handleFormKeyUp},h.dx.n("wat-editmode-form"),{children:[(0,s.jsx)("div",{children:e(t,this.state)}),(0,s.jsx)("div",Object.assign({style:{display:this.props.withoutFooter?"none":"block"}},{children:(0,s.jsx)(m,{onSubmit:this.handleSubmit,onCancel:this.handleCancel,isSubmitAvailable:this.checkIfSubmitAvailable()})}))]}))}}},98312:(e,t,i)=>{"use strict";i.d(t,{V:()=>h});var s=i(31085),r=i(14041),n=i(68076),a=i(7515),o=i(26461),c=i(99259),d=i(80552),l=i(32443),u=i(81618),p=i(35890);class m extends r.PureComponent{render(){const{s:e,showFeedbackButton:t=!1,entityId:i,i18n:r}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.root)},u.n("wat-error"),u.v("404"),{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},u.n("wat-error-icon"),{children:(0,s.jsx)(l.C,{})})),(0,s.jsx)("h1",Object.assign({className:(0,n.AH)(e.title)},u.n("wat-error-text"),{children:r.tp._t("Ничего не нашлось, попробуйте уточнить запрос")})),t&&(0,s.jsxs)("span",Object.assign({className:(0,n.AH)(e.message)},u.n("wat-error-message"),{children:[r.tp._t("Если уверены, что организация действительно существует, просто добавьте её:"),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.entry)},{children:(0,s.jsx)(p.M,{type:"addOrg",entityId:i})}))]}))]}))}}m.displayName=(0,o.d)("src/shared/components/error/components");const g={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:c.T.gray_262626},title:Object.assign(Object.assign({},d.lead),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.regular),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},h=(0,n.Xy)(g)((0,a.Q)()(m))},84097:(e,t,i)=>{"use strict";i.d(t,{m:()=>h});var s=i(31085),r=i(14041),n=i(68076),a=i(7515),o=i(26461),c=i(99259),d=i(80552),l=i(96141),u=i(75506),p=i(81618);class m extends r.PureComponent{render(){const{s:e,i18n:t,userAgent:i}=this.props,r=i&&i.toLowerCase().indexOf("safari")>=0&&i.toLowerCase().indexOf("chrome")<0;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.root)},p.n("wat-error"),p.v("500"),{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},p.n("wat-error-icon"),{children:(0,s.jsx)(u.j,{})})),(0,s.jsx)("h1",Object.assign({className:(0,n.AH)(e.title)},p.n("wat-error-text"),{children:t.tp._t("Что-то пошло не так")})),(0,s.jsx)("span",Object.assign({className:(0,n.AH)(e.message)},{children:t.tp._t("Обязательно найдем проблему и исправим её. Можете повторить действие через пару минут или попробовать")})),(0,s.jsx)(l.$,Object.assign({appearance:"secondary",onClick:this.reloadPage,dataN:"wat-reload-btn"},{children:t.tp._t("Перезагрузить страницу")})),r&&(0,s.jsx)("span",Object.assign({className:(0,n.AH)(e.message,e._aboutBrowser)},{children:t.tp._t("Если вы используете браузер Safari, попробуйте воспользоваться Chrome или Firefox.")}))]}))}reloadPage(){"undefined"!=typeof window&&window.location.reload(!0)}}m.displayName=(0,o.d)("src/shared/components/error/components");const g={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:24,paddingEnd:24,alignItems:"center",flexDirection:"column",color:c.T.gray_262626},title:Object.assign(Object.assign({},d.lead),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.regular),{textAlign:"center",paddingBottom:12,maxWidth:"100%"}),_aboutBrowser:{paddingBottom:0,paddingTop:12}},h=(0,n.Xy)(g)((0,a.Q)()(m))},3127:(e,t,i)=>{"use strict";i.d(t,{e:()=>h});var s=i(31085),r=i(14041),n=i(84189),a=i(28909),o=i(84175),c=i(80552),d=i(99259),l=i(81618),u=i(32443),p=i(75506);function m(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"50",height:"96",viewBox:"0 0 50 96"},{children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M43 0c3.86 0 7 3.14 7 7v82c0 3.86-3.14 7-7 7H7c-3.86 0-7-3.14-7-7V7c0-3.86 3.14-7 7-7zM12.046 2H7a5 5 0 00-5 5v82a5 5 0 005 5h36a5 5 0 005-5V7a5 5 0 00-5-5h-5.046a2 2 0 00-1.857 1.257l-.594 1.486A2 2 0 0133.646 6H16.354a2 2 0 01-1.857-1.257l-.594-1.486A2 2 0 0012.046 2zM39 65v6a4 4 0 01-7.995.2L31 71v-4H11v-2h28zm-2 2h-4v4a2 2 0 003.995.15L37 71v-4zM18.293 42.293l1.414 1.414L16.414 47l3.293 3.293-1.414 1.414L15 48.414l-3.293 3.293-1.414-1.414L13.586 47l-3.293-3.293 1.414-1.414L15 45.586l3.293-3.293zm20 0l1.414 1.414L36.414 47l3.293 3.293-1.414 1.414L35 48.414l-3.293 3.293-1.414-1.414L33.586 47l-3.293-3.293 1.414-1.414L35 45.586l3.293-3.293z"})}))}var g=i(12043);const h=(0,r.memo)((({title:e,message:t,code:i,additionalContent:r})=>{(0,a.a)((0,n.r)(i));const{css:c,s:d}=(0,o.I)(f),h=Array.isArray(t)?t:[t];return(0,s.jsxs)("div",Object.assign({className:c(d.root)},l.dx.n("wat-error"),l.dx.v(i),{children:[(0,s.jsx)("div",Object.assign({className:c(d.icon)},{children:i&&i<500?(0,s.jsx)(u.C,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.h,{children:(0,s.jsx)(m,{})}),(0,s.jsx)(g.j,{children:(0,s.jsx)(p.j,{})})]})})),(0,s.jsx)("h1",Object.assign({className:c(d.title)},{children:e})),t?(0,s.jsx)("div",Object.assign({className:c(d.message)},{children:h.map((e=>(0,s.jsx)("p",Object.assign({className:c(d.paragraph)},{children:e}),e)))})):null,!!r&&(0,s.jsx)("div",{children:r})]}))}));h.displayName="CustomError";const f=(0,o.r)({root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:d.T.gray_262626},title:Object.assign(Object.assign({},c.lead),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px",textAlign:"center"},message:Object.assign(Object.assign({},c.regular),{textAlign:"center",maxWidth:"100%"}),paragraph:{marginBottom:16}})},1626:(e,t,i)=>{"use strict";i.d(t,{$:()=>k});var s=i(31085),r=i(14041),n=i(98312),a=i(82781),o=i(3127);const c=()=>{const e=(0,a.c)();return(0,s.jsx)(o.e,{title:e._t("Не удалось проложить маршрут"),message:[e._t("Мы постоянно работаем над тем, чтобы такое повторялось как можно реже."),e._t("А пока попробуйте другие типы маршрутов.")],code:404})};var d=i(68076),l=i(7515),u=i(26461),p=i(99259),m=i(80552),g=i(32443),h=i(81618);class f extends r.PureComponent{render(){const{s:e,i18n:t}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,d.AH)(e.root)},h.n("wat-rubricator-error"),{children:[(0,s.jsx)("div",Object.assign({className:(0,d.AH)(e.icon)},{children:(0,s.jsx)(g.C,{})})),(0,s.jsx)("h1",Object.assign({className:(0,d.AH)(e.title)},{children:t.tp._t("Ничего не нашлось, попробуйте открыть рубрикатор в другом городе")}))]}))}}f.displayName=(0,u.d)("src/shared/components/error/components");const v={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:p.T.gray_262626},title:Object.assign(Object.assign({},m.lead),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},m.regular),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},b=(0,d.Xy)(v)((0,l.Q)()(f));var y=i(84097),x=i(27942),j=i(60077),w=i(82393),I=i(28909),C=i(84189);const _={regionId:w.zN,userAgent:e=>e.session.userAgent},k=(0,j.M)({selectors:_})((0,x.J)((({regionId:e,type:t,code:i,userAgent:s})=>{const r=(0,C.r)(i),n=function(e){const{codeForRaise:t,type:i,regionId:s}=e;if(404===t||410===t)return"search"===i||"entity"===i?"0"===s?"nothingFound":"nothingFoundWithAddOrgButton":"rubricator"===i?"nothingFoundInRubricator":"directions"===i?"canNotFindDirections":"nothingFound";return"somethingGoneWrong"}({codeForRaise:r,type:t,regionId:e});return{codeForRaise:r,viewType:n,userAgent:s}}))(r.memo((({codeForRaise:e,viewType:t,entityId:i,userAgent:r})=>{switch((0,I.a)(e),t){case"nothingFound":return(0,s.jsx)(n.V,{});case"nothingFoundWithAddOrgButton":return(0,s.jsx)(n.V,{showFeedbackButton:!0,entityId:i});case"canNotFindDirections":return(0,s.jsx)(c,{});case"nothingFoundInRubricator":return(0,s.jsx)(b,{});default:return(0,s.jsx)(y.m,{userAgent:r})}}))))},84189:(e,t,i)=>{"use strict";function s(e){return 404===e||410===e?e:500}i.d(t,{r:()=>s})},91255:(e,t,i)=>{"use strict";i.d(t,{Y:()=>d});var s=i(31085),r=i(84175),n=i(82781);function a(){return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M3.12305 17.2285L11.9666 22.04L20.8102 16.9079V6.91876L11.9666 2.01569L3.12305 6.91876V17.2285Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3079 1.35023C12.4914 0.922318 11.5086 0.922317 10.6921 1.35023L3.45076 5.14541C2.55721 5.61371 2 6.52172 2 7.5095V16.278C2 17.2376 2.52612 18.1242 3.38008 18.6037L10.6215 22.67C11.4746 23.1491 12.5254 23.1491 13.3785 22.67L20.6199 18.6037C21.4739 18.1242 22 17.2376 22 16.278V7.5095C22 6.52172 21.4428 5.61371 20.5492 5.14541L13.3079 1.35023ZM11.673 3.1233C11.8772 3.01632 12.1228 3.01632 12.327 3.1233L18.8945 6.56532L12 10.6949L5.1055 6.56531L11.673 3.1233ZM10.9655 12.4398L4.06897 8.30899V16.278C4.06897 16.5179 4.2005 16.7396 4.41398 16.8594L10.9655 20.5383V12.4398ZM13.0345 20.5383L19.586 16.8594C19.7995 16.7396 19.931 16.5179 19.931 16.278V8.309L13.0345 12.4398V20.5383Z",fill:"#0059D6"})]}))}function o(){return(0,s.jsxs)("svg",Object.assign({width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.84086 0.703852C6.31592 0.432049 5.68408 0.432049 5.15914 0.703852L0.932729 2.89221C0.358246 3.18966 0 3.76641 0 4.39382V9.44987C0 10.0594 0.338258 10.6225 0.887284 10.9271L5.1137 13.2718C5.6622 13.5761 6.3378 13.5761 6.8863 13.2718L11.1127 10.9271C11.6617 10.6225 12 10.0594 12 9.44987V4.39382C12 3.76641 11.6418 3.18966 11.0673 2.89221L6.84086 0.703852Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.84086 0.703852C6.31592 0.432049 5.68408 0.432049 5.15914 0.703852L0.932729 2.89221C0.358246 3.18966 0 3.76641 0 4.39382V9.44987C0 10.0594 0.338258 10.6225 0.887284 10.9271L5.1137 13.2718C5.6622 13.5761 6.3378 13.5761 6.8863 13.2718L11.1127 10.9271C11.6617 10.6225 12 10.0594 12 9.44987V4.39382C12 3.76641 11.6418 3.18966 11.0673 2.89221L6.84086 0.703852ZM5.88669 2.00312C5.95743 1.96649 6.04257 1.96649 6.11331 2.00312L9.69552 3.85792L7.56004 5.12159C7.52567 5.14193 7.49355 5.16446 7.46376 5.18886L5.99404 6.06535L4.55017 5.20202C4.5164 5.1729 4.47945 5.14628 4.43945 5.12261L2.30329 3.85854L5.88669 2.00312ZM1.53459 5.13634V9.44987C1.53459 9.532 1.58017 9.60789 1.65415 9.64893L5.23282 11.6342L5.23282 7.34784L1.53459 5.13634ZM6.76741 8.23703L6.76741 7.34051L10.4654 5.13502V9.44987C10.4654 9.532 10.4198 9.60789 10.3458 9.64893L6.76741 11.6341L6.76741 8.23703C6.76741 8.2373 6.76741 8.23677 6.76741 8.23703Z",fill:"#0059D6"})]}))}var c=i(80552);const d=({onClick:e,size:t="m"})=>{const{css:i,s:c}=(0,r.I)(l),d=(0,n.c)();return(0,s.jsxs)("div",Object.assign({className:i(c.root,c[t]),onClick:e},{children:["s"===t?(0,s.jsx)(o,{}):(0,s.jsx)(a,{}),(0,s.jsx)("span",{children:d._t("3D-модель")})]}))},l=(0,r.r)({root:{display:"inline-flex",alignItems:"center",gap:4,paddingTop:2,paddingBottom:2,paddingStart:6,paddingEnd:6,borderRadius:6,backgroundColor:"#14141417","&:hover":{cursor:"pointer"}},s:Object.assign({},c.smallMedium),m:Object.assign({},c.regularMedium)})},4:(e,t,i)=>{"use strict";i.d(t,{U:()=>p});var s=i(31085),r=i(14041),n=i(84175),a=i(99259),o=i(43224),c=i(58171),d=i(74639),l=i(68887),u=i(80552);const p=r.memo((e=>{const{userName:t,backgroundSeed:i,experimentalStyles:r}=e,{css:a,s:l}=(0,n.I)(m),u=(0,o.Y)(t),p=(0,c.k)((0,d.F)(i));return(0,s.jsx)("div",Object.assign({className:a(l.initials,r),style:{background:p}},{children:u}))})),m=(0,n.r)({initials:Object.assign(Object.assign({},u.regularBold),{borderRadius:l.V.oval,display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:a.T.white,overflow:"hidden"})})},40837:(e,t,i)=>{"use strict";i.d(t,{J:()=>n,N:()=>a});var s=i(31085),r=i(1626);const n=e=>{const{asyncStatus:t}=e;return"error"===t?(0,s.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,s.jsx)(r.$,{code:500})})):(0,s.jsx)("div",{})},a=e=>(0,s.jsx)(n,{asyncStatus:e})},43322:(e,t,i)=>{"use strict";i.d(t,{g:()=>b,r:()=>v});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(27942),c=i(99259),d=i(64099),l=i(87712);var u=i(53615),p=i(91466),m=i(81618),g=i(70498);class h extends r.PureComponent{constructor(){super(...arguments),this.renderPlaceholder=e=>{const{size:t=d.Ej.cardLogo,s:i}=this.props;return"error"===e?(0,s.jsx)("div",Object.assign({className:(0,n.AH)(i.crownLogo),style:{width:t,height:t}},{children:(0,s.jsx)(u.O,{color:c.T.yellow_ffb81c,size:32})})):(0,s.jsx)("div",{className:(0,n.AH)(this.props.s.placeholder)})}}render(){const{image:e,size:t=d.Ej.cardLogo,isLoadingForced:i=!1,s:r}=this.props;return e?(0,s.jsx)("div",Object.assign({className:(0,n.AH)(r.logo),style:{width:t,height:t}},{children:(0,s.jsx)(p.i,{src:e,renderPlaceholder:this.renderPlaceholder,isLoadingForced:i})})):(0,s.jsx)("div",Object.assign({className:(0,n.AH)(r.crownLogo),style:{width:t,height:t}},m.dx.n("wat-crown"),{children:(0,s.jsx)(u.O,{color:c.T.yellow_ffb81c,size:32})}))}}const f={logo:{display:"inline-block",backgroundColor:c.T.white,borderRadius:"50%",overflow:"hidden",boxShadow:g.E.logo},placeholder:{width:"100%",height:"100%",backgroundColor:c.T.gray_f2f2f2},crownLogo:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:g.E.logo,background:c.T.white}},v=(0,a.Xy)(f)(h),b=(0,o.J)((function({entity:e,size:t=d.Ej.cardLogo}){const i=(0,l.Y)(e,`${2*t}x${2*t}`);if(i)return i}))(v)},63109:(e,t,i)=>{"use strict";i.d(t,{T:()=>l});var s=i(31085),r=(i(14041),i(84175)),n=i(80552),a=i(70498),o=i(64099),c=i(99259),d=i(81618);const l=({children:e,dataN:t})=>{const{css:i,s:n}=(0,r.I)(u);return(0,s.jsx)("div",Object.assign({className:i(n.root)},t?d.dx.n(t):void 0,{children:e}))},u=(0,r.r)((()=>({root:Object.assign(Object.assign({pointerEvents:"none",overflow:"hidden"},n.regular),{maxWidth:296,boxShadow:a.E.popup,borderRadius:o.Vq.default,background:c.T.white})})))},65526:(e,t,i)=>{"use strict";i.d(t,{I:()=>k});var s=i(31085),r=i(10742),n=i(84175),a=i(43027),o=i(14041),c=i(79594),d=i(29787),l=i(7335),u=i(64099),p=i(53930),m=i(1736),g=i(76504),h=i(43322),f=i(46579);const v=(0,o.memo)((({id:e,previewSize:t,previewUrls:i,isMediaRubric:r,entity:a,position:o,lazyLoadVisibilityOffset:c,borderRadius:d,backgroundColor:l,isLoadingForced:u,dataT:p})=>{const{s:m,css:v}=(0,n.I)(b),{lang:y}=(0,f.U)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.O,{src:i[t[0]],src2x:i[t[1]],lazyLoadVisibilityOffset:c,borderRadius:d,backgroundColor:l,isLoadingForced:u,alt:"ru"===y?"Фото":void 0,dataN:"wat-media-photo",dataV:e,dataT:p}),r&&1===o&&!!a&&(0,s.jsx)("div",Object.assign({className:v(m.logo)},{children:(0,s.jsx)(h.g,{size:64,entity:a})}))]})}));v.displayName="MediaPhotoItemPreview";const b=(0,n.r)({logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var y=i(8365),x=i(7818),j=i(65290),w=i(46645);const I=({entity:e,entityPosition:t,mediaPosition:i,media:s,isPhoto:r})=>({frameId:n},a)=>{if(e&&i)return{uiElement:{name:r?"photoCardMini":"videoCardMini",ownerName:"placeCardMini",frameUuid:n,position:i},payload:Object.assign({placeItem:(0,x.ij)({entity:e,position:t}),searchResultsList:(0,j.tp)({state:a,searchFrameId:n})},r?{promoItem:(0,w.j)({state:a,frameId:n}),photo:{photoId:s.id}}:{video:{videoId:s.id}}),action:"tap"}};var C=i(99259),_=i(516);const k=(0,o.memo)((({data:e,size:t,previewSize:i,isMediaRubric:g,entity:h,entityPosition:f,mediaPosition:b,activeVideoId:w,addVideoToSelectActive:k,bssType:S,externalOnClick:T,lazyLoadVisibilityOffset:E=0,borderRadius:M=u.Vq.isolate,backgroundColor:N=C.T.black_transparent_06,isLoadingForced:L,isPlayOnHover:P=!0,visibilityThreshold:R=.5,dataT:A})=>{var B,z,F,H;const{s:U,css:D}=(0,n.I)(O),V=(0,c.wA)(),$="miniEntityPhoto"===S&&h&&b&&f,W=(0,p.So)(e)||(0,p.ce)(e)||(0,p.n_)(e),q=(0,p.tm)(e)||(0,p.Xr)(e)||(0,p.kt)(e),{bssRef:Z,useBssHandler:Q}=(0,y.E)($?(({entity:e,media:t,entityPosition:i,mediaPosition:s,isPhoto:r})=>({frameId:n},a)=>{if(e&&t)return{uiElement:{name:r?"photoCardMini":"videoCardMini",ownerName:"placeCardMini",frameUuid:n,position:s},payload:Object.assign({placeItem:(0,x.ij)({entity:e,position:i}),searchResultsList:(0,j.tp)({state:a,searchFrameId:n})},r?{photo:{photoId:t.id}}:{video:{videoId:t.id}})}})({entity:h,entityPosition:f,mediaPosition:b,media:e,isPhoto:W}):void 0,{threshold:R}),G="status"in e?"active"===e.status&&"in_progress"===(null===(B=e.video)||void 0===B?void 0:B.processing_status)?"in_progress":e.status:void 0,K=Q(I,{entity:h,entityPosition:f,mediaPosition:b,media:e,isPhoto:W}),Y=(0,r.D)((t=>{h&&!T&&(t.stopPropagation(),V((0,l.eU)(_.U,(t=>(0,d.PC)((0,a.z)({entityId:h.id,searchId:t,entityType:h.type,photoId:e.id}))))),K())})),X=(0,o.useMemo)((()=>Boolean(q&&w===e.id)),[q,w,e.id]),J=(0,o.useMemo)((()=>t?{flexBasis:t,height:t}:{width:"100%",height:"100%"}),[t]);return W||q?(0,s.jsxs)("div",Object.assign({className:D(U.root),ref:Z,onClick:Y,style:J},{children:[W&&(0,s.jsx)(v,{previewSize:i,previewUrls:e.photo.preview_urls,isMediaRubric:g,entity:h,position:b,lazyLoadVisibilityOffset:E,borderRadius:M,backgroundColor:N,isLoadingForced:L,id:e.id,dataT:A}),q&&!!(null===(z=e.video)||void 0===z?void 0:z.preview_urls.length)&&(0,s.jsx)(m.p,{previewSize:i,previewUrls:null===(F=e.video)||void 0===F?void 0:F.preview_urls,coverUrls:null===(H=e.video)||void 0===H?void 0:H.cover_urls,isMediaRubric:g,entity:h,position:b,isActiveVideo:X,addVideoToSelectActive:k,id:e.id,lazyLoadVisibilityOffset:E,borderRadius:M,backgroundColor:N,isLoadingForced:L,isPlayOnHover:P,visibilityThreshold:R,status:G,dataT:A})]})):null}));k.displayName="MediaItemPreview";const O=(0,n.r)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}})},1736:(e,t,i)=>{"use strict";i.d(t,{p:()=>y});var s=i(31085),r=i(76504),n=i(43322),a=i(64099),o=i(99259),c=i(84175),d=i(46579),l=i(14041),u=i(27580),p=i(8415),m=i(20121),g=i.n(m),h=i(65111),f=i(81618),v=i(50432);function b(e,t,i){const[s,r]=(0,l.useState)(void 0),[n,a]=(0,l.useState)(void 0);(0,l.useEffect)((()=>{var t,n;if(e.current&&(null===(t=e.current)||void 0===t?void 0:t.getInternalPlayer)){const t=null===(n=e.current)||void 0===n?void 0:n.getInternalPlayer();if(i&&t){const{clientWidth:e,clientHeight:i}=t;e===(null==s?void 0:s.width)&&i===(null==s?void 0:s.height)||r({width:e,height:i})}}}),[i,e.current]),(0,l.useEffect)((()=>{if(t.current){const{width:e,height:i}=t.current.getBoundingClientRect();e===(null==n?void 0:n.width)&&i===n.height||a({width:e,height:i})}}),[i,t.current]);return(0,l.useMemo)((()=>((e,t)=>{if(!e||!t)return{width:"auto",height:"auto"};const i=e.height/e.width;let s,r;return t.width>=t.height?(s=t.width,r=Math.floor(s*i),r<t.height&&(r=t.height,s=Math.floor(r/i))):(r=t.height,s=Math.floor(r/i),s<t.width&&(s=t.width,r=Math.floor(s*i))),{width:`${s}px`,height:`${r}px`,hightDiff:r-t.height}})(s,n)),[s,n])}const y=(0,l.memo)((({id:e,previewSize:t,previewUrls:i,isMediaRubric:a,entity:o,position:m,isActiveVideo:y,coverUrls:j,addVideoToSelectActive:w,lazyLoadVisibilityOffset:I,borderRadius:C,backgroundColor:_,isLoadingForced:k,isPlayOnHover:O,visibilityThreshold:S,status:T,dataT:E,onClick:M})=>{const{s:N,css:L}=(0,c.I)(x),{lang:P}=(0,d.U)(),[R,A]=(0,l.useState)(!1),B=(0,l.createRef)(),z=(0,l.createRef)(),[F,H]=(0,p.q)({threshold:S,showVisibility:!0});(0,l.useEffect)((()=>{w&&"in_progress"!==T&&w({id:e,isVisible:H,position:m})}),[H,e,w,m,T]);const U=b(z,B,R),{playerProps:D,isPlaying:V}=(0,u.A)(Object.assign(Object.assign({ref:z,urls:i,onError:t=>{(0,v.vV)({id:"eernj",level:"warn",message:t&&e+" "+t.name+" "+t.message,payload:{subtype:"VideoPlayerPreview",type:"exception"}})},loop:!0,muted:!0,controls:!1,playing:y&&R},U),{isPreview:!0}));return(0,s.jsxs)("div",Object.assign({className:L(N.playerWrapper),ref:F,onMouseOver:()=>{w&&O&&"in_progress"!==T&&w({id:e,isVisible:H,position:m,isHovered:!0})},onClick:()=>{null==M||M(e)}},{children:[(0,s.jsx)("div",Object.assign({className:L(N.item)},{children:(0,s.jsx)(r.O,{src:j[t[0]],src2x:j[t[1]],lazyLoadVisibilityOffset:I,borderRadius:C,backgroundColor:_,isLoadingForced:k,alt:"ru"===P?"Видео превью":void 0,dataN:"wat-video-cover",dataV:e,dataT:E})})),(0,s.jsx)("div",Object.assign({className:L(N.play,V?N._hidden:void 0)},{children:(0,s.jsx)(h.j,{})})),(0,s.jsx)("div",Object.assign({ref:B,className:L(N.item,V?N._visible:N._hidden)},(0,f.p)({n:"wat-video-preview",v:e,t:E}),{children:(0,s.jsx)(g(),Object.assign({},D,{onReady:()=>{A(!0)},ref:z}))})),a&&1===m&&!!o&&(0,s.jsx)("div",Object.assign({className:L(N.logo)},{children:(0,s.jsx)(n.g,{size:64,entity:o})}))]}))}));y.displayName="MediaVideoItemPreview";const x=(0,c.r)({playerWrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:a.fE.base,cursor:"pointer"},item:{position:"absolute",width:"100%",height:"100%",borderRadius:a.Vq.isolate,overflow:"hidden"},logo:{position:"absolute",start:10,bottom:10,width:64,height:64},play:{position:"absolute",width:24,height:24,color:o.T.white,bottom:12,right:12,zIndex:a.fE.top},_hidden:{visibility:"hidden"},_visible:{visibility:"visible"}})},20749:(e,t,i)=>{"use strict";i.d(t,{M:()=>O});var s=i(31085),r=i(14041),n=i(94371),a=i(84175),o=i(46579),c=i(33708),d=i(99259),l=i(68887);const u=r.createContext({bssActionItemFunction:()=>()=>{}});var p=i(8365),m=i(1736),g=i(20315),h=i(81618);const f=e=>{const{media:t,medias:i,index:n,onClick:o,activeVideoId:c,addVideoToSelectActive:d,isSearchBot:l=!1,dataN:g="wat-review-photo-slide"}=e,{css:h,s:f}=(0,a.I)(x),{bssShowItemFunction:y,bssActionItemFunction:j=()=>()=>{},photoItemStyles:w}=r.useContext(u),{bssRef:I,useBssHandler:C}=(0,p.E)(null==y?void 0:y({image:t,position:n+1})),_=C(j,{image:t,position:n+1});return(0,s.jsx)("div",Object.assign({ref:I,onClick:()=>{_(),o&&o(t)},className:h(f.itemWrapper)},{children:"video"===t.type?(0,s.jsx)(m.p,{id:t.id,previewUrls:t.video.preview_urls,coverUrls:t.video.cover_urls,previewSize:["328x170","656x340"],isActiveVideo:t.id===c,visibilityThreshold:.5,position:n+1,addVideoToSelectActive:d,isPlayOnHover:!0}):(0,s.jsx)(v,{position:n+1,dataN:g,image:t,isSearchBot:l,styles:[b(n,i,f),w]},n)}),n)},v=(0,r.memo)((e=>{const{image:t,dataN:i,isSearchBot:r,borderRadius:n}=e,{s:c,css:d}=(0,a.I)(x),{lang:l}=(0,o.U)();return(0,s.jsx)("div",Object.assign({},h.dx.n(i),{className:d(c.imageWrapper)},{children:(0,s.jsx)(g.H,{src:t.url,forceLoad:r,styles:e.styles?[c.imageStyle,...e.styles]:c.imageStyle,threshold:.05,alt:"ru"===l?"Слайд":void 0,borderRadius:n})}))}));function b(e,t,i){switch(t.length){case 1:return i._roundAll;case 2:return 0===e?i._roundLeft:i._roundRight;case 3:return 0===e?i._roundLeft:1===e?i._roundRightTop:i._roundRightBottom;default:return 0===e?i._roundLeft:1===e?i._roundRightTop:3===e?i._roundRightBottom:void 0}}v.displayName="ImageWithClick";const y=d.T.gray_e6e6e6,x=(0,a.r)({imageStyle:{background:y},itemWrapper:{height:"100%"},imageWrapper:{height:"100%",width:"100%",cursor:"pointer"}}),j=(0,r.memo)((e=>{const{images:t,isSearchBot:i,dataN:r,onClick:n,addVideoToSelectActive:a,activeVideoId:o}=e;return t.length?(0,s.jsx)(w,{children:t.map(((e,c)=>(0,s.jsx)(f,{addVideoToSelectActive:a,index:c,media:e,medias:t,onClick:n,activeVideoId:o,dataN:r,isSearchBot:i},c)))}):null}));j.displayName="Slide";const w=(0,r.memo)((({children:e})=>{const{s:t,css:i}=(0,a.I)(I),[r,n,o,c]=e;return n?(0,s.jsxs)("div",Object.assign({className:i(t.container)},{children:[(0,s.jsx)("div",Object.assign({className:i(t.leftSide)},{children:r})),(0,s.jsxs)("div",Object.assign({className:i(t.rightSide,!!o&&t._halfHeight)},{children:[n,o&&(0,s.jsx)("div",Object.assign({className:i(t.container,t._withPaddingTop)},{children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:i(t.leftSide)},{children:o})),(0,s.jsx)("div",Object.assign({className:i(t.rightSide)},{children:c}))]}):o}))]}))]})):(0,s.jsx)(s.Fragment,{children:r})}));w.displayName="SlideWrapper";const I=(0,a.r)({container:{display:"flex",height:"100%"},leftSide:{width:"50%",boxSizing:"border-box",borderEnd:`2px solid ${d.T.white}`},rightSide:{width:"50%"},_halfHeight:{height:"50%"},_withPaddingTop:{boxSizing:"border-box",borderTop:`2px solid ${d.T.white}`},_roundAll:{borderRadius:l.V.default},_roundLeft:{borderRadius:`logical 0 ${l.V.default} ${l.V.default} 0`},_roundRight:{borderRadius:`logical ${l.V.default} 0 0 ${l.V.default}`},_roundRightTop:{borderRadius:`logical ${l.V.default} 0 0 0`},_roundRightBottom:{borderRadius:`logical 0 0 0 ${l.V.default}`}}),C=e=>{const{previews:t,onClick:i,activeVideoId:n,addVideoToSelectActive:a}=e,d=(e=>e.reduce(((e,t)=>(4===e.images[e.currentIdx].length&&(e.currentIdx++,e.images[e.currentIdx]=[]),e.images[e.currentIdx].push(t),e)),{images:[[]],currentIdx:0}).images)(t),{isMobileDevice:l,isSearchBot:u}=(0,o.U)(),p=(0,r.useCallback)((e=>{null==i||i(e.id)}),[i]);return d.length?(0,s.jsx)(c.n,Object.assign({dataN:"wat-review-photo-carousel",slideWidth:304,slideHeight:152,hasStaticWidth:!l||1!==d.length,controlsSize:24,gap:2,withoutHeaderAndArrowsOverCarousel:!0},{children:null==d?void 0:d.map(((e,t)=>(0,s.jsx)(j,{addVideoToSelectActive:a,activeVideoId:n,isSearchBot:u,images:e,onClick:p},t)))})):null};var _=i(83044),k=i(51214);const O=({previews:e,galleryMedia:t,bssShowItemFunction:i,bssActionItemFunction:o,onComplain:c,onChange:d,isActiveItem:l,entityId:p,photoItemStyles:m})=>{const[g,h,f]=(0,n.u)(t),{activeVideoId:v,addVideoToSelectActive:b}=(0,_.X)(),{css:y,s:x}=(0,a.I)(S),j=r.useCallback((e=>{h(e),d()}),[h,d]),w=r.useCallback((e=>{c(e)}),[c]),I=g&&(void 0===l||l);return(0,s.jsx)(u.Provider,Object.assign({value:{bssShowItemFunction:i,bssActionItemFunction:o,photoItemStyles:m}},{children:(0,s.jsxs)("div",Object.assign({className:y(x.root)},{children:[(0,s.jsx)(C,{addVideoToSelectActive:b,activeVideoId:v,previews:e,onClick:j}),I&&(0,s.jsx)(k.H,{showViewsAndLikes:!0,media:t,activeItemId:g,total:t.length,onChange:j,onClose:f,typeOfFooterInfo:"place",trackBSSSource:"publicProfile",onComplain:w,entityId:p})]}))}))},S=(0,a.r)({root:{boxSizing:"border-box",overflow:"hidden",backgroundRepeat:"no-repeat",position:"relative"}})},99882:(e,t,i)=>{"use strict";i.d(t,{q:()=>n,u:()=>a});var s=i(31085),r=i(14041);const n=(0,r.createContext)(void 0),a=({children:e})=>{const[t,i]=(0,r.useState)(.5),[a,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[l,u]=(0,r.useState)(!1),p={volume:t,isMuted:a,setVolume:i,setIsMuted:o,isPressedProgressBar:c,setIsPressedProgressBar:d,showControls:l,setShowControls:u};return(0,s.jsx)(n.Provider,Object.assign({value:p},{children:e}))}},27580:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var s=i(14041);var r=i(99882),n=i(79594),a=i(46579);const o=({ref:e,urls:t,playing:i=!0,volume:o=.5,muted:c=!0,controls:d=!1,loop:l=!1,playbackRate:u=1,width:p="100%",height:m="100%",selected:g,onReady:h,onError:f,isPreview:v,hightDiff:b})=>{var y;const x=(0,s.useContext)(r.q),j=(()=>{const{userAgent:e}=(0,a.U)();return(null==e?void 0:e.toLowerCase().includes("safari"))&&!(null==e?void 0:e.toLowerCase().includes("chrome"))})(),w=(0,n.d4)((e=>e.session.platform)),I="ios"===w?"hls":"dash",[C,_]=(0,s.useState)(i),[k,O]=(0,s.useState)((null==x?void 0:x.volume)||o),[S,T]=(0,s.useState)(0),[E,M]=(0,s.useState)(!g||(null!==(y=null==x?void 0:x.isMuted)&&void 0!==y?y:c)),[N,L]=(0,s.useState)(l),[P,R]=(0,s.useState)(u),A=(0,s.useMemo)((()=>(({urls:e,type:t,isPreview:i,isSafari:s})=>{var r,n,a,o;const c=null===(r=e.find((e=>(null==e?void 0:e.type)===`${t}_hdr`)))||void 0===r?void 0:r.url,d=null===(n=e.find((e=>(null==e?void 0:e.type)===t)))||void 0===n?void 0:n.url;return i||"hls"===t||s?d||(null===(a=e[0])||void 0===a?void 0:a.url):c||d||(null===(o=e[0])||void 0===o?void 0:o.url)})({urls:t,type:I,isPreview:v,isSafari:j})),[I,t,v,j]),B=(0,s.useCallback)((()=>_(!0)),[]),z=(0,s.useCallback)((()=>_(!1)),[]),F=(0,s.useCallback)((()=>_((e=>!e))),[]),H=(0,s.useCallback)((e=>{O(e),(null==x?void 0:x.setVolume)&&(null==x||x.setVolume(e),null==x||x.setIsMuted(!(e>0)))}),[x]),U=(0,s.useCallback)((()=>{M((e=>((null==x?void 0:x.setIsMuted)&&(null==x||x.setIsMuted(!e)),!e)))}),[x]),D=(0,s.useCallback)((e=>R(e)),[]),V=(0,s.useCallback)((()=>L((e=>!e))),[]),$=(0,s.useCallback)((e=>{C&&T(e.played)}),[C]);(0,s.useEffect)((()=>{i!==C&&_(i)}),[i]);const W={file:{attributes:{crossOrigin:"anonymous"}}},q=b&&b>0?{marginTop:`-${b/2}px`}:void 0,Z=!!v||(!g||E&&(null==x?void 0:x.isMuted)),Q=(v||!!g)&&C;return{isPlaying:C,played:S,currentVolume:k,isMuted:Z,isLooping:N,rate:P,play:B,pause:z,togglePlayPause:F,setVolume:H,onProgress:$,toggleMute:U,setPlaybackRate:D,toggleLoop:V,setPlayed:T,setIsMuted:M,onSeek:t=>{var i;null===(i=e.current)||void 0===i||i.seekTo(t),T(t)},playerProps:Object.assign({url:A,playing:Q,volume:k,played:S,muted:Z,controls:d,loop:N,playbackRate:P,width:p,height:m,onError:f,onReady:h,onProgress:$,playsinline:!0,config:W},v&&q?{style:q}:{})}}},36224:(e,t,i)=>{"use strict";i.d(t,{B:()=>v});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(27942),c=i(80177),d=i(47054);var l=i(21644),u=i(15635),p=i(81618),m=i(62279),g=i(36958);class h extends r.PureComponent{constructor(){super(...arguments),this.renderMcd=e=>{const{background:t,width:i=24,height:r=24}=this.props,n=(0,g.E)(e);return n?(0,s.jsx)(n,{width:i,height:r,background:t}):null}}render(){const{lineNumber:e,color:t,background:i,borderColor:r,s:a,regionCode:o,routeLogo:c}=this.props;if(!e)return(0,s.jsx)("span",Object.assign({className:(0,n.AH)(a.container,a.logo),style:{background:i,color:t,borderColor:r}},p.dx.n("wat-metro-line-icon"),{children:(0,s.jsx)(u.s,{size:16,regionCode:o})}));if((0,m.v)(c))return(0,s.jsx)("span",Object.assign({className:(0,n.AH)(a.container,a._mcd)},p.dx.n("wat-metro-line-icon"),p.dx.s("mcd"),{children:this.renderMcd(c)}));const d=e.length>1;return(0,s.jsx)("span",Object.assign({className:(0,n.AH)(a.container,a.logo,d&&a._longText),style:{background:i,color:t,borderColor:r}},p.dx.n("wat-metro-line-number"),p.dx.s(d?"long":"short"),{children:e}))}}h.displayName=(0,a.d)("src/shared/components/metroLineLogo");const f={container:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16,"& > svg":{flexShrink:0}},_mcd:{width:18},logo:Object.assign(Object.assign({},l.EK),{lineHeight:l.EK.fontSize,boxSizing:"border-box",borderRadius:"50%",border:"1px solid currentColor"}),_longText:Object.assign(Object.assign({},l.Qp),{lineHeight:l.Qp.fontSize})},v=(0,o.J)((({routeLogo:e,background:t,showLineNumber:i})=>{const s=function(e,t){if((0,d.C)(t))return(0,c.vL)(e);return(0,c.JQ)(e)}(t,e);return Object.assign({lineNumber:i?(0,c.qI)(e):void 0},s)}))((0,n.Xy)(f)(h))},5449:(e,t,i)=>{"use strict";i.d(t,{B:()=>g});var s=i(31085),r=i(14041),n=i(99259),a=i(81618),o=i(64099),c=i(70498),d=i(84175),l=i(46501),u=i(79594),p=i(10742),m=i(27892);const g=(0,r.memo)((e=>{const{children:t,withCloseButton:i=!0,onClose:r,buttonTop:n=24,buttonEnd:o=24,dataN:c,innerRef:g}=e,{css:f,s:v}=(0,d.I)(h),b=(0,u.wA)(),y=(0,p.D)((()=>{r&&r(),b((0,m.fs)())}));return(0,s.jsxs)("div",Object.assign({ref:g,className:f(v.layout)},c?a.dx.n(c):"",{children:[t,i&&(0,s.jsx)("div",Object.assign({},a.dx.n("wat-popup-close"),{className:f(v.close,v[`_top${n}`],v[`_end${o}`]),onClick:y},{children:(0,s.jsx)(l.b,{})}))]}))}));g.displayName="MobilePopupLayout";const h=(0,d.r)({layout:{position:"fixed",bottom:0,start:0,display:"flex",flexDirection:"column",maxHeight:"90%",background:n.T.white,width:"100%",borderTopStartRadius:o.Vq.isolate,borderTopEndRadius:o.Vq.isolate,boxShadow:c.E.popup,overflow:"hidden"},close:{position:"absolute",width:24,height:24,top:24,end:24,cursor:"pointer",color:n.T.gray_cccccc},_top12:{top:12},_top24:{top:24},_end20:{end:20},_end24:{end:24}})},84593:(e,t,i)=>{"use strict";i.d(t,{L:()=>p,j:()=>g});var s=i(31085),r=i(99259),n=i(84175),a=i(69158),o=i(14041),c=i(81618),d=i(71064),l=i(3741),u=i(79594);const p=(0,o.memo)((({appearance:e="solid",children:t})=>{const{s:i,css:r}=(0,n.I)(m),a=(0,u.d4)((e=>!!e.appContext.isDataViewerMinimized));return(0,s.jsxs)("div",Object.assign({className:r(i.root)},{children:[!a&&(0,s.jsx)("div",Object.assign({className:r(i.cookieBanner)},{children:(0,s.jsx)(l.l,{})})),(0,s.jsx)("div",Object.assign({className:r(i.footer,"transparent"===e&&i._transparent)},c.dx.n("wat-nav-footer"),{children:t}))]}))}));p.displayName="NavFooter";const m=(0,n.r)({root:{position:"relative"},footer:{padding:12,display:"flex",overflowX:"auto",background:r.T.white,boxShadow:`0px -5px 10px ${(0,a.m)(r.T.black,.07)}`,position:"relative"},_transparent:{background:"none",boxShadow:"none"},cookieBanner:{position:"absolute",left:"50%",bottom:79,transform:"translateX(-50%)"}}),g=(0,o.memo)((({icon:e,children:t,onClick:i,type:r,disabled:a,external:o,grow:l,dataN:u="wat-nav-button",href:p,dataT:m,dataV:g,dataPs:f,containerRef:v})=>{const{s:b,css:y}=(0,n.I)(h),x=[b.button,"blue"===r&&b._blue,"blueWithShadow"===r&&b._blueWithShadow,"white"===r&&b._white,"whiteWithShadow"===r&&b._whiteWithShadow,"whiteWithBorder"===r&&b._whiteWithBorder,a&&b._disabled,l&&b._grow];return p?(0,s.jsx)(d.A,Object.assign({href:p},c.dx.n(u),{styles:b.linkWrapper,color:"inherit",external:o,containerRef:v,onClick:i},{children:(0,s.jsxs)("span",Object.assign({className:y(...x)},{children:[e&&(0,s.jsx)("div",Object.assign({className:y(b.icon)},{children:e})),t&&(0,s.jsx)("div",Object.assign({className:y(b.content)},{children:t}))]}))})):(0,s.jsxs)("button",Object.assign({},c.dx.n(u),c.dx.t(m),c.dx.v(g),{"data-ps":f,className:y(...x),ref:v,onClick:i},{children:[e&&(0,s.jsx)("div",Object.assign({className:y(b.icon)},{children:e})),t&&(0,s.jsx)("div",Object.assign({className:y(b.content)},{children:t}))]}))}));g.displayName="NavFooterButton";const h=(0,n.r)({button:{padding:"0 6px",background:r.T.gray_f2f2f2,borderRadius:8,marginEnd:8,display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:40,boxSizing:"border-box","&:last-child":{marginEnd:0}},linkWrapper:{marginEnd:8,"&:last-child":{marginEnd:0}},content:{padding:"0 6px","&:empty":{display:"none"}},_grow:{flexGrow:1,flexShrink:0},_white:{background:r.T.white},_whiteWithShadow:{background:r.T.white,boxShadow:`0px 3px 10px ${(0,a.m)(r.T.gray_262626,.15)}`},_whiteWithBorder:{background:r.T.white,border:`1px solid ${r.T.gray_e6e6e6}`},_blue:{background:r.T.blue_028eff,color:r.T.white},_blueWithShadow:{background:r.T.blue_028eff,color:r.T.white,boxShadow:`0px 3px 10px ${(0,a.m)(r.T.gray_262626,.15)}`},_disabled:{opacity:.8},icon:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}}})},65811:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(31085),r=i(10048),n=i(58471),a=i(40837);const o=e=>(0,s.jsx)(r.w,{loader:n.b.photoViewer,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:a.N})},62685:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});var s=i(31085),r=i(46579),n=(i(14041),i(5449)),a=i(1999);const o=({children:e,desktopWidth:t,onClose:i,dataN:o,withCloseButton:c})=>{const{isMobileDevice:d}=(0,r.U)();return d?(0,s.jsx)(n.B,Object.assign({dataN:o,onClose:i,withCloseButton:c},{children:e})):(0,s.jsx)(a.j,{dataN:o,body:e,withCloseButton:c,onClose:i,desktopWidth:t})};o.displayName="PopupAdaptiveLayout"},1999:(e,t,i)=>{"use strict";i.d(t,{j:()=>m});var s=i(31085),r=i(14041),n=i(99259),a=i(81618),o=i(64099),c=i(70498),d=i(84175),l=i(46501),u=i(12043),p=i(46579);const m=(0,r.memo)((e=>{const{header:t,body:i,footer:r,withCloseButton:n,onClose:o,dataN:c="",dataT:m="",desktopWidth:h,backgroundColor:f,darkMode:v=!1,darkCloseBackground:b=v,bodyFooter:y,innerRef:x,styles:j,competitionFriendsMode:w}=e,{css:I,s:C}=(0,d.I)(g),{isMobileDevice:_}=(0,p.U)(),k=Object.assign(Object.assign({},_||void 0===h?{}:{width:h}),f?{background:f}:{});return(0,s.jsxs)("div",Object.assign({ref:x,className:I(C.layout,v&&C.darkMode,j)},a.dx.n(c),a.dx.t(m),{style:k},{children:[t&&(0,s.jsx)("div",Object.assign({className:I(C.item)},{children:t})),(0,s.jsx)("div",Object.assign({className:I(C.body)},a.dx.n("wat-layout-body"),{children:i})),y&&y,r&&(0,s.jsx)("div",Object.assign({className:I(C.item)},{children:r})),o&&(0,s.jsx)(u.j,{children:(0,s.jsx)("div",Object.assign({},a.dx.n("wat-popup-close"),{className:I(C.close,v&&b&&C.darkMode,w&&C.competitionFriendsMode),onClick:o},{children:(0,s.jsx)(l.b,{})}))}),o&&n&&(0,s.jsx)(u.h,{children:(0,s.jsx)("div",Object.assign({},a.dx.n("wat-popup-close"),{className:I(C.close,v&&C.darkMode),onClick:o},{children:(0,s.jsx)(l.b,{})}))})]}))}));m.displayName="PopupLayout";const g=(0,d.r)((e=>({layout:{position:e.mobile?"fixed":"relative",top:0,start:0,display:"flex",flexDirection:"column",maxHeight:e.mobile?"100%":"90vh",height:e.mobile?"100%":"initial",background:n.T.white,width:e.mobile?"100%":o.Ej.popupFrameWidth,borderRadius:e.mobile?"initial":o.Vq.isolate,boxShadow:c.E.popup,overflow:"hidden"},item:{flexShrink:0},body:Object.assign({position:"relative",display:"flex",flexDirection:"column",flex:"1 1 auto",overflowY:"auto",overflowX:"hidden"},o.W2),close:{position:"absolute",width:24,height:24,top:8,end:8,cursor:"pointer"},competitionFriendsMode:{top:24,end:24},darkMode:{backgroundColor:n.T.gray_141414,color:n.T.white}})))},60372:(e,t,i)=>{"use strict";i.d(t,{S:()=>m});var s=i(31085),r=i(14041),n=i(80552),a=i(80690),o=i(11540),c=i(84175),d=i(29751),l=i(82781),u=i(81618);function p({price:e,isInteger:t,period:i},s){if(e)return{formattedPrice:(0,d.$)({price:e,isInteger:t,period:i},s)}}const m=r.memo((e=>{const{s:t,css:i}=(0,c.I)(g),r=(0,o.kc)(p,e),n=(0,l.c)(),d=e.dataN||"",m=null==r?void 0:r.formattedPrice;if(!m)return null;const h=i(t.price,t.medium,e.valueStyles),f=i(t.normal,e.currencyStyles);switch(m.type){case"label":return(0,s.jsx)("span",Object.assign({className:h},{children:m.label}));case"fixed":return(0,s.jsxs)("span",Object.assign({className:i(t.price)},{children:[(0,s.jsx)("span",Object.assign({},u.dx.n(d),{className:h},{children:m.value}))," ",(0,s.jsxs)("span",Object.assign({className:f},{children:[m.currency,m.unit&&"/"+m.unit]}))]}));case"from":return(0,s.jsxs)("span",Object.assign({className:i(t.price)},{children:[(0,s.jsx)("span",Object.assign({},u.dx.n(d),{className:h},{children:n._t("от %1",[m.value])}))," ",(0,s.jsx)("span",Object.assign({className:f},{children:m.currency}))]}));case"range":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",Object.assign({className:h},{children:m.min})),(0,s.jsx)("span",Object.assign({className:i(t.normal)},{children:a.C6})),(0,s.jsxs)("span",Object.assign({className:i(t.price)},{children:[(0,s.jsx)("span",Object.assign({className:h},{children:m.max}))," ",(0,s.jsx)("span",Object.assign({className:f},{children:m.currency}))]}))]});default:return null}})),g=(0,c.r)({price:{whiteSpace:"nowrap"},medium:{fontWeight:n.fontWeight.medium},normal:{fontWeight:n.fontWeight.normal}})},80677:(e,t,i)=>{"use strict";i.d(t,{t:()=>v});var s=i(31085),r=i(14041),n=i(80552),a=i(71064),o=i(81618),c=i(99259),d=i(46579),l=i(84175),u=i(82781),p=i(79594),m=i(82393);const g={3:'ООО "МикроСис"',4:'ООО "Городские Информационные Системы"',5:'ООО "ДубльГИС-Кемерово"',6:'ООО "ДубльГИС-Новокузнецк"',8:'ООО "2ГИС.ЮГ"',10:'ООО "2ГИС-Рязань"',11:'ООО "ДубльГИС-Иркутск"',12:'ООО "ДубльГИС-Иркутск"',13:'ООО "ДубльГИС-Тюмень"',20:'ООО "Городские Информационные Системы"',23:'ООО "2ГИС.ЮГ"',24:'ООО "2ГИС.Р"',25:'ООО "ДубльГИС-Владивосток"',26:'ООО "ДубльГИС-Магнитогорск"',27:'ООО "Городские Информационные Системы"',28:'ООО "2ГИС.ЦФО"',29:'ООО "2ГИС-Закамье"',30:'ООО "2ГИС.ЮГ"',31:'ООО "ДубльГИС Воронеж"',33:'ООО "2ГИС-Саратов"',34:'ООО "ДубльГИС-Кострома"',35:'ООО "2ГИС-ХАБАРОВСК"',36:'ООО "2ГИС-Калининград"',37:'ООО "2ГИС-Улан-Удэ"',39:'ООО "ДубльГИС-Сургут"',40:'ООО "2ГИС-Калининград"',41:'ООО "ДубльГИС Поволжье"',42:'ООО "2ГИС.Пенза"',43:'ООО "2ГИС-Саратов"',44:'ООО "2ГИС-Рязань"',45:'ООО "2ГИС-Нижний Тагил"',46:'ООО "2ГИС.С"',47:'ООО "2ГИС.ЦФО.Т"',48:'ООО "ДубльГИС-Оренбург"',49:'ООО "ДубльГИС-Архангельск"',50:'ООО "2ГИС РЕГИОН"',51:'ООО "2ГИС-Байкал"',52:'ООО "ДубльГИС-Благовещенск"',53:'ООО "2ГИС-Улан-Удэ"',54:'ООО "2ГИС.С"',55:'ООО "ДубльГИС-Ульяновск"',56:'ООО "2ГИС.ЛИПЕЦК"',57:'ООО "ДубльГИС-Ставрополь"',58:'ООО "ДубльГИС Поволжье"',59:'ООО "2ГИС.ЦФО.Т"',61:'ООО "ДубльГИС-Калуга"',62:'ООО "2ГИС.ЦФО"',63:'ООО "2ГИС СИСТЕМА"',64:'ООО "2ГИС-Байкал"',65:'ООО "2ГИС-Калининград"',67:'ТОО "2ГИС-Справочник Двух Столиц"',68:'ТОО "2GIS-Astana (2ГИС-Астана)"',69:'ООО "ДубльГИС-Абакан"',71:'ООО "2ГИС-ОРЕЛ"',72:'ООО "ДубльГИС-Ульяновск"',73:'ООО "ДубльГИС-Миасс"',74:'ООО "2ГИС-Новороссийск"',76:'ООО "2ГИС СЕВЕР"',77:'ООО "ДубльГИС-Новгород"',78:'ООО "2ГИС Вологда"',80:'ООО "ДубльГИС-Петрозаводск"',81:'ООО "2ГИС-Тамбов"',82:'ООО "ДубльГИС-Владивосток"',83:'ООО "ДубльГИС-Владивосток"',84:'ТОО "2ГИС-Справочник Караганды"',85:'ООО "2ГИС-САРАНСК"',86:'ООО "ДубльГИС-Кемерово"',87:'ООО "ДубльГИС-Миасс"',88:'ООО "2ГИС РЕГИОН"',89:'ООО "ДубльГИС-КМВ"',90:'ООО "ДубльГИС-Псков"',91:'ТОО "2ГИС-ОСКЕМЕН"',94:'ООО "ДубльГИС Комсомольск-на-Амуре"',95:'ООО "2ГИС-Камчатка"',96:'ООО "2ГИС СЕВЕР"',97:'ООО "ДубльГИС-Тюмень"',103:'ООО "2ГИС-Ноябрьск"',106:'ООО "2ГИС.ЮГ"',108:'ООО "2ГИС-Закамье"',109:'ООО "ДУБЛЬГИС-КАМЕНСК-УРАЛЬСКИЙ"',111:'ТОО "2ГИС-ПАВЛОДАР"',112:'ООО "ДваГИС-Бишкек"',113:'ООО "2ГИС-Дагестан"',115:'ООО "2ГИС.Грозный"',116:'ООО "2ГИС.ЮГ"',124:'ООО "ДубльГИС-Ульяновск"',131:'ООО "2ГИС.ЮГ"',139:'ООО "2ГИС-Ноябрьск"',150:'ООО "ДубльГИС-Ульяновск"',161:'ТОО "2ГИС-Шымкент"',162:'ТОО "2GIS Запад"',167:'ТОО "2GIS Aktobe"',168:'ТОО "2GIS-Atyrau"',170:'ТОО "2GIS-SEVER.KZ"',171:'ООО "ДваГИС-Бишкек"',196:'ТОО "2GIS-Mangystau"',201:'ТОО "2GIS-SEVER.KZ"',203:'ТОО "2GIS-Qostanai (2ГИС Костанай)"',204:'ООО "ДубльГИС-Ульяновск"',206:'ООО "ДубльГИС-Новокузнецк"',207:'ООО "2ГИС-Ноябрьск"',208:'СП OOO "2 GIS"',209:'ООО "ДваГИС-Бишкек"'};var h=i(82664),f=i(80848);const v=r.memo((({buttonName:e,type:t})=>{const{lang:i,privacyUrl:n,licenseAgr:c,defaultCountryCode:v,brandCode:j}=(0,d.U)(),{s:w,css:I}=(0,l.I)(b),C=(0,p.d4)(m.MJ),_=(0,u.c)(),k=e||_._t("Отправить"),O=r.useMemo((()=>"default_partner"===t&&C?(e=>e in g?"2ГИС":void 0)(C):void 0),[C,t]),S=O&&y[v]||n,T=O&&x[v]||c,E=(()=>{if("ru"!==i&&"az"!==i&&"ka"!==i)return;const e={agree:e=>(0,s.jsx)(a.A,Object.assign({href:T,external:!0},{children:e})),privacy:e=>(0,s.jsx)(a.A,Object.assign({href:S,external:!0},{children:e})),privacyAdditionalRu:e=>(0,s.jsx)(a.A,Object.assign({href:"https://law.2gis.ru/personal-data-dublgis",external:!0},{children:e})),privacyAdditionalGe:e=>(0,s.jsx)(a.A,Object.assign({href:"https://law.2gis.ge/personal-data-dublgis",external:!0},{children:e}))};if("GE"===v){const t="ka"===i?_._gg('"%1" ღილაკზე დაჭერით თქვენ ეთანხმებით $agree[სალიცენზიო შეთანხმების]. პერსონალური მონაცემების დამუშავების პირობები და მიზნები განსაზღვრულია $privacy[კონფიდენციალურობის პოლიტიკაში]. $privacyAdditionalGe[პერსონალური მონაცემების დამუშავების პოლიტიკაში].',[k]):_._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности]. $privacyAdditionalGe[Политика обработки персональных данных].",[k]);return(0,s.jsx)(f.w,{template:t,render:e})}if("ru"===i&&"RU"===v)return"default_partner"===t&&O?(0,s.jsx)(f.w,{template:_._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[k]),render:e}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.w,{template:_._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[k]),render:e}),(0,s.jsx)("br",{}),(0,s.jsx)(f.w,{template:_._gg("$privacyAdditionalRu[Политика обработки персональных данных]."),render:e})]});if("default"===t||"default_partner"===t&&!O){const t="az"===i?_._gg('Siz "%1" düyməsini sıxmaqla, $agree[Lisenziya müqaviləsinin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[k,(0,h.o)("AZ","az",j)]):_._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности].",[k,(0,h.o)("RU","ru",j)]);return(0,s.jsx)(f.w,{template:t,render:e})}if("default_partner"===t&&O){const t="az"===i?_._gg('Siz "%1" düyməsini sıxmaqla, $agree[Sazişin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[k,O]):_._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности]",[k,O]);return(0,s.jsx)(f.w,{template:t,render:e})}})();if(E)return(0,s.jsx)("div",Object.assign({className:I(w.legal)},o.dx.n("wat-privacy-policy"),{children:E}));const M="order"===t?_._t("Я даю 2ГИС согласие на обработку и передачу третьим лицам своих персональных данных и согласен с «[Политикой конфиденциальности]»"):_._t("Нажимая кнопку «Отправить», я даю %1 согласие на обработку персональных данных на условиях и в целях, определённых «[Политикой конфиденциальности]»",[(0,h.o)(v,i,j)]);return(0,s.jsx)("div",Object.assign({className:I(w.legal)},o.dx.n("wat-privacy-policy"),{children:(0,s.jsx)(a.A,Object.assign({templated:!0,href:n,external:!0},{children:M}))}))}));v.displayName="PrivacyPolicy";const b=(0,l.r)({legal:Object.assign(Object.assign({},n.small),{color:c.T.gray_929292})}),y={RU:"https://law.2gis.ru/privacy-partner",KZ:"https://law.2gis.kz/privacy-partner",AZ:"https://law.2gis.az/privacy-partner",KG:"https://law.2gis.kg/privacy-partner",UZ:"https://law.2gis.uz/privacy-partner",BY:"https://law.2gis.by/privacy-partner",AM:"https://law.2gis.am/privacy-partner",GE:"https://law.2gis.ge/privacy-partner"},x={RU:"https://law.2gis.ru/partner-agreement",KZ:"https://law.2gis.kz/partner-agreement",AZ:"https://law.2gis.az/partner-agreement",KG:"https://law.2gis.kg/partner-agreement",UZ:"https://law.2gis.uz/partner-agreement",BY:"https://law.2gis.by/partner-agreement",GE:"https://law.2gis.ge/partner-agreement"}},53663:(e,t,i)=>{"use strict"},78579:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var s=i(31085);i(14041),i(15471),i(53663);const r=e=>(0,s.jsx)(s.Fragment,{children:e.children})},62378:(e,t,i)=>{"use strict";i.d(t,{a:()=>Qe});var s=i(31085),r=i(14041),n=i(99259),a=i(80552),o=i(70498),c=i(81618),d=i(84175),l=i(82781),u=i(11540),p=i(10742),m=i(41411),g=i(53157);const h=(e,{dateFns:t,tp:i})=>{var s,r;const{comment:n,upperCutTextLength:a,showFullOfficialAnswer:o,commentsCount:c,reviewUserId:d,userId:l,ownerComponent:u}=e,p="card"!==u,h=(0,g.M8)(n.text),f=a/3,v=o?h:(0,g.IC)(h,3,f),b=n.is_official_answer,y=l===d,x=!!n.user,j=!(!y&&1===c)&&(p&&c>0),w=b&&d===l&&"card"!==u&&"myReviews"!==u;return{name:(null===(s=n.org)||void 0===s?void 0:s.name)||(null===(r=n.user)||void 0===r?void 0:r.name),date:n.date_created?(0,m.l)({isoDate:n.date_created,currentDate:new Date},{tp:i,dateFns:t})||"":void 0,text:v,isOfficialAnswer:b,isAllCommentsLinkDisplayed:j,showRemove:y&&!b&&x,highlightAnswer:w}};var f=i(64099),v=i(71064),b=i(18971),y=i(76504),x=i(53615),j=i(23098),w=i(4),I=i(46579);const C=r.memo((e=>{var t,i,r,a;const{isAdvertiser:o,isSearchBot:c,comment:l,orgAvatar:u}=e,{lang:p}=(0,I.U)(),{s:m,css:g}=(0,d.I)(_),h=(null===(t=l.user)||void 0===t?void 0:t.photo_preview_urls)&&(null===(i=l.user)||void 0===i?void 0:i.photo_preview_urls["64x64"]),f=(null===(r=l.org)||void 0===r?void 0:r.logo_preview_urls)&&(null===(a=l.org)||void 0===a?void 0:a.logo_preview_urls["64x64"])||u;if(l.org){if(f)return(0,s.jsx)("div",Object.assign({className:g(m.avatar)},{children:(0,s.jsx)(y.O,{src:f,isLoadingForced:c,alt:"ru"===p?"Аватар":void 0})}));if(o)return(0,s.jsx)("div",Object.assign({className:g(m.avatar,m._crownAnswer)},{children:(0,s.jsx)(x.O,{color:n.T.yellow_ffb81c})}));const e=l.org.name||l.org_name;if(e)return(0,s.jsx)("div",Object.assign({className:g(m.avatar)},{children:(0,s.jsx)(w.U,{backgroundSeed:e,userName:e})}))}return l.user?(0,s.jsx)("div",Object.assign({className:g(m.avatar)},{children:(0,s.jsx)(j.e,{src:h,initials:()=>(0,s.jsx)(w.U,{backgroundSeed:l.user.id,userName:l.user.name}),isLoadingForced:c})})):(0,s.jsx)("div",{className:g(m.avatar)})})),_=(0,d.r)({avatar:{width:24,height:24,borderRadius:"50%",background:"center no-repeat",backgroundSize:"cover",display:"inline-block",verticalAlign:"top",marginEnd:8,overflow:"hidden"},_crownAnswer:{display:"inline-flex",justifyContent:"center",alignItems:"center",background:n.T.white}}),k=r.memo((e=>{const{withDivider:t=!1,comment:i,upperCutTextLength:a,showFullOfficialAnswer:o,commentsCount:m,reviewUserId:g,isAdvertiser:f,isSearchBot:y,userId:x,ownerComponent:j,needToScrollToLastComment:w,orgAvatar:I}=e,_=(0,l.c)(),{css:k,s:S}=(0,d.I)(O),T=r.useRef(null),{text:E,name:M,date:N,isOfficialAnswer:L,highlightAnswer:P,isAllCommentsLinkDisplayed:R,showRemove:A}=(0,u.kc)(h,{comment:i,upperCutTextLength:a,showFullOfficialAnswer:o,commentsCount:m,reviewUserId:g,userId:x,ownerComponent:j});r.useEffect((()=>{T&&w&&setTimeout((()=>{var e;if(null===(e=T.current)||void 0===e?void 0:e.scrollIntoView)try{T.current.scrollIntoView({block:"center"})}catch(e){T.current.scrollIntoView()}}),300)}),[]);const B=(0,p.D)((t=>{const{onShowAllCommentsClick:i}=e;t.stopPropagation(),i&&i()})),z=(0,p.D)((()=>{const{onRemoveCommentClick:t,comment:i}=e;t&&t(i.id)})),F=r.useMemo((()=>{if(A)return(0,s.jsx)("div",Object.assign({className:k(S.actions,!L&&S._withBorder)},{children:(0,s.jsx)("div",Object.assign({onClick:z,className:k(S.delete)},c.dx.n("wat-review-trash"),{children:(0,s.jsx)(b.l,{color:n.T.gray_929292})}))}))}),[z,L,A,k,S.actions,S._withBorder,S.delete]);return(0,s.jsxs)("div",Object.assign({className:k(S.root,L&&S._official,P&&S._officialHighlighted)},c.dx.n("wat-review-comment-block"),{ref:T},{children:[(0,s.jsx)(C,{comment:i,orgAvatar:I,isSearchBot:y,isAdvertiser:f,highlightAnswer:P}),(0,s.jsxs)("div",Object.assign({className:k(S.title)},{children:[(0,s.jsx)("span",Object.assign({className:k(S.name),title:M},c.dx.n("wat-review-company-name"),{children:M})),N&&(0,s.jsx)("div",Object.assign({className:k(S.date)},c.dx.n("wat-official-answer-date"),{children:L?_._t("%1, официальный ответ",[N]):N}))]})),(0,s.jsx)("div",Object.assign({className:k(S.text,!A&&!L&&t&&S._withBorderAndOffset)},c.dx.n("wat-review-comment-text"),{children:E})),F,R&&(0,s.jsx)("div",Object.assign({className:k(S.link)},c.dx.n("wat-review-all-comments"),{children:(0,s.jsx)(v.N,Object.assign({onClick:B},{children:_._t("Все комментарии")}))}))]}))})),O=(0,d.r)({root:{padding:"8px 16px"},actions:{textAlign:"end",marginStart:32},link:{marginStart:32,marginTop:8},name:{maxWidth:272,textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap"},title:Object.assign({display:"inline-block"},a.regularMedium),date:Object.assign(Object.assign({},a.small),{color:n.T.gray_929292,marginBottom:12}),text:Object.assign(Object.assign({},a.regular),{marginStart:32,overflow:"hidden",whiteSpace:"pre-line",wordBreak:"break-word",wordWrap:"break-word"}),delete:{display:"inline-block",cursor:"pointer",marginEnd:-4},_official:{borderRadius:f.Vq.default,backgroundColor:n.T.gray_f2f2f2,padding:"12px 16px"},_officialHighlighted:{backgroundColor:n.T.white},_withBorder:{boxShadow:o.E.innerBorderBottomBase},_withBorderAndOffset:{paddingBottom:8,boxShadow:o.E.innerBorderBottomBase}});var S=i(88756);const T=e=>{const{review:t,showObjectInsteadUser:i}=e,s=((e,t)=>{var i,s;if(t){if(!e.object.logo_urls)return;return null===(i=e.object.logo_urls)||void 0===i?void 0:i["64x64"]}return null===(s=e.user.photo_preview_urls)||void 0===s?void 0:s["64x64"]})(t,i);return{title:i?t.object.name:t.user.name,userName:t.user.name,userId:t.user.id,userReviewCount:t.user.reviews_count,userPublicProfileId:t.user.public_id,avatar:s,showRating:t.is_rated,rating:t.rating}};var E=i(12043),M=i(89268);var N=i(39088),L=i(54405),P=i(43772),R=i(52821),A=i(46501),B=i(8365),z=i(34438),F=i(50432),H=i(80905),U=i(46287),D=i(98379);const V={card:"currentReviewFrame",entity:"cardReviewsList",unconfirmed:"unconfirmedReviewsList",myReviews:"profileReviewsList",realty:"buildingReviewTab"},$=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:i}=e;return{action:"tap",uiElement:{name:"myReviewEdit",ownerName:"buildingReviewTab"===t.ownerName?"buildingReviewTab":"currentReviewFrame"===t.ownerName?"reviewCardFull":"myReview",frameUuid:t.frameUuid},payload:i}},W=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:i}=e;return{action:"tap",uiElement:{name:"addReviewButton",ownerName:"profileReviewsList"===t.ownerName?"reviewItem":"myReview",frameUuid:t.frameUuid},payload:i}},q=e=>({frameId:t},i)=>{const{review:s}=e,r=G(t,s,i);if(!r)return;return{action:"tap",uiElement:{name:"shareReviewButton",ownerName:"reviewItem",frameUuid:t},payload:{reviewItem:r}}},Z=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:i}=e;return{action:"tap",uiElement:{name:"deleteReviewButton",ownerName:"buildingReviewTab"===t.ownerName?t.ownerName:"profileReviewsList"===t.ownerName?"reviewItem":"myReview",frameUuid:t.frameUuid},payload:i}},Q=()=>({frameId:e,showEventParams:t},i)=>{if(!t)return;let s;if("profileReviewsList"===t.uiElement.ownerName)s={action:"tap",uiElement:{name:"allComments",ownerName:"profileReviewsList",frameUuid:e},payload:t.payload};else{const t=(0,H.bB)(i.appContext.frames,"entity");if(t){const r=(0,D.t)({state:i,entityFrameId:t.id});if(!r)return void(0,F.vV)({message:'Не удалось затрекать событие нажатия кнопки "Все комментарии" в отзывах из-за отсутствия placeItem a-a4zft',level:"error",id:"dbgho8",payload:{type:"debug",subtype:"BssTrackerV3"}});s={action:"tap",uiElement:{name:"allComments",ownerName:"cardReviews",frameUuid:e},payload:{placeItem:r}}}}return s};function G(e,t,i){const s=(0,H.w1)(i.appContext.frames,e);if(!s)return;const r="entity"===s.type||"unconfirmedReviews"===s.type?s.entityId:t.object.id,n=(0,U.DE)({state:i,entityId:r}).data,a="branch"===(null==n?void 0:n.type)?n.org.id:void 0,o=(0,z.o)({orgId:a,review:t});if(o)return o;(0,F.vV)({message:"Не удалось сформировать payload.reviewItem для события показа отзыва (mzdqt).\n      Скорее всего не удалось сформировать offset",level:"error",id:"tkg70",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(t)}})}const K=({review:e,position:t,photo:i,state:s,frameId:r})=>{var n;const a=(0,H.w1)(s.appContext.frames,r);if(!a)return;const o="entity"===a.type||"unconfirmedReviews"===a.type?a.entityId:e.object.id,c=(0,U.Tq)({entityId:o,state:s}),d=(0,z.o)({orgId:"branch"===(null===(n=c.data)||void 0===n?void 0:n.type)?c.data.org.id:void 0,review:e});if(d)return{uiElement:{name:"reviewPhotoCardMini",ownerName:"reviewCardFull",position:t,frameUuid:r},payload:{reviewItem:d,photo:{photoId:i.id}}};(0,F.vV)({message:"Не удалось сформировать payload.reviewItem для события показа фото в отзыве (rjmco).",level:"error",id:"tkg72",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e)}})},Y=e=>{const t=(0,l.c)(),{featureShareReview:i}=(0,I.U)(),{useBssHandler:r}=(0,B.E)(),{onComplainClick:a,review:o,isOwner:u,onEditClick:p,onRemoveClick:m,externalStyles:g,onClose:h,mobileStyles:f,ownerComponent:v}=e,y=r(q,{review:o}),{css:x,s:j}=(0,d.I)(X),w=`/reviews/${o.object.id}/review/${o.id}`,C=`${window.location.origin}${w}`,{copyToClipboard:_}=(0,P.C)({textToCopy:C,title:t._t("Ссылка на отзыв скопирована"),successMessage:t._t("Делитесь ей в приложениях или мессенджерах")}),k="realty"===v;return(0,s.jsxs)("div",Object.assign({className:x(j.menu,g,f&&f)},{children:[(0,s.jsx)(E.h,{children:(0,s.jsx)("div",Object.assign({onClick:h,className:x(j.close)},{children:(0,s.jsx)(A.b,{color:n.T.gray_929292})}))}),u&&p&&(0,s.jsxs)("div",Object.assign({onClick:()=>p(o.id),className:x(j.menuRow)},c.dx.n("wat-review-edit"),{children:[(0,s.jsx)(R.f,{})," ",(0,s.jsx)("div",Object.assign({className:x(j.menuDesc)},{children:t._t("Изменить")}))]})),u&&m&&(0,s.jsxs)("div",Object.assign({onClick:()=>m(o.id),className:x(j.menuRow)},c.dx.n("wat-review-trash"),{children:[(0,s.jsx)(b.l,{})," ",(0,s.jsx)("div",Object.assign({className:x(j.menuDesc)},{children:t._t("Удалить")}))]})),i&&!k&&(0,s.jsxs)("div",Object.assign({onClick:()=>{y(),_()},className:x(j.menuRow)},c.dx.n("wat-review-share"),{children:[(0,s.jsx)(N.S,{})," ",(0,s.jsx)("div",Object.assign({className:x(j.menuDesc)},{children:t._t("Поделиться отзывом")}))]})),(0,s.jsxs)("div",Object.assign({onClick:()=>a(o.id)},c.dx.n("wat-review-complain"),{className:x(j.menuRow)},{children:[(0,s.jsx)(L.N,{}),(0,s.jsx)("div",Object.assign({className:x(j.menuDesc)},{children:t._t("Пожаловаться")}))]}))]}))},X=(0,d.r)((()=>({menu:{background:n.T.white,zIndex:f.fE.top,boxSizing:"border-box"},menuRow:{display:"flex",alignItems:"center",padding:"6px 12px",flexWrap:"nowrap"},menuDesc:{width:"max-content",marginStart:12,color:n.T.gray_929292},close:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingTop:16}})));function J({color:e="black"}){return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M17 12.5C17 11.6716 17.6716 11 18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5Z",fill:e}),(0,s.jsx)("path",{d:"M11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5Z",fill:e}),(0,s.jsx)("path",{d:"M6.5 11C5.67157 11 5 11.6716 5 12.5C5 13.3284 5.67157 14 6.5 14C7.32843 14 8 13.3284 8 12.5C8 11.6716 7.32843 11 6.5 11Z",fill:e})]}))}var ee=i(84572);const te=(0,r.forwardRef)(((e,t)=>{const{onObjectClick:i,showObjectInsteadUser:n,showReviewsTotal:a,isPinned:o,review:p,isContactTab:g,onComplainClick:h,isOwner:f,onEditClick:v,onRemoveClick:b,isCurrentReviewFrame:y,ownerComponent:x}=e,{avatar:I,userReviewCount:C,userName:_,userId:k,title:O,rating:N}=(0,u.kc)(T,e),L=(0,l.c)(),[P,R]=(0,r.useState)(),[A,B]=(0,r.useState)(!1),z=(0,M.F)();(0,r.useEffect)((()=>{R(((e,t)=>{if(e.date_edited){const i=(0,m.l)({isoDate:e.date_edited,currentDate:new Date},t);if(i)return t.tp._t("%1, отредактирован",[i])}return(0,m.l)({isoDate:e.date_created,currentDate:new Date},t)})(p,{tp:L,dateFns:z}))}),[z,p,L]);const{css:F,s:H}=(0,d.I)(ie),U=()=>o?H._narrowTitle:N&&g?H._mediumTitleTabContacts:N?H._mediumTitle:void 0,D=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),B(!1)}),[]),V=(0,r.useCallback)((()=>{B(!0)}),[]),$=y&&f&&0!==p.comments_count?H._menuMobileBottomCurrentAndOwner:H._menuMobileBottomDefault;return(0,s.jsxs)("div",Object.assign({ref:t,className:F(H.root)},{children:[(0,s.jsxs)("div",Object.assign({className:F(H.user,i&&n&&H._clickable),onClick:()=>{i&&i()}},{children:[(0,s.jsx)("div",Object.assign({className:F(H.avatar)},c.dx.n("wat-review-avatar"),{children:(0,s.jsx)(j.e,{src:I,initials:()=>(0,s.jsx)(w.U,{backgroundSeed:n?p.object.id:k,userName:n&&p.object.name?p.object.name.toUpperCase():_})})})),(0,s.jsxs)("div",Object.assign({className:F(H.title,U())},{children:[(0,s.jsx)(E.j,{children:(0,s.jsxs)(S.u,{children:[(0,s.jsx)("span",Object.assign({className:F(H.name,U()),title:O},c.dx.n("wat-user-name"),{children:O})),a&&(0,s.jsx)("span",Object.assign({className:F(H.reviewCount)},c.dx.n("wat-review-count"),{children:L._nt(["%% отзыв","%% отзыва","%% отзывов"],C)}))]})}),(0,s.jsx)(E.h,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",Object.assign({className:F(H.name,U()),title:O},c.dx.n("wat-user-name"),{children:O})),a&&(0,s.jsx)("span",Object.assign({className:F(H.reviewCount)},c.dx.n("wat-review-count"),{children:L._nt(["%% отзыв","%% отзыва","%% отзывов"],C)}))]})}),!!P&&(0,s.jsx)("div",Object.assign({className:F(H.dateAndPlace)},c.dx.n("wat-review-date"),{children:P}))]}))]})),(0,s.jsxs)("div",Object.assign({className:F(H.description)},{children:[(0,s.jsxs)("div",Object.assign({className:F(H.menuWrapper),onClick:V,onMouseEnter:V,onMouseLeave:D},c.dx.n("wat-review-menu"),{children:[(0,s.jsx)(J,{}),A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.j,{children:(0,s.jsx)(Y,{isOwner:f,onComplainClick:h,review:p,onEditClick:v||void 0,onRemoveClick:b||void 0,externalStyles:H.menuDesktop,ownerComponent:x})}),(0,s.jsx)(E.h,{children:(0,s.jsx)("div",Object.assign({className:F(H.backdropWrapper)},{children:(0,s.jsx)(Y,{isOwner:f,onComplainClick:h,review:p,onEditClick:v||void 0,onRemoveClick:b||void 0,externalStyles:H.menuMobile,mobileStyles:$,onClose:D,ownerComponent:x})}))})]})]})),o&&(0,s.jsx)("div",Object.assign({className:F(H.pinned)},c.dx.n("wat-pinned-review"),{children:L._t("Выбран компанией")}))]}))]}))})),ie=(0,d.r)((({mobile:e})=>({root:{marginBottom:"12px",padding:e?0:"0 16px",display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"nowrap"},avatar:{width:"24px",height:"24px",borderRadius:"50%",marginEnd:"8px",overflow:"hidden",display:"inline-block",verticalAlign:"top"},pin:{borderRadius:f.Vq.oval,background:n.T.gray_e6e6e6,color:n.T.white,display:"flex"},name:{textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",maxWidth:264},title:Object.assign({display:"inline-block",whiteSpace:"normal",cursor:"pointer",maxWidth:264},a.regularMedium),description:{display:"flex",flexDirection:"column",alignItems:"flex-end"},pinned:Object.assign(Object.assign({},a.small),{whiteSpace:"nowrap",color:n.T.green_299400}),reviewCount:Object.assign(Object.assign({},a.regular),{display:e?"block":"inline",color:n.T.gray_929292}),dateAndPlace:Object.assign(Object.assign({},a.small),{color:n.T.gray_929292}),user:{whiteSpace:"nowrap"},menuWrapper:{position:"relative",cursor:"pointer"},menuDesktop:{position:"absolute",end:0,padding:"8px 0",boxShadow:ee.shadows.drop,borderRadius:f.Vq.default,top:28,"::before":{content:'""',pointerEvents:"none",width:"100%",height:8,position:"absolute",top:0,bottom:0,right:0}},menuMobile:{position:"fixed",width:"100%",paddingStart:16,paddingEnd:24,paddingBottom:20,borderRadius:"6px 6px 0 0"},_menuMobileBottomDefault:{bottom:63},_menuMobileBottomCurrentAndOwner:{bottom:106},_narrowTitle:{maxWidth:164},_mediumTitle:{maxWidth:216},_mediumTitleTabContacts:{maxWidth:170},_clickable:{cursor:"pointer"},backdropWrapper:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"rgba(0, 0, 0, 0.7)",zIndex:f.fE.top}})));var se=i(35023),re=i(88114),ne=i(76217),ae=i(49741),oe=i(30352);const ce=r.memo((e=>{const{isLiked:t,isDisabled:i,counterText:r,onClick:n}=e,{css:a,s:o}=(0,d.I)(de);return(0,s.jsxs)("button",Object.assign({className:a(o.likes,t&&o._likeActive),disabled:i,onClick:n},{children:[(0,s.jsx)(oe.O,{}),(0,s.jsx)("span",Object.assign({className:a(o.likesCount)},{children:r}))]}))}));ce.displayName="PointUp";const de=(0,d.r)({likes:{display:"inline-flex",alignItems:"center",color:n.T.gray_929292,"&:hover:not([disabled])":{color:n.T.gray_262626}},_likeActive:{":not([disabled])":{color:n.T.green_30ad00},":hover:not([disabled])":{color:n.T.green_227a00}},likesCount:Object.assign({},a.small)});var le=i(68887);const ue=r.memo((e=>{const{isLiked:t,isDisabled:i,counterText:r,onClick:n}=e,{css:a,s:o}=(0,d.I)(pe),{_t:u}=(0,l.c)();return(0,s.jsxs)("button",Object.assign({className:a(o.likes,t&&o._likeActive)},c.dx.n("wat-helpful-review"),c.dx.s(t?"wat-liked":"wat-unliked"),{disabled:i,onClick:n},{children:[(0,s.jsx)("div",Object.assign({className:a(o.likeWrapper)},{children:(0,s.jsx)(oe.O,{})})),(0,s.jsx)("div",Object.assign({className:a(o.helpfullText)},{children:u("Полезно")})),(0,s.jsx)("div",Object.assign({className:a(o.likesCount)},{children:r}))]}))}));ue.displayName="Helpfull";const pe=(0,d.r)({likes:{display:"inline-flex",alignItems:"center",color:n.T.gray_929292,height:24,borderRadius:le.V.default,border:`1px solid ${n.T.gray_e6e6e6}`,paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8,boxSizing:"border-box","&:hover:not([disabled])":{color:n.T.gray_262626,border:`1px solid ${n.T.gray_929292}`}},_likeActive:{":not([disabled])":{color:n.T.green_30ad00},":hover:not([disabled])":{color:n.T.green_227a00,border:`1px solid ${n.T.gray_929292}`}},likesCount:Object.assign(Object.assign({},a.small),{color:n.T.gray_929292,display:"inline-flex",alignItems:"center",height:24,"::before":{color:n.T.gray_e6e6e6,content:'"•"',display:"inline-flex",alignItems:"center",height:24,margin:"0 4px"}}),likeWrapper:{height:24},helpfullText:Object.assign(Object.assign({},a.small),{color:n.T.gray_262626,height:24,marginStart:4,display:"inline-flex",alignItems:"center"})}),me=e=>{const{review:t,userId:i}=e;return{isOwner:i===t.user.id,isLiked:!!t.additional_data.is_liked,counterText:(0,ne.r)(t.likes_count)}},ge=r.memo((e=>{const{onLikeClick:t,review:i,isDisabled:r}=e,{isOwner:n,counterText:a,isLiked:o}=(0,u.kc)(me,e),c=(0,p.D)((e=>{e.stopPropagation(),t(i.id)}));return n?(0,s.jsx)(ce,{isLiked:o,onClick:c,counterText:a,isDisabled:!0}):(0,s.jsx)(ue,{isLiked:o,onClick:c,counterText:a,isDisabled:r})}));ge.displayName="ReviewLike";var he=i(79594),fe=i(91818),ve=i(21959);const be=e=>{var t;const i=(0,l.c)(),{css:n,s:a}=(0,d.I)(ye),o=(0,r.useRef)(null),{featureEmojis:c}=(0,I.U)(),u=(0,he.wA)(),{review:p,userId:m,showReadWholeButton:g,onReadMoreClick:h,isLikeDisabled:f,onLikeClick:b,toggleEmojiUserProfile:y,bssEmojiClickHandler:x,bssEmojiRightClickHandler:j,bssShowEmojiDetailsFunction:w,bssTapEmojiFromPickerHandler:C}=e,_=(0,se.O9)(p.views_count)?(0,ne.r)(p.views_count):void 0,k=(0,he.d4)(ve.x3),{data:O}=ae.j.useAvailableEmojisQuery({}),S="2gis"!==p.provider?null===(t=p.provider_data)||void 0===t?void 0:t.icon_url.replace(/{width}|{height}/g,"40"):void 0;(0,r.useEffect)((()=>{var e;"handleToggleEmoji"===(null===(e=(0,fe.G7)())||void 0===e?void 0:e.key)&&k&&u((0,fe.cZ)())}),[u,k]);const T=(0,r.useCallback)(((e,t,i)=>u((0,fe.oC)("handleToggleEmoji",{reviewId:e,emojiId:t,isSelected:i}))),[u]),E=y||T;return(0,s.jsxs)("div",Object.assign({ref:o,className:n(a.root)},{children:[g&&(0,s.jsx)("span",Object.assign({className:n(a.expand),onClick:()=>h(p.id)},{children:i._t("Читать целиком")})),(0,s.jsxs)("div",Object.assign({className:n(a.actions)},{children:[(0,se.O9)(_)&&(0,s.jsx)("div",Object.assign({className:n(a.action)},{children:(0,s.jsx)("span",{children:i._nt(["%% просмотр","%% просмотра","%% просмотров"],Number(_))})})),(0,s.jsx)("div",Object.assign({className:n(a.actionsPart)},{children:S&&(0,s.jsx)("div",Object.assign({className:n(a.action)},{children:(0,s.jsx)(v.N,Object.assign({external:!0,href:p.url},{children:(0,s.jsx)(re.E,{src:S,width:20,height:20,alt:p.provider})}))}))}))]})),(0,s.jsx)("div",Object.assign({className:n(a.actionsPart)},{children:c&&O?(0,s.jsx)(ae.s,{toggleEmoji:E,emojis:p.emojis||[],availableEmojis:O,reviewId:p.id,parentRef:o,bssEmojiClickHandler:x,bssEmojiRightClickHandler:j,bssShowEmojiDetailsFunction:w,bssTapEmojiFromPickerHandler:C}):(0,s.jsx)(ge,{isDisabled:f,onLikeClick:b,userId:m,review:p})}))]}))},ye=(0,d.r)({root:{paddingTop:8,paddingBottom:4,paddingStart:16,paddingEnd:16,boxSizing:"border-box"},expand:{color:n.T.blue_0072ce,cursor:"pointer",display:"block",paddingBottom:8},actions:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:8},actionsPart:{display:"inline-flex",gap:12},action:Object.assign(Object.assign({},a.small),{display:"flex",height:24,alignItems:"center",color:n.T.gray_929292})});var xe=i(24797);function je(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 13 13"},{children:(0,s.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,s.jsx)("path",{fill:"#FFB81C",d:"M6.5 0a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z"}),(0,s.jsx)("path",{fillRule:"nonzero",fill:"#FFF",d:"M8.5 3h-4a.5.5 0 0 0-.5.5v1.018l.007.081c.013.08.045.156.094.22l1.273 1.682L4.1 8.2a.5.5 0 0 0-.1.3v1a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-1l-.006-.08A.497.497 0 0 0 8.9 8.2L7.625 6.501 8.899 4.82A.505.505 0 0 0 9 4.518V3.5a.5.5 0 0 0-.5-.5zM8 4v.349l-1.399 1.85-.05.08A.5.5 0 0 0 6.6 6.8L8 8.667V9H5v-.333L6.4 6.8l.05-.08a.506.506 0 0 0-.051-.522L5 4.351V4h3z"})]}))}))}var we=i(74641);function Ie(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 13 13"},{children:(0,s.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,s.jsx)("path",{fill:"#97C9DB",d:"M6.5 0a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z"}),(0,s.jsx)("path",{fill:"#FFF",d:"M7 8v2H6V8h1zm0-5v4H6V3h1z"})]}))}))}var Ce=i(1364),_e=i(64433),ke=i(11989),Oe=i(95280),Se=i(7335);const Te=e=>{const{reviewId:t}=e;return(0,Se.eU)((e=>(0,Ce.X0)(e,t)),(e=>(0,Oe.P)(e)&&(0,ke.Bs)({id:t})))};function Ee(e,t){switch(e){case"blocked":return t._t("Заблокирован модератором");case"unrated":return t._t("На проверке");case"unrated_manual":return t._t("Не влияет на рейтинг");case"object_deleted":return t._t("Филиал закрылся");default:return}}var Me=i(63041);function Ne({width:e=16,height:t=16}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 14 14"},{children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",Object.assign({id:"sber-icon-a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,s.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,s.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,s.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,s.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"sber-icon-b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,s.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,s.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,s.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"sber-icon-c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,s.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,s.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,s.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"sber-icon-d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,s.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,s.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"sber-icon-e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,s.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,s.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,s.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,s.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,s.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"sber-icon-f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,s.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,s.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,s.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,s.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,s.jsx)("path",{fill:"#21A038",d:"M12.264 2.696c.325.426.6.89.82 1.38L6.849 8.735 4.242 7.079V5.087l2.606 1.656 5.416-4.047z"}),(0,s.jsx)("path",{fill:"url(#sber-icon-a)",d:"M1.582 6.938c0-.09.002-.178.006-.266l-1.58-.079C.004 6.708 0 6.823 0 6.94c0 .91.176 1.813.52 2.654a6.95 6.95 0 001.485 2.25l1.12-1.135a5.335 5.335 0 01-1.143-1.73 5.377 5.377 0 01-.4-2.04z"}),(0,s.jsx)("path",{fill:"url(#sber-icon-b)",d:"M6.847 1.603c.088 0 .175.003.262.007L7.19.01a6.744 6.744 0 00-2.964.516c-.83.349-1.585.86-2.22 1.505l1.12 1.136a5.187 5.187 0 013.721-1.565z"}),(0,s.jsx)("path",{fill:"url(#sber-icon-c)",d:"M6.847 12.274c-.089 0-.176 0-.264-.007l-.079 1.6a6.772 6.772 0 005.182-2.023l-1.119-1.135a5.205 5.205 0 01-3.72 1.565z"}),(0,s.jsx)("path",{fill:"url(#sber-icon-d)",d:"M9.814 2.534l1.332-.995A6.762 6.762 0 006.845 0v1.602c1.06 0 2.095.324 2.97.932z"}),(0,s.jsx)("path",{fill:"#21A038",d:"M13.693 6.938a7.09 7.09 0 00-.108-1.243l-1.473 1.1v.143c0 .746-.154 1.483-.453 2.164a5.291 5.291 0 01-1.282 1.79l1.063 1.191a6.916 6.916 0 001.666-2.33 7 7 0 00.587-2.815z"}),(0,s.jsx)("path",{fill:"url(#sber-icon-e)",d:"M6.847 12.274a5.196 5.196 0 01-2.136-.459 5.259 5.259 0 01-1.767-1.299L1.77 11.593a6.836 6.836 0 002.299 1.689c.874.393 1.82.596 2.778.595v-1.603z"}),(0,s.jsx)("path",{fill:"url(#sber-icon-f)",d:"M3.316 2.984l-1.062-1.19A6.915 6.915 0 00.587 4.122 7.043 7.043 0 000 6.938h1.582a5.339 5.339 0 011.734-3.954z"})]}))]}))}var Le=i(51021),Pe=i(96141),Re=i(56190),Ae=i(81988),Be=i(81678),ze=i(20749),Fe=i(98159),He=i(12017),Ue=i(24872),De=i(77211),Ve=i(78069),$e=i(39123),We=i(89446);const qe=(e,{tp:t})=>{const{review:i,showAddress:s,ownerComponent:r,userId:n}=e,a=i.text?(0,g.M8)(i.text):"",o=i.official_answer?(0,g.M8)(i.official_answer.text):"",c="card"!==r&&(a.length>150||o.length>150),d=!!i.object.is_deleted;return{text:a,notificationText:Ee(i.hiding_type,t),showReadWholeButton:c,address:s?i.object.address:void 0,upperCutTextLength:100,isOverlaid:d,isOwner:void 0!==n&&n===i.user.id}},Ze=e=>{const{review:t,ownerComponent:i,comments:s=[],isPublicProfile:r=!1}=e,n=(e=>{var t;const{review:i,comments:s,isPublicProfile:r=!1}=e,n=[];if(i.official_answer&&n.push(Object.assign(Object.assign({},i.official_answer),{is_hidden:!1,is_official_answer:!0,org:Object.assign(Object.assign({},i.object),{name:i.object.name||(null===(t=i.official_answer)||void 0===t?void 0:t.org_name)})})),r&&!i.official_answer){const e=null==s?void 0:s.find((e=>e.is_official_answer));e&&n.push(e)}return null==s||s.forEach((e=>!e.is_official_answer&&e.text?n.push(e):void 0)),n})({review:t,comments:s,isPublicProfile:r});return{formattedComments:"card"===i?n:n.slice(0,1)}},Qe=(0,r.memo)((e=>{const{review:t,isSearchBot:i,userId:a,answerOrgAvatar:o,position:m,showReviewsTotal:g,showAddress:h=!1,isPinned:f=!1,isAdvertiser:v=!1,isLikeDisabled:b=!1,ownerComponent:y,bssShowFunction:x,onRemoveCommentClick:j,onComplainClick:w,onEditClick:C,onRemoveClick:_,onLikeClick:O,onAllCommentsClick:S,showObjectInsteadUser:T,boxShadowDirection:E="bottom",bssTapPhotoItemFunction:M,bssShowPhotoItemFunction:N,onHeaderClick:L,isContactTab:P,isPublicProfile:R=!1,isCurrentReviewFrame:A,isFriendProfile:z,toggleEmojiUserProfile:U}=e,{css:q,s:Y}=(0,d.I)(Ge),{featurePublicProfile:X}=(0,I.U)(),J=(0,$e.U)(R?"userPublicProfile":"entity"),ee=(0,l.c)(),ie=(0,he.wA)(),se=(e=>{const t=e.id,i=(0,he.d4)((e=>(0,Ce.X0)(e,t))),s=(0,_e.I)(Te,{reviewId:t});return(0,r.useEffect)((()=>{0!==e.comments_count&&(0,Oe.P)(i)&&s()}),[t]),i||Re.d})(t).data,{formattedComments:re}=(0,u.kc)(Ze,{review:t,comments:se,ownerComponent:y,isPublicProfile:R}),{address:ne,isOverlaid:oe,notificationText:ce,showReadWholeButton:de,text:le,upperCutTextLength:ue,isOwner:pe}=(0,u.kc)(qe,{review:t,ownerComponent:y,showAddress:h,userId:a}),[me,ge]=(0,r.useState)("card"===y||!de),{bssRef:fe,useBssHandler:ve}=(0,B.E)(t.user.public_id&&!T?Be.vK.bss.showUserProfileHeader({review:t,ownerName:"card"===y?"reviewCardFull":"reviewItem",inSubscriptions:t.additional_data.from_friend,authUser:t.user.id}):void 0),ye=(0,r.useMemo)((()=>{var e;return(null===(e=t.photos)||void 0===e?void 0:e.length)?(0,Fe.$g)(t.photos,t.user,t.provider):void 0}),[t]),ke=(0,he.d4)((e=>(0,H.bB)(e.appContext.frames,"entity"))),{activePublicProfileFeedId:Se,setActivePublicProfileFeedId:Ee}=(0,De._)(),Qe=null===Se||Se===t.id,Ke=ve(Be.vK.bss.tapUserProfileHeader,{review:t,ownerName:"card"===y?"reviewCardFull":"reviewItem",inSubscriptions:t.additional_data.from_friend,authUser:t.user.id}),{bssRef:Ye,useBssHandler:Xe,sendShowEvent:Je}=(0,B.E)(x?x({showReviewCardMini:!me||!de}):y?(et={review:t,position:m,ownerComponent:y,isOwner:pe,expanded:me,showReadWholeButton:de,isContactTab:P},({frameId:e},t)=>{const{review:i,position:s,ownerComponent:r,isOwner:n,expanded:a,showReadWholeButton:o,isContactTab:c}=et,d=(0,H.w1)(t.appContext.frames,e),l=d?(0,D.t)({state:t,entityFrameId:d.id}):void 0,u=G(e,i,t);if(!u||"profileFeed"===r)return;const p=c?"cardContacts":V[r];if(!("cardContacts"!==p||a&&o)){if(!l)return;return{uiElement:{name:"reviewItem",ownerName:p,frameUuid:e,position:s},payload:{reviewItem:u,placeItem:l}}}return n&&("cardReviewsList"===p&&u.rateOnly||"buildingReviewTab"===p)?{uiElement:{name:"myReview",ownerName:p,frameUuid:e},payload:{reviewItem:u}}:"cardReviewsList"!==p&&"unconfirmedReviewsList"!==p||a&&o?"profileReviewsList"===p||"buildingReviewTab"===p?{uiElement:{name:"reviewItem",ownerName:p,frameUuid:e,position:s},payload:{reviewItem:u}}:{uiElement:{name:"reviewCardFull",ownerName:p,frameUuid:e,position:s},payload:{reviewItem:u}}:l?{uiElement:{name:n?"myReview":"reviewItem",ownerName:p,frameUuid:e,position:s},payload:{reviewItem:u,placeItem:l}}:void(0,F.vV)({message:'Не удалось затрекать событие "Увидел мини-карточку отзыва (нераскрытый отзыв в Online) в списке отзывов на вкладке Отзывы / в Неподтверждённых отзывах" в отзывах из-за отсутствия placeItem v-1amnn',level:"error",id:"dbgho8",payload:{type:"debug",subtype:"BssTrackerV3"}})}):void 0,{forceSendShowIfParamsChanged:[me],threshold:.5});var et;const tt=Xe($),it=Xe(W),st=Xe(Z),rt=Xe(Q),nt=(0,p.D)((()=>{me||(ge(!0),Je.current())})),at=(0,p.D)((()=>{X&&t.user.public_id&&!T&&(Ke(),ie(Ae.M.openPublicProfile({userId:t.user.public_id}))),!X||t.user.public_id||T||ie(Ae.M.showOpenPublicProfileError()),T&&ie((0,Le.P)((0,He.K2)((0,Me.UP)({id:t.object.id,type:t.object.type}),(0,Ue.TE)({entityId:t.object.id,onlyIfOutOfViewpoint:!0})))),L&&L(),Ee("")})),ot=(0,p.D)((()=>{rt(),S(t.id)})),ct=(0,r.useCallback)((()=>{switch(t.hiding_type){case"unrated":return(0,s.jsx)(je,{});case"unrated_manual":return(0,s.jsx)(Ie,{});case"blocked":case"object_deleted":return(0,s.jsx)(xe.k,{color:n.T.red_fe5000});default:return null}}),[t]),dt=(0,r.useCallback)((e=>{const i="blocked"===t.hiding_type||"object_deleted"===t.hiding_type?n.T.red_fe5000:void 0;return(0,s.jsxs)("div",Object.assign({className:q(Y.notify),style:{color:i}},{children:[(0,s.jsx)("div",Object.assign({className:q(Y.icon)},{children:ct()})),(0,s.jsx)("div",Object.assign({className:q(Y.notificationContentWrapper)},{children:e}))]}))}),[q,ct,t.hiding_type,Y.icon,Y.notificationContentWrapper,Y.notify]),lt=(0,r.useCallback)((e=>(0,s.jsxs)(s.Fragment,{children:[ce,e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),t.hiding_reason]}):null]})),[ce,t.hiding_reason]),ut=(0,r.useCallback)((()=>{it(),C&&C(t.id)}),[it,C,t.id]),pt=(0,r.useCallback)((e=>{st(),_&&_(e)}),[_,st]),mt=(0,r.useCallback)((e=>{tt(),C&&C(e)}),[tt,C]),gt=Xe(ae.j.bss.tapEmojiItem,{review:t,isMineReview:pe,isFriendCardActivity:z,isReviewCardFull:A}),ht=Xe(ae.j.bss.tapEmojiFromPicker,{review:t});return(0,s.jsxs)("div",Object.assign({className:q(Y.container,X&&Y.__clickable,"bottom"===E?Y.boxShadowBottom:Y.boxShadowTop)},c.dx.n("wat-review-container"),c.dx.t(`wat-review-status-${t.hiding_type}`),{ref:Ye},{children:[(0,s.jsx)("div",Object.assign({className:q(Y._padding,oe&&Y._overlaid)},{children:(0,s.jsx)(te,{ref:fe,isContactTab:P,review:t,isPinned:f,showObjectInsteadUser:T,showReviewsTotal:g,onObjectClick:at,onComplainClick:w,isOwner:pe,onEditClick:C?mt:void 0,onRemoveClick:_?pt:void 0,isCurrentReviewFrame:A,ownerComponent:y})})),!!ne&&(0,s.jsx)("div",Object.assign({className:q(Y.address,oe&&Y._overlaid)},c.dx.n("wat-review-address"),{children:ne})),(0,s.jsx)("div",Object.assign({className:q(oe&&Y._overlaid)},{children:ye&&(0,s.jsx)(ze.M,{onChange:()=>{Ee(t.id),ke&&ke.id!==(null==J?void 0:J.id)&&ie((0,Ve.wU)({id:ke.id}))},photoItemStyles:R?Y.publicProfileReviewPhoto:void 0,isActiveItem:Qe,trackBSSSource:"profileFeed"===y?"profileFeed":"reviews",onComplain:w,object:t.object,galleryMedia:ye.photosForGallery,previews:ye.photosForPreview,bssShowItemFunction:e=>N?N(e):((e,t,i)=>({frameId:s},r)=>K({review:e,photo:t,state:r,frameId:s,position:i}))(t,e.image,e.position),bssActionItemFunction:e=>M?M(e):((e,t,i)=>({frameId:s},r)=>{const n=K({review:e,photo:t,position:i,state:r,frameId:s});if(n)return Object.assign(Object.assign({},n),{action:"tap"})})(t,e.image,e.position),entityId:t.object.id})})),(0,s.jsxs)("div",Object.assign({className:q(Y._padding,!me&&Y._pointer),onClick:nt},{children:[t.is_rated&&t.rating&&(0,s.jsx)("div",Object.assign({className:q(Y.ratingWrapper)},{children:(0,s.jsx)(We.G,{rating:t.rating,color:n.T.yellow_ffb81c,size:"small",inactiveColor:n.T.gray_929292})})),le.length>0&&(0,s.jsx)("div",Object.assign({className:q(Y.textWrapper,oe&&Y._overlaid)},c.dx.n("wat-review-text"),{children:(0,s.jsx)("a",Object.assign({className:q(Y.text,!me&&Y._short)},{children:le}))})),pe&&0===le.length&&(0,s.jsx)("div",Object.assign({className:q(Y.fulfillReviewButton)},{children:(0,s.jsx)(Pe.$,Object.assign({wide:!0,onClick:ut,dataN:"wat-review-fulfill-button"},{children:ee._t("Дополнить отзывом")}))})),(t.is_verified||"sbol"===t.source)&&(0,s.jsxs)("div",Object.assign({className:q(Y.reviewSafety,Y._green)},c.dx.n("wat-review-safety-status"),{children:[(0,s.jsx)("div",Object.assign({className:q(Y.icon)},{children:(0,s.jsx)(Ne,{})})),(0,s.jsx)("span",Object.assign({className:q(Y.notificationContentWrapper)},{children:ee._gg("Подтверждён оплатой через Сбер")}))]})),(0,s.jsx)(be,{review:t,userId:a,isLikeDisabled:b,onReadMoreClick:nt,showReadWholeButton:!me,onLikeClick:O,toggleEmojiUserProfile:U,bssEmojiClickHandler:(e,t)=>{gt({value:e,isLiked:t,isContextMenu:!1})},bssEmojiRightClickHandler:(e,t)=>{gt({value:e,isLiked:t,isContextMenu:!0})},bssShowEmojiDetailsFunction:({count:e,emojiId:i})=>ae.j.bss.showReviewReactionList({isMineReview:pe,review:t,value:i,isFriendCardActivity:z,isReviewCardFull:A,count:e}),bssTapEmojiFromPickerHandler:e=>{ht({value:e})}}),(0,s.jsx)(s.Fragment,{children:null==re?void 0:re.map((e=>(0,s.jsx)("div",Object.assign({className:q(Y.commentWrapper,oe&&Y._overlaid)},{children:(0,s.jsx)(k,{comment:e,isSearchBot:i,upperCutTextLength:ue,isAdvertiser:v,orgAvatar:o,showFullOfficialAnswer:me,ownerComponent:y,commentsCount:t.comments_count,onShowAllCommentsClick:ot,onRemoveCommentClick:j,reviewUserId:t.user.id,userId:a,withDivider:re.length>1})}),e.id)))})]})),(()=>{const{hiding_reason:e}=t;return ce?dt(e?(0,s.jsx)(we.v,{children:lt}):ce):null})()]}))}));Qe.displayName="ReviewItem";const Ge=(0,d.r)({container:{padding:"12px 0",boxShadow:o.E.innerBorderBottomBase,":last-child":{boxShadow:"none"}},__clickable:{cursor:"pointer"},address:Object.assign(Object.assign({},a.small),{color:n.T.gray_929292,paddingTop:0,paddingBottom:12,paddingStart:24,paddingEnd:0}),_pointer:{cursor:"pointer"},textWrapper:{padding:"0 16px"},text:Object.assign(Object.assign({},a.regular),{whiteSpace:"pre-line",wordBreak:"break-word",wordWrap:"break-word",diaplay:"inline-block"}),notify:Object.assign(Object.assign({marginTop:4},a.small),{display:"flex",padding:"0 16px",color:n.T.gray_929292}),reviewSafety:Object.assign(Object.assign({marginTop:4},a.small),{display:"flex",padding:"0 16px",color:n.T.gray_929292}),_green:Object.assign(Object.assign({},a.regular),{color:n.T.green_30ad00}),notificationContentWrapper:{marginTop:2},icon:{display:"flex",alignItems:"center",marginEnd:8},commentWrapper:{paddingTop:4},ratingBlock:{padding:"0px 24px"},_padding:{padding:"0px 8px"},_overlaid:{opacity:.5},_short:Object.assign(Object.assign({},(0,a.lineClamped)(3,a.regular)),{cursor:"pointer"}),fulfillReviewButton:{paddingBottom:8,paddingStart:16,paddingEnd:16},boxShadowTop:{boxShadow:o.E.innerBorderTopBase},boxShadowBottom:{boxShadow:o.E.innerBorderBottomBase,"&:last-child":{boxShadow:"none",paddingBottom:12}},publicProfileReviewPhoto:{borderRadius:6},ratingWrapper:{padding:"0px 16px",marginBottom:5}})},4431:(e,t,i)=>{"use strict";i.d(t,{D:()=>m});var s=i(31085),r=i(14041),n=i(81618),a=i(99259),o=i(33466),c=i(80552),d=i(64099),l=i(50570),u=i(35023),p=i(84175);const m=r.memo((({title:e,seoTitle:t,onClick:i,onClickWithData:r,href:a,dataT:o,icon:c,bssRef:d,count:m,isColoredCount:h,activeRubric:f,rubricsKey:v,external:b,setActiveRubric:y})=>{const{css:x,s:j}=(0,p.I)(g),w=t||e,I=h&&0===m,C=!I&&f&&f===v;return(0,s.jsxs)("div",Object.assign({className:x(j.root)},{children:[(0,s.jsxs)("a",Object.assign({ref:d,className:x(j.item),title:w,href:a,onClick:I?u.lQ:e=>{y&&v&&r?v===f?(y(void 0),r("allInfrastructure")):(y(v),r(v)):i(e)},target:b?"_blank":void 0,"data-h":!0},n.dx.n("wat-rubric"),n.dx.t(o),(0,l.a)({label:w}),{children:[(0,s.jsx)("div",Object.assign({className:x(j.icon,C&&j._empty,I&&j._disabled)},{children:c()})),(0,s.jsx)("span",Object.assign({className:x(j.title,I&&j._disableText)},{children:e}))]})),(!!m||h)&&(0,s.jsx)("div",Object.assign({className:x(j.count,h&&j.coloredCount,h&&I&&j.disableCount)},{children:m}))]}))})),g=(0,p.r)((({mobile:e})=>({root:{display:"inline-block",width:"25%",position:"relative",verticalAlign:"top"},item:{cursor:"pointer",marginBottom:8,display:"block",padding:"0 2px",textDecoration:"none"},count:Object.assign(Object.assign({},c.smallBold),{color:a.T.white,borderRadius:d.Vq.isolate,background:a.T.gray_929292,position:"absolute",padding:"2px 5px",top:0,end:0,cursor:"pointer"}),disableCount:{background:a.T.gray_e6e6e6},icon:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",boxSizing:"border-box",background:"#fff",width:e?48:64,height:e?48:64,padding:e?12:16,borderRadius:"50%",marginTop:0,marginBottom:4,marginStart:"auto",marginEnd:"auto",boxShadow:`0 0 0 1px ${a.T.gray_e6e6e6}`,color:a.T.gray_929292,transition:`box-shadow ${o.S.short}ms ease-in-out`,"[data-h]:hover &":{boxShadow:`0 0 0 2px ${a.T.gray_e6e6e6}`},"& > *":{display:"block",objectFit:"contain",width:"100%",height:"100%",transition:`transform ${o.S.short}ms ease-in-out`,"[data-h]:hover &":{transform:"scale(0.9)"}}},title:Object.assign(Object.assign({},c.small),{display:"block",overflow:"hidden",textOverflow:"ellipsis",height:"32px",color:a.T.gray_929292,textAlign:"center",transition:`color ${o.S.short}ms ease-in-out`,userSelect:"none","[data-h]:hover &":{color:a.T.gray_262626}}),coloredCount:{display:"flex",alignItems:"center",justifyContent:"center",right:5,minWidth:9,minHeight:14,background:a.T.green_30ad00,color:a.T.white,borderRadius:d.Vq.oval,userSelect:"none"},_empty:{backgroundColor:"#da0000"},_disabled:{":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,backgroundColor:a.T.white,borderRadius:"50%",opacity:.8},"[data-h]:hover &":{boxShadow:`0 0 0 1px ${a.T.gray_e6e6e6}`},"& > *":{"[data-h]:hover &":{transform:"scale(1)"}}},_disableText:{"[data-h]:hover &":{color:a.T.gray_929292}}})))},59124:(e,t,i)=>{"use strict";i.d(t,{u:()=>m});var s=i(31085),r=i(84175),n=i(14041),a=i(848),o=i(33466),c=i(99259),d=i(69158),l=i(55322),u=i(75704),p=i(81618);const m=(0,n.memo)((({scrollboxRef:e,offset:t,size:i=18,icon:n=u.B,arrowStyle:o,isAlwaysVisible:c,isSafeCornerTap:d=!0,rightArrowStyle:m})=>{const{s:h,css:f}=(0,r.I)(g),{isStartArrowShown:v,isEndArrowShown:b,clickArrowStart:y,clickArrowEnd:x}=(0,l.j)({scrollboxRef:e});return v||b?(0,s.jsxs)("div",Object.assign({className:f(h.root,c&&h._alwaysVisible),style:{padding:`0 ${t}px`}},{children:[(0,s.jsx)("div",Object.assign({onClick:y},p.dx.n("wat-arrow-to-left"),{className:f(h.arrow,o,!v&&h._arrowHidden,d&&!v&&h._safeCornerTap)},{children:(0,s.jsx)(a.i,{direction:"start",icon:n,size:i})})),(0,s.jsx)("div",Object.assign({onClick:x},p.dx.n("wat-arrow-to-right"),{className:f(h.arrow,o,m,!b&&h._arrowHidden,d&&!b&&h._safeCornerTap)},{children:(0,s.jsx)(a.i,{direction:"end",icon:n,size:i})}))]})):null}));m.displayName="ScrollArrows";const g=(0,r.r)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"space-between",opacity:0,pointerEvents:"none",transition:`${o.S.short}ms ${o.l.base}`,"*:hover>&":{opacity:1}},_alwaysVisible:{opacity:1},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,d.m)(c.T.black,.8),color:c.T.white,pointerEvents:"auto",userSelect:"none",transition:`${o.S.short}ms ${o.l.base}`,cursor:"pointer",opacity:.6,":hover":{opacity:1}},_arrowHidden:{opacity:0,pointerEvents:"none"},_safeCornerTap:{":hover":{opacity:1,pointerEvents:"auto"}}})},11827:(e,t,i)=>{"use strict";i.d(t,{z:()=>o});var s=i(31085),r=i(46579),n=i(14041),a=i(38900);const o=(0,n.memo)((({frame:e,frameContext:t})=>{const i=(0,r.U)(),n=(0,a.e)(e,t,i);return n?(0,s.jsx)("div",{style:{height:n}}):null}))},71053:(e,t,i)=>{"use strict";i.d(t,{D:()=>C});var s=i(31085),r=i(14041),n=i(26461),a=i(68076),o=i(7515),c=i(71370),d=i(90704),l=i(99259),u=i(80552),p=i(81618),m=i(92695),g=i(69158),h=i(12043),f=i(21252),v=i(84175),b=i(16632),y=i(53898);const x=(0,f.f)(void 0,y.N)((({bssSideMenuClick:e})=>{const{css:t,s:i}=(0,v.I)(j),r=b.m.use();return r?null:(0,s.jsxs)("button",Object.assign({className:t(i.hamburger),onClick:t=>{t.stopPropagation(),b.m.set((()=>!0)),r||e()}},{children:[(0,s.jsx)("span",{className:t(i.hamburgerLine,i._line1)}),(0,s.jsx)("span",{className:t(i.hamburgerLine,i._line2)}),(0,s.jsx)("span",{className:t(i.hamburgerLine,i._line3)})]}))})),j=(0,v.r)({hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:l.T.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:l.T.gray_262626,start:0},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"12px"}});class w extends r.PureComponent{constructor(){super(...arguments),this.state={externalValue:this.props.value,value:this.props.value,isFocused:!1},this.onChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e)},this.onFocus=()=>{this.setState({isFocused:!0}),m.p.startTracker(),this.props.onFocus&&this.props.onFocus()},this.onBlur=()=>{this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur()},this.onClear=()=>{const{inputRef:e}=this.props;e&&e.current&&e.current.focus(),this.props.onChange(""),this.props.onClear&&this.props.onClear()}}static getDerivedStateFromProps(e,t){return e.value!==t.externalValue?{externalValue:e.value,value:e.value}:null}render(){const{placeholder:e,withSearchIcon:t,showHamburger:i,autoFocus:r,lightText:n,onClick:o,onKeyUp:l,inputRef:u,s:m,i18n:{tp:g},displayH1Header:f}=this.props,{value:v,isFocused:b}=this.state,y=f&&!b&&!!v,j=!!v;return(0,s.jsxs)("div",Object.assign({className:(0,a.AH)(m.wrapper,b&&m._focused)},p.dx.n("wat-search-bar"),{children:[(0,s.jsx)("input",Object.assign({type:"text",className:(0,a.AH)(m.input,n&&m._lightText,y&&m._hiddenText),placeholder:e,value:v,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onClick:o,onKeyDown:this.onKeyDown,onKeyUp:l,ref:u,autoFocus:r,spellCheck:!1,enterKeyHint:"search"},p.dx.n("wat-search-bar-input"))),y&&(0,s.jsx)("h1",Object.assign({className:(0,a.AH)(m.header,n&&m._lightText)},p.dx.n("wat-search-bar-h1"),{children:v})),t&&!v&&(0,s.jsx)(c.v,{}),j&&(0,s.jsx)("div",Object.assign({className:(0,a.AH)(m.clearButtonWrapper)},p.dx.n("wat-search-bar-clear-icon"),{children:(0,s.jsx)(d.K,{onClear:this.onClear,ariaLabel:g._t("Очистить локальное поле поиска"),isWhite:n})})),i&&(0,s.jsx)(h.h,{children:(0,s.jsx)("div",Object.assign({className:(0,a.AH)(m.sidebarEntryWrapper)},{children:(0,s.jsx)(x,{})}))})]}))}}w.displayName=(0,n.d)("src/shared/components/searchInput");const I={wrapper:{display:"flex",alignItems:"center",color:l.T.gray_929292,position:"relative"},_focused:{color:l.T.gray_262626},header:Object.assign(Object.assign({},u.input),{position:"absolute",top:0,left:0,color:l.T.gray_262626,paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:0,pointerEvents:"none",whiteSpace:"nowrap",overflow:"hidden",boxSizing:"border-box",width:"100%",borderEnd:"32px solid transparent"}),input:Object.assign(Object.assign({},u.input),{border:"none",color:l.T.gray_262626,boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:6,margin:0,width:"100%",outline:"none",background:"transparent","::placeholder":{color:l.T.gray_929292},"::-ms-clear":{display:"none"}}),_lightText:{color:l.T.white,"::placeholder":{color:(0,g.m)(l.T.white,.5)}},_hiddenText:{color:"transparent"},clearButtonWrapper:{height:16,marginTop:"auto",marginBottom:"auto",marginStart:0,marginEnd:8},sidebarEntryWrapper:{height:24,marginTop:"auto",marginBottom:"auto",marginStart:8,marginEnd:8}},C=(0,a.Xy)(I)((0,o.Q)()(w))},12175:(e,t,i)=>{"use strict";i.d(t,{G:()=>I});var s=i(31085),r=i(14041),n=i(79594);const a=()=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:"#FFBA00",fillRule:"evenodd",d:"M19.059 5v10.805c0 2.826-.93 4.114-3.256 4.114-1.932 0-2.862-1.252-2.862-4.114V5H6v12.093c0 5.653 3.864 9.302 9.803 9.302 6.333 0 10.197-3.649 10.197-9.302V5h-6.941z"})}));var o=i(80552),c=i(64099),d=i(81618),l=i(27988),u=i(10742),p=i(84175),m=i(46579),g=i(83663),h=i(99259);const f=()=>(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M14.41 21.985v7.487c0 .292.254.528.569.528h2.04c.314 0 .57-.236.57-.528v-7.487h-3.18z",fill:"#80391B"}),(0,s.jsx)("path",{d:"M22.14 18.624c.492-.294.966-.627 1.415-.999a.607.607 0 00.083-.87l-3.047-3.624a8.479 8.479 0 001.153-.77.608.608 0 00.092-.877L16 4.541l-5.83 6.936a.61.61 0 00.098.882c.363.29.745.546 1.141.771l-3.047 3.626a.607.607 0 00.083.87c.45.371.923.704 1.415.998l-3.714 4.42a.607.607 0 00.077.864c5.525 4.695 14.03 4.695 19.554 0a.607.607 0 00.077-.865l-3.714-4.419z",fill:"#299400"}),(0,s.jsx)("path",{d:"M13.5 15a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM18.5 14a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM20.5 20a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM11.5 22a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM16 1l1.237 3.763L21 6l-3.763 1.237L16 11l-1.237-3.763L11 6l3.763-1.237L16 1z",fill:"red"})]})),v=()=>(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.068c-.761-.177-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.1C5.708 23.479 10.316 28 16 28s10.292-4.522 10.292-10.101c0-4.778-3.38-8.78-7.922-9.832z",fill:"red"}),(0,s.jsx)("mask",Object.assign({id:"aqwe",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"7",width:"22",height:"22"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.07c-.761-.176-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.101 0 5.579 4.608 10.101 10.292 10.101s10.292-4.522 10.292-10.1c0-4.779-3.38-8.781-7.922-9.832z",fill:"red"})})),(0,s.jsxs)("g",Object.assign({mask:"url(#aqwe)"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 15l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v4l-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2v-4z",fill:"#FFDA52"}),(0,s.jsx)("path",{fill:"#E6E6E6",d:"M4 11h24v2H4zM4 23h24v2H4z"})]})),(0,s.jsx)("path",{d:"M18.362 5.479h-4.726l3.15 2.922a7.595 7.595 0 001.576-.335V5.479z",fill:"red"}),(0,s.jsx)("path",{d:"M13.636 5.479v2.587a7.605 7.605 0 003.15.335V5.479h-3.15z",fill:"red"}),(0,s.jsx)("path",{d:"M18.363 5.095h-1.575V6.64h1.575a.78.78 0 00.788-.773.78.78 0 00-.788-.773z",fill:"#FEB700"}),(0,s.jsx)("path",{d:"M17.576 5.868a.78.78 0 00-.787-.773h-3.15a.78.78 0 00-.788.773.78.78 0 00.787.773h3.15a.78.78 0 00.788-.773z",fill:"#FEB700"}),(0,s.jsx)("path",{d:"M16 6.333a2.17 2.17 0 01-2.167-2.166A2.17 2.17 0 0116 2a2.17 2.17 0 012.166 2.167A2.17 2.17 0 0116 6.333zm0-3.25a1.085 1.085 0 101.083 1.083c0-.597-.486-1.083-1.083-1.083z",fill:"#FEB700"})]})),b=()=>(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M16 27.55c8.394 0 11.487-3.03 11.487-6.822-.219-3.876-3.65-8.168-6.807-11.316h-9.36c-3.158 3.148-6.588 7.44-6.807 11.316 0 3.791 3.093 6.823 11.487 6.823z",fill:"red"}),(0,s.jsx)("path",{d:"M16.446 10.283l.965.422.66-.422.304-.87-.718-.423-.907.422-.304.871z",fill:"#FFDA52"}),(0,s.jsx)("path",{d:"M16.447 10.283l-.834 2.388c-.135.385.084.802.488.93.403.129.84-.08.974-.465l.997-2.853h-1.625z",fill:"#FFDA52"}),(0,s.jsx)("path",{d:"M10.865 7.07l.539.87 4.615.423 4.579-.422.538-.871-5.135-.422-5.136.422z",fill:"red"}),(0,s.jsx)("path",{d:"M10.865 7.07h10.27l1.222-1.975c.3-.484-.066-1.095-.655-1.095H10.3c-.589 0-.954.61-.655 1.095l1.22 1.975z",fill:"red"}),(0,s.jsx)("path",{d:"M19.995 9.412l-.663-.422-.958.422.296.871.795.422.826-.422-.296-.87z",fill:"#FFDA52"}),(0,s.jsx)("path",{d:"M21.666 14.327l-1.375-4.044h-1.62l1.529 4.498c.131.386.566.598.971.473.405-.126.627-.54.495-.927z",fill:"#FFDA52"}),(0,s.jsx)("path",{d:"M27.487 20.728c-.209 3.582-3.093 6.401-11.487 6.401S4.722 24.31 4.513 20.728l-.006.1C4.34 24.768 7.012 28 16 28s11.66-3.232 11.493-7.172l-.006-.1z",fill:"red"}),(0,s.jsx)("path",{d:"M10.936 8.963h10.13c.254 0 .62-.31.62-.722a.781.781 0 00-.62-.3h-10.13a.781.781 0 00-.62.3c0 .464.365.722.62.722z",fill:"#FFDA52"}),(0,s.jsx)("path",{d:"M21.066 8.541h-10.13a.781.781 0 01-.62-.3.71.71 0 00-.151.436c0 .406.345.735.77.735h10.13c.427 0 .772-.33.772-.735a.71.71 0 00-.15-.436.781.781 0 01-.621.3z",fill:"#FFDA52"})]})),y=()=>(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M18.069 6h-2.483C9.644 6 4.827 11.291 4.827 17.818v3.636h17.38V16.91l4.137 1.187V15.09c0-2.411-.872-4.723-2.424-6.428S20.263 6 18.068 6z",fill:"red"}),(0,s.jsx)("path",{d:"M21.38 20.546H5.654c-.914 0-1.655.814-1.655 1.818v1.818C4 25.186 4.741 26 5.655 26H21.38c.914 0 1.655-.814 1.655-1.818v-1.818c0-1.004-.74-1.819-1.655-1.819zM26 20a2 2 0 100-4 2 2 0 000 4z",fill:"#E6E6E6"}),(0,s.jsx)("path",{d:"M22.206 16.91c-.473-2.757-.949-4.065-2.482-4.546l2.482 4.545z",fill:"red"})]})),x=()=>(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M9.276 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169C5.81 26.356 3 23.594 3 20.186c0-3.407 2.81-6.169 6.276-6.169zM22.724 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169-3.466 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.276-6.169z",fill:"#F19601"}),(0,s.jsx)("path",{d:"M16 6.085c3.465 0 6.275 2.762 6.275 6.17 0 3.407-2.81 6.169-6.275 6.169-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.17 6.275-6.17z",fill:"#FEB700"}),(0,s.jsx)("path",{d:"M16 16.661c3.465 0 6.275 2.762 6.275 6.17C22.275 26.238 19.465 29 16 29c-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.275-6.169z",fill:"#FFDA52"}),(0,s.jsx)("path",{d:"M10.62 3.44h2.69c1.485 0 2.69 1.185 2.69 2.645h-2.69c-1.486 0-2.69-1.184-2.69-2.644z",fill:"#299400"}),(0,s.jsx)("path",{d:"M16.448 6.525h-.896v-.88c.001-1.46 1.204-2.643 2.69-2.645v.881c-.99 0-1.794.79-1.794 1.763v.881z",fill:"#B08149"}),(0,s.jsx)("path",{d:"M19.138 14.898h-1.345c-.99 0-1.793.79-1.793 1.763h1.345c.99 0 1.793-.79 1.793-1.763z",fill:"#299400"}),(0,s.jsx)("path",{d:"M16.448 17.102h-.896v-.882c0-.973-.803-1.762-1.793-1.762v-.882c1.485.002 2.688 1.185 2.69 2.644v.882z",fill:"#B08149"}),(0,s.jsx)("path",{d:"M5.242 11.373h1.793c1.486 0 2.69 1.184 2.69 2.644H7.932c-1.486 0-2.69-1.184-2.69-2.644zM22.274 14.017c0-1.46 1.205-2.644 2.69-2.644h1.345c0 1.46-1.204 2.644-2.69 2.644h-1.345z",fill:"#299400"})]})),j=()=>(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M24.5 18.585V6.836H12.515v8.719l-4.57 4.424c-1.587 1.537-2.309 3.767-1.764 5.876 1.272 4.922 7.318 5.175 10.33 2.26l6.86-6.833a3.806 3.806 0 001.13-2.697z",fill:"red"}),(0,s.jsx)("path",{d:"M15.01 29.081v.107c-3.185 1.667-7.745.866-8.83-3.333-.4-1.546-.118-3.156.685-4.511h.154c2.12 0 4.153.815 5.651 2.266a7.615 7.615 0 012.34 5.471zM24.002 2H13.014c-1.104 0-1.998.866-1.998 1.934V5.87c0 1.068.894 1.934 1.998 1.934h10.988C25.105 7.803 26 6.937 26 5.87V3.934C26 2.866 25.105 2 24.002 2z",fill:"#299400"}),(0,s.jsx)("path",{d:"M14.5 11l-2-2v4l2 2 2-2 2 2 2-2 2 2 2-2V9l-2 2-2-2-2 2-2-2-2 2z",fill:"#E6E6E6"})]})),w=()=>(0,s.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{d:"M19.28 18.66a70 70 0 0 1-6.03 3.12c1.44 1.37 1.86 3.3 2.01 4.81l.18 1.83h2.23l.18-1.83c.25-2.62 1.33-6.54 7.22-6.54 1.01-2.16 1.44-3.88 1.44-5.86 0-.1-.01-.2-.02-.3-2.11 1.61-4.57 3.24-7.21 4.77M31.32 4.15c-.84-1.45-3.07-1.61-6.83-.5-1.36.4-2.85.96-4.42 1.63-1.07-.38-2.25-.59-3.51-.59-5.5 0-9.36 3.93-9.89 8.43a39 39 0 0 0-3 2.54C.83 18.37-.14 20.39.69 21.83c.49.85 1.49 1.2 2.8 1.2 4.05 0 11.05-3.34 15.05-5.65 5.3-3.06 14.79-9.76 12.78-13.23M2.48 20.81c-.19-.49 1.04-2.42 4.23-5.08.18 1.38.6 2.72 1.33 4.29-3.32 1.1-5.26 1.16-5.56.79m23.05-10.73a9.6 9.6 0 0 0-3.06-3.57c2.94-1.13 5.04-1.54 6.16-1.54.49 0 .8.08.91.21.18.49-.99 2.34-4.01 4.9",fill:"#19AA1E"})})),I=(0,r.memo)((e=>{const{showBorder:t,showBackButton:i,showLogo:r,children:o,handleBackClick:c,handleLogoClick:I}=e,{css:_,s:k,dir:O}=(0,p.I)(C),{brandCode:S,featureNewYearInput:T,featureAstronauticsDay:E}=(0,m.U)(),M="urbi"===S,N=(0,u.D)((e=>{e.preventDefault(),e.stopPropagation(),null==I||I()})),L=(0,u.D)((e=>{e.preventDefault(),e.stopPropagation(),null==c||c()})),P=(0,n.d4)((e=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.iconType}));return(0,s.jsxs)("div",Object.assign({className:_(k.wrapper,!t&&k._noBorder)},{children:[(i||r)&&(0,s.jsx)("div",Object.assign({className:_(k.buttonWrapper,t&&i&&k._separator),style:{color:h.T.green_299400}},{children:i?(0,s.jsx)("button",Object.assign({className:_(k.backIconWrapper),onMouseDown:L},d.dx.n("wat-back-btn"),{children:(0,s.jsx)("div",Object.assign({className:_(k.backIcon,"rtl"===O&&k._rotate180),style:{color:h.T.green_299400}},{children:(0,s.jsx)(l.n,{})}))})):(0,s.jsx)("a",Object.assign({href:"/",className:_(k.logoIcon),onClick:N},d.dx.n("wat-search-bar-logo"),{children:(()=>{if(M)return(0,s.jsx)(a,{});if(T)switch(!0){case"tree"===P:return(0,s.jsx)(f,{});case"bag"===P:return(0,s.jsx)(b,{});case"hat"===P:return(0,s.jsx)(y,{});case"sock"===P:return(0,s.jsx)(j,{});case"toy"===P:return(0,s.jsx)(v,{});case"mandarins"===P:return(0,s.jsx)(x,{});default:return(0,s.jsx)(f,{})}return E?(0,s.jsx)(w,{}):(0,s.jsx)(g.U,{})})()}))})),(0,s.jsx)("div",Object.assign({className:_(k.input)},{children:o}))]}))}));I.displayName="SearchInputWrapper";const C=(0,p.r)({wrapper:{boxShadow:"logical 0 1px 3px 0 rgba(0, 0, 0, 0.5)",background:h.T.white,borderRadius:c.Vq.default,display:"flex",alignItems:"center",position:"relative",overflow:"hidden",transform:"translateZ(0)",transition:"opacity .3s"},_noBorder:{boxShadow:"none",background:"none"},buttonWrapper:{flex:"1 0 40px"},logoIcon:{width:"32px",height:"32px",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},_transparent:{background:"transparent",boxShadow:"none"},input:Object.assign(Object.assign({},o.regular),{width:"100%"}),_separator:{boxShadow:`logical inset -1px 0 0 ${h.T.gray_e6e6e6}`},backIconWrapper:{display:"flex",width:"40px",height:"40px",cursor:"pointer"},backIcon:{width:"32px",height:"32px",margin:"auto"},_rotate180:{transform:"rotate(180deg)"}})},63770:(e,t,i)=>{"use strict";i.d(t,{I:()=>b});var s=i(85608),r=i(31085),n=i(14041),a=i(26091),o=i(15635),c=i(8524);var d=i(83113),l=i(76552),u=i(24787),p=i(11026),m=i(71370);var g=i(24255);var h=i(72616),f=i(58689);const v={pin:function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M17 27h-2c0-8.07-3.85-9-6.75-9h-.77l-.2-.75A19.1 19.1 0 0 1 7 14a8.61 8.61 0 0 1 9-9 8.61 8.61 0 0 1 9 9 19.1 19.1 0 0 1-.28 3.25l-.2.75h-.77c-2.9 0-6.75.93-6.75 9zM9.11 16A7.39 7.39 0 0 1 16 20.85 7.39 7.39 0 0 1 22.89 16c.07-.66.11-1.52.11-2a6.62 6.62 0 0 0-7-7 6.62 6.62 0 0 0-7 7c0 .51 0 1.37.11 2z"})}))},city:function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M26 18v-2h-2V7.28L17 5l-7 2.28V13H6v13h20v-2h-8v-2h8v-2h-8v-2zm-10 6h-3v-4h-2v4H8v-9h8zm-4-11V8.72l5-1.67 5 1.67V16h-4v-3z"})}))},street:a.U,metro:o.s,route:c.B,station:function({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M5 20h15v2H5zM23 13h2v13h-2z"}),(0,r.jsx)("path",{d:"M5 25h22v2H5zM7 22h2v3H7zM16 22h2v3h-2zM5 16h15v2H5zM26 15h-4c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2zm-4-8v6h4V7h-4z"})]}))},rubric:function({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M13 7c5.9 0 6.8 4.2 6.8 6.8 0 1.1-.1 2-.2 2.9-3.1.2-5.4 1.2-6.6 4.1-1.2-2.9-3.4-3.9-6.5-4.1-.2-1-.2-2-.2-2.9C6.2 11.2 7.1 7 13 7m0-2c-6 0-8.8 3.9-8.8 8.8 0 1.7.2 3.4.6 4.9H5c4.2 0 7 .4 7 8.4h2c0-7.9 2.7-8.4 7-8.4h.2c.4-1.5.6-3.2.6-4.9C21.8 8.9 19 5 13 5z"}),(0,r.jsx)("path",{d:"M21 27h-2c0-7 2.5-7.9 6-8 .2-.9.3-2 .3-3.1 0-2.4-.9-4-2.8-5l1-1.7c2.5 1.4 3.8 3.7 3.8 6.8 0 1.6-.2 3.1-.5 4.3l-.2.7h-1c-3.1 0-4.6 0-4.6 6z"})]}))},doublePin:function({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M13 7c5.9 0 6.8 4.2 6.8 6.8 0 1.1-.1 2-.2 2.9-3.1.2-5.4 1.2-6.6 4.1-1.2-2.9-3.4-3.9-6.5-4.1-.2-1-.2-2-.2-2.9C6.2 11.2 7.1 7 13 7m0-2c-6 0-8.8 3.9-8.8 8.8 0 1.7.2 3.4.6 4.9H5c4.2 0 7 .4 7 8.4h2c0-7.9 2.7-8.4 7-8.4h.2c.4-1.5.6-3.2.6-4.9C21.8 8.9 19 5 13 5z"}),(0,r.jsx)("path",{d:"M21 27h-2c0-7 2.5-7.9 6-8 .2-.9.3-2 .3-3.1 0-2.4-.9-4-2.8-5l1-1.7c2.5 1.4 3.8 3.7 3.8 6.8 0 1.6-.2 3.1-.5 4.3l-.2.7h-1c-3.1 0-4.6 0-4.6 6z"})]}))},history:function({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 5a11 11 0 1 0 11 11A11 11 0 0 0 16 5zm0 20a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"}),(0,r.jsx)("path",{d:"M16.19 15.74l.8-5.6-1.98-.28-1.2 8.4 6.39-1.28-.4-1.96-3.61.72z"})]}))},home:d.w,work:l.P,location:u.a,market:p.B,camera:h.$,traffic:function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18 5v.018c4.526.334 8 5.172 8 10.982 0 5.92-3.607 10.831-8.259 10.996L17.5 27c-4.539 0-8.14-4.511-8.475-10.142-1.958-.59-3.272-2.946-3.573-5.752C5.096 7.778 6.32 5 9 5h9zm-.5 2h-3.858l.423.31.46.348.483.376.775.619.838.685 2.55 2.124 1.14.925.479.375.575.432.401.287.392.266.262.172-1.083 1.681-.423-.278-.42-.29-.43-.312-.458-.345-.327-.254-.726-.58-.85-.697-2.059-1.718-.839-.689-.771-.619-.48-.374-.56-.427-.521-.382-.577-.401L11.54 8l-.336-.207c-.054-.033-.108-.064-.16-.094l-.308-.17C10.038 7.165 9.484 7 9 7c-1.11 0-1.807 1.581-1.559 3.894.184 1.717.83 3.11 1.624 3.74.134-1.414.477-2.77 1.009-4.003l.167-.371 1.81.853C11.368 12.558 11 14.24 11 16c0 4.926 2.87 8.846 6.298 8.995L17.5 25l.202-.005C21.131 24.846 24 20.926 24 16s-2.87-8.847-6.298-8.996L17.5 7zm-3.856 6.327l1.966.367a9.016 9.016 0 00-.15 1.647c0 2.123.722 3.962 1.688 4.692l.127.089-1.078 1.684c-1.685-1.079-2.736-3.63-2.736-6.465 0-.552.04-1.095.117-1.622l.066-.392z"})}))},realty:g.G,parking:f.E,other:m.v},b=n.memo((e=>{var{type:t}=e,i=(0,s.Tt)(e,["type"]);const n="metro"===t?Object.assign(Object.assign({},i),{size:32}):i,a=v[t];return(0,r.jsx)(a,Object.assign({},n))}));b.displayName="SuggestIcon"},52870:(e,t,i)=>{"use strict";i.d(t,{K:()=>p});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(33466),c=i(81618),d=i(64099);class l extends r.PureComponent{constructor(){super(...arguments),this.state={stage:"start"}}render(){const{stretchContent:e,s:t}=this.props;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,n.AH)(t.background),onClick:this.props.onBackgroundClick}),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(t.content,e&&t.stretchContent,"end"===this.state.stage&&t._contentEnd)},c.dx.n("wat-suggest-wrap"),{onClick:e?this.props.onBackgroundClick:void 0},{children:this.props.children}))]})}componentDidMount(){this.endAnimationTimeout=window.setTimeout((()=>this.setState({stage:"end"})),0)}componentWillUnmount(){window.clearTimeout(this.fadeInAnimationTimeout),window.clearTimeout(this.endAnimationTimeout)}}const u={background:{background:"#fff",position:"absolute",top:0,left:0,right:0,zIndex:d.fE.bottom,height:"100vh"},content:{zIndex:d.fE.base,position:"absolute",left:0,right:0,transition:`opacity ${o.S.short}ms`,opacity:0},stretchContent:{top:56,bottom:0},_contentEnd:{opacity:1}},p=(0,a.Xy)(u)(l)},32664:(e,t,i)=>{"use strict";i.d(t,{d:()=>h});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(13558),c=i(99259),d=i(81618);function l(e,t){if(!(e<0||t<2||e>=t))switch(e){case 0:return"right";case t-1:return"left";default:return"both"}}var u=i(64099),p=i(27248);class m extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{if(!e.value)return;const{onChange:t,tag:i}=this.props;t({valueType:"single",name:i,value:e.value,isChecked:!!e.isChecked})}}render(){const{items:e,s:t,isCheckedUnclickable:i,currentValue:r,isFlex:a,isCentered:c,flex_1_1_100:u}=this.props;return e.length?(0,s.jsx)("ul",Object.assign({className:(0,n.AH)(t.switch,a&&t._flexGrow)},d.dx.n("wat-switch-filter"),{children:e.map(((d,m)=>{const g=d.count?`${d.text} ${d.count}`:d.text,h=d.value===r;return(0,s.jsx)("li",Object.assign({className:(0,n.AH)(t.switchItem,h&&t._itemChecked,d.isDisabled&&t._itemDisabled,a&&t._flexGrow,u&&t._flex_1_1_100)},{children:(0,s.jsx)(p.W,Object.assign({},d.urlParams,{children:t=>(0,s.jsx)(o.F,{value:d.value,isCentered:c,isFlex:a,isChecked:h,isCheckedUnclickable:i,isDisabled:d.isDisabled,onClick:this.handleClick,sharpCornersType:l(m,e.length),title:g,href:t},d.value)}))}),d.value)}))})):null}}m.displayName=(0,a.d)("src/shared/components/switch");const g={switch:{position:"relative",zIndex:u.fE.base,display:"flex"},switchItem:{background:c.T.white,position:"relative",marginStart:"-1px",zIndex:u.fE.base+2,":first-child":{marginStart:0},":hover":{zIndex:u.fE.base+3},":active":{zIndex:u.fE.base+3}},_itemChecked:{zIndex:u.fE.base+4},_itemDisabled:{zIndex:u.fE.base,":hover":{zIndex:u.fE.base}},_flexGrow:{flexGrow:1},_flex_1_1_100:{flex:"1 1 100%"}},h=(0,n.Xy)(g)(m)},97423:(e,t,i)=>{"use strict";i.d(t,{B:()=>d});var s=i(31085),r=i(68887),n=i(84175),a=i(14041),o=i(99259),c=i(80552);const d=(0,a.memo)((({segments:e,labels:t,labelsMarginTop:i,labelsJustifyContent:r,labelFontSize:a})=>{const{s:o,css:c}=(0,n.I)(l);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",Object.assign({className:c(o.line)},{children:e.map(((t,i)=>(0,s.jsx)("div",{style:{background:t,width:100/e.length+"%"}},i)))})),(0,s.jsx)("div",Object.assign({className:c(o.labels),style:{marginTop:i,justifyContent:r,fontSize:a}},{children:t.map(((e,i)=>(0,s.jsx)("div",Object.assign({className:c(o.label),style:{width:"space-around"===r?100/t.length+"%":void 0}},{children:e}),i)))}))]})})),l=(0,n.r)({line:{height:8,display:"flex",borderRadius:r.V.default,overflow:"hidden"},labels:Object.assign(Object.assign({},c.tiny),{color:o.T.gray_929292,display:"flex",justifyContent:"space-between",marginTop:2}),label:{textAlign:"center"}})},53789:(e,t,i)=>{"use strict";i.d(t,{P:()=>p});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(76065),c=i(80552),d=i(99259),l=i(81618);class u extends r.PureComponent{render(){const{children:e,isExpandable:t,isExpanded:i,isDisabled:r,isEntityFrame:a,onClick:c,s:d}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(d.titleWrap,a&&d._alternatePadding,t&&d._withArrow,r&&d._disabled),onClick:!r&&t?c:void 0},{children:[(0,s.jsx)("h3",Object.assign({className:(0,n.AH)(d.title,a&&d._regilarTitle)},l.dx.n("wat-widget-title"),{children:e})),t&&(0,s.jsx)("div",Object.assign({className:(0,n.AH)(d.arrow,r&&d._disabledArrow)},{children:(0,s.jsx)(o.i,{direction:i?"up":"down"})}))]}))}}const p=(0,a.Xy)((()=>({titleWrap:{overflow:"hidden",textOverflow:"ellipsis",paddingTop:12,paddingBottom:12,paddingStart:8,paddingEnd:0,color:d.T.gray_262626,wordBreak:"break-word",wordWrap:"break-word"},_alternatePadding:{paddingTop:0,paddingStart:10,paddingBottom:8},_withArrow:{position:"relative",cursor:"pointer",paddingEnd:16},_disabled:{pointerEvents:"none",color:d.T.gray_e6e6e6},title:Object.assign(Object.assign({},c.regularBold),{margin:"0"}),_regilarTitle:Object.assign({},c.regular),arrow:{position:"absolute",end:0,top:6,width:24,height:24,color:d.T.gray_262626},_disabledArrow:{color:d.T.gray_e6e6e6}})))(u)},47791:(e,t,i)=>{"use strict";i.d(t,{By:()=>r,Yc:()=>n});var s=i(72384);const r="buildingTooltips",n="withOrgAndRealty";(0,s.n)({name:r,percentRange:[0,0],groups:["controlGroup",n],excludeHumanFromSeo:!0})},54621:(e,t,i)=>{"use strict";i.d(t,{By:()=>r,Yc:()=>n});var s=i(72384);const r="markerAnalytics",n="withAnalytics";(0,s.n)({name:r,percentRange:[0,0],groups:["controlGroup",n]})},23797:(e,t,i)=>{"use strict";i.d(t,{By:()=>r,Yc:()=>n});var s=i(72384);const r="redesignMiniCard",n="withRedesign";(0,s.n)({name:r,percentRange:[0,0],groups:["controlGroup",n],excludeHumanFromSeo:!0})},76160:(e,t,i)=>{"use strict";i.d(t,{By:()=>r,Yc:()=>n});var s=i(72384);const r="tech_exp_register_suggestitem",n="trackable";(0,s.n)({name:r,percentRange:[.98,1],groups:["controlGroup",n]})},91664:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});const s={long:0,short:200,spinner:1e3}},68887:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});const s={default:"4px",minicard:"2px",oval:"50%",rounded:"9999px",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px"}},99259:(e,t,i)=>{"use strict";i.d(t,{T:()=>s});const s={white:"#ffffff",black:"#000000",black_transparent_06:(0,i(69158).m)("#000000",.06),black_transparent_50:"#808080",gray_1a1a1a:"#1a1a1a",gray_141414:"#141414",gray_262626:"#262626",gray_929292:"#929292",gray_f9f9f9:"#f9f9f9",gray_f6f6f6:"#f6f6f6",gray_f2f2f2:"#f2f2f2",gray_e6e6e6:"#e6e6e6",gray_bbbbbb:"#bbbbbb",gray_b2b2b2:"#b2b2b2",gray_dddddd:"#dddddd",gray_333333:"#333333",gray_5c5c5c:"#5c5c5c",gray_9b9b9b:"#9b9b9b",gray_bfbfbf:"#bfbfbf",gray_dfdfdf:"#dfdfdf",gray_f5f5f5:"#f5f5f5",gray_f0f0f0:"#f0f0f0",gray_4d4d4d:"#4d4d4d",gray_cccccc:"#cccccc",gray_989bab:"#989bab",gray_dedad9:"#dedad9",gray_898989:"#898989",gray_8989894d:"#8989894d",gray_e5e7ee:"#E5E7EE",gray_cbcdd5:"#cbcdd5",gray_4c4d4f:"#4c4d4f",gray_3a4149:"#3A4149",gray_f8f4f0:"#F8F4F0",gray_5A5A5A:"#5A5A5A",gray_b3b3b3:"#b3b3b3",red_fe5000:"#fe5000",red_e10d0d:"#e10d0d",red_e32608:"#e32608",red_f5373c:"#f5373c",orange_ff8800:"#ff8800",orange_ffba00:"#ffba00",orange_fffaeb:"#fffaeb",orange_fff0c8:"#fff0c8",orange_ff8d00:"#ff8d00",orange_d97f00:"#d97f00",yellow_ffb81c:"#ffb81c",yellow_ffc84b:"#ffc84b",yellow_ffbb36:"#ffbb36",green_299400:"#299400",green_227a00:"#227a00",green_1ba136:"#1ba136",green_30ad00:"#30ad00",green_5bae00:"#5bae00",green_60bf00:"#60bf00",green_002400:"#002400",green_007000:"#007000",blue_006fab:"#006fab",blue_0072ce:"#0072ce",blue_0168f9:"#0168f9",blue_0070cc:"#0070cc",blue_028eff:"#028eff",blue_0f7ddc:"#0f7ddc",blue_c5ebff:"#c5ebff",blue_82bceb:"#82bceb",blue_59b4ff:"#59b4ff",blue_0672ad:"#0672ad",blue_70aee0:"#70aee0",blue_c5eeff:"#c5eeff",blue_8eb6da:"#8eb6da",blue_0082c8:"#0082c8",blue_f1f6fa:"#f1f6fa",blue_97c9db:"#97c9db",blue_82bbee:"#82bbee",blue_899aab:"#899aab",purple_8345fe:"#8345fe",purple_4a15e8:"#4a15e8"}},66698:(e,t,i)=>{"use strict";i.d(t,{Ac:()=>_,As:()=>p,Fj:()=>b,Fx:()=>I,H0:()=>n,H2:()=>O,J1:()=>j,MO:()=>l,N:()=>o,Qh:()=>E,R$:()=>P,S0:()=>r,Uq:()=>s,Xl:()=>u,aR:()=>L,du:()=>N,ge:()=>M,gg:()=>R,i5:()=>x,iE:()=>a,iF:()=>w,iO:()=>k,iW:()=>d,im:()=>h,nD:()=>m,no:()=>T,o0:()=>f,pA:()=>C,qh:()=>g,vl:()=>v,xZ:()=>A,ye:()=>y,zs:()=>c});const s=12,r=12,n=50,a=20,o=19,c=5,d=50,l=5,u=1280,p=700,m=18,g=.2,h=16,f=16,v=2,b=10,y="car",x=2,j=840,w={tUgc:0,default:1,favorites:2,billboard:3,friendsSmall:4,friends:5,friendsCzar:6,czars:7,openedBillboard:8},I=["novosibirsk","omsk","moscow","spb","kemerovo","krasnoyarsk","ekaterinburg","tyumen","chelyabinsk","krasnodar"],C=["#025d29","#00883d","#05ac4b","#5fcc56","#b0e46e","#e5f497","#ffed98","#ffc76c","#ff914a","#ff5631","#eb2320","#b6001d"],_=["#0c7805","#7fcd33","#ffd46c","#ff5631"],k=24,O=10,S="dg5_auth",T=`${S}_access_token`,E="all",M="price_list_image",N=10,L="23",P="1",R="23.10.24–01.11.24",A=1},475:(e,t,i)=>{"use strict";i.d(t,{JF:()=>r,qo:()=>s});const s=["ru","kz","kg","uz","az","by","cl","ae","sa","eg","cy","it","cz","om","bh","qa","kw","iq","ma","am","ge"],r=s.map((function(e){return e.toUpperCase()}))},88096:(e,t,i)=>{"use strict";i.d(t,{En:()=>o,aH:()=>r,aI:()=>a,fx:()=>c,jD:()=>s,vx:()=>d,zP:()=>n});const s=13,r=27,n=32,a=37,o=38,c=39,d=40},2829:(e,t,i)=>{"use strict";i.d(t,{f:()=>s});const s={bottom:-1,base:0,top:1}},5836:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r,x:()=>s});const s={ios:{rating:4.8,reviews:"178 K"},android:{rating:4.3,reviews:"985 K"}},r={mobileDownloadPromo:{inUGC:{reviews:"https://2gis.onelink.me/nw2S/d2de46ec",photos:"https://2gis.onelink.me/nw2S/972d4707"}}}},31897:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});const s={width:64,height:80}},68819:(e,t,i)=>{"use strict";i.d(t,{J:()=>s,Z:()=>r});const s=["275","295","55693","21039","603","139","571","19487"],r=["295","603"]},92206:(e,t,i)=>{"use strict";i.d(t,{j:()=>s,p:()=>r});const s="174",r="248"},8319:(e,t,i)=>{"use strict";i.d(t,{f:()=>r,u:()=>s});const s=["161","164","159","1203","9786","21501","58871","110317","110408","165","162","110411","51459","110376","52248","166","15791","111593","363","469","879","10803","111594","112656","112658","21387","558","16677"],r=["305","652","5603","382","651","110355","58858","20165","13102","13726","56759","14942","69989","13597","51009","53986","70190","67142","50870","110479","110353","110351","110352","69491","110975","110998","405","7689"]},70498:(e,t,i)=>{"use strict";i.d(t,{E:()=>o});var s=i(99259),r=i(69158);const n=`inset 0 -1px ${s.T.gray_e6e6e6}`,a=`inset 0 1px ${s.T.gray_e6e6e6}`,o={one:"0 0 1px rgba(0, 0, 0, .25)",logo:"0 0 1px 1px rgba(0, 0, 0, .25)",outerRight:"1px 0 3px 0 rgba(38, 38, 38, 0.25)",outerLeft:"-1px 0 0 0 rgba(38, 38, 38, 0.115)",outerTop:"0 -1px 3px 0 rgba(38, 38, 38, 0.25)",minicardHighLighted:`inset 3px 0 0 0 ${s.T.green_299400}`,minicardHighLightedSingle:`inset 3px 0 0 0 ${s.T.green_299400}, ${n}`,popupBorderBottom:"0 1px 3px 0 rgba(64, 64, 64, 0.5)",darkBorderBottom:"inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)",popup:`0 1px 3px 0 ${(0,r.m)(s.T.gray_262626,.5)}`,innerBorderBase:`inset 0 0 0 1px ${s.T.gray_e6e6e6}`,innerBorderTransparent:`inset 0 0 0 1px ${(0,r.m)(s.T.black,.1)}`,innerBorderActive:`inset 0 0 0 1px ${s.T.green_299400}`,innerBorderFocus:`inset 0 0 0 1px ${s.T.blue_0072ce}`,innerBorderDisabled:`inset 0 0 0 1px ${s.T.gray_f2f2f2}`,innerBorderBottomBase:n,innerBorderTopBase:a,innerBorderEndBase:`logical inset -1px 0 ${s.T.gray_e6e6e6}`,innerBorderStartBase:`logical inset 1px 0 0 0 ${s.T.gray_e6e6e6}`,innerBorderTopBaseWithCurrentColor:"inset 0 -1px currentColor",innerBorderTopBottom:`${n}, ${a}`,photoItemBorderBottom:`inset -1px 0 0 0 ${s.T.white}`,openedRouteEditorBillboardBanner:`0px 3px 10px 0px ${(0,r.m)(s.T.gray_262626,.15)}`,selectedReaction:`${s.T.green_30ad00} 0px 0px 0px 1px inset`,hoverReaction:`${s.T.gray_929292} 0px 0px 0px 1px inset`,hoverSelectedReaction:`${s.T.green_299400} 0px 0px 0px 1px inset`}},80690:(e,t,i)=>{"use strict";i.d(t,{C6:()=>n,aY:()=>s,ts:()=>r});const s=" ",r="–",n="–"},86645:(e,t,i)=>{"use strict";i.d(t,{V:()=>J});var s=i(31085),r=i(99259),n=i(84175),a=i(81618),o=i(14041),c=i(60784),d=i(32288),l=i(65290),u=i(46645);const p=e=>({frameId:t},i)=>{const{entity:s,position:r,ownerName:n}=e;return{uiElement:{name:"buyHerePartnersLink",ownerName:n,frameUuid:t},action:"tap",payload:{placeItem:(0,d.ij)({entity:s,position:r}),searchResultsList:(0,l.tp)({state:i,searchFrameId:t}),promoItem:(0,u.j)({state:i,frameId:t})}}};var m=i(8365),g=i(96141),h=i(79594),f=i(10742),v=i(6532),b=i(7860),y=i(19899);const x=(0,o.memo)((e=>{const{entity:t,position:i,ownerName:r}=e,n=(0,b.z)(t.ads),a=(0,y.R)(t.ads),{bssRef:o,useBssHandler:c}=(0,m.E)((x={entity:t,position:i,ownerName:r},({frameId:e},t)=>{const{entity:i,position:s,ownerName:r}=x;return{uiElement:{name:"buyHerePartnersLink",ownerName:r,frameUuid:e},payload:{placeItem:(0,d.ij)({entity:i,position:s}),searchResultsList:(0,l.tp)({state:t,searchFrameId:e}),promoItem:(0,u.j)({state:t,frameId:e})}}}));var x;const j=c(p,{entity:t,position:i,ownerName:r}),w=(0,h.wA)(),I=(0,f.D)((()=>{n&&(j(),w((0,v.X)({adsIds:n.ownedRubricId,isFMCG:a})))}));return n?(0,s.jsx)(g.$,Object.assign({containerRef:o,medium:!0,appearance:"noncontrast",onClick:I,dataN:"wat-buy-here-owner-minicard"},{children:n.controlTitle})):null}));x.displayName="BuyHereOwnerLink";var j=i(86938),w=i(91650),I=i(64099),C=i(88114),_=i(91905);const k=o.forwardRef(((e,t)=>{const{compact:i,medium:r,backgroundColor:a,logo:o,isExternal:c,href:d,onClick:l,appearance:u,styles:p,value:m,isPhone:h}=e,{css:f,s:v}=(0,n.I)(O);return(0,s.jsx)(g.$,Object.assign({containerRef:t,compact:i,medium:r,appearance:u,background:a,href:d,onClick:l,external:c,experimentalStyles:p,dataN:"wat-ads-cta-button"},{children:(0,s.jsxs)("div",Object.assign({className:f(v.content)},{children:[o&&(0,s.jsx)("div",Object.assign({className:f(v.logo)},{children:(0,s.jsx)(C.E,{src:o,height:16,width:16,isLoadingForced:!0})})),m,h&&(0,s.jsx)("div",Object.assign({className:f(v.phoneIcon,r&&v._mediumPhoneIcon)},{children:(0,s.jsx)(_.b,{size:r?18:void 0})}))]}))}))})),O=(0,n.r)({logo:{width:16,height:16,borderRadius:I.Vq.default,overflow:"hidden",marginEnd:8},content:{width:"100%",height:"100%",display:"flex",alignItems:"center"},phoneIcon:{height:24,width:24,paddingStart:4},_mediumPhoneIcon:{marginTop:-2,height:16,width:16}});var S=i(9101),T=i(69158),E=i(15471),M=i(98379),N=i(80905),L=i(84103),P=i(52655),R=i(22853);const A=e=>t=>{const{parent:i,action:s,ownerFrameId:r,orgId:n,adsPosition:a,entity:o,placeItemPosition:c,position:u}=e,p=B(i),m=(0,N.w1)(t.appContext.frames,r),g="placeCardMini"!==p?(0,M.t)({state:t,entityFrameId:r}):(0,d.ij)({entity:o,position:c}),h=(0,L.d)({entity:o,ownerName:p,validOwnerName:"directorySearchResultsFrame"}),f=m&&"placeCardMini"===p&&((0,P.T)(m)||(0,R.t)(m))?(0,l.tp)({state:t,searchFrameId:r}):void 0;return{uiElement:{name:"callToActionButton",ownerName:p,frameUuid:r,position:u},action:"tap",payload:Object.assign({callToAction:{actionType:s.type,value:s.value,contentOwner:n&&a?{org:n,adsPosition:"video"===i||m&&"search"===m.type&&"fmcg"===m.searchType?"fmcg":a,adsId:null==g?void 0:g.adsId}:void 0},placeItem:g,filialsList:h},f?{searchResultsList:f}:{})}},B=e=>{switch(e){case"orgInfo":return"directorySearchResultsFrame";case"video":return"videoFrame";case"placeCardMini":return"placeCardMini";default:return"placeCardFull"}};var z=i(7335),F=i(48914);const H=e=>{const[t,i]=(0,o.useState)(!1),{action:r,logo:n,backgroundColor:c,orgId:u,adsPosition:p,parent:g,entity:v,appearance:b,medium:y,compact:x,styles:I,position:C,placeItemPosition:_,onObserve:O}=e,H=(0,o.useRef)(null),U="placeCardMini"===g,{frameId:D}=(0,o.useContext)(E.X),V=(0,h.wA)(),{showEventOrdinal:$,bssRef:W}=(0,m.E)((q={entity:v,ownerFrameId:D,adsPosition:p,placeItemPosition:_,position:C,action:r,parent:g,orgId:u},({frameId:e},t)=>{const{entity:i,adsPosition:s,position:r,placeItemPosition:n,action:a,parent:o,orgId:c}=q,u=B(o),p=(0,N.w1)(t.appContext.frames,e),m="placeCardMini"!==u?(0,M.t)({state:t,entityFrameId:e}):(0,d.ij)({entity:i,position:n}),g={actionType:a.type,value:a.value},h=(0,L.d)({ownerName:u,entity:i,validOwnerName:"directorySearchResultsFrame"}),f=p&&"placeCardMini"===u&&((0,P.T)(p)||(0,R.t)(p))?(0,l.tp)({state:t,searchFrameId:e}):void 0;return c&&s?{uiElement:{name:"callToActionButton",ownerName:u,frameUuid:e,position:r},payload:Object.assign({callToAction:Object.assign(Object.assign({},g),{contentOwner:{org:c,adsPosition:"video"===o||p&&"search"===p.type&&"fmcg"===p.searchType?"fmcg":s,adsId:null==m?void 0:m.adsId}}),placeItem:m,filialsList:h},f?{searchResultsList:f}:{})}:{uiElement:{name:"callToActionButton",ownerName:u,frameUuid:e,position:r},payload:Object.assign({callToAction:g,placeItem:m,filialsList:(0,L.d)({ownerName:u,entity:i,validOwnerName:"directorySearchResultsFrame"})},f?{searchResultsList:f}:{})}}),{threshold:.8});var q;(0,o.useEffect)((()=>(H.current||(H.current=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(null==O||O())}))}),{threshold:.9})),H.current.observe(W.current),()=>{var e;null===(e=H.current)||void 0===e||e.disconnect()})),[W,O]);const Z="phone"===r.type,Q=r.isExternal&&"phone"!==r.type||"phone"===r.type&&t,G=(0,f.D)((()=>{"link"!==r.type&&(Z&&i(!0),r.isExternal||V((0,S.O)({actionType:r.type,entityId:v.id,value:r.value})),V((0,z.eU)(A({action:r,parent:g,ownerFrameId:D,orgId:u,entity:v,position:C,placeItemPosition:_,adsPosition:p}),(e=>(0,F.cD)(e)))))})),K=e=>(0,s.jsx)(k,{ref:W,isExternal:Q,appearance:b,medium:y,compact:x,isPhone:"phone"===r.type,href:e,onClick:G,value:t?r.value:r.name,logo:n,styles:I,backgroundColor:U?c&&`linear-gradient(62.12deg, ${(0,T.m)(c,.17)} 0%, ${(0,T.m)(c,.06)} 100%)`:c});return(0,s.jsx)("div",Object.assign({},a.dx.n("wat-ads-cta"),{children:"link"===r.type?(0,s.jsx)(w.$.Consumer,{children:e=>(0,s.jsx)(j.L,Object.assign({highPriorityEventOrdinal:"placeCardMini"===g,showEventOrdinal:e||$,actionEventParamsSelector:A({action:r,parent:g,ownerFrameId:D,placeItemPosition:_,orgId:u,entity:v,position:C,adsPosition:p}),originalHref:r.value||""},{children:e=>K(e)}))}):K(r.href)}))};var U=i(55322),D=i(89379),V=i(76065);const $=e=>{const{onObserveItem:t,list:i,entity:c,isMiniCard:d,isMiniBranchSelected:l,placeItemPosition:u}=e,p=(0,o.useRef)(null),{isStartArrowShown:m,isEndArrowShown:g,clickArrowStart:h,clickArrowEnd:f}=(0,U.j)({scrollboxRef:p}),{s:v,css:b}=(0,n.I)(W),y=(e,i)=>(0,s.jsx)(H,{action:e.action,backgroundColor:"entityAction"===e.type?e.backgroundColor:void 0,placeItemPosition:u,entity:c,orgId:"buyHere"===e.type?e.orgId:void 0,logo:"buyHere"===e.type?e.logo:void 0,adsPosition:"buyHere"===e.type?e.adsPosition:void 0,parent:d?"placeCardMini":"branch",position:i.inList?i.index+1:void 0,appearance:"noncontrast",styles:i.inList?v.listItem:void 0,medium:!0,onObserve:()=>null==t?void 0:t(i.index)},`${d?"placeCardMini":"branch"}_callToAction_${c.id}${"buyHere"===e.type?`_${e.orgId}`:""}`);return 1===i.length?y(i[0],{index:0,inList:!1}):(0,s.jsxs)("div",Object.assign({className:b(v.slider)},{children:[(0,s.jsx)(D.h,Object.assign({gap:8,offset:0,containerRef:p},{children:i.map(((e,t)=>y(e,{index:t,inList:!0})))})),m&&(0,s.jsx)("button",Object.assign({className:b(v.arrow,v.arrowLeft,l&&v.arrowSelectedLeft)},a.dx.n("wat-cta-carousel-arrow-start"),{onClick:h,type:"button"},{children:(0,s.jsx)(V.i,{direction:"left",color:r.T.black})})),g&&(0,s.jsx)("button",Object.assign({className:b(v.arrow,v.arrowRight,l&&v.arrowSelectedRight)},a.dx.n("wat-cta-carousel-arrow-end"),{onClick:f,type:"button"},{children:(0,s.jsx)(V.i,{direction:"right",color:r.T.black})}))]}))},W=(0,n.r)((e=>({listItem:{width:"100%",minWidth:e.mobile?190:168,whiteSpace:"nowrap","& > div":{justifyContent:"center"}},slider:{overflowX:"auto",position:"relative"},arrow:{position:"absolute",top:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,"::before":{content:'""',pointerEvents:"none",width:32,height:32,position:"absolute",top:0,bottom:0}},arrowLeft:{left:0,"::before":{left:0,background:"linear-gradient(to right, #FFFFFF 50%, rgba(255, 255, 255, 0.85) 76.12%, rgba(255, 255, 255, 0.1) 100%)"}},arrowRight:{left:"auto",right:0,"::before":{right:0,background:"linear-gradient(to left, #FFFFFF 50%, rgba(255, 255, 255, 0.85) 76.12%, rgba(255, 255, 255, 0.1) 100%)"}},arrowSelectedLeft:{"::before":{background:"linear-gradient(to right, rgb(249, 249, 249) 50%, rgba(249, 249, 249, 0.85) 76.12%, rgba(249, 249, 249, 0.1) 100%)"}},arrowSelectedRight:{"::before":{background:"linear-gradient(to left, rgb(249, 249, 249) 50%, rgba(249, 249, 249, 0.85) 76.12%, rgba(249, 249, 249, 0.1) 100%)"}}})));var q=i(14193),Z=i(95885);var Q=i(43322);var G=i(9019),K=i(67143),Y=i(24896);var X=i(82781);const J=(0,o.memo)((e=>{var t,i,r,d,l,u,p,m,g;const{entity:h,position:f,isMiniCard:v,withoutLogo:y,isMiniBranchSelected:j}=e,{css:w,s:I}=(0,n.I)(ee),C=(0,X.c)(),[_,k]=(0,o.useState)(0),O=((e,t,i)=>{var s,r,n,a,o,c,d,l,u;if(null===(n=null===(r=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.actions)||void 0===n?void 0:n.find((e=>{var t;return!e.platforms||(null===(t=e.platforms)||void 0===t?void 0:t.includes("online"))}))){const t=(0,b.S)(e.ads.options.actions,"online",i._t("Узнать больше"));return t?[{action:t,backgroundColor:null===(o=null===(a=e.ads)||void 0===a?void 0:a.options)||void 0===o?void 0:o.color,type:"entityAction"}]:[]}if(null===(d=null===(c=e.ads)||void 0===c?void 0:c.options)||void 0===d?void 0:d.buy_here){const s="placeCardMini"===t;return(0,q.l)(e,{checkByCtaList:s}).reduce(((e,t)=>{if(t.actions){const s=(0,b.S)(t.actions,"online",i._t("Узнать больше"),t.branch_id);if(!s)return e;const r={type:"buyHere",action:s,orgId:t.org_id,branchId:t.branch_id,logo:(0,Z.Y)(t.logo,"48x48"),adsPosition:"buyHere",adsTexts:t.ads_texts,isFmcg:!(!t.images&&!t.videos)};return e.concat(r)}return e}),[])}return"placeCardMini"===t&&(null===(u=null===(l=e.ads)||void 0===l?void 0:l.options)||void 0===u?void 0:u.fmcg)?e.ads.options.fmcg.reduce(((e,t)=>{var s;if(t.cta_list&&t.actions){const r=(0,b.S)(t.actions,"online",i._t("Узнать больше"),t.branch_id);if(!r)return e;const n={type:"buyHere",action:r,orgId:t.org_id,branchId:t.branch_id,adsPosition:"fmcg",logo:(0,Z.Y)(null===(s=t.logo)||void 0===s?void 0:s[0],"32x32"),adsTexts:{text_warning:t.text_warning}};return e.concat(n)}return e}),[]):[]})(h,v?"placeCardMini":"branch",C),S=O.some((e=>"buyHere"===e.type))?O[_]:void 0;const T=v&&!!(null===(r=null===(i=null===(t=h.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.buy_here_owner)||void 0===r?void 0:r[0])||!!(null===(u=null===(l=null===(d=h.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.fmcg_owner)||void 0===u?void 0:u[0]),E=!v&&!!(null===(m=null===(p=h.ads)||void 0===p?void 0:p.options)||void 0===m?void 0:m.poi),M=(0,K.B)(h),N=y?void 0:function(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options;return t&&t.logo}(h),L=S?S.adsTexts.text:null===(g=h.ads)||void 0===g?void 0:g.text,P=!!(O.length||T||v),R=(0,Y.fu)(h,{enabled:!P}),A=(e=>{var t,i;const{entity:s,buyHere:r,buildingBanner:n}=e;return r?{adsWarning:null===(t=r.adsTexts)||void 0===t?void 0:t.text_warning,adInfoParams:{source:"buyHere",entityId:r.branchId,frameEntityId:s.id}}:n?{legalName:n.legalName,adInfoParams:{source:"banner",legalName:n.legalName,erid:n.erid}}:{adInfoParams:{entityId:s.id,source:"card"},adsWarning:null===(i=s.ads)||void 0===i?void 0:i.text_warning,legalName:s.name_ex?s.name_ex.legal_name:void 0}})({entity:h,buyHere:S,buildingBanner:R.data}),B=!!(L||A.adsWarning||O.length||T||E||R.data);if(!(L||A.adsWarning||O.length||T||E||M||R.data))return null;const z=O.filter((e=>"entityAction"===e.type||!e.isFmcg));return(0,s.jsxs)("div",Object.assign({className:w(I.root)},{children:[(0,s.jsxs)("div",Object.assign({className:w(I.side)},{children:[!!L&&(0,s.jsx)("div",Object.assign({className:w(I.text)},a.dx.n("wat-ads-text"),{children:L})),B&&(0,s.jsx)("div",Object.assign({className:w(I.warning)},{children:(0,s.jsx)(c.a,{text:A.adsWarning,legalName:A.legalName,adInfo:A.adInfoParams})})),(0,s.jsx)("div",Object.assign({className:w(I.cta)},{children:z.length?(0,s.jsx)($,{placeItemPosition:f,isMiniCard:v,isMiniBranchSelected:j,onObserveItem:e=>k(e),list:z,entity:h}):T?(0,s.jsx)(x,{entity:h,position:f,ownerName:v?"placeCardMini":"cardInformation"}):!v&&!R.isLoading&&(0,s.jsx)(G.I,{frameName:"entity",entity:h,isBuildingBannerDisabled:P})}))]})),!!N&&(0,s.jsx)("div",Object.assign({className:w(I.logo)},{children:(0,s.jsx)(Q.g,{size:40,entity:h,isLoadingForced:!v})}))]}))})),ee=(0,n.r)({root:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${r.T.gray_e6e6e6}`,":empty":{display:"none"}},side:{flexGrow:1,overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",":empty":{display:"none"}},text:{marginBottom:4,":empty":{display:"none"}},warning:{marginBottom:10,":empty":{display:"none"}},logo:{marginStart:12,":empty":{display:"none"}},cta:{display:"flex",":empty":{display:"none"}}})},86938:(e,t,i)=>{"use strict";i.d(t,{L:()=>g});var s=i(31085),r=i(14041),n=i(48914),a=i(60077),o=i(27942);var c=i(96624);const d={bssTrackAction:n.cD};class l extends r.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.event&&this.props.bssTrackAction(this.props.event)}}render(){const{linkUrl:e}=this.props;return(0,s.jsx)("span",Object.assign({onClickCapture:this.onClick},{children:this.props.children(e)}))}}const u=(0,o.J)(((e,{config:t})=>({webApiKey:t.webApiKey,commitIsoDate:t.commitIsoDate,bssV3Url:t.bssV3LinkEndpoint,bssV3Link:t.bssV3Link,abTest:t.experiments,clientId:Number(t.clientId),isMobileDevice:t.isMobileDevice,sendPrivacyData:!t.featureReadOnly})))((0,a.M)({selectors:()=>{const e=(0,c.Iq)();return({showEventOrdinal:t,actionEventParamsSelector:i,originalHref:s,commitIsoDate:r,webApiKey:n,bssV3Url:a,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})=>({event:e=>i?i(e):void 0,linkUrl:e({actionEventParamsSelector:i,originalHref:s,showEventOrdinal:t,webApiKey:n,commitIsoDate:r,bssV3Url:a,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})})},handlers:d})(l));var p=i(80960),m=i(46579);const g=e=>{const{featureReadOnly:t}=(0,m.U)(),i=r.useContext(p.V);if(t)return(0,s.jsx)(s.Fragment,{children:e.children(e.originalHref)});const n=e.highPriorityEventOrdinal||void 0===i.showEventOrdinal?e:Object.assign(Object.assign({},e),{showEventOrdinal:i.showEventOrdinal});return(0,s.jsx)(u,Object.assign({},n))}},96624:(e,t,i)=>{"use strict";i.d(t,{gY:()=>l,Iq:()=>d});var s=i(50432),r=i(53157),n=i(35023),a=i(24272),o=i(48518);function c(e){try{return new URL(e).toString()}catch(e){}return e}const d=()=>{let e,t,i;return d=>l=>{const{showEventOrdinal:u,actionEventParamsSelector:p,originalHref:m,commitIsoDate:g,webApiKey:h,bssV3Url:f,bssV3Link:v,abTest:b,clientId:y,isMobileDevice:x,sendPrivacyData:j}=d,w=p?p(l):void 0;if(void 0===u||!w)return m;if(e&&t===u&&m===i)return e;const I={type:211,eventType:"action",eventId:(0,n.W7)(),actionType:"externalLink",eventOrdinal:0,uiElement:w.uiElement,payload:Object.assign(Object.assign({},w.payload),{externalLink:{forkEventOrdinal:u,parentTabId:l.config.tabId}})},C=(0,a._)({tabId:(0,n.W7)(),apikey:h,commitIsoDate:g,deviceLocale:l.session.browserLocale,state:l,eventParams:I,enhancedAttrs:{},abTest:b,clientId:y,isMobileDevice:x,sendPrivacyData:j});return i=m,t=u,e=function({eventParams:e,href:t,bssV3Url:i,bssV3Link:n}){if("undefined"==typeof window||!e)return t;if(t.startsWith("tel:"))return t;let a="";const d=-1===i.indexOf("http")?`http:${i}`:i,l=t.replace(/^https?:\/\/link\.(2gis\.ru|2gis\.com|urbi\.ae)[^?]+\?/,"")||void 0;if(!l)return t;try{a=[c(l),d,e].join("\n");const t=(0,r.WG)(a);return`${n}4.2/${(0,r.jM)(`6bR0Lasa39YtYL9sMu/${t}/`)}/${encodeURIComponent(t)}`}catch(e){(0,s.vV)({level:"warn",message:"Не удалось запаковать в base64 урл",id:"aj48e",payload:{type:"exception",subtype:"MakeBase64Link",stack:(0,o.N)(e),data:JSON.stringify({resolvedUrl:l,linkParamsString:a})}})}return t}({eventParams:JSON.stringify([(0,n.kk)(C)]),href:m,bssV3Url:f,bssV3Link:v}),e}},l=e=>{const{showEventOrdinal:t,actionEventParamsSelector:i,originalHref:s,config:r}=e,n=d(),a=r.webApiKey,o=r.commitIsoDate,c=r.bssV3LinkEndpoint,l=r.bssV3Link,u=r.experiments,p=Number(r.clientId),m=r.isMobileDevice;return n({originalHref:s,showEventOrdinal:t,actionEventParamsSelector:i,webApiKey:a,bssV3Url:c,bssV3Link:l,sendPrivacyData:!r.featureReadOnly,commitIsoDate:o,abTest:u,clientId:p,isMobileDevice:m})}},5164:(e,t,i)=>{"use strict";i.d(t,{$8:()=>w,OB:()=>j,Xy:()=>C});var s=i(66333),r=i(56803),n=i(33626),a=i(20919),o=i(54694),c=i(43793),d=i(29711),l=i(35023),u=i(81338),p=i(42451),m=i(82393),g=i(21959),h=i(24325),f=i(80905);const v=(0,s.Mz)([e=>(0,f.bB)(e.appContext.frames,"search")],(e=>"search"===(null==e?void 0:e.type)&&"query"===e.searchType?e.seoFakeEntityId:void 0)),b=({page:e,searchId:t,gtaId:i,pagination:s,seoFakeEntityId:r})=>{const n=null==s?void 0:s[e],a=n&&r&&1===e?[r,...n.data.filter((e=>e!=r))||[]]:void 0;return{result:a?Object.assign(Object.assign({},n),{data:a}):n,context:{searchId:t,page:e,gtaId:i}}},y=(0,s.Mz)([({props:e})=>(0,a.t)(e.frame),({props:e})=>(0,c.X)(e.frame,"actual"),({props:e})=>(0,p.j)(e.frame,"actual"),({state:e,props:t})=>(0,r.Fs)({state:e,searchId:(0,c.X)(t.frame,"actual")||""}),({state:e})=>v(e)],((e,t,i,s,r)=>b({page:e,searchId:t,gtaId:i,pagination:s,seoFakeEntityId:r}))),x=(0,s.Mz)([({props:e})=>(0,o.U)(e.frame),({props:e})=>(0,c.X)(e.frame),({props:e})=>(0,p.j)(e.frame),({state:e,props:t})=>(0,r.Fs)({state:e,searchId:(0,c.X)(t.frame)||""}),({state:e})=>v(e)],((e,t,i,s,r)=>b({page:e,searchId:t,gtaId:i,pagination:s,seoFakeEntityId:r}))),j=(0,s.Mz)([({state:e,props:t})=>y({state:e,props:t}),({state:e,props:t})=>x({state:e,props:t})],((e,t)=>(0,u.u)(e,t))),w=(0,s.Mz)([j,({state:e})=>e.data.entity.profile],((e,t)=>{var i,s;return null===(s=null===(i=null==e?void 0:e.result)||void 0===i?void 0:i.data)||void 0===s?void 0:s.map((e=>t[e]&&t[e].data)).filter(l.t2)}),{compareByFirstArgOnly:!0}),I=(0,s.Mz)([j,w,e=>{var t,i,s;const r=null===(i=null===(t=j(e))||void 0===t?void 0:t.context)||void 0===i?void 0:i.gtaId;return r?null===(s=e.state.data.gta[r])||void 0===s?void 0:s.banners:void 0},e=>{var t,i,s;const r=null===(i=null===(t=j(e))||void 0===t?void 0:t.context)||void 0===i?void 0:i.gtaId;return r?null===(s=e.state.data.gta[r])||void 0===s?void 0:s.stories:void 0},({props:e})=>(0,d.p)(e.frame),({state:e})=>(0,m.MJ)(e),({state:e})=>(0,g.x3)(e),({props:e})=>(0,h.l)(e.frame),({state:e,props:t})=>(0,r.s8)({state:e,searchId:(0,c.X)(t.frame,"actual")})],((e,t,i,s,r,n,a,o,c)=>({selected:e,stories:s,pageEntities:t,gtaBanners:i,shortScheduleFormat:!r,projectId:n,isUserExists:a,isFriendsWereHereFilterContain:o,searchProfile:c}))),C=(0,n.tr)(((e,t)=>I({state:e,props:t})))},21409:(e,t,i)=>{"use strict";i.d(t,{F:()=>m});var s=i(31085),r=i(84175),n=i(9367),a=i(55143),o=i(26428),c=i(14041),d=i(36224),l=i(83639),u=i(6458),p=i(81618);const m=(0,c.memo)((e=>{const{css:t,s:i}=(0,r.I)(g),{entity:c}=e;switch(c.type){case"branch":return(0,o.S)(c)?(0,s.jsx)("span",Object.assign({className:t(i.wrapper)},p.dx.n("wat-mini-crown"),{children:(0,s.jsx)(n.O,{})})):null;case"route":return(0,u.m)(c.subtype,c.route_logo)?(0,s.jsx)("span",Object.assign({className:t(i.wrapper)},{children:(0,s.jsx)(d.B,{background:(0,l.l)(c),regionCode:(0,a.f)(c),routeLogo:c.route_logo,showLineNumber:!0})})):null;case"station_entrance":case"station_platform":case"station":return(0,u.m)(c.subtype,c.route_logo)&&c.routes?(0,s.jsx)("div",Object.assign({className:t(i.wrapper)},{children:c.routes.map((e=>(0,u.m)(e.subtype,e.route_logo)?(0,s.jsx)(d.B,{background:(0,l.l)(e),regionCode:(0,a.f)(c),routeLogo:e.route_logo,showLineNumber:!0},e.id):null))})):null;default:return null}})),g=(0,r.r)({wrapper:{display:"inline-flex",verticalAlign:"middle",marginTop:-2,gap:2}})},47493:(e,t,i)=>{"use strict";i.d(t,{m:()=>y});var s=i(31085),r=i(14041),n=i(23098),a=i(84175),o=i(64099),c=i(99259),d=i(40819),l=i(82781),u=i(11540),p=i(95e3),m=i(80552),g=i(58171),h=i(74639),f=i(81618),v=i(25877);const b=e=>{const{list:t,isInMiniCard:i}=e;if(!(null==t?void 0:t.length))return;const s=i?4:6,r=i?3:5;return t.length>s?{formattedItems:[...t].splice(0,r),counter:t.length}:{formattedItems:t,counter:void 0}},y=(0,r.memo)((({list:e,onClick:t,isInMiniCard:i})=>{const{css:o,s:c}=(0,a.I)(x),m=(0,l.c)(),y=(0,p.DP)(),j=(0,u.kc)(b,{list:e,isInMiniCard:i}),w=(0,r.useMemo)((()=>e=>(0,g.k)((0,h.F)(e))),[]);return j?(0,s.jsxs)("div",Object.assign({className:o(c.root)},{children:[j.formattedItems.map((e=>(0,r.createElement)("div",Object.assign({className:o(c.avatar,i&&c._mini)},f.dx.n("wat-avatar-user"),{key:e.user.user_id,onClick:t,title:"name"in e.user?e.user.name:void 0}),(0,s.jsx)(n.e,{initials:()=>"name"in e.user?(0,s.jsx)("div",Object.assign({className:o(c.initials),style:{background:w(e.user.user_id)}},{children:(0,d.Z)({display_name:e.user.name},m)})):null,src:"avatar_preview_tpl"in e.user?e.user.avatar_preview_tpl&&(0,v.$)(e.user.avatar_preview_tpl,{width:64,height:64}):e.user.avatar&&(0,v.$)(e.user.avatar,{width:64,height:64})})))),j.counter&&(0,s.jsx)("div",Object.assign({className:o(c.avatar,c.counter,i&&c._mini),style:{background:y.colors.green_30ad00_brand},onClick:t},{children:j.counter}))]})):null}));y.displayName="Friends";const x=(0,a.r)({root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-end"},initials:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:c.T.white},avatar:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:o.Vq.oval,color:c.T.gray_262626,background:c.T.white,border:`1px solid ${c.T.white}`,boxSizing:"border-box",overflow:"hidden",flexShrink:0,marginStart:-8,"&:first-child":{marginStart:0}},_mini:Object.assign(Object.assign({},m.tiny),{width:20,height:20}),counter:{userSelect:"none",color:c.T.white}})},95845:(e,t,i)=>{"use strict";i.d(t,{RJ:()=>c,TX:()=>u,oM:()=>o,p0:()=>d});var s=i(7540),r=i(82393),n=i(57744),a=i(42625);const o=e=>({frameId:t},i)=>{const{banner:s,ownerName:r,rubrics:n}=e,a=l({banner:s,ownerName:r,rubrics:n,frameId:t,state:i});return{uiElement:{name:"adsBanner",ownerName:r,frameUuid:t},payload:Object.assign({},a)}},c=e=>({frameId:t},i)=>{const{banner:s,ownerName:r,rubrics:n}=e,a=l({banner:s,ownerName:r,rubrics:n,frameId:t,state:i});return{action:"tap",uiElement:{name:"adsBanner",ownerName:r,frameUuid:t},payload:Object.assign({},a)}},d=e=>t=>{const{banner:i,ownerName:s,rubrics:r,frameId:n}=e,a=l({banner:i,ownerName:s,rubrics:r,frameId:n,state:t});return{action:"tap",uiElement:{name:"adsBanner",ownerName:s,frameUuid:n},payload:Object.assign({},a)}},l=e=>{const{banner:t,ownerName:i,rubrics:s,frameId:r,state:n}=e,o=u({banner:t,rubrics:s,state:n}),c=(0,a.v)({frameUuid:r,ownerName:i,state:n});return Object.assign({adsBanner:o},c)},u=e=>{const{banner:t,state:i,rubrics:a}=e,o=(0,r.MJ)(i),c=(0,n.u)(i);return{entity:{id:t.ad_attributes.branch_id?t.ad_attributes.branch_id:t.org.id,type:t.ad_attributes.branch_id?"branch":"org",segmentInfo:(0,s.o)({locale:c,region_id:o})},org:t.org.id,mainRubric:t.main_rubric_id?`${t.main_rubric_id}`:void 0,adsId:t.ad_attributes.ads_id,auctionId:t.ad_attributes.auction_id,contextRubric:(null==a?void 0:a[0][0])?`${null==a?void 0:a[0][0]}`:void 0,adsMaterialVersionId:t.ad_attributes.banner_id,adsAlgorithm:t.ad_attributes.algorithm_id}}},10005:(e,t,i)=>{"use strict";i.d(t,{u:()=>a});var s=i(85608),r=i(78170),n=i(35023);const{use:a}=(0,r.VZ)("ads advise gta online",(e=>[(0,n.cJ)(e,["viewport"]),({services:t})=>(0,s.sH)(void 0,void 0,void 0,(function*(){var i;const s=yield t.webApi.getAdsAdviseGtaOnline(e),r=(null===(i=s.banners[0])||void 0===i?void 0:i.ad_attributes.content.html)?s.banners[0].ad_attributes.content.html:void 0;if(!r)return s;const n=yield fetch(r).then((e=>e.text()));return Object.assign(Object.assign({},s),{banners:[Object.assign(Object.assign({},s.banners[0]),{ad_attributes:Object.assign(Object.assign({},s.banners[0].ad_attributes),{content:Object.assign(Object.assign({},s.banners[0].ad_attributes.content),{html:n})})})]})}))]),{cacheTime:0,staleTime:0})},14357:(e,t,i)=>{"use strict";i.d(t,{Y:()=>re});var s=i(31085),r=i(14041),n=i(60077),a=i(7515),o=i(81618),c=i(27942),d=i(26461),l=i(7860),u=i(95885),p=i(76504),m=i(26064),g=i(64099),h=i(68076),f=i(70498),v=i(30498),b=i(10520),y=i(33466),x=i(96141),j=i(21252),w=i(98379),I=i(65290),C=i(31203),_=i(48914),k=i(7335),O=i(46645);const S=e=>t=>{const{action:i,miniCardPosition:s,bannerPosition:r,ownerFrameId:n,banner:a}=e;return{uiElement:{name:"callToActionButton",ownerName:"adsBanner",position:s,frameUuid:n},action:"tap",payload:{callToAction:{actionType:i.type,value:i.value,contentOwner:void 0},searchResultsList:(0,I.tp)({state:t,searchFrameId:n}),promoItem:(0,O.j)({state:t,frameId:n}),placeItem:(0,w.t)({state:t,entityFrameId:n}),adsBanner:(0,C.V)({state:t,banner:a,position:r})}}};var T=i(86938),E=i(99259),M=i(69158);class N extends r.PureComponent{constructor(){super(...arguments),this.state={showPhone:!1},this.renderButton=e=>{const{action:t,bssRef:i,s:r}=this.props,n=t.isExternal&&"phone"!==t.type||"phone"===t.type&&this.state.showPhone;return(0,s.jsx)("div",Object.assign({ref:i},{children:(0,s.jsx)(x.$,Object.assign({compact:!0,href:e,external:n,onClick:this.onClick,dataN:"wat-gta-banner-action",dataT:t.type,experimentalStyles:r.button},{children:this.state.showPhone?t.value:t.name}))}))},this.onClick=()=>{const{action:e,onMiniCardClick:t,miniCardPosition:i,bannerPosition:s,ownerFrameId:r,banner:n,bssOnCTATap:a,searchBuyHere:o}=this.props;"link"!==e.type&&("phone"===e.type&&this.setState({showPhone:!0}),e.isExternal||("search_buy_here"===e.type?o({adsIds:e.value}):t()),a({action:e,miniCardPosition:i,bannerPosition:s,ownerFrameId:r,banner:n}))}}render(){const{action:e,bannerPosition:t,miniCardPosition:i,ownerFrameId:r,banner:n,showEventOrdinal:a}=this.props;return"link"===e.type?(0,s.jsx)(T.L,Object.assign({highPriorityEventOrdinal:!0,showEventOrdinal:a,actionEventParamsSelector:S({action:e,miniCardPosition:i,bannerPosition:t,ownerFrameId:r,banner:n}),originalHref:e.href||""},{children:this.renderButton})):this.renderButton()}}N.displayName=(0,d.d)("src/shared/containers/gtaMiniCardAds/components/gtaMiniCardCta");const L={button:{backgroundColor:(0,M.m)(E.T.yellow_ffb81c,.3),color:E.T.gray_262626}},P=(0,j.f)(((e,t)=>{const{action:i,ownerFrameId:s}=e;return{uiElement:{name:"callToActionButton",ownerName:"adsBanner",frameUuid:s},payload:{callToAction:{actionType:i.type,value:i.value},placeItem:(0,w.t)({state:t,entityFrameId:s})}}}),(e=>({bssOnCTATap(t){e((0,k.eU)(S(t),(e=>(0,_.cD)(e))))}})))((0,h.Xy)(L)(N));var R=i(42625);var A=i(60784),B=i(68887),z=i(82193),F=i(98626),H=i(11264);class U extends r.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{branchId:e,banner:t,bssOnBannerClick:i,onBannerClick:s}=this.props;s({entityId:e,hash:t.hash}),i()},this.onCtaButtonClick=()=>{const{branchId:e,banner:t,onBannerClick:i}=this.props;i({entityId:e,hash:t.hash})}}render(){const{name:e,text:t,extension:i,logoUrl:r,isSearchBot:n,action:a,miniCardPosition:c,bannerPosition:d,s:l,isHovered:u,isActive:g,hoverableHandlers:h,bssRef:f,banner:v,textWarning:y,searchBuyHere:x,erid:j,legalName:w,config:I}=this.props,{lang:C}=I;return(0,s.jsx)(z.F,{children:(0,s.jsxs)("div",Object.assign({ref:f,className:(0,m.AH)(l.root,g&&l._active),onClick:this.onClick},o.dx.n("wat-gta-mini-card"),h,{children:[r&&(0,s.jsx)("div",Object.assign({className:(0,m.AH)(l.logo)},o.dx.n("wat-gta-banner-logo"),{children:(0,s.jsx)(p.O,{src:r,isLoadingForced:n,alt:"ru"===C?"Логотип":void 0})})),(0,s.jsx)("div",Object.assign({className:(0,m.AH)(l.name,u&&l._nameHovered)},{children:(0,s.jsx)(b.E,Object.assign({lead:!0,dataN:"wat-gta-banner-object-name"},{children:e}))})),i&&(0,s.jsx)(b.E,Object.assign({note:!0},{children:i})),(0,s.jsxs)("div",Object.assign({className:(0,m.AH)(l.adsText)},o.dx.n("wat-gta-banner-ads-text"),{children:[(0,s.jsx)(b.E,Object.assign({dataN:"wat-gta-banner-ads-text"},{children:t})),(0,s.jsx)(F.Q,{suffix:!0,source:"banner",erid:j,legalName:w,dataN:"wat-gta-adv-mark"})]})),a&&(0,s.jsx)("div",Object.assign({className:(0,m.AH)(l.cta)},{children:(0,s.jsx)(P,{banner:v,action:a,onMiniCardClick:this.onCtaButtonClick,miniCardPosition:c,bannerPosition:d,searchBuyHere:x})})),!!y&&(0,s.jsx)(A.a,{text:y,mt:"4",dataN:"wat-gta-banner-text-warning"})]}))})}}U.displayName=(0,d.d)("src/shared/containers/gtaMiniCardAds/components/gtaMiniCard");const D={root:{marginBottom:8,background:E.T.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:24,border:`1px solid ${E.T.gray_e6e6e6}`,borderRadius:B.V.default,boxShadow:`0 1px 3px 0 ${E.T.gray_e6e6e6}`,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${y.S.short}ms`,":hover":{background:E.T.orange_fff0c8},"@media print":{display:"none"}},_active:{boxShadow:f.E.minicardHighLighted,background:E.T.orange_fff0c8},logo:{float:"end",width:g.Ej.cardLogo,height:g.Ej.cardLogo,borderRadius:"50%",overflow:"hidden",backgroundColor:E.T.white,boxShadow:f.E.logo},name:{color:E.T.blue_0072ce},_nameHovered:{color:E.T.gray_262626},adsText:{marginTop:8},extension:{color:E.T.gray_929292},cta:{marginTop:8}},V=(0,c.J)((({banner:e,openedEntityId:t},{tp:i})=>{const{name_ex:s,ad_attributes:{branch_id:r,content:{text:n,text_warning:a,options:o},erid:c,legal_name:d},org:p}=e;return{branchId:r,orgId:p.id,name:s.primary,extension:s.extension,text:n,textWarning:a,logoUrl:o&&(0,u.Y)(o.logo,"112x112"),showFilials:p.branch_count>1,filialsNumber:p.branch_count,action:(0,l.S)(null==o?void 0:o.actions,"online",i._t("Подробнее")),isActive:!(!t||t!==r),erid:c,legalName:d}}))((0,j.f)(((e,t)=>{const{ownerName:i,miniCardPosition:s,bannerPosition:r,banner:n,ownerFrameId:a}=e;return{uiElement:{name:"adsBanner",ownerName:i,position:s,frameUuid:a},payload:Object.assign({adsBanner:(0,C.V)({banner:n,position:r,state:t})},(0,R.v)({frameUuid:a,ownerName:i,state:t}))}}),((e,{ownerName:t,bannerPosition:i,miniCardPosition:s,ownerFrameId:r,banner:n,branchId:a,orgId:o})=>({bssOnBannerClick(){e((0,k.RC)({adsBanner:e=>(0,C.V)({banner:n,position:i,state:e}),additionalPayload:e=>(0,R.v)({frameUuid:r,ownerName:t,state:e})},(({adsBanner:e,additionalPayload:i})=>{const n={uiElement:{name:"adsBanner",ownerName:t,position:s,frameUuid:r},action:"tap",payload:Object.assign({adsBanner:e},i)};return(0,_.cD)(n)})))},bssOnFilialsLinkClick(){const t={uiElement:{name:"filialsLink",ownerName:"placeCardMini",frameUuid:r},action:"tap",payload:{placeItem:{entity:{id:a,type:"branch"},org:o}}};return e((0,_.cD)(t))}})),{threshold:.5,forceSendShowIfPropsChanged:["banner"]})((0,a.Q)()((0,h.Xy)(D)((0,v.B)((0,H.N)()(U))))));var $=i(71064),W=i(84175),q=i(82781),Z=i(46579),Q=i(56671);const G=r.memo((({title:e,regionId:t,lang:i})=>{const{s:n,css:a}=(0,W.I)(K),o=(0,q.c)(),{brandName:c,adsLink:d}=(0,Z.U)(),l=(0,r.useCallback)((e=>{e.stopPropagation()}),[]);return(0,s.jsxs)("header",Object.assign({className:a(n.header)},{children:[(0,s.jsx)(b.E,Object.assign({note:!0,small:!0},{children:e})),(0,s.jsx)("i",{style:{display:"none"}}),(0,s.jsx)(Q.P,{children:(0,s.jsx)($.A,Object.assign({href:`${d}/?language=${i}&page=online_owner&id=${t}&utm_source=online&utm_medium=product&utm_campaign=gta`,onClick:l,external:!0},{children:(0,s.jsx)(b.E,Object.assign({small:!0},{children:o._t("Реклама в %1 ↗",[c])}))}))})]}))}));G.displayName="BlockHeader";const K=(0,W.r)({header:{padding:"8px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"}});var Y=i(15942),X=i(82393),J=i(80905),ee=i(6532);const te={onFilialsLinkClick:Y.f8,searchBuyHere:ee.X};class ie extends r.PureComponent{constructor(){super(...arguments),this.renderAdsMiniCard=(e,t)=>{const{ownerName:i,openedEntityId:r,isSearchBot:n,onBannerClick:a,searchBuyHere:c,miniCardPosition:d}=this.props;return(0,s.jsx)("div",Object.assign({},o.dx.n("wat-gta-ads-banner"),o.dx.t("minicards"),{children:(0,s.jsx)(V,{banner:e,ownerName:i,isSearchBot:n,miniCardPosition:d,bannerPosition:t+1,onBannerClick:a,onFilialsLinkClick:this.onFilialsLinkClick,searchBuyHere:c,openedEntityId:r})}),t)},this.onFilialsLinkClick=e=>{this.props.onFilialsLinkClick({orgId:e})}}render(){const{s:e,title:t,banners:i,lang:r,regionId:n,dataN:a=""}=this.props;return(0,s.jsxs)("div",Object.assign({},o.dx.n(a),{className:(0,m.AH)(e.root)},{children:[(0,s.jsx)(G,{title:t,lang:r,regionId:n}),i.map(this.renderAdsMiniCard)]}))}}ie.displayName=(0,d.d)("src/shared/containers/gtaMiniCardAds");const se={root:{paddingTop:0,paddingBottom:0,paddingStart:8,paddingEnd:8,backgroundColor:E.T.orange_fffaeb,borderBottom:`1px solid ${E.T.gray_e6e6e6}`}},re=(0,n.M)({selectors:()=>({entityFrame:e=>(0,J.pS)(e.appContext.frames),isSearchBot:e=>e.session.isSearchBot,lang:e=>e.appContext.lang,regionId:X.MJ}),handlers:te})((0,c.J)((e=>{const{gtaBanners:t,regionId:i,entityFrame:s}=e;if(null==t?void 0:t.length)return{banners:t,regionId:i||"0",openedEntityId:s&&s.entityId}}))((0,h.Xy)(se)((0,a.Q)()(ie))))},9019:(e,t,i)=>{"use strict";i.d(t,{I:()=>C});var s=i(31085),r=i(14041),n=i(96141),a=i(66944),o=i(12017),c=i(80905),d=i(63041);const l=e=>{const{entityId:t,type:i}=e;return(0,o.Q2)((e=>{var s;const r=null===(s=(0,c.pS)(e.appContext.frames))||void 0===s?void 0:s.id;return r?(0,a.pd)({frameId:r,entityId:t,tab:"realty"}):(0,d.UP)({id:t,type:i,tab:"realty"})}))};var u=i(8365),p=i(64433),m=i(7540),g=i(82393),h=i(57744),f=i(98379);const v=e=>({frameId:t},i)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t},action:"tap"};const s=(0,g.zN)(i),r=(0,h.u)(i);return{action:"tap",uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,m.o)({locale:r,region_id:s})},enableMapLayer:!0},placeItem:(0,f.t)({state:i,entityFrameId:t})}}};var b=i(46579),y=i(82781),x=i(67143),j=i(20887);const w=(0,r.memo)((({entity:e})=>{const{featureRealty:t}=(0,b.U)(),{useBssHandler:i,bssRef:a}=(0,u.E)((e=>({frameId:t},i)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t}};const s=(0,g.zN)(i),r=(0,h.u)(i);return{uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,m.o)({locale:r,region_id:s})}},placeItem:(0,f.t)({state:i,entityFrameId:t})}}})(t)),o=(0,y.c)(),c=i(v,t),d=(0,p.I)(j.Pf.signals.open,{entity:"building"===e.type?{type:"building",id:e.id}:void 0}),w=(0,p.I)(l,{entityId:e.id,type:e.type}),I=(0,r.useCallback)((()=>{c(),t?d():w()}),[]);return(0,x.B)(e)?(0,s.jsx)(n.$,Object.assign({containerRef:a,onClick:I,appearance:"primary",dataN:"wat-realty-button",medium:!0},{children:o._t("Недвижимость в этом доме")})):null}));w.displayName="RealtyButton";var I=i(24896);const C=(0,r.memo)((e=>{const{entity:t,isBuildingBannerDisabled:i=!1,frameName:n}=e,a=(0,I.fu)(t,{enabled:!i}),o=(0,r.useMemo)((()=>a.data?(0,I.Qv)(a.data):void 0),[a.data]);return a.isLoading?null:o?(0,s.jsx)(I.NX,{frameName:n,banner:o}):(0,s.jsx)(w,{entity:t})}))},25551:(e,t,i)=>{"use strict";i.d(t,{K:()=>o,i:()=>a});var s=i(38024),r=i(6458),n=i(95885);function a(e){return(0,s.g)(e)&&(0,r.m)(e.subtype,e.route_logo)}const o=(e,t,i)=>{if(!i)return;if(t)return t;if(!e)return;const s=i.offsetWidth,r=i.offsetHeight;return(0,n.m)(e,`${s}x${r}`)}},18982:(e,t,i)=>{"use strict";i.d(t,{G:()=>L});var s=i(31085),r=i(84175),n=i(14041),a=i(64099),o=i(25698),c=i(8415),d=i(89379),l=i(12043),u=i(59124),p=i(66698),m=i(99259),g=i(10742),h=i(8365),f=i(43027),v=i(79594),b=i(29787),y=i(7818),x=i(65290),j=i(46645);const w=({entity:e,entityPosition:t,photoPosition:i,photoId:s})=>({frameId:r},n)=>{if(e)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:r,position:i},payload:{placeItem:(0,y.ij)({entity:e,position:t}),searchResultsList:(0,x.tp)({state:n,searchFrameId:r}),promoItem:(0,j.j)({state:n,frameId:r}),photo:{photoId:s}},action:"tap"}};var I=i(7335),C=i(43322),_=i(76504),k=i(46579),O=i(516);const S=(0,n.memo)((({data:e,size:t,previewSize:i,isMediaRubric:n,entity:o,entityPosition:c,photoPosition:d})=>{const{s:l,css:u}=(0,r.I)(T),{lang:p}=(0,k.U)(),S=(0,v.wA)(),{bssRef:E,useBssHandler:M}=(0,h.E)((({entity:e,photo:t,entityPosition:i,photoPosition:s})=>({frameId:r},n)=>{if(e&&t)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:r,position:s},payload:{placeItem:(0,y.ij)({entity:e,position:i}),searchResultsList:(0,x.tp)({state:n,searchFrameId:r}),promoItem:(0,j.j)({state:n,frameId:r}),photo:{photoId:t.id}}}})({entity:o,entityPosition:c,photoPosition:d,photo:e}),{threshold:.5}),N=M(w,{entity:o,entityPosition:c,photoPosition:d,photoId:e.id}),L=(0,g.D)((t=>{o&&(t.stopPropagation(),S((0,I.eU)(O.U,(t=>(0,b.PC)((0,f.z)({entityId:o.id,searchId:t,entityType:o.type,photoId:e.id}))))),N())}));return(0,s.jsxs)("div",Object.assign({className:u(l.root),ref:E,onClick:L,style:{flexBasis:t,height:t}},{children:[(0,s.jsx)(_.O,{src:e.preview_urls[i[0]],src2x:e.preview_urls[i[1]],lazyLoadVisibilityOffset:0,borderRadius:a.Vq.isolate,backgroundColor:m.T.black_transparent_06,alt:"ru"===p?"Фото":void 0}),n&&1===d&&!!o&&(0,s.jsx)("div",Object.assign({className:u(l.logo)},{children:(0,s.jsx)(C.g,{size:64,entity:o})}))]}))}));S.displayName="MiniEntityPhotoItem";const T=(0,r.r)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var E=i(53930),M=i(83044),N=i(65526);const L=(0,n.memo)((({photos:e,isMediaRubric:t=!1,entity:i,entityPosition:m})=>{const{s:g,css:h}=(0,r.I)(P),{size:f,gap:v}=(e=>e?{size:116,gap:8}:{size:88,gap:4})(t),[b,y]=(0,c.q)({}),x=y&&e?e:void 0,{addVideoToSelectActive:j,activeVideoId:w}=(0,M.X)(),I=(null==x?void 0:x.length)||p.du,C=(0,n.useMemo)((()=>t?I<3?["328x170","656x340"]:["116x116","232x232"]:I<4?["328x170","656x340"]:["88x88","176x176"]),[I,t]),_=(0,n.useRef)(null);return(0,s.jsx)("div",Object.assign({className:h(g.root),ref:b},{children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.h,Object.assign({gap:v,offset:16,containerRef:_},{children:x.map(((e,r)=>(0,E.cS)(e)?(0,s.jsx)(S,{data:e,size:f,previewSize:C,isMediaRubric:t,entity:i,entityPosition:m,photoPosition:r+1},`${e.id}-${r}`):(0,s.jsx)(N.I,{data:e,size:f,previewSize:C,isMediaRubric:t,entity:i,entityPosition:m,mediaPosition:r+1,activeVideoId:w,addVideoToSelectActive:j,bssType:"miniEntityPhoto"},`${e.id}-${r}`)))})),(0,s.jsx)(l.j,{children:(0,s.jsx)(u.u,{offset:20,scrollboxRef:_})})]}):(0,s.jsx)(o.M,{count:I,flexBasis:f,flexShrink:0,flexGrow:1,height:f,gap:v,marginStart:16,marginEnd:16,borderRadius:a.Vq.isolate})}))}));L.displayName="MiniEntityPhotos";const P=(0,r.r)({root:{marginStart:-20,marginEnd:-20,position:"relative"}})},43475:(e,t,i)=>{"use strict";i.d(t,{U:()=>Me});var s=i(31085),r=i(99259),n=i(71781),a=i(88842),o=i(46579),c=i(10742),d=i(84175),l=i(82781),u=i(59620),p=i(14041),m=i(41263),g=i(80552),h=i(52840),f=i(18887),v=i(18982),b=i(88756),y=i(81618),x=i(89446),j=i(56671),w=i(71064),I=i(47493),C=i(67266),_=i(48455),k=i(20487),O=i(89268),S=i(8365),T=i(32288),E=i(50432),M=i(80905);const N=e=>({frameId:t})=>{const{entity:i,position:s}=e;return{uiElement:{name:"filialsLink",ownerName:"placeCardMini",frameUuid:t},action:"tap",payload:{placeItem:(0,T.ij)({entity:i,position:s,withBrand:!0})}}};var L=i(15942),P=i(79594),R=i(59e3),A=i(80333),B=i(86645),z=i(21409),F=i(86971),H=i(82316),U=i(27209),D=i(10048),V=i(58471),$=i(40837);const W=e=>(0,s.jsx)(D.w,{loader:V.b.attributes,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:$.N}),q=e=>(0,s.jsx)(D.w,{loader:V.b.review,render:t=>(0,s.jsx)(t,Object.assign({},e)),renderPlaceholder:$.N});i(65290);var Z=i(7818);var Q=i(72384);const G="discoveryMinicardLabels",K="reviewsAndAttributesLabels";(0,Q.n)({name:G,percentRange:[0,0],groups:["controlGroup",K],forCountries:["RU"],excludeHumanFromSeo:!0});var Y=i(23797),X=i(69419),J=i(39954),ee=i(76504),te=i(80648),ie=i(91255);const se=e=>({frameId:t},i,s)=>({uiElement:{name:"like"===(null==s?void 0:s.type)?"likeButton":"unlikeButton",ownerName:"adviceList",frameUuid:t,position:e.position},action:"tap",payload:{placeItem:(0,Z.ij)({entity:e.entity})}});var re=i(4340);const ne=()=>((new Date).getTime()+864e5).toString(),ae={nextResetTime:ne()},oe=e=>{const[t,i]=(0,p.useState)((()=>{const e=re.IG.local.getItem("userChoices");return e?JSON.parse(e):ae}));return(0,p.useEffect)((()=>{var e;(!(e=t.nextResetTime)||Date.now()>parseInt(e,10))&&re.IG.local.setItem("userChoices",JSON.stringify(ae))}),[t.nextResetTime]),(0,p.useEffect)((()=>{re.IG.local.setItem("userChoices",JSON.stringify(t))}),[t]),{userChoice:t[e],setUserChoice:(e,t)=>{const s=JSON.parse(re.IG.local.getItem("userChoices"));i(Object.assign(Object.assign({},s),{nextResetTime:ne(),[e]:t}))}}};var ce=i(85608);const de=e=>{var{color:t="currentColor"}=e,i=(0,ce.Tt)(e,["color"]);return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:(0,s.jsx)("path",{d:"M12 4L13.067 4.427C13.911 4.765 14.421 5.629 14.309 6.532L14 9L20 10L18.578 16.401C18.248 17.884 16.862 18.886 15.351 18.735L8 18V9C11 7 12 4 12 4ZM6 9L7 18H5V9H6Z",fill:t})}))},le=({type:e,isSelected:t,onClick:i})=>{const[n,a]=(0,p.useState)(),o=(0,l.c)(),{css:c,s:u}=(0,d.I)(ue);return(0,p.useEffect)((()=>{a(t&&("like"===e?r.T.green_30ad00:r.T.red_fe5000)||void 0)}),[t,e]),(0,s.jsxs)("button",Object.assign({type:"button",className:c(u.button),onClick:i},{children:[(0,s.jsx)(de,{color:n,className:c("dislike"===e&&u.dislike)}),(0,s.jsx)("span",Object.assign({className:c(u.name)},{children:"like"===e?o._gg("То, что надо!"):o._gg("Не моё место")}))]}))},ue=(0,d.r)({button:{display:"flex",alignItems:"center",gap:4,border:`1px solid ${r.T.gray_e6e6e6}`,borderRadius:4,paddingStart:4,paddingEnd:8,color:r.T.gray_929292,"&:hover":{borderColor:r.T.gray_929292,color:r.T.gray_262626}},name:Object.assign({color:r.T.gray_262626},g.small),dislike:{transform:"scaleY(-1)"}}),pe=({entity:e,position:t})=>{const{css:i,s:r}=(0,d.I)(me),{userChoice:n,setUserChoice:a}=oe(e.id),{useBssHandler:o}=(0,S.E)(),c=o(se,{entity:e,position:t}),l=t=>i=>{i.stopPropagation(),a(e.id,t),c({type:t})};return(0,s.jsxs)("div",Object.assign({className:i(r.feedback)},{children:[(0,s.jsx)(le,{type:"like",isSelected:"like"===n,onClick:l("like")}),(0,s.jsx)(le,{type:"dislike",isSelected:"dislike"===n,onClick:l("dislike")})]}))},me=(0,d.r)({feedback:{display:"flex",alignItems:"center",gap:16}});var ge=i(83460),he=i(79274),fe=i(54713),ve=i(47070);function be(){return(0,s.jsx)("svg",Object.assign({width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.3335 1.83333C2.22893 1.83333 1.3335 2.72876 1.3335 3.83333V13.1667C1.3335 14.2712 2.22892 15.1667 3.33349 15.1667H12.6668C13.7714 15.1667 14.6668 14.2712 14.6668 13.1667V3.83333C14.6668 2.72876 13.7714 1.83333 12.6668 1.83333H3.3335ZM2.66679 6.36656C2.66679 5.18835 3.66171 4.23323 4.88901 4.23323C6.11631 4.23323 7.11123 5.18835 7.11123 6.36656V7.21989C7.11123 8.3981 6.11631 9.35322 4.88901 9.35322C3.66171 9.35322 2.66679 8.3981 2.66679 7.21989V6.36656ZM4.88901 5.08656C4.64355 5.08656 4.44457 5.27759 4.44457 5.51323V8.07323C4.44457 8.30887 4.64355 8.49989 4.88901 8.49989C5.13447 8.49989 5.33346 8.30887 5.33346 8.07323V5.51323C5.33346 5.27759 5.13447 5.08656 4.88901 5.08656ZM10.6668 4.23323H8.88905L5.3335 12.7666H7.11127L10.6668 4.23323ZM11.1112 7.64632C9.88392 7.64632 8.889 8.60144 8.889 9.77965V10.633C8.889 11.8112 9.88392 12.7663 11.1112 12.7663C12.3385 12.7663 13.3334 11.8112 13.3334 10.633V9.77965C13.3334 8.60144 12.3385 7.64632 11.1112 7.64632ZM10.6668 8.92631C10.6668 8.69067 10.8658 8.49965 11.1112 8.49965C11.3567 8.49965 11.5557 8.69067 11.5557 8.92631V11.4863C11.5557 11.722 11.3567 11.913 11.1112 11.913C10.8658 11.913 10.6668 11.722 10.6668 11.4863V8.92631Z",fill:"#22AA27"})}))}var ye=i(71030),xe=i(6276);const je=["guarded_car_parking","truck_car_parking","warm_car_parking","parking_guarded_parking","parking_truck_parking","parking_warm_parking","car_parking_guarded_car_parking","car_parking_truck_car_parking","car_parking_warm_car_parking"];function we(e){var t;const i=[];return null===(t=e.attribute_groups)||void 0===t||t.forEach((({attributes:e})=>{e.forEach((e=>{je.includes(e.tag)&&i.push(e.name)}))})),i}var Ie=i(46516),Ce=i(79490),_e=i(63825),ke=i(50934),Oe=i(35023);function Se(e,t){if("parking"===e.type)return e.is_paid?t._t("платная"):t._t("бесплатная")}const Te=({entity:e,awardName:t})=>{var i,r,n,a;const{css:c,s:u}=(0,d.I)(Ee),m=(0,l.c)(),g=(0,p.useMemo)((()=>{var i,s,r;return null===(r=null===(s=null===(i=e.context)||void 0===i?void 0:i.stop_factors)||void 0===s?void 0:s.filter((e=>e.name!==t)))||void 0===r?void 0:r.map((e=>e.name))}),[null===(i=e.context)||void 0===i?void 0:i.stop_factors,t]),h=function(e,t){var i;if((0,xe.E)(e))return(0,Oe.oE)([(0,ke.g)(e,t),(0,Ce.c)(e,t),Se(e,t),"capacity"in e&&(0,ye.C)(null===(i=e.capacity)||void 0===i?void 0:i.total,t),(0,_e.R)(e,t),...(0,Ie.O)(e)?we(e):[]]).map((e=>(0,Oe.ND)(e)))}(e,m),f=g||h,v=!!(null==f?void 0:f.length),b=function(e){var t;const{discountInMiniCardTags:i}=(0,o.U)();return"branch"===e.type&&!!(null===(t=e.attribute_groups)||void 0===t?void 0:t.find((e=>e.attributes.find((e=>i.includes(e.tag))))))}(e),y=null===(n=null===(r=e.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.organization_stories,x="object"==typeof y?null===(a=y.discount)||void 0===a?void 0:a.max_percent:void 0;return v||b?(0,s.jsxs)("div",Object.assign({className:c(u.root)},{children:[b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",Object.assign({className:c(u.discountContainer)},{children:[x?(0,s.jsx)("div",Object.assign({className:c(u.discount)},{children:`−${x}%`})):(0,s.jsx)(be,{}),(0,s.jsx)("div",{children:m._t("Скидка")})]})),v&&(0,s.jsx)("div",Object.assign({className:c(u.delimiter)},{children:ve.y}))]}),v&&(0,s.jsx)("div",Object.assign({className:c(u.stopFactors)},{children:(0,ve.K)(f)}))]})):null},Ee=(0,d.r)((({colors:e,typography:t})=>({root:Object.assign({display:"flex",flexDirection:"row",marginTop:6},g.regular),discountContainer:{display:"flex",flexDirection:"row",gap:5,color:r.T.gray_262626},discount:Object.assign(Object.assign({},t.caption2Semibold),{background:e["Text, Icons/Brand"],borderRadius:4,color:r.T.white,padding:"1px 2px",flexShrink:0,alignSelf:"center",display:"flex",alignItems:"center",justifyContent:"center"}),delimiter:{whiteSpace:"pre"},stopFactors:Object.assign(Object.assign({},(0,g.lineClamped)(1,g.regular)),{color:r.T.gray_5c5c5c})}))),Me=(0,p.memo)((e=>{var t,i,g,D;const{entity:V,position:$,friendsActivities:Z,isActive:se,isHovered:re,photos:ne,isForcedShowPhotos:ae,isPhotosLoading:oe,time:ce,entityTimeOffset:de,shortScheduleFormat:le,searchSourceType:ue,notShowDrilldown:me,tabId:ve,ownerName:be,isMediaRubric:ye,showAdviceFeedback:xe,description:je,footer:we,onClick:Ie}=e,{css:Ce,s:_e}=(0,d.I)(Ne),ke=(0,l.c)(),Oe=(0,o.U)(),{isSearchBot:Se,lang:Ee,feature2gisAwards:Me,baseDomain:Le,locale:Pe}=Oe,Re=(0,O.F)(),[Ae,Be]=(0,p.useState)(!1),ze=se||Ae,Fe=(0,P.d4)((e=>(0,te.kR)(V)(e))),He=!Fe&&(0,Q.l)(G,Oe.experiments)===K,{hasAward:Ue,awardName:De,awardIconUrl:Ve,awardTag:$e}=(0,p.useMemo)((()=>(0,J.a)({entity:V,feature2gisAwards:Me,isMinicard:!0,baseDomain:Le,locale:Pe})),[V,Me,Le,Pe])||{},We=(0,h.S)({entity:V,searchSourceType:ue,notShowDrilldown:me,config:Oe}),qe=(0,a.P0)(V,ke),Ze=(0,n.b)(V,ke),Qe="is_deleted"in V&&!!V.is_deleted,Ge=(0,u.a)(V),Ke=(0,A.X)(V),Ye="org"in V?null===(t=V.org)||void 0===t?void 0:t.id:void 0,Xe="brand"in V?null===(i=V.brand)||void 0===i?void 0:i.id:void 0,Je=(0,R.A)({entity:V,time:ce,entityTimeOffset:de,shortScheduleFormat:le,tp:ke,config:Oe}),{bssRef:et,useBssHandler:tt}=(0,S.E)((it={entity:V,position:$,tag:$e,name:De},({frameId:e},t)=>{const{entity:i,position:s,tag:r,name:n}=it;if(n&&r)return{uiElement:{name:"award2gisLink",ownerName:"placeCardMini",frameUuid:e},payload:{placeItem:(0,T.ij)({entity:i,position:s}),awardItem:{id:r,name:n}}};(0,E.vV)({message:"Не удалось сформировать payload для события показа Увидел лейбл Премии в миникарточке v-00g65",level:"error",id:"kgvq5",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,M.w1)(t.appContext.frames,e))}})}));var it;const st=tt(N,{entity:V,position:$,tag:$e,name:De}),rt=(0,P.wA)(),nt=(0,c.D)((()=>{Ie({id:V.id,type:V.type})})),at=(0,f.P)({type:"branch",id:V.id}),ot=(0,c.D)((()=>{if(Xe)return st(),void rt((0,fe.g4)({brandId:Xe}));Ye&&(st(),rt((0,L.f8)({orgId:Ye})))})),ct=Xe||Ye,dt=(0,f.P)(ct?{type:"organizationBranches",id:ct}:void 0),lt=(0,F.N)(V),{isPhotosShown:ut,isBigPhotos:pt}=(0,X.u)({isAdvertiser:lt,isMediaRubric:ye,isPhotosLoading:oe,isForcedShowPhotos:ae,photosLength:null==ne?void 0:ne.length}),mt=(0,Q.l)(Y.By,Oe.experiments)===Y.Yc;return(0,s.jsxs)(m.j,Object.assign({isActive:se,entityId:V.id,onClick:nt,dataN:"wat-minicard",dataT:V.type,dataS:Qe?"removed":"",onHoverChange:Be},{children:[ut&&!mt&&(0,s.jsx)("div",Object.assign({className:Ce(_e.photos)},{children:(0,s.jsx)(v.G,{photos:ne,isMediaRubric:pt,entity:V,entityPosition:$})})),(0,s.jsxs)("div",Object.assign({className:Ce(_e.caption,mt&&_e.caption_replacePhoto)},{children:[(0,s.jsx)(C.m,Object.assign({isSearchBot:Se,tabId:ve,href:at,name:"placeCardMini",entity:V,ownerName:be,position:$},{children:(0,s.jsxs)("span",Object.assign({className:Ce(_e.name,Qe&&_e.grayText,(se||re)&&_e._nameActive)},{children:[(0,s.jsx)("span",Object.assign({},y.dx.n("wat-minicard-title"),{children:qe}))," ",!Qe&&(0,s.jsx)(z.F,{entity:V})]}))})),!!(null==Z?void 0:Z.length)&&(0,s.jsx)(I.m,{list:Z,isInMiniCard:!0})]})),!!Ze.length&&(0,s.jsx)("div",Object.assign({className:Ce(_e.extension,mt&&_e.extension_replacePhoto)},{children:(0,s.jsx)(b.u,Object.assign({inline:!0},{children:Ze}))})),!Qe&&!(!Ke&&!Ue)&&(0,s.jsxs)("div",Object.assign({className:Ce(_e.row,mt&&_e.row_replacePhoto)},{children:[!!Ke&&(0,s.jsx)(j.P,{children:(0,s.jsxs)("div",Object.assign({className:Ce(_e.rating)},y.dx.n("wat-rating"),{children:[Ue?(0,s.jsx)("div",Object.assign({className:Ce(_e.ratingAwards)},{children:(0,s.jsx)(H.F,{color:r.T.gray_262626,size:14})})):(0,s.jsx)(x.G,{color:r.T.gray_262626,size:14,rating:Ke.stars}),(0,s.jsx)("div",Object.assign({className:Ce(_e.ratingValue)},{children:Ke.stars})),!!Ke.count&&(0,s.jsx)("div",Object.assign({className:Ce(_e.ratingCount)},{children:ke._nt(["%% оценка","%% оценки","%% оценок"],Ke.count)}))]}))}),Ue&&(0,s.jsxs)("div",Object.assign({ref:et,className:Ce(_e.awards)},{children:[Ve&&(0,s.jsx)(ee.O,{src:Ve,isLoadingForced:Se,width:16,height:16,alt:"ru"===Ee?"Иконка":void 0}),(0,s.jsx)("div",Object.assign({className:Ce(_e.awardsText)},{children:De}))]}))]})),ut&&mt&&(0,s.jsx)("div",Object.assign({className:Ce(_e.photos,_e.photos_replacePhoto)},{children:(0,s.jsx)(v.G,{photos:ne,isMediaRubric:pt,entity:V,entityPosition:$})})),!!We&&(0,s.jsx)("div",Object.assign({className:Ce(_e.margin,Qe&&_e.grayText)},{children:(0,s.jsxs)(b.u,Object.assign({inline:!0},{children:[We,"branch"===V.type&&V.brand&&(null===(g=V.brand)||void 0===g?void 0:g.branch_count)>1&&(0,s.jsx)(w.A,Object.assign({color:Qe?"gray":void 0,href:dt,onClick:ot,dataN:"wat-filials-link"},{children:(0,he.I)({tp:ke,entity:V,isSearchBot:Oe.isSearchBot})})),"branch"===V.type&&!Xe&&(null===(D=V.org)||void 0===D?void 0:D.branch_count)>1&&(0,s.jsx)(w.A,Object.assign({color:Qe?"gray":void 0,href:dt,onClick:ot,dataN:"wat-filials-link"},{children:(0,U.F)({tp:ke,entity:V,isSearchBot:Oe.isSearchBot})}))]}))})),!!je&&(0,s.jsx)(ge.M,{content:je,clampLines:2,isHTML:!0}),!He&&!Fe&&(0,s.jsx)(Te,{entity:V,awardName:De}),Qe?(0,s.jsx)("div",Object.assign({},y.dx.n("wat-info-removed"),{className:Ce(_e.deleted,_e.redText)},{children:ke._t("Филиал закрылся")})):Ge?(0,s.jsx)("div",Object.assign({},y.dx.n("wat-info-tmp-closed"),{className:Ce(_e.redText)},{children:(0,k.$)({entity:V,format:"short",ctx:{dateFns:Re,tp:ke}})})):Je.text?(0,s.jsx)("div",Object.assign({className:Ce(_e.schedule),style:{color:Je.color}},{children:Je.text})):null,He&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q,{rubricId:V.id,classNames:_e.margin,renderFallback:()=>null}),(0,s.jsx)(W,{rubricId:V.id,classNames:_e.margin,renderFallback:()=>(0,s.jsx)(Te,{entity:V,awardName:De})})]}),xe&&(0,s.jsx)("div",Object.assign({className:Ce(_e.margin)},{children:(0,s.jsx)(pe,{entity:V,position:$})})),Fe&&(0,s.jsx)("div",Object.assign({className:Ce(_e.margin)},{children:(0,s.jsx)(ie.Y,{})})),!!V.ads&&(0,s.jsx)(B.V,{entity:V,position:$,isMiniBranchSelected:ze,isMiniCard:!0,withoutLogo:ye&&(oe||!!(null==ne?void 0:ne.length))}),(0,s.jsx)(_.K,{entity:V}),we]}))})),Ne=(0,d.r)({photos:{marginTop:-4,marginBottom:16,position:"relative"},photos_replacePhoto:{marginTop:0,marginBottom:0},caption:{display:"flex",justifyContent:"space-between"},caption_replacePhoto:{paddingTop:4},name:Object.assign({},g.leadMedium),_nameActive:{color:r.T.gray_262626},extension:{marginTop:4,color:r.T.gray_5c5c5c},extension_replacePhoto:{paddingBottom:4},rating:{marginStart:-1,display:"flex",alignItems:"center"},ratingValue:{marginStart:4},ratingCount:{marginStart:8,color:r.T.gray_5c5c5c},row:{display:"flex",alignItems:"center",marginTop:8,marginBottom:2},row_replacePhoto:{marginTop:4,marginBottom:8},ratingAwards:{display:"flex"},awards:{marginInlineStart:12,display:"flex"},awardsText:{marginInlineStart:6},schedule:{marginTop:8},deleted:{marginTop:6},redText:{color:r.T.red_fe5000},grayText:{color:r.T.gray_5c5c5c},margin:{marginTop:8}})},52107:(e,t,i)=>{"use strict";i.d(t,{JM:()=>u,Ni:()=>d,r3:()=>l});var s=i(31085),r=i(84175),n=i(14041),a=i(41263),o=i(25698),c=i(18982);const d=165,l=(0,n.memo)((e=>(0,s.jsx)(a.j,Object.assign({dataN:"wat-skeleton-minicard"},{children:(0,s.jsx)(u,Object.assign({},e))}))));l.displayName="MiniSkeleton";const u=({isMedia:e,withoutPhotos:t,footer:i=null})=>{const{css:n,s:a}=(0,r.I)(p);return(0,s.jsxs)(s.Fragment,{children:[!t&&(0,s.jsx)("div",Object.assign({className:n(a.photos)},{children:(0,s.jsx)(c.G,{isMediaRubric:e})})),(0,s.jsx)(o.M,{width:240,height:20,borderRadius:6}),(0,s.jsx)(o.M,{width:120,height:16,marginTop:4,borderRadius:6}),(0,s.jsx)(o.M,{width:160,height:16,marginTop:8,borderRadius:6}),(0,s.jsx)(o.M,{height:16,marginTop:8,borderRadius:6}),i]})},p=(0,r.r)({photos:{marginTop:-4,marginBottom:16}})},41263:(e,t,i)=>{"use strict";i.d(t,{j:()=>l});var s=i(31085),r=i(99259),n=i(70498),a=i(84175),o=i(81618),c=i(14041),d=i(27485);const l=(0,c.memo)((e=>{const{children:t,entityId:i,isActive:r,onClick:n,dataN:l="wat-mini-wrap",dataT:p,dataS:m,onHoverChange:g}=e,{css:h,s:f}=(0,a.I)(u),{isHovered:v,onHover:b,onUnhover:y}=(0,d.B)(i);return(0,c.useEffect)((()=>{null==g||g(v)}),[g,v]),(0,s.jsx)("div",Object.assign({className:h(f.root,v&&f._hovered,r&&f._active),onClick:n,onMouseEnter:b,onMouseLeave:y},o.dx.n(l),o.dx.t(p),o.dx.s(m),{children:t}))})),u=(0,a.r)((e=>({root:{position:"relative",paddingTop:16,paddingBottom:16,paddingStart:20,paddingEnd:20,boxShadow:n.E.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",":hover":{background:r.T.gray_f9f9f9}},_active:{background:r.T.gray_f9f9f9,":after":{position:"absolute",start:0,top:0,content:'""',width:3,height:"100%",boxShadow:`inset 3px 0 0 0 ${e.colors.green_299400_brand}`}},_hovered:{background:r.T.gray_f9f9f9}})))},69419:(e,t,i)=>{"use strict";i.d(t,{u:()=>s});const s=({isAdvertiser:e,isMediaRubric:t,isPhotosLoading:i,isForcedShowPhotos:s,photosLength:r})=>({isPhotosShown:!(!(t||e||s)||!(i||r)),isBigPhotos:t&&(e||s)})},59e3:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var s=i(10330),r=i(1371),n=i(3210),a=i(24059);function o(e){const{time:t,shortScheduleFormat:i,entity:o,entityTimeOffset:c,config:d,tp:l}=e,u=(0,s.F)(t,c||0),p=(0,n.w)(o,i,u,l,d.is12h),m=(0,a.P)(o,u);return{text:p,status:m,color:(0,r.z)(m)}}},62284:(e,t,i)=>{"use strict";i.d(t,{I:()=>g});var s=i(31085),r=i(14041),n=i(84175),a=i(96141),o=i(99259),c=i(90861),d=i(82781),l=i(92140),u=i(12043),p=i(81618),m=i(64099);const g=r.memo((e=>{const t=(0,d.c)(),{submitText:i,onSubmit:r,onCancel:m,withoutUserAvatar:g,disabledButton:f=!1,disabledCancelButton:v=!1,withAuth:b=!1,cancelText:y,experimentalStyles:x,isLoading:j=!1}=e,{css:w,s:I}=(0,n.I)(h);return(0,s.jsxs)("div",Object.assign({className:w(I.root,x)},p.dx.n("wat-popup-footer"),{children:[(0,s.jsx)(u.j,{children:g?null:(0,s.jsx)(l.o,{withAuth:b})}),(0,s.jsxs)("div",Object.assign({className:w(I.confirmBlock)},{children:[(0,s.jsx)("div",Object.assign({className:w(I.buttonWrapper)},{children:m&&(0,s.jsx)(a.$,Object.assign({appearance:"ghost",disabled:v,onClick:v?void 0:m,dataN:"wat-popup-footer-cancel",dataS:f?"disabled":"active",wide:!0},{children:y||t._t("Отменить")}))})),(0,s.jsx)("div",Object.assign({className:w(I.buttonWrapper)},{children:r&&(0,s.jsx)(a.$,Object.assign({appearance:"secondary",disabled:f,onClick:e=>{e.preventDefault(),e.stopPropagation(),r&&r()},dataN:"wat-popup-footer-submit",dataS:f?"disabled":"active",wide:!0},{children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",Object.assign({className:w(I.preloader)},{children:(0,s.jsx)(c.Z,{caterpillarColor:o.T.blue_028eff})})),(0,s.jsx)("span",Object.assign({className:w(j&&I.submitButtonText)},{children:t._t("Опубликовать")}))]}):i||t._t("Опубликовать")}))}))]}))]}))})),h=(0,n.r)((e=>({root:{display:"flex",background:o.T.gray_f2f2f2,padding:e.mobile?20:24,borderBottomLeftRadius:m.Vq.isolate,borderBottomRightRadius:m.Vq.isolate,justifyContent:"flex-end"},confirmBlock:{display:"flex",alignItems:"center",marginInlineStart:e.mobile?0:"auto",flexGrow:e.mobile?1:0,flexShrink:0,gap:16},buttonWrapper:{display:"flex",justifyContent:"center",flexGrow:1,"&:empty":{display:"none"}},submitButtonText:{visibility:"hidden"},preloader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}})))},54914:(e,t,i)=>{"use strict";i.d(t,{z:()=>g});var s=i(31085),r=i(14041),n=i(79594),a=i(26064),o=i(68076),c=i(99259),d=i(66333),l=i(46234);var u=i(81618);class p extends r.PureComponent{constructor(){super(...arguments),this.state={isMounted:"undefined"==typeof window||window.isServerRendered}}render(){const{s:e}=this.props,t=this.state.isMounted?this.getPercentage():0;return(0,s.jsx)("div",Object.assign({className:(0,a.AH)(e.wrapper)},u.dx.n("wat-progress-bar"),u.dx.v(t),{children:(0,s.jsx)("div",{className:(0,a.AH)(e.bar,100===t&&e._fulfilled),style:{width:`${t}%`}})}))}componentDidMount(){this.state.isMounted||(this.timeoutId=window.setTimeout((()=>this.setState({isMounted:!0})),0))}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}getPercentage(){const{metas:e}=this.props;return 100*e.reduce(((e,t)=>t?"loading"===t.status?e+.67:e+1:e+.33),0)}}const m={wrapper:{position:"absolute",zIndex:1,top:0,left:0,right:0,height:"3px"},bar:{height:"100%",width:"0%",transition:"width .5s ease-out, opacity .5s ease-in .5s",background:c.T.yellow_ffb81c},_fulfilled:{opacity:0}},g=(0,n.Ng)((()=>{const e=(0,d.Mz)([({state:e,props:t})=>(0,l.V)({state:e,statusId:t.statusIds||""})],(e=>({metas:e?[e.meta]:[]})));return(t,i)=>e({state:t,props:i})}))((0,o.Xy)(m)(p))},58740:(e,t,i)=>{"use strict";i.d(t,{J:()=>x});var s=i(31085),r=i(14041),n=i(7515),a=i(26461),o=i(27942),c=i(61405);var d=i(21252),l=i(48914),u=i(82393),p=i(57744),m=i(7540),g=i(7335),h=i(98379);var f=i(4431),v=i(57838),b=i(11264);class y extends r.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>{const{lang:e}=this.props.config;return(0,s.jsx)("img",{src:this.props.icon_url,alt:"ru"===e?"Иконка рубрики":void 0})},this.onClick=e=>{const{item:t,onClick:i}=this.props;"pseudorubric"===t.type&&(0,v.E)(t.action.type)||e.preventDefault(),this.props.bssOnRubricClick(),i(t,e)}}render(){const{bssRef:e,title:t,type:i,seoTitle:r,href:n}=this.props;return(0,s.jsx)(f.D,{bssRef:e,title:t,href:n,dataT:i,seoTitle:r,onClick:this.onClick,icon:this.renderIcon})}}y.displayName=(0,a.d)("src/shared/containers/rubrics/components/rubricItem");const x=(0,d.f)(((e,t)=>{const{item:i,position:s,where:r}=e,n=(0,u.MJ)(t),a=(0,p.u)(t);switch(i.type){case"metarubric":return{uiElement:{name:"metarubricIcon",ownerName:"iconList",position:s,frameUuid:e.ownerFrameId},payload:{icon:{entity:n?{id:i.id,type:"metarubric"}:void 0,where:r,tag:i.tag},placeItem:"Card"===r?(0,h.t)({state:t,entityFrameId:e.ownerFrameId}):void 0}};case"pseudorubric":return{uiElement:{name:"commercialIcon",ownerName:"iconList",position:s,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:i.id,type:"pseudorubric",segmentInfo:(0,m.o)({region_id:i.region_id||n,locale:a})},adsHighlight:!0,tag:i.tag||"",org:i.owner_id,where:r,adsPosition:`${s}`},callToAction:{actionType:i.action.type,value:i.action.value}}};case"rubric":return{uiElement:{name:"rubricIcon",ownerName:"iconList",position:s,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:i.id,type:"rubric"},tag:i.tag,org:void 0,adsHighlight:void 0,where:r},placeItem:"Card"===r?(0,h.t)({state:t,entityFrameId:e.ownerFrameId}):void 0}};default:return}}),((e,t)=>({bssOnRubricClick(){const{item:i,position:s,where:r}=t;switch(i.type){case"metarubric":return e((0,g.RC)({projectId:u.MJ,placeItem:e=>(0,h.t)({state:e,entityFrameId:t.ownerFrameId})},(({projectId:e,placeItem:n})=>{const a={uiElement:{name:"metarubricIcon",ownerName:"iconList",position:s,frameUuid:t.ownerFrameId},payload:{searchRequest:{text:i.search_query},icon:{entity:e?{id:i.id,type:"metarubric"}:void 0,where:r,tag:i.tag,org:void 0,adsHighlight:void 0},placeItem:"Card"===r?n:void 0},action:"tap"};return(0,l.cD)(a)})));case"pseudorubric":return e((0,g.RC)({locale:p.u,projectId:u.MJ,placeItem:e=>(0,h.t)({state:e,entityFrameId:t.ownerFrameId})},(({locale:e,projectId:n,placeItem:a})=>{const o={uiElement:{name:"commercialIcon",ownerName:"iconList",position:s,frameUuid:t.ownerFrameId},payload:{callToAction:{actionType:i.action.type,value:i.action.value},icon:{entity:{id:i.id,type:"pseudorubric",segmentInfo:(0,m.o)({region_id:i.region_id||n,locale:e})},adsHighlight:!0,tag:i.tag||"",org:i.owner_id,where:r,adsPosition:`${s}`},placeItem:"Card"===r?a:void 0},action:"tap"};return(0,l.cD)(o)})));case"rubric":return e((0,g.RC)({placeItem:e=>(0,h.t)({state:e,entityFrameId:t.ownerFrameId})},(({placeItem:e})=>{const n={uiElement:{name:"rubricIcon",ownerName:"iconList",position:s,frameUuid:t.ownerFrameId},payload:{searchRequest:{entities:[{id:i.id,type:i.type}]},icon:{entity:{id:i.id,type:"rubric"},tag:i.tag,org:void 0,adsHighlight:void 0,where:r},placeItem:"Card"===r?e:void 0},action:"tap"};return(0,l.cD)(n)})));default:return}}})),{forceSendShowIfPropsChanged:["dashboardId"]})((0,o.J)((({item:e})=>({title:e.name||e.caption,icon_url:e.icon_url?(0,c.L)(e.icon_url):void 0,type:e.type,seoTitle:e.seoTitle})))((0,n.Q)()((0,b.N)()(y))))},2747:(e,t,i)=>{"use strict";i.d(t,{h:()=>l,u:()=>u});var s=i(12017),r=i(15942),n=i(35023),a=i(63041),o=i(7335),c=i(69395),d=i(6532);function l(e){return(0,o.Cl)((t=>(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:e}),(0,r.q_)({query:e,viewpoint:t}))))}function u(e){switch(e.action.type){case"open_card":return(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:void 0}),(0,a.UP)({id:e.action.value,searchId:(0,n.W7)(),hash:void 0,type:"branch"}));case"search_by_org":return(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:void 0}),(0,r.f8)({orgId:e.action.value}));case"search_buy_here":return(0,d.X)({adsIds:e.action.value});default:return(0,o.Cl)((t=>(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:e.action.value}),(0,r.q_)({query:e.action.value,viewpoint:t}))))}}},63213:(e,t,i)=>{"use strict";i.d(t,{l:()=>_});var s=i(31085),r=i(14041),n=i(33626),a=i(66333),o=i(75433),c=i(74182);function d(e){return(0,c.HX)(e.appContext.weak.dashboard.transitions.rubricsId)}const l=(0,a.Mz)([({state:e})=>d(e),({state:e})=>e.config.isMobileDevice,({state:e})=>function(e){const t=d(e);return(0,o.l)({dashboardId:t,state:e})}(e)],((e,t,i)=>({dashboardId:e,isMobileDevice:t,dashboard:i}))),u=(0,n.tr)(((e,t)=>l({state:e,props:t})));var p=i(69395),m=i(2747),g=i(40374);const h=(0,n.Yn)((e=>({hideSuggester:()=>e((0,p.TJ)({suggesterKey:"primary",show:!1})),onMetarubricClick:t=>e((0,m.h)(t)),onPseudorubricClick:t=>e((0,m.u)(t)),fillDashboardRubricatorState(){e((0,g.SD)())},resetRubricatorId(){e((0,g.SD)(!0))}})));var f=i(26461),v=i(46033),b=i(27942),y=i(63458);var x=i(58740),j=i(81618),w=i(21252);var I=i(81048);class C extends r.PureComponent{constructor(){super(...arguments),this.handleRubricClick=e=>{const{hideSuggester:t,onMetarubricClick:i,onPseudorubricClick:s}=this.props;switch(t(),e.type){case"metarubric":i(e.search_query);break;case"pseudorubric":s(e)}}}componentDidMount(){this.props.fillDashboardRubricatorState()}componentWillUnmount(){this.props.resetRubricatorId()}render(){const{items:e,bssRef:t,dashboardId:i,where:r,status:n}=this.props;return"loading"===n?(0,s.jsx)(v.j,{}):"error"===n?null:(0,s.jsxs)("div",Object.assign({ref:t},j.dx.n("wat-rubrics"),{children:[e&&e.map(((e,t)=>(0,s.jsx)(I.x,Object.assign({rubric:e,isDashboardMode:!0},{children:n=>(0,s.jsx)(x.J,{where:r,href:n,position:t+1,item:e,onClick:this.handleRubricClick,dashboardId:i})}),t))),this.props.moreButtons]}))}}C.displayName=(0,f.d)("src/shared/containers/rubrics");const _=(0,n.Ng)(u,h)((0,b.J)((({dashboard:e,moreButtons:t,isMobileDevice:i})=>{const s=(0,y.FR)(e);if(s)return{status:s};const r=(0,y.ah)({dashboard:e,moreButtons:t,isMobileDevice:i});return r?{items:r}:void 0}))((0,w.f)((e=>{const{items:t,ownerFrameId:i,ownerName:s}=e;if(t)return{uiElement:{name:"iconList",ownerName:s,frameUuid:i},payload:{iconList:{size:t.length}}}}),void 0,{forceSendShowIfPropsChanged:["dashboardId"]})(C)))},63458:(e,t,i)=>{"use strict";i.d(t,{FR:()=>o,Nl:()=>d,ah:()=>c});var s=i(61405),r=i(19878),n=i(10232),a=i(63e3);function o(e){return(0,r.b)(e)?"error":(0,n.VP)(e)||(0,a.b)(e)?"loading":void 0}function c(e){const{dashboard:t,moreButtons:i,isMobileDevice:s}=e,r=null==t?void 0:t.data,n=i?i.length:0,a=r&&function(e,t,i){var s,r,n,a;const o=4,c="pseudorubric"===(null===(s=e[o-1])||void 0===s?void 0:s.type)&&"pseudorubric"===(null===(r=e[2*o-1])||void 0===r?void 0:r.type),d="pseudorubric"!==(null===(n=e[o-1])||void 0===n?void 0:n.type)&&"pseudorubric"===(null===(a=e[2*o-1])||void 0===a?void 0:a.type),m=e.length+t,g=l({totalLen:m,ITEMS_IN_A_ROW:o,hasBothPseudorubric:c,hasOnlySecondPseudorubric:d,isMobileDevice:i}),h=u({totalLen:m,maxItemCount:g*o,hasOnlySecondPseudorubric:d,isMobileDevice:i,ITEMS_IN_A_ROW:o});return p(e,m,h,o)}(r,n,s);return a?a.map((e=>d(e))):void 0}function d(e){return Object.assign(Object.assign({},e),{icon_url:e.icon_url?(0,s.L)(e.icon_url):void 0,seoTitle:e.name||e.caption})}const l=({totalLen:e,ITEMS_IN_A_ROW:t,hasBothPseudorubric:i,hasOnlySecondPseudorubric:s,isMobileDevice:r})=>e<2*t?1:r||!i&&!s?2:3,u=({totalLen:e,maxItemCount:t,hasOnlySecondPseudorubric:i,isMobileDevice:s,ITEMS_IN_A_ROW:r})=>e>t?e-t:i&&!s?0:e%r,p=(e,t,i,s)=>t<=s||!i?e:e.slice(0,e.length-i)},8734:(e,t,i)=>{"use strict";i.d(t,{p:()=>c});var s=i(31085),r=i(60077),n=i(27248),a=i(52160),o=i(55143);const c=(0,r.K)()({__dirname:"src/shared/containers/seoLink/containers",selectors:({entity:e})=>({cityAlias:t=>{var i,s;return(0,o.f)(e)||(null===(s=null===(i=(0,a.b7)({state:t,id:e.region_id}))||void 0===i?void 0:i.data)||void 0===s?void 0:s.uri_code)}})})((({entity:e,tab:t,cityAlias:i,children:r})=>(0,s.jsx)(n.W,Object.assign({type:e.type,id:e.id,tab:t,cityAlias:i},{children:r}))))},81048:(e,t,i)=>{"use strict";i.d(t,{x:()=>o});var s=i(31085),r=i(60077),n=i(27248),a=i(76105);const o=(0,r.K)()({__dirname:"src/shared/containers/seoLink/containers",formatter:({rubric:e,isDashboardMode:t})=>({urlParams:c(e,{isDashboardMode:t})})})((({urlParams:e,children:t})=>(0,s.jsx)(n.W,Object.assign({},e,{children:t}))));function c(e,t={}){switch(e.type){case"pseudorubric":switch(e.action.type){case"open_card":return{type:"branch",id:e.action.value};case"search_by_query":return{type:"catalogSearch",query:e.name||e.caption};case"search_by_org":return{type:"organizationBranches",id:e.action.value};default:return{type:"custom",url:(0,a.j)(e.action)||""}}case"metarubric":return t.isDashboardMode?{type:"catalogSearch",query:e.search_query||e.name||e.caption}:{type:"subrubrics",id:e.id};case"rubric":return{type:"catalogSearch",rubricId:e.id,query:e.seo_name||e.name||e.caption}}}},27248:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var s=i(60077),r=i(60663),n=i(52160);const a=(0,s.K)()({__dirname:"src/shared/containers/seoLink",selectors:{selectedCityAlias:n.kB,lang:e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0},formatter:e=>({href:(0,r.p)(Object.assign({cityAlias:"cityAlias"in e?e.cityAlias:e.selectedCityAlias},e))})})((({children:e,href:t})=>e(t)))},22163:(e,t,i)=>{"use strict";i.d(t,{W:()=>u});var s=i(31085),r=i(14041),n=i(26461),a=i(15471),o=i(80905),c=i(81618),d=i(79594);const l=e=>{const{children:t,className:i,frameId:r,dataN:n=""}=e,a=(0,d.d4)((e=>e.appContext.frames)),l=(0,o.lX)(a,r)?"h1":"div";return(0,s.jsx)(l,Object.assign({className:i},n?c.dx.n(n):{},{children:t}))};class u extends r.PureComponent{render(){return(0,s.jsx)(a.X.Consumer,{children:({frameId:e})=>(0,s.jsx)(l,Object.assign({frameId:e},this.props))})}}u.displayName=(0,n.d)("src/shared/containers/seoTitle")},35890:(e,t,i)=>{"use strict";i.d(t,{M:()=>h});var s=i(31085),r=i(14041),n=i(60077),a=i(26461),o=i(27942),c=i(96141),d=i(85005),l=i(46287),u=i(82393),p=i(56671);const m={onClick:d.Y};class g extends r.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{onClick:e,type:t,entityId:i,frameId:s,searchId:r}=this.props;return e({subtype:t,entityId:i,frameId:s,searchId:r})}}render(){const{value:e,dataN:t}=this.props;return(0,s.jsx)(p.P,{children:(0,s.jsx)("div",{children:(0,s.jsx)(c.$,Object.assign({wide:!0,dataN:t,onClick:this.onClick},{children:e}))})})}}g.displayName=(0,a.d)("src/shared/containers/typedFeedbackEntry");const h=(0,n.M)({handlers:m,selectors:()=>{const e=(0,l.eJ)();return({entityId:t})=>({entity:i=>t?e({state:i,entityId:t}).data:void 0,regionId:u.zN})}})((0,o.J)((({type:e,entity:t},{tp:i,config:s})=>{if(!t||"0"!==t.region_id||"RU"===s.defaultCountryCode)return{value:"addOrg"===e?i._t("Добавить организацию"):i._t("Нашли ошибку в данных?"),dataN:"addOrg"===e?"wat-add-org-button":"wat-upd-obj-button"}}))(g))},92140:(e,t,i)=>{"use strict";i.d(t,{o:()=>w});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(27942),c=i(70498),d=i(33626),l=i(23098),u=i(21959),p=i(40819),m=i(81618),g=i(59543),h=i(91818),f=i(7515),v=i(99259);class b extends r.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>this.props.initials}render(){const{s:e,name:t,user:i,avatar:r,i18n:a,withAuth:o=!1}=this.props;return(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.row),onClick:this.props.onLogin},m.dx.n("wat-auth-popup-control"),{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.avatar,e._auth)},{children:(0,s.jsx)(g.G,{})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.entry)},{children:a.tp._t("Войти")}))]})),!o&&i&&(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.row)},m.dx.n("wat-user-info"),{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.avatar)},{children:(0,s.jsx)(l.e,{initials:this.renderInitials,src:r})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.name)},{children:t}))]}))]})}}const y="40px",x={row:{display:"flex",alignItems:"center"},avatar:{background:v.T.white,width:y,height:y,borderRadius:"50%",verticalAlign:"top",marginEnd:8,overflow:"hidden",flexShrink:0,boxShadow:c.E.logo},_auth:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},entry:{color:v.T.blue_0072ce,cursor:"pointer"},name:{maxHeight:32,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"}},j=(0,d.Yn)((e=>({onLogin(){e((0,h.oC)())}}))),w=(0,d.Ng)((e=>{const t=(0,u.ug)(e);return{user:t&&t.data}}),j)((0,o.J)(((e,{tp:t})=>{const{withAuth:i,user:s}=e;if(!s)return{withAuth:i};const r=s.avatar_preview_tpl?s.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):s.avatar;return{withAuth:!1,name:s.display_name||s.name,avatar:r,initials:(0,p.Z)(s,t)}}))((0,a.Xy)(x)((0,f.Q)()(b))))},15344:(e,t,i)=>{"use strict";i.d(t,{l:()=>p});var s=i(14041),r=i(33626);const n=(0,i(66333).Mz)([({state:e})=>e.appContext.pitch,({state:e})=>e.appContext.rotation],((e,t)=>({pitch:e,rotation:t}))),a=(0,r.tr)(((e,t)=>n({state:e,props:t})));var o=i(95993);const c=(0,r.Yn)((e=>({subscribeOnMapMove(t,i){e((0,o.q2)({id:t,type:"map:move",handler:i}))},removeListeners(t){e((0,o.f)({id:t}))}})));var d=i(26461),l=i(35023);class u extends s.Component{constructor(){super(...arguments),this.state={rotation:this.props.rotation,pitch:this.props.pitch,isInteracting:!1},this.listenersId=(0,l.W7)()}componentDidMount(){this.props.subscribeOnMapMove(this.listenersId,(({rotation:e,pitch:t})=>{e===this.state.rotation&&t===this.state.pitch||this.setState({rotation:e,pitch:t})}))}componentWillUnmount(){this.props.removeListeners(this.listenersId)}render(){return this.props.children({rotation:this.state.rotation,pitch:this.state.pitch,isInteracting:this.state.isInteracting})}}u.displayName=(0,d.d)("src/shared/containers/whereami");const p=(0,r.Ng)(a,c)(u)},80960:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});const s=i(14041).createContext({showEventOrdinal:void 0})},91650:(e,t,i)=>{"use strict";i.d(t,{$:()=>s});const s=i(14041).createContext(void 0)},88870:(e,t,i)=>{"use strict";i.d(t,{l:()=>n});var s=i(73861),r=i(54006);function n({distance:e,isShortcut:t,tp:i,rtl:n}){const a=Math.max(10,function(e){if(e<100)return(0,r.W)(e,10);if(e<500)return(0,r.W)(e,50);if(e<1e3)return(0,r.W)(e,100);if(e<3e3)return(0,r.W)(e,500);return(0,r.W)(e,1e3)}(e));return a>=1e3?function(e,t,i,r){const n=e/1e3,a=r?n:(0,s.B)(n);if(t)return i._t("%1&nbsp;км",[a]);return i._nt(["%1&nbsp;километр","%1&nbsp;километра","%1&nbsp;километров"],n,[a])}(a,!!t,i,n):function(e,t,i){if(t)return i._t("%1&nbsp;м",[e]);return i._nt(["%%&nbsp;метр","%%&nbsp;метра","%%&nbsp;метров"],e)}(a,!!t,i)}},19945:(e,t,i)=>{"use strict";i.d(t,{M0:()=>l,U6:()=>m,wK:()=>u,ib:()=>p,BL:()=>v});var s=i(35023),r=i(88842),n=i(25415);const a=e=>"branch"===e.type&&(0,n.v)(e);var o=i(80690),c=i(56964);const d=[2,6,80];function l(e,t){return p(e,{order:(0,c.t)(t.config),separator:t.config.addressSeparator,alwaysIncludeDivisionInDrilldown:t.config.alwaysIncludeDivisionInDrilldown,alwaysAddNameExtension:t.alwaysAddNameExtension,useSingleComponentForBranch:t.useSingleComponentForBranch,isLandmarkMovedToName:t.isLandmarkMovedToName}).map(((e,t)=>0===t?(0,s.ND)(e.value):e.value))}function u(e,t,i){var n;const a=(0,r.P0)(e,t,i.alwaysAddNameExtension);if("building"===e.type){const t=(null===(n=e.address)||void 0===n?void 0:n.landmark_name)?(0,s.ND)(e.address.landmark_name):void 0,r=b({name:a,landmark:t,purposeCode:e.purpose_code});if(r&&t){return{name:[t],address:l(e,Object.assign(Object.assign({},i),{isLandmarkMovedToName:r}))}}}const o=l(e,i);return{name:a?[a]:o,address:a?o:void 0}}function p(e,t){return m(e.type,f(e)||{},Object.assign(Object.assign({},t),{useBuildingNameForBranch:!a(e)}),h(e))}function m(e,t,i,r){const{order:n,separator:a,useBuildingNameForBranch:c,useSingleComponentForBranch:d,isLandmarkMovedToName:l}=i,u=t.landmark_name?g("landmark",(0,s.ND)(t.landmark_name)):void 0,p=(t.components||[]).map(((e,t)=>function(e,t,i,r){const n=function(e,t,i,r){if(!e)return"";if("street_number"===e.type){const n=r?(0,s.ND)(e.street):e.street,a="straight"===i?[n,e.number]:[e.number,n];return n&&e.number?a.join(t):a.join("")}if("number"===e.type&&e.number)return e.number;if("location"===e.type&&e.comment)return e.comment;return""}(e,t,i,r);return n&&e?{value:n,type:e.type}:void 0}(e,a+o.aY,n,0===t&&i.capitalizeFirst)));switch(e){case"branch":return d?(0,s.oE)([c&&g("building_name",t.building_name),u,p[0]]):(0,s.oE)([c&&g("building_name",t.building_name),u,...p,g("comment",r)]);case"building":return(0,s.oE)(l?p:[u,...p]);default:return(0,s.oE)([u,...p])}}function g(e,t){return t?{type:e,value:t}:void 0}const h=e=>"branch"===e.type&&"address_comment"in e?e.address_comment:void 0,f=e=>"address"in e?e.address:void 0,v=e=>{const t=f(e);return t&&t.components&&t.components.find((e=>"street_number"===e.type))},b=({name:e,landmark:t,purposeCode:i})=>!e&&!!t&&!!i&&d.includes(i)},7860:(e,t,i)=>{"use strict";i.d(t,{z:()=>c,S:()=>d});var s=i(76105),r=i(57838);var n=i(15387),a=i(53157),o=i(60663);function c(e){var t,i,s,r;const n=(null===(i=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.buy_here_owner)||void 0===i?void 0:i[0])||(null===(r=null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.fmcg_owner)||void 0===r?void 0:r[0]);if(n)return{ownedRubricId:"owned_rubric_id"in n?n.owned_rubric_id:n.ads_id,controlTitle:n.control_title}}function d(e,t,i,c){const d=e?(0,n.H)(e,t):void 0;if(d)return{type:d.type,value:d.value,name:(0,a.KL)(d.caption||d.name||i),href:(0,s.j)(d),isExternal:(0,r.E)(d.type)};if(!c)return;const l={name:i,type:"open_card",value:c};return{type:l.type,value:l.value,name:i,href:(0,o.p)({id:c,type:"branch",cityAlias:void 0}),isExternal:!1}}},30184:(e,t,i)=>{"use strict";i.d(t,{km:()=>u,gK:()=>d,AH:()=>l,vd:()=>p,cU:()=>m});var s=i(9126),r=i(99259),n=i(63168),a=i(38024),o=i(95530);function c(e){const t=e&&e.options&&e.options.color;if(t)return t;const i=e&&e.options&&e.options.logo&&e.options.logo.bg_color;return i||void 0}function d(e,t){return(0,o.k)(e)?r.T.gray_b2b2b2:"route"===e.type?function(e){if(e.color)return e.color;return(0,s.O)(e.subtype)}(e):(0,a.g)(e)?function(e,t){return e.color||e.routes&&e.routes[0].color||t.colors.green_299400_brand}(e,t):"branch"===e.type&&c(e.ads)||t.colors.green_299400_brand}function l(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options&&e.ads.options.images;return t&&t.length?t[0].url:void 0}function u(e){return!("branch"!==e.type||!c(e.ads))}function p(e){return"#262626"===(0,n.a)(e)?"dark":"light"}function m(e,t){return t?r.T.white:(0,n.a)(e)}},61200:(e,t,i)=>{"use strict";function s(e,t){if(!("adm_div"in e)||!e.adm_div)return"";const{config:i,shortenForBranches:s,includeRegion:r}=t,o=n(e,{shortenForBranches:s,separator:i.addressSeparator,alwaysIncludeDivision:i.alwaysIncludeDivisionInDrilldown,includeRegion:r});return a(e.adm_div,o)}function r(e,t){if(!("adm_div"in e)||!e.adm_div)return[];const i=n(e,{separator:t.separator,alwaysIncludeDivision:t.alwaysIncludeDivision,shortenForBranches:t.shortenForBranches});return o(e.adm_div,i).map((e=>e.name))}function n(e,t){const{alwaysIncludeDivision:i=!1,shortenForBranches:s=!1,includeRegion:r=!0,separator:n}=t;return{includeDivision:"adm_div"===e.type||i,includeRegion:r,excludeLivingAreaAndDistrict:"branch"===e.type&&s,separator:n+" ",entityFlags:"flags"in e?e.flags:void 0}}function a(e,t){return function(e,t){return e.map((e=>e.name)).filter(((e,t,i)=>i.indexOf(e)===t)).join(t)}(o(e,t),t.separator)}function o(e,t){const i=function(e,t){const i=e.find((e=>"city"===e.type));return e.filter((e=>{var s,r;return("region"!==e.type||!((null===(s=null==i?void 0:i.flags)||void 0===s?void 0:s.is_region_center)||(null==t?void 0:t.is_region_center)||(null==t?void 0:t.is_default)))&&("district_area"!==e.type||!((null===(r=null==i?void 0:i.flags)||void 0===r?void 0:r.is_district_area_center)||(null==t?void 0:t.is_district_area_center)||(null==t?void 0:t.is_default)))}))}(d(e,c),t.entityFlags),s=t.includeDivision?i:l(i,["division"]),r=t.excludeLivingAreaAndDistrict?l(s,["living_area","district"]):s,n=t.includeRegion?r:function(e){if(e.length>1)return e.filter((e=>"region"!==e.type));return e}(r);return n}i.d(t,{OM:()=>d,Uk:()=>r,tB:()=>s,ue:()=>a});const c=["region","district_area","city","settlement","division","district","living_area"];function d(e,t=c){return t.reduce(((t,i)=>{const s=e.find((e=>e.type===i));return s&&t.push(s),t}),[])}function l(e,t){return e.filter((e=>-1===t.indexOf(e.type)))}c.reverse()},58147:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var s=i(35023);function r(e){if("address"in e&&e.address)return(0,s.oE)([e.address.postcode,e.address.building_code]).join("/")}},80177:(e,t,i)=>{"use strict";i.d(t,{qI:()=>d,HV:()=>g,ak:()=>p,TY:()=>m,vL:()=>l,JQ:()=>u});var s=i(47054),r=i(62279);const n=e=>e.split("_").pop();var a=i(99259),o=i(30184);const c="14";function d(e){if(!e)return;if((0,s.C)(e))return c;if((0,r.v)(e))return n(e);const t=e.match(/\d.*$/),i=t&&t[0];return i||void 0}function l(e){return{background:a.T.white,color:e,borderColor:e}}function u(e){return{color:(0,o.cU)(e,!1),background:e,borderColor:e}}function p(e){return"links"in e&&e.links&&e.links.entrances?e.links.entrances:void 0}function m(e){return"links"in e&&e.links&&e.links.parking?e.links.parking:void 0}function g(e){return"links"in e&&e.links?e.links.landmarks:void 0}},88842:(e,t,i)=>{"use strict";i.d(t,{P0:()=>a,SC:()=>c,nD:()=>n,zu:()=>o});var s=i(19945),r=i(34070);function n(e,t,i){const r=a(e,t);return r?[r]:"building"===e.type?(0,s.M0)(e,{config:i,useSingleComponentForBranch:!1}):[t._t("Место")]}function a(e,t,i){switch(e.type){case"branch":return(0,r.HZ)(e,i);case"route":return(0,r.Ge)(e,t);case"station":case"station_platform":case"station_entrance":return e.name;default:return(0,r.Io)(e,t)}}function o(e){var t;return(null===(t=e.org)||void 0===t?void 0:t.primary)||e.name_ex.primary}function c(e){var t;return(null===(t=e.brand)||void 0===t?void 0:t.name)||o(e)}},51941:(e,t,i)=>{"use strict";i.d(t,{ES:()=>a,HE:()=>r,_E:()=>n,yN:()=>o});var s=i(66698);const r=(e,t,i)=>{const r=null==i?void 0:i.find((e=>e.id===s.Qh));return r&&1===r.count&&-1===t?[Object.assign(Object.assign({},r),{count:0})]:(null==i?void 0:i.length)?i.map((i=>i.id===s.Qh||i.id===e&&i.id!==s.Qh&&t<0?Object.assign(Object.assign({},i),{count:i.count+t}):i)):[{id:s.Qh,name:"Все",count:t>0?t:0}]},n=({oldData:e,albumId:t,photos:i})=>{const s=null==e?void 0:e.pages.slice(1),n=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...i,...e.pages[0].items]:[...i],albums:r(t,i.length,e.pages[0].albums)}):{items:[...i],albums:r(t,i.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==s?void 0:s.length)?[n,...s]:[n]})},a=({oldData:e,albumId:t,photos:i})=>{const n=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!i.some((t=>t.id===e.id)))),albums:r(t,0-i.length,e.albums)}))):[{items:[],albums:[{id:s.Qh,name:"Все",count:0}]}];return Object.assign(Object.assign({pageParams:[]},e),{pages:n})},o=({oldData:e,albumId:t,diffs:i})=>{var s;return Object.assign(Object.assign({},e),{albums:r(t,i,null==e?void 0:e.albums),code:null!==(s=null==e?void 0:e.code)&&void 0!==s?s:200})}},45268:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var s=i(91684);function r(e,t){const i="routes"in e&&e.routes;if(!i||!i.length)return;const r={};return i.reduce(((e,i)=>{const n=r[i.subtype];return void 0!==n&&e[n]?(e[n].items.push(i),e):(r[i.subtype]=e.length,e.push({type:i.subtype,name:(0,s.w)(i.subtype,t),items:[i]}),e)}),[])}},23614:(e,t,i)=>{"use strict";i.d(t,{LD:()=>u,v3:()=>d,Iw:()=>l,aL:()=>p});var s=i(99471),r=i(46428),n=i(96342);const a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function c(e,t,i,s){return(i?a:o).map((i=>function(e,t,i){return Object.assign(Object.assign({},e),{timeIntervals:e.timeIntervals.map((({to:e,from:t})=>(0,n.lD)(t,e,i))),breaks:e.breaks&&e.breaks.map((({to:e,from:t})=>(0,n.lD)(t,e,i))),breakTypes:e.breakTypes&&e.breakTypes.map((e=>(0,r.bJ)(e,t)))})}(e.find((e=>e.dayName===i))||e[0],t,s)))}function d(e,t,i,n,a){const o=(0,s.BS)(e,(0,s.lN)(i));return(0,r.uu)(o,t,n,a)}function l(e,t,i,s,n){return(0,r.$_)(e,t,i,s,n)}function u(e,t,i,n){const a=(0,s.lN)(t),o=(0,s.BS)(e,a),c=(0,s.As)(e,a);return(0,r.SH)(o,c,i,n)}function p(e,t,i,r,n){return c((0,s.eW)(e,(0,s.lN)(t)),i,n,r)}},46428:(e,t,i)=>{"use strict";i.d(t,{$_:()=>h,RZ:()=>f,SH:()=>m,bJ:()=>v,uu:()=>p});var s=i(99471),r=i(37234),n=i(48297),a=i(43915),o=i(32106),c=i(57786),d=i(53157),l=i(96342),u=i(10838);function p(e,t,i,s){if(!e)return"";const r=s?o.iv:o.bO;switch(e.type){case c.XU.aroundTheClock:return t?void 0:i._t("Круглосуточно");case c.XU.opened:return t?void 0:i._t("Открыто");case c.XU.willCloseInTime:return i._t("Закроется через %1",[b(e.minutesTo,i)]);case c.XU.willCloseInMinute:return i._t("Закроется через %1",[b(1,i)]);case c.XU.willCloseInTimeForBreak:return i._t("Через %1 закрывается на %2",[b(e.minutesTo,i),v(e.breakType,i)]);case c.XU.willCloseInMinuteForBreak:return i._t("Через %1 закрывается на %2",[b(1,i),v(e.breakType,i)]);case c.XU.willOpenInMinuteFromBreak:return(0,d.ND)(i._t("%1. Откроется через %2",[v(e.breakType,i),b(1,i)]));case c.XU.willOpenInTimeFromBreak:return(0,d.ND)(i._t("%1. Откроется через %2",[v(e.breakType,i),b(e.minutesTo,i)]));case c.XU.willOpenAtTimeFromBreak:return(0,d.ND)(i._t("%1. Откроется в %2",[v(e.breakType,i),(0,l.HG)(e.time,r)]));case c.XU.willOpenAtTime:return i._t("Закрыто до %1",[(0,l.HG)(e.time,r)]);case c.XU.willOpenAtDayAtTime:case c.XU.willOpenTomorrowAtTime:case c.XU.willOpenOvermorrowAtTime:return i._t("Закрыто");case c.XU.willOpenInTime:return i._t("Откроется через %1",[b(e.minutesTo,i)]);case c.XU.willOpenInMinute:return i._t("Откроется через 1 минуту");default:return""}}function m(e,t,i,s){if(!e)return"";const r=s?o.iv:o.bO;switch(e.type){case c.XU.aroundTheClock:return"";case c.XU.opened:return i._t("Открыто");case c.XU.willCloseInTimeForBreak:return i._t("Через %1 закрывается на %2",[b(e.minutesTo,i),v(e.breakType,i)]);case c.XU.willCloseInMinuteForBreak:return i._t("Через минуту закрывается на %1",[v(e.breakType,i)]);case c.XU.willOpenAtTimeFromBreak:return(0,d.ND)(i._t("%1, откроется в %2",[v(e.breakType,i),(0,l.HG)(e.time,r)]));case c.XU.willOpenInTimeFromBreak:return(0,d.ND)(i._t("%1, откроется через %2",[v(e.breakType,i),b(e.minutesTo,i)]));case c.XU.willOpenInMinuteFromBreak:return(0,d.ND)(i._t("%1, откроется через минуту",[v(e.breakType,i)]));case c.XU.willCloseInTime:return i._t("Закроется через %1",[b(e.minutesTo,i)]);case c.XU.willCloseInMinute:return i._t("Закроется через минуту");case c.XU.willOpenInTime:return i._t("Закрыто. Откроется через %1",[b(e.minutesTo,i)]);case c.XU.willOpenInMinute:return i._t("Откроется через минуту");case c.XU.willOpenAtTime:return i._t("Закрыто. Откроется в %1",[(0,l.HG)(e.time,r)]);case c.XU.willOpenTomorrowAtTime:return t?i._t("Откроется завтра в %1",[(0,l.HG)(e.time,r)]):i._t("Закрыто. Откроется завтра в %1",[(0,l.HG)(e.time,r)]);case c.XU.willOpenAtDayAtTime:case c.XU.willOpenOvermorrowAtTime:return t?i._t("Откроется %1 в %2",[y(e.day,i),(0,l.HG)(e.time,r)]):i._t("Закрыто. Откроется %1 в %2",[y(e.day,i),(0,l.HG)(e.time,r)]);default:return""}}const g=e=>{if(!e)return;const t=(0,r.A)(new Date),i=e.find((e=>(0,n.A)((0,a.A)(e.date),t)));return i?{working_hours:i.working_hours}:void 0};function h(e,t,i,r=!1,n){if((0,s.yn)(e)&&!(null==n?void 0:n.length))return i._t("Круглосуточно");const a=(0,s.As)(e,(0,s.lN)(t)),d=(0,u.xn)(n);if(a||d)return i._t("Выходной");const p=(0,s.eJ)(e),m=(0,s.lN)(t),h=g(n),f=h||e[m.day],{from:b,to:y}=(0,s.KS)(f&&f.working_hours||[])[0],x=(0,s.Vi)(e,m,null==h?void 0:h.working_hours)[0],j=x?(0,s._x)(x):void 0,w=v(j,i),I=(0,l.HG)(b,r?o.iv:o.bO),C=(0,l.HG)(y,r?o.iv:o.bO),_=x&&(0,l.HG)(x.from,r?o.iv:o.bO),k=x&&(0,l.HG)(x.to,r?o.iv:o.bO);if(p&&!(null==n?void 0:n.length))switch(j){case c.M3.lunch:case c.M3.rest:return i._t("Ежедневно&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[I,C,w,_,k]);default:return i._t("Ежедневно с %1 до %2",[I,C])}switch(j){case c.M3.lunch:case c.M3.rest:return i._t("Сегодня&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[I,C,w,_,k]);default:return i._t("Сегодня c %1 до %2",[I,C])}}function f(e,t){switch(e){case"Mon":return t._t("Пн");case"Tue":return t._t("Вт");case"Wed":return t._t("Ср");case"Thu":return t._t("Чт");case"Fri":return t._t("Пт");case"Sat":return t._t("Сб");case"Sun":return t._t("Вс");default:return""}}function v(e,t){switch(e){case c.M3.lunch:return t._t("обед");case c.M3.rest:default:return t._t("перерыв")}}function b(e=0,t){const i=Math.floor(e/60),s=e%60,r=t._nt(["%% минуту","%% минуты","%% минут"],s);if(!i)return r;const n=t._nt(["%% час","%% часа","%% часов"],i);return t._pt("%1 время в часах %2 время в минутах","%1 %2",[n,r])}function y(e,t){switch(e){case"Mon":return t._t("в понедельник");case"Tue":return t._t("во вторник");case"Wed":return t._t("в среду");case"Thu":return t._t("в четверг");case"Fri":return t._t("в пятницу");case"Sat":return t._t("в субботу");case"Sun":return t._t("в воскресенье");default:return""}}},55467:(e,t,i)=>{"use strict";i.d(t,{v:()=>s});const s=(e=[],t=[])=>{const i="string"==typeof t?[t]:t;return 1===e.length&&1===i.length&&e[0]===i[0]?e:[...e,...i]}},79658:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var s=i(53157);const r=(e,t)=>e||(t?(0,s.ND)(t):"")},71030:(e,t,i)=>{"use strict";function s(e,t){if(e)return Number.isNaN(+e)?t._t("Места: %1",[e.toLowerCase()]):t._nt(["%% место","%% места","%% мест"],+e)}i.d(t,{C:()=>s})},34070:(e,t,i)=>{"use strict";function s(e){switch(e.subtype){case"bus":case"trolleybus":case"tram":case"shuttle_bus":return!0;default:return!1}}i.d(t,{mM:()=>s,Mk:()=>n,hx:()=>o,HZ:()=>c,i$:()=>C,Hs:()=>w,Yl:()=>S,GH:()=>g,eu:()=>m,Io:()=>p,$0:()=>v,q6:()=>y,Ge:()=>x,FP:()=>_});var r=i(53157);function n(e,t){if(!e||!("subtype"in e))return[];if("subtype_specification"in e&&e.subtype_specification)return[e.subtype_specification];const i=e.subtype?"detailed_subtype"in e&&e.detailed_subtype?function(e,t){switch(e){case"microdistrict":return t._t("микрорайон");case"residential_district":return t._t("жилмассив");case"residential_quarter":return t._t("квартал");case"poselok":return t._t("посёлок");case"residential_complex":return t._t("жилой комплекс");case"selo":return t._t("село");case"derevnja":return t._t("деревня");case"cottage_estate":return t._t("коттеджный посёлок");case"urban_settlement":return t._t("посёлок городского типа");case"workers_settlement":return t._t("рабочий посёлок");case"dacha_settlement":return t._t("дачный посёлок");case"resort_settlement":return t._t("курортный посёлок");case"stanitsa":return t._t("станица");case"sloboda":return t._t("слобода");case"khutor":return t._t("хутор");case"aul":return t._t("аул");case"aal":return t._t("аал");case"town":return t._t("военный городок");case"farmstead":return t._t("заимка");case"vyselok":return t._t("выселок");case"municipality":return t._t("муниципальное образование");case"station":return t._t("станция");case"townhouse_settlement":return t._t("посёлок таунхаусов");case"territory":return t._t("территория");case"cooperative":return t._t("кооператив");case"partnership":return t._t("товарищество");case"gorod":return t._t("город");case"mun_okrug":return t._t("муниципальный округ");case"vaht_poselok":return t._t("вахтовый поселок");case"nas_punkt":return t._t("населённый пункт");case"poselenie":return t._t("поселение");case"massiv":return t._t("массив");case"dachi":return t._t("дачи");case"kottedzhnyj_gorodok":return t._t("коттеджный городок");default:return}}(e.detailed_subtype,t):function(e,t){switch(e){case"settlement":return t._t("населённый пункт");case"living_area":return t._t("микрорайон");case"city":return t._t("город");case"division":return t._t("округ");case"district":return t._t("район");default:return}}(e.subtype,t):void 0;return i?[(0,r.ND)(i)]:[]}var a=i(59954);function o(e){return e.name_ex.extension?[e.name_ex.extension]:e.rubrics&&e.rubrics.length?[e.rubrics[0].name]:a.Ml}function c(e,t){const{name_ex:i}=e;return t&&i.extension?`${i.primary}, ${i.extension}`:i.primary}var d=i(24880),l=i(35023),u=i(79658);function p(e,t){switch(e.type){case"attraction":return(0,u.q)(e.name,e.subtype_name);case"gate":if(!e.barrier)return e.name||"";switch(e.barrier){case"gate":return t._t("Ворота");case"turnstile":return t._t("Турникет");case"wicket":return t._t("Калитка");case"gate_barrier":return t._t("Проход/проезд");default:return""}case"street":case"adm_div":case"crossroad":case"road":return e.name?(0,l.ND)(e.name):"";case"parking":if(e.name)return e.name;if("taxi_only"===e.access)return t._t("Место стоянки такси");switch(e.purpose){case"bike":return t._t("Велопарковка");case"motorbike":return t._t("Мотопарковка");case"baby_carriage":return t._t("Парковка для детских колясок");default:return t._t("Парковка")}case"kilometer_road_sign":return(0,d.m)(e,t);case"building":return w(e);default:return t._t("Какое-то местечко")}}function m(e,t){switch(e.type){case"adm_div":return n(e,t);case"parking":return v(e,t);case"gate":return g(e,t);case"street":return[t._t("Улица")];case"road":return[t._t("Дорога")];case"crossroad":return[t._t("Перекресток")];default:return[]}}function g(e,t){const i=[h(e.purpose,t)];return e.access&&i.push(function(e,t){switch(e){case"paid":return t._t("платный");case"restricted":return t._t("по пропускам");default:return t._t("общедоступный")}}(e.access,t)),i}function h(e,t){switch(e){case"additional":return t._t("дополнительный");case"service":return t._t("служебный");default:return t._t("центральный")}}var f=i(71030);function v(e,t){const i=[];switch(e.access){case"public":i.push(t._t("Общедоступная"));break;case"handicapped_only":i.push(t._t("Только для инвалидов"));break;case"customers_only":i.push(t._t("Только для клиентов"));break;case"residents_only":i.push(t._t("Только для резидентов"))}if("public"===e.access&&(e.is_paid?i.push(t._t("Платная")):i.push(t._t("Бесплатная"))),e.capacity){const s=(0,f.C)(e.capacity.total,t);s&&i.push(s)}return i}var b=i(91684);function y(e,t){switch(e.subtype){case"suburban_train":case"aeroexpress":return[(0,b.w)(e.subtype,t)];default:return function(e){return!s(e)&&"metro"!==e.subtype}(e)?[(0,b.w)(e.subtype,t)]:[]}}function x(e,t){return s(e)?`${(0,b.w)(e.subtype,t)} ${e.name}`:e.name}var j=i(19945);function w(e){var t;if(e.building_name)return e.building_name;if(null===(t=e.group)||void 0===t?void 0:t.some((({type:e})=>"parking"===e)))return e.purpose_name||e.name||"";return!(0,j.BL)(e)&&e.purpose_name?e.purpose_name:""}var I=i(16510);function C(e,t,{withFloors:i}={}){if(e.purpose_name){const s=e.name!==e.purpose_name;return(0,l.oE)([s&&e.purpose_name,!!i&&(0,I.i)(e,t)])}return[t._pt("Здание","Дом")]}function _(e,t){return"station_entrance"===e.type?"metro"===e.subtype?[t._t("Вход на станцию метро")]:[t._t("Вход на станцию")]:[k(e,t)]}function k(e,t){switch(e.subtype){case"metro":return t._t("Станция метро");case"premetro":case"railway":return t._t("Станция");case"light_metro":return t._t("Станция легкого метро");case"funicular_railway":return t._t("Станция фуникулера");case"monorail":return t._t("Станция монорельсовой дороги");case"cable_car":return t._t("Станция канатной дороги");case"river_transport":return t._t("Причал");default:return t._t("Остановка наземного транспорта")}}var O=i(652);function S(e){return[(0,O.c)({point:e.geocoded_by||e.point,withDegreeSymbol:!0})]}i(21132)},76217:(e,t,i)=>{"use strict";function s(e){switch(!0){case e<1e4:return e.toString();case e<1e6:return e%1e3?`${Math.floor(e/1e3)}.${Math.floor(e%1e3/100)}K`:e/1e3+"K";default:return e%1e6?`${Math.floor(e/1e6)}.${Math.floor(e%1e6/1e5)}M`:e/1e6+"M"}}i.d(t,{r:()=>s})},652:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var s=i(35023);const r=({point:e,withDegreeSymbol:t})=>e?t?`${(0,s.jF)(e.lat)}° ${(0,s.jF)(e.lon)}°`:`${(0,s.jF)(e.lat)}, ${(0,s.jF)(e.lon)}`:""},10011:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(50275);function r(e){const{entity:t,tp:i}=e;switch(!0){case(0,s.rn)(t):return{tabLabel:i._pt("Меню в кафе/ресторане","Меню"),title:i._pt("Меню в кафе/ресторане","Меню"),linkToAllOffersTitle:i._t("Посмотреть меню")};case(0,s.$W)(t):return{tabLabel:i._pt("Список услуг в банке","Услуги"),title:i._pt("Список услуг в банке","Услуги"),linkToAllOffersTitle:i._pt("Услуги банка","Посмотреть все услуги")};default:return{tabLabel:i._t("Цены"),title:i._t("Товары и услуги"),linkToAllOffersTitle:i._t("Посмотреть все товары и услуги")}}}},39302:(e,t,i)=>{"use strict";function s(e){const{entity:t}=e;if(!t)return"history"===e.type?"history":"other";switch(t.type){case"parking":return"parking";case"building":case"branch":case"attraction":case"point":return"pin";case"adm_div":return"city"===t.subtype||"settlement"===t.subtype?"city":"pin";case"street":case"road":case"kilometer_road_sign":return"street";case"route":return"route";case"station":return"metro"===t.subtype?"metro":"station";case"rubric":case"metarubric":return"rubric";case"org":case"brand":return"doublePin";case"special":switch(t.id){case"1":return"home";case"2":return"work";case"3":return"location";case"4":return"camera";case"5":return"traffic";case"6":return"realty"}}return"other"}i.d(t,{Q:()=>s})},90059:(e,t,i)=>{"use strict";i.d(t,{$A:()=>p,Sv:()=>c,ls:()=>u,vw:()=>m,iZ:()=>h});var s=i(78069),r=i(12017),n=i(35023),a=i(29787),o=i(84642);function c(e){return"collection"===e.type}var d=i(7335),l=i(80905);const u=(0,r.n5)("openCollection",(({id:e})=>(0,a.PC)((0,r.K2)((0,d.eU)((e=>(0,l.bB)(e.appContext.frames,"entity")),(e=>e&&(0,s.wU)({id:e.id}))),(0,d.eU)((e=>e.config.isMobileDevice?void 0:(0,l.bB)(e.appContext.frames,"guide")),(e=>e&&!e.scenarioId&&(0,s.wU)({id:e.id}))),(0,s.fL)({id:(0,n.W7)(),type:"collection",subtype:"guide",collectionId:e,visibleItemsLimit:999}))))),p=(0,r.n5)("closeCollection",(()=>(0,d.eU)((e=>(0,l.bB)(e.appContext.frames,"collection")),(e=>e&&(0,s.wU)({id:e.id}))))),m=(0,r.n5)("setCollectionRubrics",(({rubricIds:e})=>(0,a.PC)(g({rubricIds:e})))),g=(0,r.n5)("patchCollectionFrame",(e=>h((t=>t?(0,s.oy)(t.id,(t=>"collection"===t.type?Object.assign(Object.assign({},t),e):void 0)):(0,r.lQ)())))),h=(0,o.W)(c)},94447:(e,t,i)=>{"use strict";i.d(t,{d6:()=>u,dD:()=>b,PS:()=>v,h1:()=>h,ds:()=>l,Jd:()=>x,FO:()=>y,Lr:()=>m,us:()=>p});var s=i(78069),r=i(12017),n=i(29787),a=i(7335),o=i(80905),c=i(35023),d=i(51883);const l=(0,r.n5)("openGuideScenario",(({scenarioId:e})=>(0,n.PC)(g({scenarioId:e})))),u=(0,r.n5)("backToGuide",(()=>(0,n.PC)((0,a.eU)((e=>e.appContext.frames.length),(e=>(0,r.K2)(e>1&&(0,d.kD)(),(0,a.eU)((e=>(0,o.bB)(e.appContext.frames,"guide")),(e=>e?(0,a.eU)((e=>e.appContext.frames.length),(e=>1===e&&g({scenarioId:void 0,rubricIds:void 0}))):(0,s.fL)({type:"guide",id:(0,c.W7)()}))))))))),p=(0,r.n5)("setGuideTab",(({tabId:e})=>(0,n.PC)(g({tabId:e})))),m=(0,r.n5)("setGuideRubrics",(({rubricIds:e})=>(0,n.PC)(g({rubricIds:e})))),g=(0,r.n5)("patchGuideFrame",(e=>(0,a.eU)((e=>(0,o.bB)(e.appContext.frames,"guide")),(t=>t?(0,s.oy)(t.id,(t=>"guide"===t.type?Object.assign(Object.assign({},t),e):void 0)):(0,r.lQ)())))),h=(0,r.n5)("openGuide",(({scenarioId:e,rubricIds:t}={})=>(0,s.fL)({type:"guide",id:(0,c.W7)(),scenarioId:e,rubricIds:t})));var f=i(66333);const v={id:"3",name:"Пожить",icon_path:"//disk.2gis.com/guide/rubrics/24_hotel.svg"},b={1:{"znakomstvo-s-gorodom":{otello_slug:"novosibirsk_kutim_pozhit"},"otdyh-s-detmi":{otello_slug:"novosibirsk_family_pozhit"},"romantika-dlya-dvoih":{otello_slug:"novosibirsk_couple_pozhit"},"edim-kutim":{otello_slug:"novosibirsk_kutim_pozhit"},"pobeg-iz-goroda":{otello_slug:"novosibirsk_zagorod_pozhit"}},38:{"znakomstvo-s-gorodom":{otello_slug:"spb_itak_pozhit"},"romantika-dlya-dvoih":{otello_slug:"spb_couple_pozhit"},"edim-kutim":{otello_slug:"spb_kutim_pozhit"}},21:{"znakomstvo-s-gorodom":{otello_slug:"kazan_itak_pozhit"},"romantika-dlya-dvoih":{otello_slug:"kazan_couple_pozhit"},"edim-kutim":{otello_slug:"kazan_kutim_pozhit"}}},y=(0,f.Mz)([e=>(0,o.bB)(e.appContext.frames,"guide")],(e=>{var t;return(null===(t=null==e?void 0:e.rubricIds)||void 0===t?void 0:t[0])===v.id})),x={"znakomstvo-s-gorodom":["1","3","4","10","8","5","6"],"otdyh-s-detmi":["1","3","4","10","7","9"],"romantika-dlya-dvoih":["1","3","10","4","6","7","9"],"edim-kutim":["1","2","3","7"],"pobeg-iz-goroda":["1","3","4","7"],"otkryt-neturisticheskoe":["17","4","1","7","14"]}},20887:(e,t,i)=>{"use strict";i.d(t,{jC:()=>c,Pf:()=>n,Ki:()=>l});var s={};i.r(s),i.d(s,{open:()=>_,patchFrame:()=>O,withFrame:()=>k});var r={};i.r(r);var n={};i.r(n),i.d(n,{Types:()=>r,isFrameRealtySearch:()=>C,signals:()=>s});var a={};i.r(a),i.d(a,{open:()=>E,patchFrameRealtyCard:()=>T,withFrameRealtyCard:()=>S});var o={};i.r(o);var c={};i.r(c),i.d(c,{Types:()=>o,isFrameRealtyCard:()=>m,signals:()=>a});var d={};i.r(d),i.d(d,{openUserProfile:()=>M});var l={};i.r(l),i.d(l,{Q:()=>d});var u=i(39064),p=i(84642);function m(e){return"realtyCard"===e.type}var g=i(78069),h=i(35023),f=i(12017),v=i(29787),b=i(7335),y=i(80905),x=i(92448),j=i(51021),w=i(20091),I=i(99781);function C(e){return"realty"===e.type}const _=(0,f.n5)("openRealtySearchFrame",(e=>{const t=(0,h.W7)(),i=null==e?void 0:e.entity,s=null==e?void 0:e.source,r=(0,h.W7)();return(0,f.NV)((({featureRealty:n,defaultCountryCode:a})=>n?(0,f.K2)((0,b.eU)((e=>(0,y.bB)(e.appContext.frames,"realty")),(n=>{const o="KZ"===a&&x.gI.rentDaily.categoryId||(null==e?void 0:e.categoryId)||(null==n?void 0:n.categoryId)||x.gI.sale.categoryId;return(0,v.PC)((0,g.fL)({id:(0,h.W7)(),scrollId:(0,h.W7)(),type:"realty",page:1,entity:i,searchId:t,reviewSearchId:r,suggestId:null==e?void 0:e.suggestId,filterPanelState:(null==n?void 0:n.filterPanelState)||"auto",filterValues:(null==e?void 0:e.filters)||(null==n?void 0:n.filterValues),categoryId:o,source:s,isOpenedFromMap:null==e?void 0:e.isOpenedFromMap}))})),(0,j.P)((0,I.s)()),(0,j.n)((0,b.eU)((e=>e.appContext.isDataViewerMinimized),(e=>e&&(0,w.X_)({isMinimized:!1}))))):(0,f.lQ)()))})),k=(0,p.W)(C),O=(0,u.m)(C),S=(0,p.W)(m),T=(0,u.m)(m),E=(0,f.n5)("openRealtyCard",(e=>{const t=k((t=>(0,g.fL)({id:(0,h.W7)(),reviewSearchId:(null==t?void 0:t.reviewSearchId)||(0,h.W7)(),type:"realtyCard",realtyId:e.realtyId,tab:e.tab||"ad"}))),i=(null==e?void 0:e.skipHistoryPush)?t:(0,v.PC)(t);return(0,f.NV)((({featureRealty:e})=>e?i:(0,f.lQ)()))}));function M(){return(0,f.NV)((({featureChronologyPlaces:e})=>(0,g.fL)({id:(0,h.W7)(),searchId:(0,h.W7)(),type:"userProfile",profileTab:e?"places":"favorites"})))}},47458:(e,t,i)=>{"use strict";function s(e,t){return(i=t,s)=>{let r=i;for(let t=0;t<e.length;t+=1)r=e[t](r,s);return r}}i.d(t,{o:()=>s})},67809:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var s=i(35023),r=i(19263),n=i(59954);function a(e){if("coordinates"===e.type||"coordinates_additional"===e.type){const{lon:t,lat:i}=e;return{type:"point",point:{lon:t,lat:i},id:n.K0,hash:(0,s.OV)(n.K0),region_id:"0",segment_id:"0"}}const t=(0,s.ox)(e.id),i=(0,s.OV)(e.id);if("kilometer_road_sign"===e.type)return Object.assign(Object.assign({},e),{id:t,hash:i,segment_id:"0"});if("branch"===e.type){const s=function(e){const t=e.stop_factors;if(!t)return e.context;return Object.assign(Object.assign({},e.context),{stop_factors:t})}(e);return Object.assign(Object.assign({},e),{context:s,id:t,hash:i})}if("point"===e.type||"route"===e.type)return Object.assign(Object.assign({},e),{id:t,hash:i});if("station"===e.type&&e.platforms){const n=[];e.platforms.forEach((e=>{const t=e.geometry.centroid&&(0,r.iL)(e.geometry.centroid);t&&n.push(t)}));const a=function(e){if(!e.length)return;const{lon:t,lat:i}=e.reduce(((e,t)=>(e.lon+=t.lon,e.lat+=t.lat,e)),{lon:0,lat:0});return{lon:(0,s.jF)(t/e.length),lat:(0,s.jF)(i/e.length)}}(n);if(a)return Object.assign(Object.assign({},e),{id:t,hash:i,point:a})}const a=e.geometry&&e.geometry.centroid;return Object.assign(Object.assign({},e),{id:t,hash:i,point:a?(0,r.iL)(a):void 0})}},61120:(e,t,i)=>{"use strict";i.d(t,{S$:()=>s});let s="undefined"==typeof window},19297:(e,t,i)=>{"use strict";i.d(t,{Dr:()=>a,F6:()=>u,UL:()=>c,Yr:()=>o,cl:()=>l,yE:()=>d});var s=i(91171),r=i(50334),n=i(24645);class a{constructor(e,t){this.name="NetworkError",this.message=e,this.code=t}}function o(e,t,i){var n,a,o,d,l;const u=(0,s.oU)(i);if(422===Number(u))throw c((null===(o=null===(a=null===(n=i.details.response)||void 0===n?void 0:n.data.error_fields)||void 0===a?void 0:a[0])||void 0===o?void 0:o.error)||(null===(d=i.details.response)||void 0===d?void 0:d.data.error)||i.details.message,(null===(l=i.details.response)||void 0===l?void 0:l.data.error_description)||"");(0,r.eY)(e,{},t)(i)}function c(e,t){return{name:"ValidationError",message:e,code:422,data:t}}const d=e=>!("object"!=typeof e||!e)&&("obscene"in e||"insults"in e||"unproven_allegations"in e);function l(e){if(e instanceof s.pe){const t=e.details.message,i=(0,s.oU)(e);return new a(t,function(e){const t=Number(e);if(t!=t)return 500;return u(t)}(i))}return function(e){if(e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)return!("code"in e)||"number"==typeof e.code;return!1}(e)?{name:e.name,message:e.message,code:e.code||500}:{name:"Unknown error type",message:(0,n.u)(e),code:500}}function u(e){switch(e){case 400:return 400;case 401:return 401;case 402:case 404:return 404;case 403:return 403;case 307:return 307;default:return 500}}},40194:(e,t,i)=>{"use strict";i.d(t,{IR:()=>u,Sw:()=>l,_3:()=>o,_V:()=>r,rv:()=>s,uB:()=>n,vY:()=>a});const s={status:"success",code:200},r={status:"loading"},n=e=>({status:"loading",__effect_uuid:e}),a={code:404,name:"NotFound",message:"Empty result"},o=e=>({status:"error",code:c(e),error:d(e)});function c(e){return e.code||500}function d(e){return{name:e.name,message:e.message,code:e.code,data:e.data}}function l(e=404){return o({code:e,name:"NotFound",message:"Empty result"})}function u(e){return 404===e?l():{status:"error",code:500,error:new Error(`Api have responded with ${e}`)}}},22934:(e,t,i)=>{"use strict";i.d(t,{h$:()=>a,i5:()=>c,vL:()=>r});var s=i(40194);function r(e,t,i){return function(e,t,i,s){return Object.assign(Object.assign({},e),{[t]:s(e[t],i)})}(e,t,i,n)}function n(e,t){return{data:e&&e.data,meta:(0,s.uB)(t)}}function a(e,t,i,s){return function(e,t,i,s,r){const n=e[t];if((null==n?void 0:n.meta.__effect_uuid)!==s)return e;return Object.assign(Object.assign({},e),{[t]:r(n,i)})}(e,t,i,s,o)}function o(e,t){return{data:t,meta:s.rv}}function c(e,t,i,s){return function(e,t,i,s,r){const n=e[t];if((null==n?void 0:n.meta.__effect_uuid)!==s)return e;return Object.assign(Object.assign({},e),{[t]:r(n,i)})}(e,t,i,s,d)}function d(e,t){return{data:e&&e.data,meta:(0,s._3)(t)}}},33626:(e,t,i)=>{"use strict";i.d(t,{Ng:()=>s.N,Yn:()=>n,tr:()=>r});var s=i(88220);function r(e){return e}function n(e){return e}},30498:(e,t,i)=>{"use strict";i.d(t,{B:()=>n});var s=i(31085),r=i(14041);const n=function(e){var t;return(t=class extends r.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=e=>{this.setState({isHovered:!0}),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e)},this.handleMouseLeave=e=>{this.setState({isHovered:!1}),"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e)}}render(){const t={onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return(0,s.jsx)(e,Object.assign({},this.props,{hoverableHandlers:t,isHovered:this.props.isHovered||this.state.isHovered}))}}).displayName=`Hoverable(${e.displayName||e.name||"Unnamed"})`,t}},60077:(e,t,i)=>{"use strict";i.d(t,{M:()=>v,K:()=>f});var s=i(14848),r=i(79594),n=i(83878),a=i(32065),o=i(15401);function c(e){let t,i;return s=>(t&&(0,o.b)(t,s)||(t=s,i=e(s)),i)}var d=i(68076),l=i(11540),u=i(14041),p=i(79911),m=i(72185),g=i(21252),h=i(26461);function f(){return e=>{const{__dirname:t,selectors:i,handlers:a,formatter:o,bss:c,styles:f}=e,v=i?(0,r.Ng)("function"==typeof i?b(i):(0,n.j8)(i)):void 0,y=c?(0,g.f)(c.showEventFormatter):void 0,x=o?(0,l.Jq)(o):void 0,j=e=>t=>{const i=Object.assign({},t);if(a){const e=u.useContext(m.P);Object.assign(i,(0,s.zH)(a,e.dispatch))}return(e=>{const t=u.useContext(p.R);Object.assign(e,{i18n:t})})(i),u.createElement(e,i)};return e=>{let i=j(u.memo(e));return f&&(i=(0,d.Xy)(f)(i)),x&&(i=x(i)),y&&(i=y(i)),v&&(i=v(i)),i.displayName=`reconnect2(${(0,h.d)(t)})`,i}}}function v(e){const{selectors:t,handlers:i={}}=e,s="function"==typeof t?b(t):(0,n.j8)(t);return(0,r.Ng)(s,i)}function b(e){const t=c(e);return(e,i)=>{const s=t(i);if("function"==typeof s){const e=c(s);return(t,i)=>y(e(i),t)}return y(s,e)}}function y(e,t){return(0,a.YD)(e).reduce(((i,s)=>(i[s]=e[s](t),i)),{})}},11264:(e,t,i)=>{"use strict";i.d(t,{N:()=>a});var s=i(31085),r=i(14041),n=i(13527);const a=function(){return function(e){var t;return(t=class extends r.Component{render(){return(0,s.jsx)(n.Q.Consumer,{children:t=>(0,s.jsx)(e,Object.assign({},this.props,{config:t}))})}}).displayName=`WithConfig(${e.displayName||e.name||"Unnamed"})`,t}}},27942:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(85608),r=i(31085),n=i(14041);var a=i(11540);function o(e,t){return function(i){class o extends n.PureComponent{render(){return(0,r.jsx)(a.cD,{children:n=>{const a=e(this.props,n);if(!a)return null;if("asyncStatus"in(o=a)&&("loading"===o.asyncStatus||"error"===o.asyncStatus))return t?t(a.asyncStatus):null;var o;if(this.props.render){const e=this.props,{render:t}=e,n=(0,s.Tt)(e,["render"]);return t((0,r.jsx)(i,Object.assign({},n,a)))}return(0,r.jsx)(i,Object.assign({},this.props,a))}})}}return o.displayName=`WithFormatter(${i.displayName||i.name||"Unnamed"})`,o}}},7515:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a});var s=i(31085),r=i(14041),n=i(79911);const a=function(){return function(e){var t;return(t=class extends r.Component{render(){return(0,s.jsx)(e,Object.assign({},this.props,{i18n:this.context}))}}).displayName=`WithI18n(${e.displayName||e.name||"Unnamed"})`,t.contextType=n.R,t}}},68076:(e,t,i)=>{"use strict";i.d(t,{AH:()=>r.AH,Xy:()=>a});var s=i(31085),r=i(26064),n=i(84175);function a(e){const t=(0,n.r)(e);return function(e){const i=i=>{const{s:r,dir:a,theme:o}=(0,n.I)(t);return(0,s.jsx)(e,Object.assign({dir:a,s:r,theme:o},i))};return i.displayName=`WithStyles(${e.displayName||e.name||"Anonymous"})`,i}}},21005:(e,t,i)=>{"use strict";i.d(t,{F:()=>f});var s=i(46579),r=i(10742),n=i(82781),a=i(77017),o=i(46516),c=i(8365),d=i(79594),l=i(18691),u=i(80905),p=i(98379),m=i(11042),g=i(66698),h=i(25346);function f({isForceShown:e}={}){var t;const i=(0,n.c)(),a=(0,d.wA)(),{frame:o,entity:u}=(0,m.Z)(),{isMobileDevice:p}=(0,s.U)(),f=(0,h.l7)({objectId:o.entityId},{enabled:"menu"===(null==o?void 0:o.tab)&&"branch"===(null==u?void 0:u.type)}),x=f.data?(null===(t=f.data.albums.find((e=>e.id===g.ge)))||void 0===t?void 0:t.count)||0:void 0,{bssRef:j,useBssHandler:w}=(0,c.E)(b({size:x})),I=w(y,{size:x}),C=(0,r.D)((()=>{o&&u&&(I(),a((0,l.GV)({entityId:u.id,searchId:o.searchId,isMenuPhoto:!0})))}));if("menu"===(null==o?void 0:o.tab)&&(e||p||0!==x))return{type:"addMenuPhoto",label:v(u,i),icon:void 0,href:void 0,onClick:C,bssRef:j}}function v(e,t){switch(e&&(0,o.O)(e)?(0,a.F)(e.rubrics):void 0){case"menu":return t._t("Добавить фото меню");case"prices":return t._t("Добавить фото прайс-листа");default:return}}const b=({size:e})=>({frameId:t},i)=>{const s=(0,u.w1)(i.appContext.frames,t);if(void 0!==e&&"entity"===(null==s?void 0:s.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,p.t)({state:i,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:s.entityId},size:e}}}},y=({size:e})=>({frameId:t},i)=>{const s=(0,u.w1)(i.appContext.frames,t);if(void 0!==e&&"entity"===(null==s?void 0:s.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,p.t)({state:i,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:s.entityId},size:e}},action:"tap"}}},72490:(e,t,i)=>{"use strict";i.d(t,{w:()=>h});var s=i(46579),r=i(10742),n=i(82781),a=i(8365),o=i(79594),c=i(18691),d=i(98379),l=i(11042),u=i(25346),p=i(66698),m=i(30392),g=i(14041);function h({isForceShown:e}={}){const t=(0,n.c)(),i=(0,o.wA)(),{frame:d,entity:h}=(0,l.Z)(),{isMobileDevice:v,featureVideoInGallery:b,featureMediaWithoutVideo:y}=(0,s.U)(),{data:x}=(0,u.l7)({objectId:(null==h?void 0:h.id)||(null==d?void 0:d.entityId)||""},{enabled:!(!(null==h?void 0:h.id)&&!(null==d?void 0:d.entityId))}),j=(0,g.useMemo)((()=>null==x?void 0:x.albums.find((e=>e.id===p.Qh))),[x]),w=null==j?void 0:j.count,{useBssHandler:I}=(0,a.E)(),C=I(f,{size:w}),_=(0,r.D)((()=>{if(!d||!h)return;C();const e="menu"===d.tab;j&&!e&&i((0,m.G)({frameId:d.id,selectedAlbum:j})),i((0,c.GV)({entityId:h.id,searchId:d.searchId}))}));if("photos"!==(null==d?void 0:d.tab))return;if(!e&&!v&&0===w)return;return{type:"addPhoto",label:!b||y||v?t._t("Добавить фото"):t._t("Добавить фото и видео"),icon:void 0,href:void 0,onClick:_}}const f=({size:e})=>({frameId:t},i)=>({uiElement:{name:"addPhotoButton",ownerName:"cardGallery",frameUuid:t},payload:{placeItem:(0,d.t)({state:i,entityFrameId:t}),gallery:{size:e||0}},action:"tap"})},44920:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var s=i(31085),r=i(10742),n=i(82781),a=i(79594),o=i(22786),c=i(51883);function d({isLabelShown:e,onClick:t}={}){var i;const d=(0,n.c)(),l=(0,a.wA)(),u=null===(i=(0,a.d4)((e=>e.appContext.frames[1])))||void 0===i?void 0:i.type,p=(0,r.D)((()=>{t?t():l((0,c.kD)())}));return{type:"back",label:e?"search"===u?d._t("К результатам"):d._t("Назад"):void 0,icon:(0,s.jsx)(o.v,{}),href:void 0,onClick:p}}},41703:(e,t,i)=>{"use strict";i.d(t,{B:()=>y});var s=i(31085),r=i(10742),n=i(82781),a=i(8365),o=i(84082),c=i(79594),d=i(12017),l=i(91818);const u=(0,d.n5)("handleBookmarkClick",(e=>(0,l.oC)("handleBookmarkClick",e)));var p=i(80774);function m({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v17.723z"})}))}var g=i(52225);function h({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{d:"M20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}var f=i(98379),v=i(11042),b=i(39123);function y({color:e,isLabelShown:t,isSmallIcon:i}){const d=(0,n.c)(),f=(0,c.wA)(),{entity:y}=(0,v.Z)(),j=!!(0,b.U)("guide"),w=y?{object_id:y.id,object_type:y.type,point:"point"in y?y.point:void 0}:void 0,I=(0,c.d4)((e=>!!w&&((0,o.cE)(w)(e)||(0,o.TH)(w)(e)))),C=(0,a.E)().useBssHandler(x,{isFilled:I});return{type:"bookmark",label:t?I?d._t("Сохранено"):d._t("Сохранить"):void 0,icon:i?I?(0,s.jsx)(h,{color:e}):(0,s.jsx)(g.X,{color:e}):I?(0,s.jsx)(m,{color:e}):(0,s.jsx)(p.X,{color:e}),href:void 0,isBookmarked:I,onClick:(0,r.D)((e=>{w&&(C(),!j||I?f(u({item:w,isAdded:I,targetBoundingClientRect:e.currentTarget.getBoundingClientRect()})):y&&f((0,l.oC)("saveGuideBookmark",{item:y})))}))}}const x=e=>({frameId:t},i)=>({uiElement:{name:"bookmark",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{favoritesItem:{isFilled:e.isFilled},placeItem:(0,f.t)({state:i,entityFrameId:t})}})},33489:(e,t,i)=>{"use strict";i.d(t,{j:()=>f});var s=i(31085),r=i(99259),n=i(10742),a=i(82781),o=i(12017),c=i(20091),d=i(29787),l=i(24872);const u=(0,o.n5)("onMapEntityButtonClick",(e=>(0,o.K2)((0,d.PC)((0,c.X_)({isMinimized:!0})),(0,l.xZ)({lon:null==e?void 0:e.lon,lat:null==e?void 0:e.lat,zoom:null==e?void 0:e.zoom}))));var p=i(79594),m=i(75098),g=i(51143),h=i(11042);function f({isLabelShown:e}){const t=(0,a.c)(),i=(0,p.wA)(),{entity:o}=(0,h.Z)(),c=(0,p.d4)((e=>o?(0,g.du)({entity:o,state:e}):void 0));return{type:"map",label:e?t._t("На карте"):void 0,icon:(0,s.jsx)(m.T,{color:r.T.black}),href:void 0,onClick:(0,n.D)((()=>{i(u(c))}))}}},98827:(e,t,i)=>{"use strict";i.d(t,{n:()=>p});var s=i(31085),r=i(10742),n=i(82781),a=i(79594),o=i(20091),c=i(89841),d=i(22786),l=i(16914),u=i(18389);function p({isLabelShown:e}={}){const t=(0,n.c)(),i=(0,a.wA)(),p=(0,u.o)(),{label:m,icon:g}=function(e,t){switch(e){case"entity":case"product":return{icon:(0,s.jsx)(c.Ad,{}),label:t._t("Карточка")};case"guide":case"collection":case"search":return{icon:(0,s.jsx)(l.B,{}),label:t._t("Списком")};case"userPublicProfile":return{icon:(0,s.jsx)(d.v,{}),label:t._t("В профиль")};default:return{icon:(0,s.jsx)(d.v,{}),label:t._t("Назад")}}}(null==p?void 0:p.type,t);return{type:"maximize",label:e?m:void 0,icon:g,href:void 0,onClick:(0,r.D)((()=>{i((0,o.X_)({isMinimized:!1}))}))}}},53346:(e,t,i)=>{"use strict";i.d(t,{y:()=>w});var s=i(31085),r=i(10742),n=i(82781),a=i(8524),o=i(41283),c=i(8365),d=i(79594),l=i(98379),u=i(18887),p=i(11042),m=i(46579),g=i(12017),h=i(29787),f=i(13843),v=i(46287),b=i(7335);const y=(0,g.n5)("handleDirectionsClick",(({lonLat:e,entityId:t})=>e?(0,g.K2)((0,h.PC)(),(0,f.P)({points:[void 0,{type:"point",lonLat:e,entityId:t}]})):t?(0,b.eU)((e=>(0,v.DE)({state:e,entityId:t})),(e=>{const i=e.data&&"point"in e.data?e.data.point:void 0;if(i)return(0,g.K2)((0,h.PC)(),(0,f.P)({points:[void 0,{type:"point",lonLat:i,entityId:t}]}))})):(0,g.lQ)()));var x=i(55027),j=i(95920);function w({color:e,isLabelShown:t,isSmallIcon:i,isFromCard:l}){const g=(0,n.c)(),h=(0,d.wA)(),{isMobileDevice:f,lang:v}=(0,m.U)(),{frame:b,entity:w}=(0,p.Z)(),C=(null==b?void 0:b.point)||w&&"point"in w&&w.point||void 0,_=(0,c.E)().useBssHandler(I,!!l),k=(0,d.d4)((e=>e.session.platform)),O=(0,x.zP)({platform:k,type:"modalGeoPromoDirect"}),S=(0,u.P)({type:"directions",points:C?[void 0,{type:"point",lonLat:C,entityId:null==w?void 0:w.id}]:void 0}),T=(0,r.D)((()=>{_(),f?"ru"===v?h((0,j.t)("routeSearchFullscreenPopup")):window.open(O):h(y({lonLat:C,entityId:null==w?void 0:w.id}))}));if(C&&"route"!==(null==w?void 0:w.type)&&(!f||O))return{type:"route",label:t?g._t("Проехать"):void 0,icon:i?(0,s.jsx)(o.B,{color:e}):(0,s.jsx)(a.B,{color:e}),href:S,onClick:T}}const I=e=>({frameId:t},i)=>({uiElement:{name:"buildRoute",ownerName:e?"cardContacts":"placeCardFull",frameUuid:t},action:"tap",payload:{placeItem:(0,l.t)({state:i,entityFrameId:t})}})},16080:(e,t,i)=>{"use strict";i.d(t,{e:()=>m});var s=i(31085),r=i(10742),n=i(84963),a=i(79594),o=i(64197),c=i(39088),d=i(39123),l=i(82781),u=i(8365),p=i(7682);function m(e){const{color:t,isLabelShown:i,isSmallIcon:m,frameType:g="entity",ownerName:h}=e,f=(0,l.c)(),v=(0,a.wA)(),b=(0,d.U)(g),y=(0,u.E)().useBssHandler(p.G1,{ownerName:h});return{type:"share",label:i?f._t("Отправить"):void 0,icon:m?(0,s.jsx)(c.S,{color:t}):(0,s.jsx)(o.S,{color:t}),href:void 0,onClick:(0,r.D)((()=>{b&&(y(),v((0,n.T)({frameId:b.id})))}))}}},83044:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(14041);const r=()=>{const e=(0,s.useRef)(new Map),[t,i]=(0,s.useState)(void 0),r=(0,s.useRef)(null);return{addVideoToSelectActive:(0,s.useCallback)((t=>{var s;const{id:n,isVisible:a,isHovered:o,position:c}=t;if(e.current.set(n,t),a&&o)return r.current=t,void i(t.id);if(!(r.current&&n!==r.current.id&&r.current.position<=c)){if(!r.current&&a||r.current&&n!==r.current.id&&r.current.position>c)return r.current=t,void i(t.id);if(!n||a||(null===(s=r.current)||void 0===s?void 0:s.id)!==n);else{const t=Array.from(e.current.entries()).find((([e,t])=>t.isVisible&&t.id!==n));t?(r.current=t[1],i(t[1].id)):(r.current=null,i(void 0))}}}),[]),activeVideoId:t}}},85055:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});var s=i(79594);function r(e){return(0,s.d4)(e)}},46579:(e,t,i)=>{"use strict";i.d(t,{U:()=>n});var s=i(14041),r=i(13527);function n(){return(0,s.useContext)(r.Q)}},4911:(e,t,i)=>{"use strict";i.d(t,{X:()=>u});var s=i(14041),r=i(79594),n=i(46579),a=i(80482),o=i(49157),c=i(78170),d=i(41570);const{use:l}=(0,c.VZ)("Place Dynamic Congestion",(e=>({services:t})=>{const{id:i}=e;return i?t.congestionApi.getCongestion({id:i}):void 0})),u=e=>{var t,i;const{entity:c,refetchOnMount:u=!1}=e,{featurePlaceCongestion:p}=(0,n.U)(),m=(0,r.d4)((e=>e.session.time)),g=c?(0,o.T)(c):void 0,{localHour:h,localDay:f}=g?(0,d.X)(m,g):{localHour:void 0,localDay:void 0},v=p&&c&&"congestion"in c?c.congestion:void 0,b=(0,s.useMemo)((()=>v?function(e){return Object.keys(e).reduce(((t,i)=>{const s=e[i];for(const[e,r]of Object.entries(s))for(const s of r){const r=e.toLowerCase();t[r]=Object.assign(Object.assign({},t[r]),{[s]:{value:+i}})}return t}),{})}(v):void 0),[v]),y=f&&h?null===(i=null===(t=null==b?void 0:b[f])||void 0===t?void 0:t[h])||void 0===i?void 0:i.value:void 0,x=p&&!!y&&!!c&&"has_dynamic_congestion"in c&&!!c.has_dynamic_congestion,{data:j,isLoading:w}=l({id:x?null==c?void 0:c.id:void 0},{refetchOnMount:u});return{dynamicValue:null==j?void 0:j.value,currentCongestion:b?(0,a.p)(y):void 0,staticData:b,isLoading:w}}},28478:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var s=i(14041);const r=()=>{const[e,t]=(0,s.useState)(!1);return{isContentOverflow:e,containerRef:(0,s.useCallback)((e=>{e&&t(e.scrollHeight>e.clientHeight)}),[])}}},67730:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var s=i(14041);const r=e=>{const[t,i]=(0,s.useState)(e),r=(0,s.useRef)(e);return e!==r.current&&(i(e),r.current=e),[t,i]}},11042:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var s=i(39123),r=i(88942);function n(e){const t=(0,s.U)("entity");return{frame:t,entity:(0,r.t)(null==t?void 0:t.entityId,(null==e?void 0:e.withSearchContext)?null==t?void 0:t.searchId:void 0)}}},39123:(e,t,i)=>{"use strict";i.d(t,{U:()=>n});var s=i(79594),r=i(80905);function n(e){return(0,s.d4)((t=>(0,r.bB)(t.appContext.frames,e)))}},89268:(e,t,i)=>{"use strict";i.d(t,{F:()=>n});var s=i(14041),r=i(79911);function n(){const{dateFns:e}=(0,s.useContext)(r.R);return e}},68299:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var s=i(14041),r=i(81407);function n(e,t){const i=(0,s.useRef)();(0,s.useEffect)((()=>()=>{i.current&&clearTimeout(i.current)}),[]);const n=(0,s.useRef)(e);(0,r.E)((()=>{n.current=e}));return(0,s.useCallback)(((...e)=>{i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{n.current(...e)}),t)}),[t])}},88942:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});var s=i(35606),r=i(46287),n=i(14041),a=i(79594);function o(e,t){const i=(0,a.d4)((i=>{if(e)return t?(0,r.Tq)({state:i,entityId:e,searchId:t}).data:(0,r.DE)({state:i,entityId:e}).data})),o=(0,a.wA)();return(0,n.useEffect)((()=>{!i&&e&&o((0,s.it)({id:e,searchId:t}))}),[o,i,e,t]),i}},10742:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var s=i(14041),r=i(81407);function n(e){const t=(0,s.useRef)((()=>{throw new Error("Cannot call an event callback while rendering")})),i=(0,s.useCallback)(((...e)=>t.current(...e)),[]);return(0,r.E)((()=>{t.current=e})),i}},99449:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var s=i(14041),r=i(35023),n=i(79594),a=i(95993);function o(e){const t=(0,n.wA)(),{type:i,handler:o,stopIfHandled:c,priority:d}=e;(0,s.useEffect)((()=>{const e=(0,r.W7)();return t((0,a.q2)({id:e,type:i,handler:o,stopIfHandled:c,priority:d})),()=>{t((0,a.f)({id:e}))}}),[i,o,c,d,t])}},64433:(e,t,i)=>{"use strict";i.d(t,{I:()=>a});var s=i(14041),r=i(79594),n=i(81407);function a(e,...t){const i=(0,r.wA)(),a=(0,s.useRef)(t),o=(0,s.useCallback)(((...t)=>{const s=a.current.length?a.current:t;i(e(...s))}),[]);return(0,n.E)((()=>{a.current=t})),o}},54935:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});var s=i(14041),r=i(31003);function n(e){const[t,i]=(0,s.useState)(!1),{ref:n,refCallback:a}=(0,r.g)(null==e?void 0:e.ref);return(0,s.useEffect)((()=>{const t=n.current;if(!t)return;const s=()=>i(!0),r=()=>i(!1);return t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",r),(null==e?void 0:e.loseHoverOnClick)&&t.addEventListener("click",r),()=>{t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",r),(null==e?void 0:e.loseHoverOnClick)&&t.removeEventListener("click",r)}}),[null==e?void 0:e.loseHoverOnClick,n.current]),{ref:n,refCallback:a,isHovered:t}}},81407:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var s=i(14041);const r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect},84815:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});var s=i(10753),r=i(14041);function n(e,t){(0,r.useEffect)((()=>{const t=(0,s.uj)().then((t=>{if(t)return e(t.map,t.api,t.mapgl)}));return()=>{t.then((e=>{e&&e()}))}}),t)}},94371:(e,t,i)=>{"use strict";i.d(t,{u:()=>c});var s=i(14041),r=i(63536),n=i(12017),a=i(99449),o=i(35023);function c(e){const[t,i]=(0,s.useState)(),c=(0,s.useCallback)((()=>i(void 0)),[i]),d=(0,s.useCallback)((()=>{if(t)return c(),(0,n.lQ)()}),[(0,o.O9)(t)]);(0,a.A)({type:"common:escapeKeyUp",handler:d,stopIfHandled:!0,priority:r.b.FrameElement});const l=(0,s.useCallback)((()=>{if(!e||e.length<=1)return(0,n.lQ)();const s=e.findIndex((e=>e.id===t))-1;return e[s]&&i(e[s].id),(0,n.lQ)()}),[e,t]);(0,a.A)({type:"common:arrowLeftKeyDown",handler:l,stopIfHandled:!0,priority:r.b.FrameElement}),(0,a.A)({type:"common:arrowUpKeyDown",handler:l,stopIfHandled:!0,priority:r.b.FrameElement});const u=(0,s.useCallback)((()=>{if(!e||e.length<=1)return(0,n.lQ)();const s=e.findIndex((e=>e.id===t))+1;return s>0&&e[s]&&i(e[s].id),(0,n.lQ)()}),[e,t]);return(0,a.A)({type:"common:arrowRightKeyDown",handler:u,stopIfHandled:!0,priority:r.b.FrameElement}),(0,a.A)({type:"common:arrowDownKeyDown",handler:u,stopIfHandled:!0,priority:r.b.FrameElement}),(0,a.A)({type:"common:spaceKeyDown",handler:u,stopIfHandled:!0,priority:r.b.FrameElement}),[t,i,c]}},8415:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});var s=i(14041),r=i(84711);function n(e){const{root:t,rootMargin:i,threshold:n,isIntersectInitial:a=!1,showVisibility:o}=e,c=(0,s.useRef)(null),[d,l]=(0,s.useState)(a),[u,p]=(0,s.useState)(a);return(0,s.useEffect)((()=>{if(!c.current)return;const e=(0,r.Z)(c.current,{root:t,rootMargin:i,threshold:n},(e=>{const t=e.some((e=>e.isIntersecting));o&&p(t),!d&&t&&l(!0)}));return()=>{e.disconnect()}}),[t,i,n,o]),[c,o?u:d]}},76098:(e,t,i)=>{"use strict";i.d(t,{f:()=>l});var s=i(14041),r=i(79594),n=i(97980),a=i(24302),o=i(64433),c=i(95280),d=i(95083);function l(e){const{entityId:t,dataLocaleSelector:i,isEnabled:n=!0}=e,l=(0,r.d4)(i),p=(0,r.d4)(u(t)),m=(0,o.I)(d.TI,{branchId:t,offersSearchId:t,filtersId:t,page:1,locale:l});return(0,s.useEffect)((()=>{var e;(0,c.P)(p)&&"error"!==(null===(e=p.meta)||void 0===e?void 0:e.status)&&n&&m()}),[t]),p||{data:void 0,meta:a._V}}const u=e=>t=>(0,n.LW)({state:t,searchId:e})},16641:(e,t,i)=>{"use strict";i.d(t,{QO:()=>m,bK:()=>u,m6:()=>g});var s=i(14041),r=i(21959),n=i(79594),a=i(4340),o=i(806);const c="dg5_quickNotes";let d={};const l=a.IG.local.getItem(c);if(l)try{d=JSON.parse(l)}catch(e){}const u=(0,o.e)(d);function p(e,t){u.set((i=>Object.assign(Object.assign({},i),{[e]:t}))),a.IG.local.setItem(c,JSON.stringify(u.get()))}const m=e=>{const{entityId:t,userId:i}=e;return i?`${i}-${t}`:t},g=e=>{const{entityId:t}=e,i=(0,n.d4)(r.LE),a=m({userId:i,entityId:t}),o=(0,s.useMemo)((()=>e=>e[a]),[a]);return[u.use(o),{updateItem:(0,s.useCallback)((e=>p(a,e)),[a]),removeItem:(0,s.useCallback)((()=>p(a,void 0)),[a])}]}},28909:(e,t,i)=>{"use strict";i.d(t,{a:()=>n});var s=i(14041),r=i(15471);i(53663);function n(e){const{frameId:t}=(0,s.useContext)(r.X)}},31003:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var s=i(14041);function r(e){const t=(0,s.useRef)(null),i=e||t,[,r]=(0,s.useState)(i.current),n=(0,s.useCallback)((e=>{i.current=e,r(e)}),[i]);return{ref:i,refCallback:n}}},55322:(e,t,i)=>{"use strict";i.d(t,{j:()=>a});var s=i(46579),r=i(14041);const n=4;function a({scrollboxRef:e}){const t=(0,s.U)().rtl?-1:1,[i,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),d=(0,r.useCallback)((()=>{e.current&&(a(e.current.scrollLeft*t>0),c(e.current.scrollLeft*t+n<e.current.scrollWidth-e.current.offsetWidth))}),[e,t]);(0,r.useEffect)((()=>{const t=e.current;if(t)return setTimeout(d,0),t.addEventListener("scroll",d),()=>{t.removeEventListener("scroll",d)}}),[d,e]);const l=(0,r.useCallback)(((i,s)=>{i.stopPropagation(),e.current&&e.current.scrollTo({left:e.current.scrollLeft+e.current.scrollWidth/e.current.children.length*t*s,behavior:"smooth"})}),[e,t]);return{isStartArrowShown:i,isEndArrowShown:o,clickArrowStart:(0,r.useCallback)((e=>l(e,-1)),[l]),clickArrowEnd:(0,r.useCallback)((e=>l(e,1)),[l])}}},38132:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var s=i(56803),r=i(14041),n=i(79594),a=i(80648),o=i(96536),c=i(80905),d=i(74786);function l({entityId:e}={}){const t=(0,n.d4)((e=>{var t,i,r,n,a;const d=e.appContext.frames[0];if("gallery"===(null==d?void 0:d.type)){const r=d.searchId;return null===(i=null===(t=(0,s.s8)({state:e,searchId:r}).data)||void 0===t?void 0:t.searchAttributes)||void 0===i?void 0:i.query_context}const l=(0,c.bB)(e.appContext.frames,"search");if(l)return null===(a=null===(n=null===(r=(0,o.Y)(e,l).profile)||void 0===r?void 0:r.data)||void 0===n?void 0:n.searchAttributes)||void 0===a?void 0:a.query_context}));return{searchCtx:(0,r.useMemo)((()=>(0,d.MV)(t)),[t]),searchKeyword:(0,n.d4)((0,a.QW)(e)),searchKeywords:(0,n.d4)((e=>(0,a.ze)({state:e})))}}},37573:(e,t,i)=>{"use strict";i.d(t,{A:()=>n,e:()=>r});var s=i(14041);const r=(0,s.createContext)({});function n(){return(0,s.useContext)(r)}},84175:(e,t,i)=>{"use strict";i.d(t,{I:()=>o,r:()=>d});var s=i(92460),r=i(26064),n=i(13730),a=i(95e3);function o(e){const t=(0,a.DP)(),i=e.applyTheme(t),s=t.rtl?"rtl":"ltr";return{s:i,dir:s,css:r.AH,theme:t,inline:e=>(0,r.mG)(e,s)}}const c=e=>{const t=function(){if("undefined"!=typeof Map){const e=new Map;return{set:e.set.bind(e),get:e.get.bind(e)}}let e,t;return{set:(i,s)=>{e=i,t=s},get:i=>{if(i===e)return t}}}();return i=>{const r=t.get(i);if(r)return r;const a=s.vv.create((0,n.Z)("function"==typeof e?e(i):e,i.rtl?"rtl":"ltr"));return t.set(i,a),a}},d=e=>({applyTheme:c(e)})},95792:(e,t,i)=>{"use strict";i.d(t,{J:()=>d});var s=i(31085),r=i(84175),n=i(64099),a=i(80552),o=i(99259),c=i(28743);const d=e=>{const{title:t,to:i,delay:n,offset:a,fixedWidth:o,isNowraped:d,loseHoverOnClick:u,innerRef:p}=e,{s:m,css:g}=(0,r.I)(l);return(0,c.K)({content:t?(0,s.jsx)("div",Object.assign({className:g(m.content,d&&m._nowraped),style:{width:o||"auto"}},{children:t})):void 0,to:i,delay:n,offset:a,loseHoverOnClick:u,innerRef:p})},l=(0,r.r)({content:Object.assign(Object.assign({},a.regular),{borderRadius:n.Vq.default,display:"flex",alignItems:"center",justifyContent:"center",color:o.T.white,boxSizing:"border-box",opacity:.85,padding:8,pointerEvents:"none",background:o.T.black,":empty":{background:"unset"}}),_nowraped:{whiteSpace:"nowrap"}})},6098:(e,t,i)=>{"use strict";i.d(t,{f:()=>o});var s=i(31085),r=i(14041),n=i(79086),a=i(43144);const o=({content:e,to:t,offset:i,ref:o,isDisplayed:c=!0})=>{const d=(0,r.useMemo)((()=>o.current?o.current.getBoundingClientRect():void 0),[c,o.current]),l=(0,r.useMemo)((()=>e&&c?(0,s.jsx)(n.w,Object.assign({targetBoundingClientRect:d,offset:i,to:t},{children:e})):null),[e,i,t,c,d]),u="undefined"!=typeof document?document.getElementById("tooltips"):void 0;return{ref:o,addTooltip:u?(0,a.createPortal)(l,u):null}}},28743:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var s=i(54935),r=i(14041),n=i(6098);const a=({content:e,to:t,delay:i=200,offset:a=4,loseHoverOnClick:o=!0,innerRef:c})=>{let d;const l=i||200,{ref:u,refCallback:p,isHovered:m}=(0,s.M)({loseHoverOnClick:o,ref:c}),[g,h]=(0,r.useState)(!1);(0,r.useEffect)((()=>(m||(h(!1),window.clearTimeout(d)),()=>{window.clearTimeout(d)})),[m]),(0,r.useEffect)((()=>{m&&!g&&(d=window.setTimeout((()=>h(!0)),l))}),[m,g]);const{addTooltip:f}=(0,n.f)({content:e,to:t,offset:a,ref:u,isDisplayed:g});return{ref:u,refCallback:p,addTooltip:f}}},18389:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var s=i(79594);function r(){return(0,s.d4)((e=>e.appContext.frames[0]))}},82781:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});var s=i(14041),r=i(79911);function n(){const{tp:e}=(0,s.useContext)(r.R);return e}},32443:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,s.jsx)("path",{d:"M102.49 91.27a3 3 0 0 1 2.28.54l6.63 4.92 1.6-.8V22a7 7 0 0 0-7-7H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h69.46a6.91 6.91 0 0 0 6.15 2.17l14.54-2.17-.3-2-14.53 2.18a5 5 0 0 1-5.61-3.8l-2.49-10.57 7-1.17.07.07.09-.09 3.78-.63-.32-2-2.94.49-2.83-2.83zM22 17h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm65.84 80L87 98.23l2.73 11.62a6.46 6.46 0 0 0 .38 1.15H22a5 5 0 0 1-5-5V33h94v60.94l-5-3.73a5 5 0 0 0-3.8-.92l-9.83 1.64-3.64-3.64a17.09 17.09 0 1 0-1.41 1.41l7.2 7.21zM76 91a15 15 0 1 1 15-15 15 15 0 0 1-15 15z"}),(0,s.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,s.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,s.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,s.jsx)("ellipse",{cx:"52",cy:"76",rx:"3",ry:"4"}),(0,s.jsx)("ellipse",{cx:"76",cy:"76",rx:"3",ry:"4"}),(0,s.jsx)("path",{d:"M47.754 67.97l.485-1.94 8.004 2.002-.485 1.94zM64 96a8 8 0 0 0-8 8h16a8 8 0 0 0-8-8z"})]}))}},75506:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,s.jsx)("path",{d:"M106 15H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h84a7 7 0 0 0 7-7V22a7 7 0 0 0-7-7zm-84 2h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm84 94H22a5 5 0 0 1-5-5V33h94v73a5 5 0 0 1-5 5z"}),(0,s.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,s.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,s.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,s.jsx)("path",{d:"M48.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM72.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM71 95H48v2h23v3a5 5 0 0 0 10 0v-5H71zm8 5a3 3 0 0 1-6 0v-3h6z"})]}))}},5438:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var s=i(31085);function r({color:e="currentColor",width:t=16,height:i=16}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},24797:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M8 7.293L5.354 4.646l-.708.708L7.293 8l-2.647 2.646.708.708L8 8.707l2.646 2.647.708-.708L8.707 8l2.647-2.646-.708-.708L8 7.293zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"})}))}},9367:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(31085);function r(){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,s.jsx)("path",{fill:"#30AD00",fillRule:"evenodd",d:"M8.579.41a1 1 0 00-1.157 0l-.92.653a1 1 0 01-.672.18l-1.124-.105a1 1 0 00-1.002.578l-.47 1.026a1 1 0 01-.492.491l-1.026.471a1 1 0 00-.578 1.002l.105 1.124a1 1 0 01-.18.671l-.653.92a1 1 0 000 1.157l.653.921a1 1 0 01.18.671l-.105 1.124a1 1 0 00.578 1.002l1.026.47a1 1 0 01.491.492l.471 1.026a1 1 0 001.002.578l1.124-.105a1 1 0 01.671.18l.92.653a1 1 0 001.158 0l.92-.653a1 1 0 01.672-.18l1.123.105a1 1 0 001.002-.578l.471-1.026a1 1 0 01.492-.491l1.025-.471a1 1 0 00.579-1.002l-.105-1.124a1 1 0 01.18-.671l.652-.92a1 1 0 000-1.157l-.653-.921a1 1 0 01-.18-.671l.106-1.124a1 1 0 00-.579-1.002l-1.026-.47a1 1 0 01-.491-.492l-.47-1.026a1 1 0 00-1.003-.578l-1.123.105a1 1 0 01-.672-.18L8.58.41zM5 11L4 5l2 1 2-2 2 2 2-1-1 6H5z",clipRule:"evenodd"})}))}},40035:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e},{children:(0,s.jsx)("path",{d:"M8.74989 15.9984L7.25014 16C7.22884 15.0932 7.17793 14.186 7.09339 13.283C7.04241 12.7384 6.7829 12.0692 6.22306 11.539C5.67579 11.0207 4.79281 10.5894 3.40625 10.5894H2.92359L2.72364 10.1505C2.14625 8.88325 2 8.04345 2 6.87432C2 3.82232 4.43743 1 8 1C11.5626 1 14 3.82232 14 6.87432C14 8.04345 13.8538 8.88325 13.2764 10.1505L13.0764 10.5894H12.5938C11.2072 10.5894 10.3229 11.0207 9.77454 11.5394C9.2136 12.0699 8.95351 12.7391 8.9026 13.283C8.81812 14.1854 8.76859 15.0922 8.74989 15.9984Z",fill:e})}))}},2359:(e,t,i)=>{"use strict";i.d(t,{a:()=>n});var s=i(85608),r=i(31085);function n(e={color:"#CCCCCC"}){var{color:t}=e,i=(0,s.Tt)(e,["color"]);return(0,r.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.12097 4C9.32056 4 10.5 4.60705 10.5 5.92954C10.5 6.94851 9.84476 7.64228 9.22984 8.04336C8.60484 8.45528 8.3125 8.67209 8.3125 9.38753V9.72358H7.1129V9.35501C7.1129 8.34688 7.50605 7.8916 8.25202 7.40379C8.83669 7.02439 9.27016 6.62331 9.27016 6.00542C9.27016 5.38753 8.73589 5.04065 8.10081 5.04065C7.20363 5.04065 6.71976 5.61518 6.68952 6.50407H5.5C5.5 4.97561 6.60887 4 8.12097 4ZM8.40323 12H7.03226V10.5257H8.40323V12Z",fill:t})}))}},52225:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{d:"M12 15L18 17.7501V6C18 5.5214 17.4907 5 17 5H7C6.50933 5 6 5.5214 6 6V17.7501L12 15ZM20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}},68913:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},46501:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});var s=i(85608),r=i(31085);const n=e=>{var{color:t="currentColor",width:i=24,height:n=24}=e,a=(0,s.Tt)(e,["color","width","height"]);return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:i,height:n,viewBox:"0 0 24 24",fill:t},a,{children:(0,r.jsx)("path",{d:"M12 10.586l3.793-3.793 1.414 1.414L13.414 12l3.793 3.793-1.414 1.414L12 13.414l-3.793 3.793-1.414-1.414L10.586 12 6.793 8.207l1.414-1.414L12 10.586z"})}))}},52821:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,s.jsx)("path",{d:"M16 5l-1 1.001 3 3 1.001-1v-1L17 5h-1zM6 15.001l-1 3V19h1l3-.999L17 10l-3-2.999-8 8z"})}))}},30352:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,s.jsx)("path",{d:"M14 9l.31-2.47a2 2 0 0 0-1.24-2.1L12 4a10.76 10.76 0 0 1-4 5v9l7.35.74a3 3 0 0 0 3.23-2.34L20 10zM5 18h2L6 9H5v9z"})}))}},91905:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var s=i(31085);function r({color:e="currentColor",size:t=24}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:e},{children:(0,s.jsx)("path",{d:"M14 14l-1.08 1.45a13.61 13.61 0 0 1-4.37-4.37L10 10a18.47 18.47 0 0 0-.95-5.85L9 4H5.06a1 1 0 0 0-1 1.09 16 16 0 0 0 14.85 14.85 1 1 0 0 0 1.09-1V15h-.15A18.47 18.47 0 0 0 14 14z"})}))}},65111:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{d:"M9.52639 4.26872C9.02775 3.94141 8.38661 3.91089 7.85823 4.18932C7.32985 4.46775 7 5.00993 7 5.6V18.4C7 18.9901 7.32985 19.5322 7.85823 19.8107C8.38661 20.0891 9.02775 20.0586 9.52639 19.7313L19.2764 13.3313C19.7285 13.0345 20 12.535 20 12C20 11.465 19.7285 10.9655 19.2764 10.6687L9.52639 4.26872Z",fill:e})}))}},41283:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(31085);function r({width:e=24,height:t=24,color:i="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C13.8954 5 13 5.89543 13 7V17C13 19.2091 11.2091 21 9 21C6.79086 21 5 19.2091 5 17V15H7V17C7 18.1046 7.89543 19 9 19C10.1046 19 11 18.1046 11 17V7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7V10.126C20.7252 10.5701 22 12.1362 22 14C22 16.2091 20.2091 18 18 18C15.7909 18 14 16.2091 14 14C14 12.1362 15.2748 10.5701 17 10.126V7C17 5.89543 16.1046 5 15 5ZM6 8C4.89543 8 4 8.89543 4 10C4 11.1046 4.89543 12 6 12C7.10457 12 8 11.1046 8 10C8 8.89543 7.10457 8 6 8ZM2 10C2 7.79086 3.79086 6 6 6C8.20914 6 10 7.79086 10 10C10 12.2091 8.20914 14 6 14C3.79086 14 2 12.2091 2 10ZM16 14C16 12.8954 16.8954 12 18 12C19.1046 12 20 12.8954 20 14C20 15.1046 19.1046 16 18 16C16.8954 16 16 15.1046 16 14Z",fill:i})}))}},39088:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.5C21 7.433 19.433 9 17.5 9C16.5814 9 15.7455 8.64612 15.1211 8.06725L9.8971 11.1541C9.96432 11.425 10 11.7083 10 12C10 12.2917 9.96432 12.575 9.8971 12.8459L15.1211 15.9328C15.7455 15.3539 16.5814 15 17.5 15C19.433 15 21 16.567 21 18.5C21 20.433 19.433 22 17.5 22C15.567 22 14 20.433 14 18.5C14 18.2084 14.0357 17.925 14.1029 17.6542L8.87889 14.5673C8.2545 15.1461 7.41858 15.5 6.5 15.5C4.567 15.5 3 13.933 3 12C3 10.067 4.567 8.5 6.5 8.5C7.41858 8.5 8.25451 8.85387 8.8789 9.43272L14.1029 6.34581C14.0357 6.07496 14 5.79164 14 5.5C14 3.567 15.567 2 17.5 2C19.433 2 21 3.567 21 5.5ZM17.5 7C18.3284 7 19 6.32843 19 5.5C19 4.67157 18.3284 4 17.5 4C16.6716 4 16 4.67157 16 5.5C16 6.32843 16.6716 7 17.5 7ZM8 12C8 12.8284 7.32843 13.5 6.5 13.5C5.67157 13.5 5 12.8284 5 12C5 11.1716 5.67157 10.5 6.5 10.5C7.32843 10.5 8 11.1716 8 12ZM19 18.5C19 19.3284 18.3284 20 17.5 20C16.6716 20 16 19.3284 16 18.5C16 17.6716 16.6716 17 17.5 17C18.3284 17 19 17.6716 19 18.5Z",fill:e})}))}},18971:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{fill:e,d:"M6.85 18.17a2 2 0 0 0 2 1.83h6.32a2 2 0 0 0 2-1.83L18 8H6zM15 5l-1-1h-4L9 5 5 6v1h14V6l-4-1z"})}))}},54405:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,s.jsx)("path",{d:"M20.23 16L13.72 4.93a2 2 0 0 0-3.44 0L3.77 16a2 2 0 0 0 1.73 3h13a2 2 0 0 0 1.73-3zM11 16l.5-2h1l.5 2zm1.5-3h-1L11 8h2z"})}))}},89841:(e,t,i)=>{"use strict";i.d(t,{Ad:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7H7H25H26V8V14V15H25H7H6V14V8V7ZM8 9V13H24V9H8ZM6 18H20V20H6V18ZM24 23H6V25H24V23Z",fill:e})}))}},22786:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var s=i(31085);function r({color:e="currentColor",size:t=32}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M10.414 15H24v2H10.414l6.293 6.293-1.414 1.414L6.586 16l8.707-8.707 1.414 1.414L10.414 15z"})}))}},27988:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M19.29 24.71L10.59 16l8.7-8.71 1.42 1.42-7.3 7.29 7.3 7.29-1.42 1.42z"})}))}},80774:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3zm-9-6.74l7 3.5V9a1 1 0 0 0-1-1H10a1 1 0 0 0-1 1v14.38z"})}))}},76552:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M22.05 10l-.65-1.95A3 3 0 0 0 18.56 6h-5.12a3 3 0 0 0-2.84 2.05L10 10H5v13a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V10zm-8.61-2h5.12a1 1 0 0 1 1 .68L20 10h-7.9l.44-1.32a1 1 0 0 1 .9-.68zm-2.77 4H25v2.67a33.54 33.54 0 0 1-18 0V12zM24 24H8a1 1 0 0 1-1-1v-6.26a35.66 35.66 0 0 0 8 1.14V20h2v-2.12a35.66 35.66 0 0 0 8-1.14V23a1 1 0 0 1-1 1z"})}))}},93404:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M7.293 8.71l1.414-1.414L24.71 23.297l-1.414 1.415z"}),(0,s.jsx)("path",{d:"M7.293 23.29L23.295 7.288l1.414 1.415L8.707 24.704z"})]}))}},83663:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var s=i(31085);const r=({width:e=32,height:t=32,color:i="#19AA1E"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 32 32",fill:"none"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4C21.9567 4 26 8.61818 26 13.6C26 15.6 25.5668 17.3455 24.556 19.5273C18.6354 19.5273 17.5523 23.4909 17.2996 26.1455L17.1191 28H14.8809L14.7004 26.1455C14.4477 23.4909 13.3646 19.5273 7.44404 19.5273C6.43321 17.3455 6 15.6 6 13.6C6 8.61818 10.0433 4 16 4Z",fill:i})}))},4957:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M7 10h18v2H7zM10 15h12v2H10zM13 20h6v2h-6z"})}))}},39419:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var s=i(31085);const r=({width:e=32,height:t=32,color:i="currentColor"})=>(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13C22.933 13 24.5 11.433 24.5 9.5C24.5 7.567 22.933 6 21 6C19.067 6 17.5 7.567 17.5 9.5C17.5 11.433 19.067 13 21 13ZM21 11.25C21.9665 11.25 22.75 10.4665 22.75 9.5C22.75 8.5335 21.9665 7.75 21 7.75C20.0335 7.75 19.25 8.5335 19.25 9.5C19.25 10.4665 20.0335 11.25 21 11.25Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12ZM13.5 12C13.5 13.1046 12.6046 14 11.5 14C10.3954 14 9.5 13.1046 9.5 12C9.5 10.8954 10.3954 10 11.5 10C12.6046 10 13.5 10.8954 13.5 12Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411ZM14.7806 20.1745C15.497 20.8697 16 21.9392 16 23.4411C16 23.6925 15.7723 24 15.3616 24H7.6384C7.22772 24 7.00006 23.6925 7 23.4411C7.0001 21.8465 7.45578 20.7926 8.09607 20.1418C8.73038 19.497 9.78954 19 11.5 19C12.9562 19 14.0559 19.4713 14.7806 20.1745Z",fill:i}),(0,s.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12ZM13.5 12C13.5 13.1046 12.6046 14 11.5 14C10.3954 14 9.5 13.1046 9.5 12C9.5 10.8954 10.3954 10 11.5 10C12.6046 10 13.5 10.8954 13.5 12Z"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411ZM14.7806 20.1745C15.497 20.8697 16 21.9392 16 23.4411C16 23.6925 15.7723 24 15.3616 24H7.6384C7.22772 24 7.00006 23.6925 7 23.4411C7.0001 21.8465 7.45578 20.7926 8.09607 20.1418C8.73038 19.497 9.78954 19 11.5 19C12.9562 19 14.0559 19.4713 14.7806 20.1745Z"}),(0,s.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z"})]}))},11026:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12.5 21c1.933 0 3.5 1.567 3.5 3.5S14.433 28 12.5 28 9 26.433 9 24.5s1.567-3.5 3.5-3.5zm10 0c1.933 0 3.5 1.567 3.5 3.5S24.433 28 22.5 28 19 26.433 19 24.5s1.567-3.5 3.5-3.5zm-10 2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm10 0c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zM5.383 4c1.353 0 2.53.904 2.89 2.193l.044.178 2.257 10.534c.104.488.55.819 1.038.789l.113-.014 13.449-2.373c.438-.077.767-.433.819-.865l.007-.12V10H11V8h17v6.322c0 1.395-.96 2.597-2.302 2.918l-.177.036-13.448 2.374c-1.531.27-3.003-.673-3.412-2.153l-.043-.173L6.361 6.79c-.09-.422-.44-.734-.861-.783L5.383 6H4V4h1.383z"})}))}},49048:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M9.06 13L16 16.856 22.94 13 16 9.144 9.06 13zM16 19.144L4.94 13 16 6.856 27.06 13 16 19.144zm0 3.712l9-5L27.06 19 16 25.144 4.94 19 7 17.856l9 5z"})}))}},16914:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9ZM13 9C12.4477 9 12 9.44772 12 10C12 10.5523 12.4477 11 13 11H23C23.5523 11 24 10.5523 24 10C24 9.44772 23.5523 9 23 9H13ZM13 15C12.4477 15 12 15.4477 12 16C12 16.5523 12.4477 17 13 17H23C23.5523 17 24 16.5523 24 16C24 15.4477 23.5523 15 23 15H13ZM12 22C12 21.4477 12.4477 21 13 21H23C23.5523 21 24 21.4477 24 22C24 22.5523 23.5523 23 23 23H13C12.4477 23 12 22.5523 12 22ZM8 16C8 15.4477 8.44772 15 9 15C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17C8.44772 17 8 16.5523 8 16ZM9 21C8.44772 21 8 21.4477 8 22C8 22.5523 8.44772 23 9 23C9.55228 23 10 22.5523 10 22C10 21.4477 9.55228 21 9 21Z",fill:e})}))}},24787:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:e,d:"M17.89 26.27l-2.7-9.46-9.46-2.7 18.92-6.76zm-5.62-12.38l4.54 1.3 1.3 4.54 3.24-9.08z"})}))}},59543:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M26.78 13.78a11.43 11.43 0 0 0-.64-2.06 10.55 10.55 0 0 0-1-1.87 11.61 11.61 0 0 0-1.34-1.63 11 11 0 0 0-1.63-1.34 10.56 10.56 0 0 0-1.87-1 10.81 10.81 0 0 0-2.07-.65 11.34 11.34 0 0 0-4.42 0 10.81 10.81 0 0 0-2.07.65 10.56 10.56 0 0 0-1.87 1 11 11 0 0 0-1.65 1.34 11.61 11.61 0 0 0-1.34 1.63L8.54 11A9.16 9.16 0 0 1 11 8.54a8.08 8.08 0 0 1 1.53-.83 9.1 9.1 0 0 1 1.68-.53 9.29 9.29 0 0 1 3.64 0 9.1 9.1 0 0 1 1.68.53 8.08 8.08 0 0 1 1.47.83A9.16 9.16 0 0 1 23.46 11a8.08 8.08 0 0 1 .83 1.53 9.1 9.1 0 0 1 .53 1.68A9.28 9.28 0 0 1 25 16a9.11 9.11 0 0 1-.18 1.81 9 9 0 0 1-.53 1.69 8.08 8.08 0 0 1-.83 1.5A9.16 9.16 0 0 1 21 23.46a8.08 8.08 0 0 1-1.53.83 9.1 9.1 0 0 1-1.68.53 9.29 9.29 0 0 1-3.64 0 9.1 9.1 0 0 1-1.68-.53 8.08 8.08 0 0 1-1.47-.83A9.16 9.16 0 0 1 8.54 21l-1.66 1.15a11.61 11.61 0 0 0 1.34 1.63 11 11 0 0 0 1.63 1.34 10.56 10.56 0 0 0 1.87 1 10.81 10.81 0 0 0 2.07.65 11.21 11.21 0 0 0 4.42 0 10.81 10.81 0 0 0 2.07-.65 10.56 10.56 0 0 0 1.87-1 11 11 0 0 0 1.63-1.34 11.61 11.61 0 0 0 1.34-1.63 10.55 10.55 0 0 0 1-1.87 11.43 11.43 0 0 0 .64-2.06 11.31 11.31 0 0 0 0-4.44z"}),(0,s.jsx)("path",{d:"M14.29 19.29l1.42 1.42 4.7-4.71-4.7-4.71-1.42 1.42 2.3 2.29H5v2h11.59l-2.3 2.29z"})]}))}},75098:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 6.81958V8.00004V23V23.8472L25.1644 23.9864L19.1644 24.9864L19 25.0138L18.8356 24.9864L13 24.0138L7.1644 24.9864L6 25.1805V24V9.00004V8.15291L6.8356 8.01365L12.8356 7.01365L13 6.98625L13.1644 7.01365L19 7.98625L24.8356 7.01365L26 6.81958ZM8 9.84717V22.8196L12 22.1529V12H14V22.1529L18 22.8196V13H20V22.8196L24 22.1529V9.1805L19.1644 9.98643L19 10.0138L18.8356 9.98643L13 9.01383L8 9.84717Z",fill:e})}))}},58689:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",clipRule:"evenodd",d:"M9,6C7.3,6,6,7.3,6,9v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V9\n\tc0-1.7-1.3-3-3-3H9z M8,9c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H9c-0.6,0-1-0.4-1-1V9z M13,11h-1v1v9h2v-3h2.5\n\tc1.9,0,3.5-1.6,3.5-3.5S18.4,11,16.5,11H13z M14,16v-3h2.5c0.8,0,1.5,0.7,1.5,1.5S17.3,16,16.5,16H14z"})}))}},72616:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M16 12a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"}),(0,s.jsx)("path",{d:"M21.8 9.24L20.72 6h-9.44L10.2 9.24 5 11.32V23a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V11.32zM25 23a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V12.68l4.8-1.92.92-2.76h6.56l.92 2.76 4.8 1.92z"})]}))}},70356:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e,fillRule:"evenodd"},{children:(0,s.jsx)("path",{d:"M12.24 8.15l11.44 6.43a1.51 1.51 0 0 1 .57 2 1.64 1.64 0 0 1-.57.57l-11.44 6.48a1.51 1.51 0 0 1-2.05-.57 1.56 1.56 0 0 1-.19-.73V9.45a1.49 1.49 0 0 1 2.24-1.3z"})}))}},24255:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 24v3a2 2 0 01-2 2h-2.303l-2.806-1.871A1.998 1.998 0 018 25.465v-5.72a7.001 7.001 0 013.088-12.686A5.001 5.001 0 0121 8v.382l5 2.5V22a2 2 0 01-2 2h-8zM7 14a5.002 5.002 0 014-4.9V12a1 1 0 002 0V9.1a5.002 5.002 0 011.5 9.232l-.5.288V27h-1.697L10 25.465V18.62l-.5-.288A5.002 5.002 0 017 14zm10.236-4.646a6.997 6.997 0 00-4.096-2.262A3 3 0 0119 8v.382l-1.447.724a.988.988 0 00-.317.248zM19 14c0-1.092-.25-2.126-.696-3.047.048-.016.096-.035.143-.059L20 10.118l4 2V22h-8v-2.255A6.992 6.992 0 0019 14z",clipRule:"evenodd"})}))}},8524:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M13 13a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-6 0a2 2 0 1 1 2 2 2 2 0 0 1-2-2z"}),(0,s.jsx)("path",{d:"M24 15.14V10.5a4.5 4.5 0 0 0-9 0v11a2.5 2.5 0 0 1-5 0V19H8v2.5a4.5 4.5 0 0 0 9 0v-11a2.5 2.5 0 0 1 5 0v4.64a4 4 0 1 0 2 0zM23 21a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})]}))}},71370:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M25.71 24.29l-5.4-5.39A7.92 7.92 0 0 0 22 14a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l5.39 5.4zM8 14a6 6 0 1 1 10.28 4.2l-.08.08A6 6 0 0 1 8 14z"})}))}},64197:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M22 19a4 4 0 0 0-2.92 1.29L12.87 17a3.54 3.54 0 0 0 0-1.9l6.21-3.34A4 4 0 0 0 22 13a4 4 0 1 0-4-4 3.75 3.75 0 0 0 .13.95l-6.21 3.34A4 4 0 0 0 9 12a4 4 0 0 0 0 8 4 4 0 0 0 2.92-1.29l6.21 3.34A3.75 3.75 0 0 0 18 23a4 4 0 1 0 4-4zm0-12a2 2 0 1 1-2 2 2 2 0 0 1 2-2zM9 18a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm13 7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})}))}},26091:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M24.62 20l2.5-5-2.5-5H17V6H7.38l-2.5 5 2.5 5H15v8h-4v2h10v-2h-4v-4zm-1.24-8l1.5 3-1.5 3H17v-6zM8.62 14l-1.5-3 1.5-3H15v6z"})}))}},97984:(e,t,i)=>{"use strict";i.d(t,{L:()=>r});var s=i(31085);function r(){return(0,s.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("circle",{fill:"gray",cx:"16",cy:"16",r:"2"}),(0,s.jsx)("circle",{fill:"gray",cx:"8",cy:"16",r:"2"}),(0,s.jsx)("circle",{fill:"gray",cx:"24",cy:"16",r:"2"})]}))}},80813:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(31085);function r(){return(0,s.jsxs)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M40 0H0v40h40V0Z",fill:"#19AA1E"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0h40v13.125L0 6.875V0Z",fill:"#FFB919"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 35.625 40-6.25V40H0v-4.375Z",fill:"#82D714"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 6.084 13.962 2.182C15.7 7.166 17.768 6.563 20 6.563c3.091 0 5.868 1.157 7.89 3.189.254.256.495.524.72.803L40 12.335v1.58l-10.233-1.598a10.27 10.27 0 0 1 1.17 4.743c0 2.143-.479 4.28-1.47 6.425l-.03.065-.42.902h-.996c-2.055 0-3.418.614-4.309 1.704-.7.855-1.104 2.008-1.24 3.266l-.005.04-.02.2-.008.088-.016.17a31.28 31.28 0 0 0-.105 1.427L40 28.584v1.582l-40 6.25v-1.582l17.702-2.766-.008-.355-.003-.1-.001-.051-.003-.08c-.016-.43-.055-.982-.118-1.65l-.012-.127-.022-.22c-.127-1.265-.526-2.432-1.224-3.3-.881-1.097-2.232-1.72-4.27-1.733h-1.057l-.421-.902c-1.011-2.167-1.5-4.325-1.5-6.49 0-2.722 1.104-5.354 3.048-7.308.056-.057.112-.112.17-.167L0 7.665v-1.58Z",fill:"#fff"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 8.125c5.584 0 9.375 4.298 9.375 8.935 0 1.862-.406 3.799-1.354 5.83-5.495 0-6.851 3.934-7.108 6.41l-.016.165a31.03 31.03 0 0 0-.151 2.128l-1.488.232v-.048c-.006-.56-.06-1.346-.16-2.358l-.004-.044c-.237-2.47-1.565-6.486-7.115-6.486-.948-2.03-1.354-3.967-1.354-5.829 0-4.637 3.79-8.935 9.375-8.935Z",fill:"#0070CC"})]}))}},76065:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});var s=i(31085);const r={down:"0",up:"180",right:"-90",left:"90"};function n({direction:e,size:t=24,color:i="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:i,style:{transform:`rotate(${r[e||"down"]||0}deg)`}},{children:(0,s.jsx)("path",{d:"M15.793 9.4l1.414 1.414L12 16.024l-5.207-5.21L8.207 9.4 12 13.195z"})}))}},75704:(e,t,i)=>{"use strict";i.d(t,{B:()=>n});var s=i(31085);const r={down:-90,up:90,right:180,left:0};function n({direction:e="left",size:t=24,color:i="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${r[e]}deg)`},width:t,height:t,fill:"none",viewBox:"0 0 18 18"},{children:(0,s.jsx)("path",{fill:i,d:"M9.293.293l1.414 1.414-6.293 6.292L18 8v2L4.412 9.999l6.295 6.294-1.414 1.414L.586 9 9.293.293z"})}))}},53615:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(31085);function r({color:e="currentColor",size:t=16}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16"},{children:(0,s.jsx)("path",{fill:e,d:"M3 3l2.5 3L8 3l2.5 3L13 3v9H3z"})}))}},2390:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(31085);const r=({height:e=24,width:t=87})=>(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,fill:"none",viewBox:"0 0 87 24"},{children:[(0,s.jsx)("mask",Object.assign({id:"a",width:"24",height:"24",x:"0",y:"0",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},{children:(0,s.jsx)("path",{fill:"#299400",d:"M18.0408 23.9889c.5303-.0111 1.0643-.0445 1.5871-.1371.5303-.0964 1.0272-.2446 1.5093-.4929.4784-.2372.9122-.5522 1.2868-.9228.3745-.3706.6934-.8005.9308-1.2712.2447-.4781.4005-.9635.4969-1.4898.0964-.5188.1261-1.0451.1372-1.5713.0074-.2409.0074-.4818.0111-.7227V6.6152c0-.24089 0-.48178-.0111-.72267-.0111-.52255-.0445-1.0525-.1372-1.57134-.0964-.52625-.2522-1.01545-.4969-1.48981-.2411-.46696-.5563-.89685-.9308-1.27116-.3746-.3706-.8121-.685606-1.2868-.922789-.4858-.24089-.979-.396542-1.5093-.492897-.5228-.0926501-1.0568-.126004-1.5871-.13712202-.1001 0-.2003-.00370599-.3634-.00741198H6.99011L5.96663.011118C5.43634.022236 4.90235.0555899 4.37948.14824 3.8492.244595 3.35229.396541 2.87021.641137c-.47837.237183-.91224.552193-1.28677.922793-.37454.3706-.693452.80049-.930782 1.27115-.248455.47808-.400495.96356-.49691 1.48981-.1001238.51884-.12979 1.04509-.1446232 1.57134C.00370828 6.13712.00370828 6.37801 0 6.6189v10.7659c0 .2409.00370828.4818.0111248.7227.0111249.5225.0444994 1.0525.1372062 1.5713.096416.5263.252163 1.0155.49691 1.4898.241038.467.556239.8969.930779 1.2712.37454.3706.81211.6856 1.28677.9228.48579.2409.97899.3965 1.50927.4929.52287.0926 1.05686.126 1.58715.1371.10012 0 .20025.0037.36341.0074H16.4425l1.5909-.0074.0074-.0037Z"})})),(0,s.jsxs)("g",Object.assign({mask:"url(#a)"},{children:[(0,s.jsx)("path",{fill:"#19AA1E",d:"M0 0h24v24H0z"}),(0,s.jsx)("path",{fill:"#FFB919",fillRule:"evenodd",d:"M0 0h24v7.875L0 4.125V0Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"#82D714",fillRule:"evenodd",d:"m0 21.375 24-3.75V24H0v-2.625Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m0 3.65057 8.37739 1.30895C9.42023 4.29942 10.6609 3.9375 12 3.9375c1.8547 0 3.5206.6943 4.7336 1.91353.1531.15385.2975.31471.4328.48179L24 7.40055v.94887l-6.1397-.95931c.4561.87533.7022 1.8506.7022 2.84589 0 1.2858-.2876 2.5678-.8821 3.855l-.0181.039-.2525.541h-.5971c-1.2329 0-2.0507.3688-2.5854 1.0224-.4198.5132-.6626 1.205-.7443 1.9598l-.0025.0236-.0119.1206-.0051.0525-.0097.1026c-.0313.337-.0522.6228-.0628.8557L24 17.1506v.9488l-24 3.75v-.9488l10.6209-1.6596-.0046-.213-.0014-.0601-.0009-.0308-.0017-.0475c-.0095-.2583-.0332-.5894-.0711-.9907l-.0073-.0761-.013-.1318c-.0762-.7588-.3154-1.4594-.73409-1.9802-.52909-.658-1.33937-1.0322-2.56235-1.0397l-.03719-.0001h-.59705l-.25249-.541c-.60678-1.3003-.90023-2.5952-.90023-3.894 0-1.63332.66263-3.21271 1.8289-4.38497.03367-.03384.06768-.06728.10204-.10031L0 4.59942v-.94885Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"#0073FA",fillRule:"evenodd",d:"M12 4.875c3.3506 0 5.625 2.57897 5.625 5.361 0 1.1169-.2437 2.2791-.8123 3.4975-3.297 0-4.1108 2.3612-4.2647 3.8468l-.0098.099c-.0522.5302-.0823.9556-.0906 1.2763l-.893.1396-.0002-.0289c-.0034-.3362-.0352-.8078-.0953-1.4148l-.0026-.0265c-.1422-1.4824-.9389-3.8915-4.26923-3.8915-.56859-1.2184-.81227-2.3806-.81227-3.4975 0-2.78203 2.27437-5.361 5.625-5.361Z",clipRule:"evenodd"})]})),(0,s.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M35.234 4c-3.8621 0-6.7586 2.30303-6.7338 6.303h3.5897c-.0495-1.59997.9902-3.15148 3.1441-3.15148 1.6339 0 2.6737 1.06666 2.6737 2.42424 0 1.40604-1.1388 2.18184-2.9708 3.05454-2.4014 1.1394-3.8373 1.6727-6.4367 2.5212v4.6061h12.8734v-3.1515h-8.0211c1.2409-.5066 2.4487-1.0628 3.5401-1.5758 2.8966-1.3576 4.6048-2.8848 4.6048-5.62424C41.4974 6.10909 38.9722 4 35.234 4Zm11.8336 3.39394h7.427V4.24242H43.6017V19.7576h3.4659V7.39394Zm12.6259-3.15152h-3.466V19.7576h3.4412l6.4615-9.91518v9.91518h3.4659V4.24242h-3.4659l-6.4367 9.91518V4.24242ZM87 13.9394h-3.5897c-.5446 1.7212-2.2033 2.9091-4.1591 2.9091-2.847 0-4.7038-2.4-4.7038-4.8485 0-2.44848 1.8073-4.84848 4.8028-4.84848 1.9805 0 3.5155 1.18787 4.0601 2.90908H87C86.4801 6.59394 83.6826 4 79.2512 4c-4.9018 0-8.1697 3.3697-8.1697 8s3.2679 8 8.1697 8c4.4314 0 7.2289-2.5455 7.7488-6.0606Z",clipRule:"evenodd"})]}))},83113:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"-4 -6 32 32",fill:e},{children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M21.014 8.107l-.015 11.888H3V8.098l-1.463.931L.463 7.342 12 0l11.537 7.342-1.074 1.687-1.449-.922zM8.008 17.995v-8H16v8h3.001l.015-11.16L12 2.371 5 6.825v11.17h3.008zm2 0H14v-6h-3.992v6z"})}))}},83467:(e,t,i)=>{"use strict";i.d(t,{qK:()=>r,Z1:()=>n,It:()=>a,$3:()=>o,px:()=>d,vX:()=>c});var s=i(31085);function r({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M10 2.22583C10.548 2.22583 10.9923 2.67009 10.9923 3.21811V4.25473C10.9923 4.80275 10.548 5.24701 10 5.24701V2.22583Z",fill:e}),(0,s.jsx)("path",{d:"M2 0.74707H8C8.82944 0.74707 9.5 1.41774 9.5 2.24279V5.25135C9.5 6.0764 8.82944 6.74707 8 6.74707H2C1.17056 6.74707 0.5 6.0764 0.5 5.25135V2.24279C0.5 1.41774 1.17056 0.74707 2 0.74707Z",stroke:e}),(0,s.jsx)("path",{d:"M2 3.24707C2 2.69479 2.44772 2.24707 3 2.24707H7C7.55228 2.24707 8 2.69479 8 3.24707V4.24707C8 4.79936 7.55228 5.24707 7 5.24707H3C2.44772 5.24707 2 4.79936 2 4.24707V3.24707Z",fill:e})]}))}function n({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M10 2.22583C10.548 2.22583 10.9923 2.67009 10.9923 3.21811V4.25473C10.9923 4.80275 10.548 5.24701 10 5.24701V2.22583Z",fill:e}),(0,s.jsx)("path",{d:"M2 0.74707H8C8.82944 0.74707 9.5 1.41774 9.5 2.24279V5.25135C9.5 6.0764 8.82944 6.74707 8 6.74707H2C1.17056 6.74707 0.5 6.0764 0.5 5.25135V2.24279C0.5 1.41774 1.17056 0.74707 2 0.74707Z",stroke:e}),(0,s.jsx)("path",{d:"M2 3.24707C2 2.69479 2.44772 2.24707 3 2.24707C3.55228 2.24707 4 2.69479 4 3.24707V4.26825C4 4.82053 3.55228 5.26825 3 5.26825C2.44772 5.26825 2 4.82053 2 4.26825V3.24707Z",fill:"#F5373C"})]}))}function a({color:e="#141414"}){return(0,s.jsxs)("svg",Object.assign({width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M10.5 1.97876C11.048 1.97876 11.4923 2.42302 11.4923 2.97104V4.00766C11.4923 4.55568 11.048 4.99994 10.5 4.99994V1.97876Z",fill:e}),(0,s.jsx)("path",{d:"M2.5 0.5H8.5C9.32944 0.5 10 1.17067 10 1.99572V5.00428C10 5.82933 9.32944 6.5 8.5 6.5H2.5C1.67056 6.5 1 5.82933 1 5.00428V1.99572C1 1.17067 1.67056 0.5 2.5 0.5Z",stroke:e}),(0,s.jsx)("path",{d:"M2.5 3C2.5 2.44772 2.94772 2 3.5 2H5.5C6.05228 2 6.5 2.44772 6.5 3V4C6.5 4.55228 6.05228 5 5.5 5H3.5C2.94772 5 2.5 4.55228 2.5 4V3Z",fill:e})]}))}function o({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99729 0.24707H6C6 2.24279 6 4.32214 6 7.24707H2.99729C1.99648 7.24707 1 6.35355 1 5.25135V2.24279C1 1.14059 2.01548 0.24707 2.99729 0.24707Z",fill:e}),(0,s.jsx)("path",{d:"M3 1.99707C3 1.58286 3.33579 1.24707 3.75 1.24707H8.25C8.66421 1.24707 9 1.58286 9 1.99707C9 2.41128 8.66421 2.74707 8.25 2.74707H3.75C3.33579 2.74707 3 2.41128 3 1.99707Z",fill:e}),(0,s.jsx)("path",{d:"M3 5.50562C3 5.0914 3.33579 4.75562 3.75 4.75562H8.25C8.66421 4.75562 9 5.0914 9 5.50562C9 5.91983 8.66421 6.25562 8.25 6.25562H3.75C3.33579 6.25562 3 5.91983 3 5.50562Z",fill:e})]}))}function c(){return(0,s.jsxs)("svg",Object.assign({width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M6.82741 7.12752L9.69987 9.99998L10.5 9.19985L1.30015 0L0.500021 0.800128L2.91766 3.21776L0.5 4.12439L4.29455 5.75062L5.92079 9.54518L6.82741 7.12752Z",fill:"white"}),(0,s.jsx)("path",{d:"M9.17326 0.871912L7.67284 4.87304L5.17213 2.37234L9.17326 0.871912Z",fill:"white"})]}))}const d=e=>(0,s.jsxs)("svg",Object.assign({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,s.jsx)("path",{d:"M13.8975 1.78223L14.9177 2.29234C15.6947 2.68087 16.1321 3.52663 16 4.38531L15.1656 8.78279H19.1057C21.0838 8.78279 22.5205 10.6637 22 12.5721L20.0909 19.5721C19.7349 20.8773 18.5495 21.7828 17.1966 21.7828H10C8.34315 21.7828 7 20.4396 7 18.7828V9.9686C7 9.20669 7.28989 8.47333 7.81085 7.91735L13.8975 1.78223Z",fill:"#929292"}),(0,s.jsx)("path",{d:"M5 8.78275L3 8.78279V21.7828H5V8.78275Z",fill:"#929292"})]}))},61979:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(31085);function r({size:e=64}={}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:e,height:e,viewBox:"0 0 64 64"},{children:[(0,s.jsx)("defs",{children:(0,s.jsx)("rect",{id:"i2v4gc9jka",width:"64",height:"64",x:"0",y:"0",rx:"8"})}),(0,s.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:(0,s.jsx)("g",{children:(0,s.jsx)("g",{children:(0,s.jsxs)("g",Object.assign({transform:"translate(-44 -120) translate(28 108) translate(16 12)"},{children:[(0,s.jsx)("mask",Object.assign({id:"qkf4unla0b",fill:"#fff"},{children:(0,s.jsx)("use",{xlinkHref:"#i2v4gc9jka"})})),(0,s.jsx)("use",{fill:"#D8D8D8",xlinkHref:"#i2v4gc9jka"}),(0,s.jsxs)("g",Object.assign({mask:"url(#qkf4unla0b)"},{children:[(0,s.jsx)("path",{fill:"#19AA1E",d:"M0 0H64V64H0z"}),(0,s.jsx)("path",{fill:"#FFB919",d:"M0 0L64 0 64 21 0 11z"}),(0,s.jsx)("path",{fill:"#82D714",d:"M0 57L64 47 64 64 0 64z"}),(0,s.jsx)("path",{fill:"#FFF",d:"M0 9.735l22.34 3.49c2.78-1.76 6.089-2.725 9.66-2.725 4.946 0 9.388 1.851 12.623 5.103.408.41.793.839 1.154 1.285L64 19.735v2.53l-16.373-2.558c1.217 2.334 1.873 4.935 1.873 7.589 0 3.429-.767 6.848-2.352 10.28l-.049.104-.673 1.443h-1.592c-3.288 0-5.469.983-6.895 2.726-1.12 1.369-1.766 3.213-1.984 5.226l-.007.063-.032.322-.013.14-.026.273c-.084.9-.14 1.661-.168 2.282L64 45.735v2.53l-64 10v-2.53l28.323-4.426-.013-.568-.004-.16-.002-.082-.004-.127c-.026-.689-.09-1.572-.19-2.642l-.02-.203-.034-.351c-.203-2.023-.841-3.892-1.958-5.28-1.41-1.755-3.571-2.753-6.833-2.773h-1.691L16.9 37.68c-1.618-3.467-2.401-6.92-2.401-10.384 0-4.355 1.767-8.567 4.877-11.693.09-.09.18-.18.272-.268L0 12.265v-2.53z"}),(0,s.jsx)("path",{fill:"#0073FA",d:"M32 13c8.935 0 15 6.877 15 14.296 0 2.978-.65 6.078-2.166 9.327-8.792 0-10.962 6.296-11.373 10.258l-.026.264c-.139 1.414-.22 2.548-.241 3.403l-2.382.372v-.077c-.01-.896-.094-2.154-.254-3.772L30.55 47c-.38-3.953-2.504-10.377-11.385-10.377C17.65 33.373 17 30.274 17 27.296 17 19.877 23.065 13 32 13z"})]}))]}))})})}))]}))}},31106:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var s=i(31085);function r(){return(0,s.jsxs)("svg",Object.assign({width:"220",height:"160",viewBox:"0 0 220 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"m92.65 127.815-8.374-4.587a.988.988 0 0 1-.39-1.237l8.375 4.587a.994.994 0 0 0 .39 1.237",fill:"#0D5810"}),(0,s.jsx)("path",{d:"m92.26 126.578-8.373-4.587c.018-.05.039-.099.063-.146l8.374 4.587a1.442 1.442 0 0 0-.063.146",fill:"#0E5C10"}),(0,s.jsx)("path",{d:"m92.323 126.433-8.374-4.588 6.562-13.156 8.374 4.588-6.562 13.156Z",fill:"url(#a)"}),(0,s.jsx)("path",{d:"M136.976 54.049c25.414-3.597 45.986 8.899 45.951 27.913-.035 19.014-20.664 37.341-46.078 40.937-11.113 1.573-21.303.067-29.247-3.716l-14.055 8.576c-.12.075-.252.124-.391.146-.696.098-1.232-.674-.833-1.473l6.562-13.156c-5.05-4.815-8-11.083-7.987-18.29.036-19.014 20.668-37.341 46.078-40.937Z",fill:"#19AA1E"}),(0,s.jsx)("path",{d:"M136.976 54.049c25.414-3.597 45.986 8.899 45.951 27.913-.035 19.014-20.664 37.341-46.078 40.937-11.113 1.573-21.303.067-29.247-3.716l-14.055 8.576c-.12.075-.252.124-.391.146-.696.098-1.232-.674-.833-1.473l6.562-13.156c-5.05-4.815-8-11.083-7.987-18.29.036-19.014 20.668-37.341 46.078-40.937Z",fill:"url(#b)"}),(0,s.jsx)("path",{d:"M90.9 94.987c-.014 7.206 2.936 13.474 7.985 18.289l-8.374-4.587-.022-.021.118-.237c-5.049-4.815-7.973-11.03-7.96-18.238.437-18.772 20.3-36.838 46.521-40.618 2.427-.35 7.062-.558 12.935-.514 4.281.377 8.531 1.261 12.562 2.77 4.711 1.776 9.046 4.486 13.449 6.899-8.182-4.482-19.12-6.382-31.137-4.68-25.41 3.595-46.043 21.922-46.078 40.937Z",fill:"url(#c)"}),(0,s.jsx)("path",{d:"M60.82 120.575c-16.27 8.292-50.355 3.054-48.045-39.528.658-12.126-5.16-23.357-10.438-29.677-2.591-3.103-1.976-9.555 4.677-10.335 6.652-.78 12.673 6.85 14.289 14.648 1.616 7.8 3.33 16.219 14.102 14.528 6.326-.992 17.447-7.13 30.08-4.638 5.513 1.088 11.798 6.323 5.766 14.464-6.033 8.14-27.34 14.132-30.876 7.055-2.959-5.922 8.392-10.189 12.285-11.125 8.515-2.047 8.588-5.29 8.588-5.29",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M76.093 81.716c1.67 5.76-3.27 11.477-13.698 15.678-10.445 4.207-17.519.594-18.055-4.809",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M76.89 90.572c1.678 5.547.099 10.929-10.109 15.31-6.263 2.688-13.255 3.438-17.512-2.44",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M78.082 101.99c.166 3.546-.243 9.419-11.048 13.226-4.562 1.608-13.003 1.942-14.784-4.252M209.714 85.827c.632-31.83-32.952-46.304-36.742-39.241",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M213.409 84.087c.336-26.892-23.461-45.2-30.348-39.653",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M204.611 87.406c.506-4.773-2.212-34.67-32.543-39.351-7.446-1.15-8.396 5.194-6.355 7.667 7.366 8.926 29.72 11.61 23.312 40.599-2.389 10.811-9.645 16.243-17.229 15.09-11.221-1.705-19.262 2.201-22.219 5.049-4.739 4.565-3.08 13.783 6.952 10.619 17.046-5.375 22.47 6.627 44.386-5.253 13.563-7.352 24.469-30.082 14.449-55.055-7.895-19.678-14.424-19.538-15.688-18.57",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M55.092 70.047c7.382-28.904 47.69-44.663 78.55-26.792 24.914 14.428 13.58 43.736-.648 51.594-18.934 10.456-30.913-11.179-13.29-24.532 14.59-11.054 56.873-11.426 48.2 27.72",stroke:"#000",strokeMiterlimit:"10"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",Object.assign({id:"a",x1:"76.741",y1:"138.066",x2:"130.417",y2:"64.109",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{offset:".163",stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".175",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".416",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".641",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".843",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"b",x1:"198.833",y1:"90.672",x2:"135.23",y2:"-19.851",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{offset:".098",stopColor:"#23CC29"}),(0,s.jsx)("stop",{offset:".571",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"c",x1:"82.647",y1:"81.165",x2:"168.114",y2:"81.165",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".013",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".302",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".571",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".812",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]}))]})]}))}},50472:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});var s=i(31085);const r=({height:e=24,width:t=88})=>(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 88 24"},{children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",Object.assign({id:"prefix__a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,s.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,s.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,s.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,s.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"prefix__b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,s.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,s.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,s.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"prefix__c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,s.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,s.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,s.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"prefix__d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,s.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,s.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"prefix__e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,s.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,s.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,s.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,s.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,s.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"prefix__f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,s.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,s.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,s.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,s.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,s.jsx)("path",{fill:"#21A038",d:"M22.024 4.622a11.93 11.93 0 011.407 2.365L12.74 14.974l-4.47-2.839V8.72l4.469 2.839 9.284-6.937z"}),(0,s.jsx)("path",{fill:"url(#prefix__a)",d:"M3.711 11.894c0-.153.004-.305.012-.457l-2.708-.134a11.996 11.996 0 00.877 5.144 11.869 11.869 0 002.546 3.856l1.92-1.945a9.137 9.137 0 01-1.96-2.964 9.245 9.245 0 01-.687-3.5z"}),(0,s.jsx)("path",{fill:"url(#prefix__b)",d:"M12.737 2.747c.151 0 .301.006.45.013l.136-2.745a11.58 11.58 0 00-5.078.889 11.659 11.659 0 00-3.807 2.58l1.92 1.947a8.986 8.986 0 012.925-1.987 8.9 8.9 0 013.454-.697z"}),(0,s.jsx)("path",{fill:"url(#prefix__c)",d:"M12.737 21.041c-.151 0-.301 0-.451-.012l-.136 2.744a11.549 11.549 0 005.077-.888 11.697 11.697 0 003.805-2.58l-1.917-1.946a9.014 9.014 0 01-2.925 1.986 8.89 8.89 0 01-3.453.696z"}),(0,s.jsx)("path",{fill:"url(#prefix__d)",d:"M17.825 4.343l2.282-1.704A11.59 11.59 0 0012.733 0v2.747a8.9 8.9 0 015.092 1.596z"}),(0,s.jsx)("path",{fill:"#21A038",d:"M24.473 11.894c.002-.714-.06-1.428-.184-2.131l-2.526 1.886v.245a9.243 9.243 0 01-.776 3.71 9.11 9.11 0 01-2.197 3.07l1.822 2.04a11.855 11.855 0 002.855-3.994 11.986 11.986 0 001.006-4.826z"}),(0,s.jsx)("path",{fill:"url(#prefix__e)",d:"M12.737 21.041a8.908 8.908 0 01-3.66-.786 9.025 9.025 0 01-3.03-2.227l-2.013 1.846a11.72 11.72 0 003.941 2.894c1.5.675 3.122 1.022 4.762 1.02v-2.747z"}),(0,s.jsx)("path",{fill:"url(#prefix__f)",d:"M6.685 5.115L4.864 3.074a11.846 11.846 0 00-2.857 3.994A11.974 11.974 0 001 11.894h2.711c0-1.278.264-2.542.776-3.71a9.146 9.146 0 012.198-3.07z"}),(0,s.jsx)("path",{d:"M68.73 6.802l3.358-2.479H60.849v14.896h11.239V16.74h-8.032v-3.815h6.852v-2.479h-6.852V6.802zm-15.443 3.324h-3.902V6.801h6.227l3.356-2.487H46.18v14.897h6.695c3.753 0 5.907-1.705 5.907-4.677 0-2.844-1.951-4.408-5.494-4.408zm-.558 6.605h-3.344v-4.128h3.344c2.03 0 2.982.692 2.982 2.064s-1.013 2.064-2.982 2.064zM80.35 4.321h-6.118v14.895h3.206v-4.22h2.912c3.903 0 6.317-2.058 6.317-5.346 0-3.288-2.414-5.33-6.317-5.33zm-.068 8.195h-2.844V6.801h2.844c2.053 0 3.186 1.016 3.186 2.859s-1.133 2.856-3.186 2.856zm-38.915 3.186a5.574 5.574 0 01-2.698.676c-2.82 0-4.864-2.016-4.864-4.793s2.045-4.799 4.864-4.799a4.753 4.753 0 012.841.881l2.243-1.655-.151-.108c-1.309-1.152-3.057-1.762-5.058-1.762-2.17 0-4.139.732-5.544 2.063a7.19 7.19 0 00-2.199 5.305 7.44 7.44 0 002.186 5.382c1.411 1.384 3.375 2.146 5.53 2.146 2.252 0 4.22-.786 5.553-2.219l-2.008-1.499-.695.382z",fill:"#1FA037"})]}))]}))},78076:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var s=i(31085);function r({color:e="currentColor",width:t=32,height:i=32}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:t,height:i,fill:e},{children:(0,s.jsx)("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7v-2z"})}))}},82316:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var s=i(31085);function r({color:e="currentColor",size:t=16}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M12.326 14.3l-1.145-4.92L15 6.07 9.966 5.64 8 1 6.034 5.639 1 6.07 4.819 9.38 3.674 14.3 8 11.69z"})}))}},92432:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var s=i(31085);function r({lang:e}){return"ru"===e?(0,s.jsxs)("svg",Object.assign({width:127,height:40,fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("rect",{width:127,height:40,rx:5,fill:"#262626"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.289 15.005a7.002 7.002 0 0 1 13.422 0A4.5 4.5 0 0 1 26.5 24H21v4.586l2.793-2.793 1.414 1.414L20 32.414l-5.207-5.207 1.414-1.414L19 28.586V24h-5.5a4.5 4.5 0 0 1-.211-8.995ZM20 12a5.001 5.001 0 0 0-4.937 4.205l-.159.993-.992-.164A2.5 2.5 0 1 0 13.5 22h13a2.5 2.5 0 1 0-.412-4.966l-.992.164-.159-.993A5.001 5.001 0 0 0 20 12Z",fill:"#30AD00"}),(0,s.jsx)("path",{d:"M46.246 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.079-.972-2.079-2.62 0-1.691.9-2.591 2.052-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.961 3.393 1.413 0 2.538-.756 2.826-2.196ZM48.672 11.849l1.665 2.15h1.017l-2.016-2.555 1.827-2.286h-.972l-1.539 1.98h-.603v-1.98h-.828V14h.828v-2.151h.621ZM51.69 12.722c0 .89.755 1.395 1.664 1.395.855 0 1.36-.288 1.656-.783.01.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.01-1.116c.008-1.36-.595-1.998-1.927-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.989.225-3.276.558-3.276 1.7Zm3.338-1.053v.306c0 1.143-.729 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM59.794 14h.82V9.158h-.82v2.205c-.45.108-.819.162-1.143.162-.684 0-1.026-.243-1.026-.963V9.158h-.819v1.575c0 1.044.54 1.503 1.548 1.503.441 0 .882-.072 1.44-.198V14ZM61.665 12.722c0 .89.756 1.395 1.665 1.395.855 0 1.359-.288 1.656-.783.009.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.009-1.116c.009-1.36-.594-1.998-1.926-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.99.225-3.276.558-3.276 1.7Zm3.339-1.053v.306c0 1.143-.73 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM68.687 9.869h1.656v-.711h-4.13v.71h1.655V14h.82V9.869ZM73.144 10.868h-1.151v-1.71h-.82V14h1.962c1.116 0 1.819-.405 1.819-1.602 0-1.026-.55-1.53-1.81-1.53Zm-.08 2.42h-1.071v-1.71h1.053c.737 0 1.106.18 1.106.82 0 .648-.368.89-1.088.89ZM82.106 9.068c0-1.098-.864-1.71-2.07-1.71-1.386 0-2.286.855-2.268 2.15h.846c.018-1.08.702-1.466 1.404-1.466.774 0 1.224.459 1.224 1.134 0 1.152-1.35 2.385-3.654 4.086V14h4.698v-.765h-3.582c1.827-1.314 3.402-2.655 3.402-4.167ZM87.559 8.267v-.792H83.49V14h.918V8.267h3.15ZM92.85 8.816V14h.918V7.475h-.918l-3.51 5.175V7.475h-.918V14h.918l3.51-5.184ZM100.879 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.08-.972-2.08-2.62 0-1.691.9-2.591 2.053-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.96 3.393 1.414 0 2.539-.756 2.827-2.196ZM48.047 31.651v-2.86h-1.04v-5.785H41.91l-.104 2.223c-.117 2.548-.52 3.562-1.3 3.562h-.377v2.86h1.404V30h5.109v1.651h1.404Zm-2.587-7.423v4.563H42.3c.547-.533.807-1.534.91-3.38l.066-1.183h2.184ZM53.568 30h1.547v-6.994h-5.044l-.13 2.509c-.143 2.652-.676 3.263-1.248 3.263h-.156V30h.286c1.6 0 2.405-1.352 2.587-4.264l.104-1.508h2.054V30ZM62.456 30v-6.994h-2.977c-1.742 0-2.678.806-2.678 2.223 0 1.001.546 1.651 1.287 1.95L56.333 30h1.755l1.43-2.418h1.39V30h1.548ZM59.7 24.228h1.209v2.132h-1.274c-.78 0-1.261-.273-1.261-1.014 0-.715.52-1.118 1.326-1.118ZM69.903 20.575 66.393 30h1.69l.728-2.093h3.822L73.374 30h1.807l-3.536-9.425h-1.742Zm-.61 5.954 1.416-4.043 1.43 4.043h-2.847ZM77.597 23.981v-.975H76.05V30h1.547v-3.718c0-1.261.442-2.171 1.625-2.171s1.326.923 1.326 1.872V30h1.547v-4.394c0-1.664-.69-2.756-2.38-2.756-.974 0-1.715.403-2.118 1.131ZM88.346 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.39 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.74-2.392 1.768-2.392ZM95.461 24.579v-1.56a4.193 4.193 0 0 0-.403-.026c-.845.013-1.52.481-1.898 1.261v-1.248h-1.52V30h1.546v-3.666c0-1.404.56-1.794 1.534-1.794.234 0 .481.013.741.039ZM102.708 26.516c0-2.522-1.742-3.666-3.445-3.666-1.703 0-3.445 1.144-3.445 3.666 0 2.522 1.742 3.653 3.445 3.653 1.703 0 3.445-1.131 3.445-3.653Zm-3.445 2.392c-.975 0-1.846-.78-1.846-2.392 0-1.612.87-2.405 1.846-2.405.975 0 1.846.793 1.846 2.405 0 1.612-.871 2.392-1.846 2.392ZM105.526 20.575h-1.547v1.56h1.547v-1.56Zm0 2.431h-1.547V30h1.547v-6.994ZM111.908 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.391 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.741-2.392 1.768-2.392Z",fill:"#fff"})]})):(0,s.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("rect",{width:"120",height:"40",rx:"5",fill:"#262626"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2887 15.0049C14.148 12.1107 16.8267 10 20 10C23.1733 10 25.852 12.1107 26.7113 15.0049C29.0985 15.1152 31 17.0855 31 19.5C31 21.9853 28.9853 24 26.5 24H21V28.5858L23.7929 25.7929L25.2071 27.2071L20 32.4142L14.7929 27.2071L16.2071 25.7929L19 28.5858V24H13.5C11.0147 24 9 21.9853 9 19.5C9 17.0855 10.9015 15.1152 13.2887 15.0049ZM20 12C17.5098 12 15.4431 13.8214 15.0628 16.2046L14.9043 17.1977L13.9121 17.0337C13.7787 17.0116 13.6411 17 13.5 17C12.1193 17 11 18.1193 11 19.5C11 20.8807 12.1193 22 13.5 22H26.5C27.8807 22 29 20.8807 29 19.5C29 18.1193 27.8807 17 26.5 17C26.3589 17 26.2213 17.0116 26.0879 17.0337L25.0957 17.1977L24.9372 16.2046C24.5569 13.8214 22.4902 12 20 12Z",fill:"white"}),(0,s.jsx)("path",{d:"M42.556 7.475C44.626 7.475 46.111 8.249 46.111 10.733C46.111 13.226 44.626 14 42.556 14H40.774V7.475H42.556ZM42.529 8.249H41.692V13.226H42.529C43.879 13.226 45.175 12.956 45.175 10.733C45.175 8.519 43.879 8.249 42.529 8.249ZM51.5512 11.597C51.5512 13.352 50.3542 14.117 49.2292 14.117C48.1042 14.117 46.9072 13.352 46.9072 11.597C46.9072 9.842 48.1042 9.077 49.2292 9.077C50.3542 9.077 51.5512 9.842 51.5512 11.597ZM49.2292 13.397C49.9672 13.397 50.6782 12.839 50.6782 11.597C50.6782 10.31 49.9672 9.797 49.2292 9.797C48.4912 9.797 47.7802 10.274 47.7802 11.597C47.7802 12.884 48.4912 13.397 49.2292 13.397ZM54.6559 9.158H55.5019L56.4649 12.74L57.3919 9.158H58.2739L56.8789 14H56.1319L55.0609 10.103L54.0259 14H53.2789L51.8839 9.158H52.7659L53.6929 12.74L54.6559 9.158ZM59.7834 9.887C60.0624 9.428 60.5304 9.077 61.3494 9.077C62.5194 9.077 62.9424 9.833 62.9424 10.94V14H62.1234V11.183C62.1234 10.436 61.9974 9.788 61.0614 9.788C60.2694 9.788 59.7834 10.337 59.7834 11.372V14H58.9644V9.158H59.7834V9.887ZM64.9865 14H64.1675V7.475H64.9865V14ZM70.6147 11.597C70.6147 13.352 69.4177 14.117 68.2927 14.117C67.1677 14.117 65.9707 13.352 65.9707 11.597C65.9707 9.842 67.1677 9.077 68.2927 9.077C69.4177 9.077 70.6147 9.842 70.6147 11.597ZM68.2927 13.397C69.0307 13.397 69.7417 12.839 69.7417 11.597C69.7417 10.31 69.0307 9.797 68.2927 9.797C67.5547 9.797 66.8437 10.274 66.8437 11.597C66.8437 12.884 67.5547 13.397 68.2927 13.397ZM71.3063 12.722C71.3063 11.579 72.5933 11.246 74.5823 11.021V10.904C74.5823 10.022 74.0873 9.725 73.4843 9.725C72.8093 9.725 72.4133 10.094 72.3773 10.688H71.5313C71.6123 9.644 72.5303 9.059 73.4753 9.059C74.8073 9.059 75.4103 9.698 75.4013 11.057L75.3923 12.173C75.3833 12.983 75.4283 13.541 75.5183 14H74.6903C74.6633 13.82 74.6363 13.622 74.6273 13.334C74.3303 13.829 73.8263 14.117 72.9713 14.117C72.0623 14.117 71.3063 13.613 71.3063 12.722ZM74.6453 11.669C73.1603 11.822 72.2153 12.038 72.2153 12.704C72.2153 13.163 72.5663 13.469 73.1513 13.469C73.9163 13.469 74.6453 13.118 74.6453 11.975V11.669ZM79.9426 7.475H80.7616V14H79.9426V13.271C79.6456 13.784 79.1326 14.117 78.3586 14.117C77.2516 14.117 76.2886 13.199 76.2886 11.597C76.2886 10.004 77.2516 9.077 78.3586 9.077C79.1326 9.077 79.6456 9.41 79.9426 9.923V7.475ZM78.5656 9.779C77.7286 9.779 77.1796 10.445 77.1796 11.597C77.1796 12.749 77.7286 13.415 78.5656 13.415C79.2946 13.415 79.9786 12.875 79.9786 11.597C79.9786 10.319 79.2946 9.779 78.5656 9.779ZM88.329 9.068C88.329 10.58 86.754 11.921 84.927 13.235H88.509V14H83.811V13.262C86.115 11.561 87.465 10.328 87.465 9.176C87.465 8.501 87.015 8.042 86.241 8.042C85.539 8.042 84.855 8.429 84.837 9.509H83.991C83.973 8.213 84.873 7.358 86.259 7.358C87.465 7.358 88.329 7.97 88.329 9.068ZM95.0416 9.374H94.1506C93.9346 8.645 93.3406 8.132 92.2966 8.132C91.1446 8.132 90.2446 9.032 90.2446 10.724C90.2446 12.371 91.0906 13.343 92.2966 13.343C93.1696 13.343 94.2226 12.983 94.2226 11.633V11.462H92.4946V10.67H95.0866V14H94.3666L94.3216 13.181C93.8986 13.847 93.1336 14.117 92.2606 14.117C90.3796 14.117 89.3086 12.713 89.3086 10.724C89.3086 8.699 90.5056 7.358 92.3416 7.358C93.6916 7.358 94.7716 8.114 95.0416 9.374ZM97.4674 14H96.5494V7.475H97.4674V14ZM101.107 7.358C102.277 7.358 103.33 7.88 103.582 9.14H102.691C102.466 8.384 101.728 8.132 101.071 8.132C100.567 8.132 99.6851 8.357 99.6851 9.086C99.6851 9.662 100.144 9.95 100.747 10.085L101.503 10.256C102.502 10.472 103.699 10.85 103.699 12.164C103.699 13.442 102.511 14.117 101.215 14.117C99.6761 14.117 98.7041 13.28 98.5331 11.975H99.4331C99.6041 12.875 100.234 13.343 101.233 13.343C102.196 13.343 102.754 12.884 102.754 12.245C102.754 11.561 102.169 11.273 101.35 11.093L100.54 10.922C99.6491 10.724 98.7491 10.229 98.7491 9.14C98.7491 7.898 100.054 7.358 101.107 7.358Z",fill:"white"}),(0,s.jsx)("path",{d:"M41.079 22.577C41.079 20.939 41.703 20.575 43.393 20.575H44.004V21.758H43.562C42.795 21.758 42.626 21.901 42.626 22.629V23.006H44.004V24.124H42.626V30H41.079V24.124H40.104V23.006H41.079V22.577ZM51.3047 26.516C51.3047 29.038 49.5627 30.169 47.8597 30.169C46.1567 30.169 44.4147 29.038 44.4147 26.516C44.4147 23.994 46.1567 22.85 47.8597 22.85C49.5627 22.85 51.3047 23.994 51.3047 26.516ZM47.8597 28.908C48.8347 28.908 49.7057 28.128 49.7057 26.516C49.7057 24.904 48.8347 24.111 47.8597 24.111C46.8847 24.111 46.0137 24.904 46.0137 26.516C46.0137 28.128 46.8847 28.908 47.8597 28.908ZM56.3981 24.579C56.1381 24.553 55.8911 24.54 55.6571 24.54C54.6821 24.54 54.1231 24.93 54.1231 26.334V30H52.5761V23.006H54.0971V24.254C54.4741 23.474 55.1501 23.006 55.9951 22.993C56.1121 22.993 56.2811 23.006 56.3981 23.019V24.579ZM63.01 20.575H64.752L68.288 30H66.481L65.74 27.907H61.918L61.19 30H59.5L63.01 20.575ZM62.399 26.529H65.246L63.816 22.486L62.399 26.529ZM70.7032 23.981C71.1062 23.253 71.8472 22.85 72.8222 22.85C74.5122 22.85 75.2012 23.942 75.2012 25.606V30H73.6542V25.983C73.6542 25.034 73.5112 24.111 72.3282 24.111C71.1452 24.111 70.7032 25.021 70.7032 26.282V30H69.1562V23.006H70.7032V23.981ZM81.4524 20.575H82.9994V30H81.4524V29.077C81.0364 29.766 80.3084 30.169 79.3724 30.169C77.7214 30.169 76.3304 28.752 76.3304 26.503C76.3304 24.267 77.7214 22.85 79.3724 22.85C80.3084 22.85 81.0364 23.253 81.4524 23.942V20.575ZM79.7104 24.111C78.6834 24.111 77.9424 25.034 77.9424 26.503C77.9424 27.985 78.6834 28.908 79.7104 28.908C80.7244 28.908 81.5174 28.115 81.5174 26.503C81.5174 24.891 80.7244 24.111 79.7104 24.111ZM88.568 24.579C88.308 24.553 88.061 24.54 87.827 24.54C86.852 24.54 86.293 24.93 86.293 26.334V30H84.746V23.006H86.267V24.254C86.644 23.474 87.32 23.006 88.165 22.993C88.282 22.993 88.451 23.006 88.568 23.019V24.579ZM95.8145 26.516C95.8145 29.038 94.0725 30.169 92.3695 30.169C90.6665 30.169 88.9245 29.038 88.9245 26.516C88.9245 23.994 90.6665 22.85 92.3695 22.85C94.0725 22.85 95.8145 23.994 95.8145 26.516ZM92.3695 28.908C93.3445 28.908 94.2155 28.128 94.2155 26.516C94.2155 24.904 93.3445 24.111 92.3695 24.111C91.3945 24.111 90.5235 24.904 90.5235 26.516C90.5235 28.128 91.3945 28.908 92.3695 28.908ZM98.6328 20.575V22.135H97.0858V20.575H98.6328ZM98.6328 23.006V30H97.0858V23.006H98.6328ZM105.015 20.575H106.562V30H105.015V29.077C104.599 29.766 103.871 30.169 102.935 30.169C101.284 30.169 99.8929 28.752 99.8929 26.503C99.8929 24.267 101.284 22.85 102.935 22.85C103.871 22.85 104.599 23.253 105.015 23.942V20.575ZM103.273 24.111C102.246 24.111 101.505 25.034 101.505 26.503C101.505 27.985 102.246 28.908 103.273 28.908C104.287 28.908 105.08 28.115 105.08 26.503C105.08 24.891 104.287 24.111 103.273 24.111Z",fill:"white"})]}))}},47320:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var s=i(31085);function r({lang:e}){return"ru"===e?(0,s.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,s.jsx)("mask",Object.assign({id:"path-3-inside-1",fill:"white"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z"})})),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z",fill:"white",stroke:"white",strokeWidth:"2",mask:"url(#path-3-inside-1)"})]})):(0,s.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM43.8057 10.1083C45.1177 10.1083 45.9277 10.9923 45.9277 12.4443C45.9277 13.9033 45.1207 14.7843 43.8057 14.7843C42.4877 14.7843 41.6807 13.9033 41.6807 12.4443C41.6807 10.9923 42.4917 10.1083 43.8057 10.1083ZM63.3428 10.1083C64.6548 10.1083 65.4658 10.9923 65.4658 12.4443C65.4658 13.9033 64.6578 14.7843 63.3428 14.7843C62.0248 14.7843 61.2178 13.9033 61.2178 12.4443C61.2178 10.9923 62.0288 10.1083 63.3428 10.1083ZM81.355 10.1083C82.667 10.1083 83.477 10.9923 83.477 12.4443C83.477 13.9033 82.67 14.7843 81.355 14.7843C80.037 14.7843 79.23 13.9033 79.23 12.4443C79.23 10.9923 80.041 10.1083 81.355 10.1083ZM102.806 10.1078C104.059 10.1078 104.815 10.9638 104.815 12.3778V12.6878H101.635V12.7378C101.664 13.5278 102.123 14.0278 102.834 14.0278C103.372 14.0278 103.74 13.8338 103.906 13.4818H104.761C104.559 14.2888 103.839 14.7848 102.81 14.7848C101.52 14.7848 100.73 13.8998 100.73 12.4608C100.73 11.0218 101.536 10.1078 102.806 10.1078ZM75.5531 8.43731V14.6973H74.7021V13.9863H74.6311C74.3631 14.4783 73.8371 14.7723 73.2171 14.7723C72.0721 14.7723 71.3481 13.8703 71.3481 12.4443C71.3481 11.0213 72.0791 10.1203 73.2171 10.1203C73.8331 10.1203 74.3541 10.4133 74.5981 10.9103H74.6641V8.43731H75.5531ZM68.4144 10.1076C69.5434 10.1076 70.1804 10.6696 70.1804 11.6216V14.6976H69.3244V14.0646H69.2544C68.9854 14.5156 68.4934 14.7716 67.9014 14.7716C67.0334 14.7716 66.4004 14.2476 66.4004 13.4246C66.4004 12.6136 67.0044 12.1466 68.0754 12.0806L69.2954 12.0096V11.6216C69.2954 11.1456 68.9814 10.8766 68.3734 10.8766C67.8774 10.8766 67.5334 11.0596 67.4354 11.3776H66.5744C66.6654 10.6036 67.3934 10.1076 68.4144 10.1076ZM93.5152 9.07371V10.2157H94.4912V10.9637H93.5152V13.2797C93.5152 13.7507 93.7092 13.9577 94.1522 13.9577C94.2882 13.9577 94.3672 13.9487 94.4912 13.9367V14.6777C94.3462 14.7017 94.1802 14.7227 94.0072 14.7227C93.0192 14.7227 92.6252 14.3747 92.6252 13.5067V10.9637H91.9112V10.2157H92.6252V9.07371H93.5152ZM37.8267 8.73101C39.5957 8.73101 40.6337 9.81801 40.6337 11.696C40.6337 13.602 39.6037 14.698 37.8267 14.698H35.6707V8.73101H37.8267ZM47.4703 10.1948L48.2773 13.6308H48.3443L49.2693 10.1948H50.1223L51.0483 13.6308H51.1183L51.9213 10.1948H52.8093L51.5733 14.6978H50.6513L49.7203 11.3818H49.6503L48.7233 14.6978H47.8103L46.5693 10.1948H47.4703ZM56.1195 10.1078C57.1245 10.1078 57.6775 10.7118 57.6775 11.7828V14.6978H56.7895V12.0058C56.7895 11.2818 56.4745 10.9228 55.8175 10.9228C55.1605 10.9228 54.7425 11.3608 54.7425 12.0638V14.6978H53.8535V10.1948H54.7085V10.9098H54.7755C54.9945 10.4098 55.4415 10.1078 56.1195 10.1078ZM59.983 8.43701V14.698H59.094V8.43701H59.983ZM86.9355 10.1078C87.9405 10.1078 88.4935 10.7118 88.4935 11.7828V14.6978H87.6055V12.0058C87.6055 11.2818 87.2905 10.9228 86.6335 10.9228C85.9765 10.9228 85.5585 11.3608 85.5585 12.0638V14.6978H84.6695V10.1948H85.5245V10.9098H85.5915C85.8105 10.4098 86.2575 10.1078 86.9355 10.1078ZM96.5856 8.43701V10.918H96.6556C96.8746 10.414 97.3506 10.112 98.0286 10.112C98.9876 10.112 99.5796 10.72 99.5796 11.791V14.698H98.6896V12.01C98.6896 11.291 98.3546 10.926 97.7266 10.926C96.9986 10.926 96.5936 11.386 96.5936 12.068V14.698H95.7046V8.43701H96.5856ZM69.2954 12.6636L68.1954 12.7336C67.5754 12.7746 67.2944 12.9856 67.2944 13.3826C67.2944 13.7886 67.6464 14.0236 68.1294 14.0236C68.7994 14.0236 69.2954 13.5976 69.2954 13.0396V12.6636ZM81.355 10.8973C80.583 10.8973 80.148 11.4683 80.148 12.4443C80.148 13.4283 80.583 13.9943 81.355 13.9943C82.125 13.9943 82.563 13.4243 82.563 12.4443C82.563 11.4683 82.125 10.8973 81.355 10.8973ZM43.8057 10.8973C43.0337 10.8973 42.5987 11.4683 42.5987 12.4443C42.5987 13.4283 43.0337 13.9943 43.8057 13.9943C44.5757 13.9943 45.0137 13.4243 45.0137 12.4443C45.0137 11.4683 44.5757 10.8973 43.8057 10.8973ZM63.3428 10.8973C62.5708 10.8973 62.1358 11.4683 62.1358 12.4443C62.1358 13.4283 62.5708 13.9943 63.3428 13.9943C64.1128 13.9943 64.5508 13.4243 64.5508 12.4443C64.5508 11.4683 64.1128 10.8973 63.3428 10.8973ZM73.4691 10.9183C72.7211 10.9183 72.2661 11.4973 72.2661 12.4443C72.2661 13.3993 72.7161 13.9743 73.4691 13.9743C74.2181 13.9743 74.6811 13.3913 74.6811 12.4483C74.6811 11.5093 74.2131 10.9183 73.4691 10.9183ZM37.7227 9.57401H36.5977V13.854H37.7227C38.9707 13.854 39.6907 13.077 39.6907 11.708C39.6907 10.36 38.9587 9.57401 37.7227 9.57401ZM102.801 10.8638C102.144 10.8638 101.685 11.3278 101.635 12.0308H103.909C103.889 11.3238 103.459 10.8638 102.801 10.8638Z",fill:"white"})]}))}},99937:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var s=i(31085);function r(){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 304 180",fill:"none"},{children:[(0,s.jsx)("path",{fill:"#19AA1E",d:"M106.4 122.894v-64.33a8.866 8.866 0 017.803-8.81l88.375-10.75a16.45 16.45 0 0112.904 4.02 16.47 16.47 0 015.551 12.332v60.668a11.402 11.402 0 01-10.019 11.32l-87.577 10.647a15.19 15.19 0 01-11.909-3.707 15.22 15.22 0 01-5.128-11.377v-.013z"}),(0,s.jsx)("path",{fill:"#19AA1E",d:"M208.227 52.644l-.101 75.84-77.051 9.419.101-75.841 77.051-9.418z"}),(0,s.jsx)("path",{fill:"#C4C4C4",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,s.jsx)("path",{fill:"url(#thanks-photo-a)",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,s.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,s.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,s.jsx)("path",{fill:"#C4C4C4",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,s.jsx)("path",{fill:"url(#thanks-photo-b)",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,s.jsx)("path",{fill:"#169523",d:"M130.087 43.758c7.22-.888 14.997.583 17.378 3.258 2.407 2.687-1.52 5.577-8.714 6.464-7.208.875-14.985-.583-17.366-3.27-2.394-2.688 1.52-5.578 8.714-6.452h-.012z"}),(0,s.jsx)("path",{fill:"#C4C4C4",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,s.jsx)("path",{fill:"url(#paint2_linear)",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,s.jsx)("path",{fill:"url(#paint3_linear)",d:"M163.653 55.61c5.32 0 9.627-1.648 9.627-3.714l.101-.19-.215.202c-1.115.99-3.319 1.8-6.27 2.155-.963.127-1.938.19-2.913.203-4.193.038-8.17-.887-9.842-2.37l-.19-.19c.028.064.057.127.088.19 0 2.053 4.307 3.714 9.627 3.714h-.013z"}),(0,s.jsx)("path",{fill:"#169523",d:"M160.639 41.92c5.041-.609 10.488.405 12.16 2.281 1.672 1.876-1.064 3.905-6.106 4.513-5.041.634-10.488-.406-12.16-2.282-1.672-1.876 1.064-3.891 6.106-4.512z"}),(0,s.jsx)("path",{fill:"url(#paint4_radial)",fillRule:"evenodd",d:"M173.964 46.927c-.089 2.13-4.674 3.853-10.298 3.853-5.7 0-10.298-1.762-10.298-3.93 0-.43.329-.76.519-1.128.076-.152.127-.304.165-.583v.419c-.051.05-.051.063 0 0 .253 1.901 4.471 3.41 9.627 3.41 5.307 0 9.614-1.61 9.614-3.6v-.127c0 .076.025.152.038.215.05.228.19.38.316.57.178.28.279.571.317.888v.013z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"url(#paint5_linear)",d:"M172.963 48.613c-.608.469-1.469.887-2.533 1.242-2.394.76-4.965.989-7.448.925a20.878 20.878 0 01-6.764-1.191c-1.165-.444-2.457-1.204-2.837-2.345-.02-.1-.028-.203-.026-.304v3.473c.026.76.532 1.305 1.115 1.736a11.988 11.988 0 004.902 1.762c3.413.572 6.907.45 10.273-.355a9.137 9.137 0 003.42-1.546c.468-.393.899-.925.899-1.572v-3.473c0 .62-.38 1.153-1.013 1.648h.012z"}),(0,s.jsx)("path",{fill:"#19AA1E",d:"M189.088 68.26c17.037-2.383 30.805 10.522 30.767 28.813-.038 18.279-13.857 35.037-30.881 37.42-17.024 2.37-30.793-10.521-30.755-28.8.026-18.292 13.858-35.05 30.882-37.433h-.013z"}),(0,s.jsx)("path",{fill:"url(#paint6_linear)",d:"M146.427 77.654c-8.386 15.21-6.245 34.352 9.284 44.34 5.827 3.74 12.16 6.795 18.19 10.141a36.831 36.831 0 01-1.938-1.141c-15.542-10.014-17.645-29.167-9.247-44.366 8.36-15.173 25.688-23.577 42.433-15.743l.672.33c-5.612-3.106-11.134-6.567-16.936-9.292-16.72-7.834-34.06.532-42.458 15.73z"}),(0,s.jsx)("path",{fill:"#262626",d:"M174.908 128.2c12.65 7.308 29.729 1.403 38.149-13.19 8.419-14.594 4.989-32.349-7.661-39.658-12.65-7.308-29.729-1.403-38.149 13.19-8.419 14.593-4.989 32.349 7.661 39.658z"}),(0,s.jsx)("g",Object.assign({filter:"url(#filter0_ii)"},{children:(0,s.jsx)("path",{fill:"url(#paint7_linear)",d:"M214.459 115.846l.064-.101c8.93-15.49 5.244-34.352-8.234-42.148-13.477-7.783-31.654-1.546-40.584 13.944-8.93 15.477-5.244 34.352 8.234 42.135 9.17 5.299 20.52 4.107 29.64-2.079-8.74 5.894-19.431 7.086-28.044 2.104-12.819-7.402-16.138-25.643-7.423-40.74 8.715-15.11 26.157-21.347 38.975-13.944 12.806 7.403 16.138 25.643 7.423 40.753l-.051.076z"})})),(0,s.jsx)("g",Object.assign({filter:"url(#filter1_ii)"},{children:(0,s.jsx)("path",{fill:"url(#paint8_linear)",fillRule:"evenodd",d:"M176.725 127.369c12.072 6.972 28.348 1.394 36.354-12.46 7.992-13.868 4.686-30.765-7.398-37.737-12.071-6.972-28.348-1.394-36.353 12.46-7.98 13.868-4.687 30.765 7.397 37.737zm33.884-13.868a39.886 39.886 0 01-1.748 2.713c-8.145 11.535-21.952 16.149-32.098 10.293-.29-.163-.577-.332-.861-.507-11.387-6.566-14.313-22.842-6.523-36.33 7.777-13.487 23.306-19.09 34.706-12.51.291.162.579.33.862.506 10.133 5.857 13.034 20.117 7.144 32.933a37.283 37.283 0 01-1.482 2.902z",clipRule:"evenodd"})})),(0,s.jsx)("path",{fill:"#19AA1E",fillRule:"evenodd",d:"M175.535 129.701c12.818 7.403 30.273 1.167 38.975-13.943 8.715-15.085 5.383-33.338-7.423-40.741-12.818-7.403-30.273-1.166-38.975 13.944-8.715 15.084-5.396 33.338 7.423 40.74zm1.469-2.167c11.919 6.883 28.069 1.229 36.075-12.626 7.992-13.867 4.813-30.676-7.119-37.572-11.919-6.895-28.069-1.242-36.075 12.613-7.992 13.868-4.813 30.689 7.119 37.585z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"#fff",d:"M204.237 93.866c2.28-.418 3.737-2.991 3.23-5.73-.506-2.737-2.786-4.613-5.066-4.195-2.293.418-3.75 2.979-3.243 5.717.507 2.738 2.787 4.627 5.067 4.208h.012zm-8.22 1.775c.836-.152 1.342-1.166 1.14-2.282-.203-1.103-1.052-1.863-1.888-1.711-.823.152-1.33 1.166-1.14 2.282.216 1.09 1.052 1.863 1.888 1.71z"}),(0,s.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M94.747 158.324c-34.808 9.659-79.61-13.766-52.06-80.823C63.105 27.786 109.3 29.434 121.65 31.78c16.504 3.144 21.381 11.18 16.238 16.301-6.143 6.11-16.124-.52-31.616 1.788-11.4 1.711-29.361 5.45-38.608 27.595 11.983-29.51 70.313-37.52 62.966 15.668"}),(0,s.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M168.15 29.624l24.447-17.34-6.283 22.854 39.9-27.697-18.848 36.33 54.264-24.846-26.651 32.223M76.367 109.407c2.964-3.993 8.905-13.094 22.902-15.275 24.497-3.815 36.391 35.798 5.611 47.447-15.871 6.008-18.455-14.058.507-19.23l-29.02-12.942zm-3.242-19.33c11.324-22.97 63.308-29.6 51.756 19.812L73.125 90.076zm87.767 64.71c8.575 15.668 55.885 32.527 85.779 18.888 44.308-20.219 16.935-70.783-5.194-91.99-14.972-14.362-17.834-21.765-23.357-17.937-4.522 3.144-2.85 14.768.063 22.437 4.725 12.397 22.674 27.304 4.624 42.819-12.11 10.395-35.011 8.975-50.794.406-13.49-7.314-27.613-17.62-31.717-9.507-1.482 2.941.659 10.394 7.119 16.707 11.425 11.13 32.844 23.425 63.156 24.401l-49.679-6.224zm47.956 14.35c-12.996-.482-44.713-9.545-55.353-24.896l55.353 24.896z"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",Object.assign({id:"thanks-photo-a",x1:"105.032",x2:"131.176",y1:"96.11",y2:"96.11",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".01",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".3",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".57",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"thanks-photo-b",x1:"213.155",x2:"226.784",y1:"87.173",y2:"87.173",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:".19",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:".43",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".7",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".99",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"paint2_linear",x1:"120.675",x2:"148.175",y1:"53.696",y2:"53.696",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".25",stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:".48",stopColor:"#E6F6E6",stopOpacity:".5"}),(0,s.jsx)("stop",{offset:".51",stopColor:"#C5EAC6",stopOpacity:".58"}),(0,s.jsx)("stop",{offset:".62",stopColor:"#49BC4D",stopOpacity:".88"}),(0,s.jsx)("stop",{offset:".68",stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"paint3_linear",x1:"153.951",x2:"173.381",y1:"53.658",y2:"53.658",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#194B41"}),(0,s.jsx)("stop",{offset:".17",stopColor:"#19513F"}),(0,s.jsx)("stop",{offset:".41",stopColor:"#196338"}),(0,s.jsx)("stop",{offset:".69",stopColor:"#19812D"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"paint5_linear",x1:"153.343",x2:"173.964",y1:"50.603",y2:"50.603",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".71",stopColor:"#199029"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"paint6_linear",x1:"139.384",x2:"200.261",y1:"121.285",y2:"67.9",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,s.jsx)("stop",{offset:".14",stopColor:"#195640"}),(0,s.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,s.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,s.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"paint7_linear",x1:"190.114",x2:"190.114",y1:"70.251",y2:"133.035",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#16961A"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#0D5810"})]})),(0,s.jsxs)("linearGradient",Object.assign({id:"paint8_linear",x1:"191.203",x2:"191.203",y1:"74.168",y2:"130.386",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#0D5810"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#16961A"})]})),(0,s.jsxs)("filter",Object.assign({id:"filter0_ii",width:"59.565",height:"63.283",x:"160.331",y:"69.997",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,s.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dx:".5",dy:".25"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,s.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,s.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,s.jsxs)("filter",Object.assign({id:"filter1_ii",width:"53.464",height:"56.705",x:"164.474",y:"73.918",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,s.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dx:".5",dy:".25"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,s.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,s.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,s.jsxs)("radialGradient",Object.assign({id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(7.55646 0 0 7.50847 163.666 47.953)",gradientUnits:"userSpaceOnUse"},{children:[(0,s.jsx)("stop",{stopColor:"#fff",stopOpacity:".5"}),(0,s.jsx)("stop",{offset:".05",stopColor:"#E4F5E4",stopOpacity:".56"}),(0,s.jsx)("stop",{offset:".35",stopColor:"#52BF56",stopOpacity:".88"}),(0,s.jsx)("stop",{offset:".49",stopColor:"#19AA1E"}),(0,s.jsx)("stop",{offset:".64",stopColor:"#199029"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#195441"})]}))]})]}))}},15635:(e,t,i)=>{"use strict";i.d(t,{s:()=>x});var s=i(31085),r=i(14041),n=i(26461);function a({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M10.8 11L9.6 7.6 8 10.1 6.4 7.7 5.2 11h-2l2.9-7.2L8 6.7l1.9-2.9 2.9 7.2h-2z"})}))}function o({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M10.9 11.8l-.9-1.2c1.5-1.1 1.7-3.3.6-4.7l-.3-.3L8 10.9 5.7 5.6c-1.3 1.3-1.3 3.5 0 4.8l.3.3-.9 1.2C4 10.9 3.2 9.5 3.2 8c0-1.7.9-3.4 2.4-4.2l.7-.4 1.6 3.8 1.6-3.8.7.4c1.5.9 2.4 2.5 2.4 4.2.2 1.5-.6 2.9-1.7 3.8z"})}))}function c({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M11 12L9.5 9 8 12 6.5 9 5 12 3 8l2-4 1.5 3L8 4l1.5 3L11 4l2 4-2 4z"})}))}function d({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M11 7V3h-1L8 5 6 3H5v4H3v1l5 5 5-5V7h-2zm-3 3.9L5.6 8.5h.9V5.6l.4.4L8 7.1 9.1 6l.4-.4v2.9h.9L8 10.9z"})}))}function l({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M13 11h-3v-1h.4l-.9-2.4L8 10.1 6.4 7.7 5.6 10H6v1H3v-1h.6l2.5-6.2L8 6.7l1.9-2.9 2.5 6.2h.6v1z"})}))}function u({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M10.3 11l-.9-2.3L8 10.5 6.6 8.6 5.7 11l-2.3-.5c0-2.3.8-4.5 2-6.5L8 6.3 10.6 4c1.3 2 2 4.2 2.1 6.5l-2.4.5z"})}))}function p({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,s.jsx)("path",{d:"M10 10.5l1-1V3.8c-.9-.6-2-.8-3-.8s-2.1.2-3 .8v5.8l1 1-1.1 1.6 1.2.9 1.1-1.5h1.6l1.1 1.5 1.2-1-1.1-1.6zm-2-1L6 8V5h4v3L8 9.5z"})}))}function m({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3z"})}))}function g({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M8.47 24h3.43a9 9 0 0 1-1.32-15.18L16 24l5.42-15.18A9 9 0 0 1 20.1 24h3.43A11 11 0 0 0 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58A11 11 0 0 0 8.47 24z"})}))}function h({color:e="currentColor"}){return(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,s.jsx)("path",{d:"M18.22 14.1L16 10.65l-2.28 3.55-2.28-3.55L8 16l3.44 5.35 2.28-3.55L16 21.35l2.22-3.45 2.22 3.45L23.88 16l-3.44-5.35zm-6.78 3.55L10.38 16l1.06-1.65L12.5 16zm4.56 0L14.94 16 16 14.35 17 16v.05zm4.44 0l-1-1.6v-.1l1-1.6L21.5 16z"}),(0,s.jsx)("path",{d:"M16 6C8.83 6 3 10.49 3 16s5.83 10 13 10 13-4.49 13-10S23.17 6 16 6zm0 18c-6.07 0-11-3.59-11-8s4.93-8 11-8 11 3.59 11 8-4.93 8-11 8z"})]}))}function f({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M16 26.64L6 16.41V14h4V6h2.43L16 9.76 19.57 6H22v8h4v2.41zM8.4 16l7.6 7.78L23.6 16H20V8.45l-4 4.21-4-4.21V16z"})}))}function v({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22z"})}))}function b({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M20.38 24.14L18.73 20 16 23.67 13.27 20l-1.65 4.12L5 22.82V22A29.28 29.28 0 0 1 9.66 7.46l.64-1 5.7 5.19 5.7-5.19.64 1A29.28 29.28 0 0 1 27 22v.82zM19.27 16l2.35 5.88 3.38-.69a28.47 28.47 0 0 0-3.72-11.64L16 14.35l-5.28-4.8A28.47 28.47 0 0 0 7 21.19l3.34.67L12.73 16 16 20.33z"})}))}function y({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,s.jsx)("path",{d:"M24 7.15a15.39 15.39 0 0 0-8-2 15.39 15.39 0 0 0-8 2v12l3.66 2.92-3.37 3.37 1.42 1.41 3.7-3.7h5.18l3.7 3.7 1.42-1.41-3.37-3.37L24 19.15zm-14 4h12v2.42L16 17l-6-3.43zm6-4a15 15 0 0 1 6 1.2v.8H10v-.8a14.89 14.89 0 0 1 6-1.2zm2.3 14h-4.6l-3.7-3v-2.28l6 3.43 6-3.43v2.32z"})}))}class x extends r.PureComponent{render(){const{size:e}=this.props;switch(e){case 16:return this.getIcon16();case 32:return this.getIcon32()}}getIcon16(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,s.jsx)(p,{color:t});case"kharkov":return(0,s.jsx)(u,{color:t});case"moscow":return(0,s.jsx)(l,{color:t});case"praha":return(0,s.jsx)(d,{color:t});case"santiago":return(0,s.jsx)(c,{color:t});case"spb":return(0,s.jsx)(o,{color:t});default:return(0,s.jsx)(a,{color:t})}}getIcon32(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,s.jsx)(y,{color:t});case"kharkov":return(0,s.jsx)(b,{color:t});case"moscow":return(0,s.jsx)(v,{color:t});case"praha":return(0,s.jsx)(f,{color:t});case"santiago":return(0,s.jsx)(h,{color:t});case"spb":return(0,s.jsx)(g,{color:t});default:return(0,s.jsx)(m,{color:t})}}}x.displayName=(0,n.d)("src/shared/icons/mappings/metro")},56153:(e,t,i)=>{"use strict";i.d(t,{v:()=>l});var s=i(85608),r=i(31085),n=i(99259),a=i(84175),o=i(14041),c=i(80552),d=i(40104);const l=(0,o.memo)((e=>{var{html:t,contentClassName:i}=e,n=(0,s.Tt)(e,["html","contentClassName"]);const{s:c,css:l}=(0,a.I)(u),p=(0,o.useMemo)((()=>(0,d.a)(t)),[t]);return(0,r.jsx)("span",Object.assign({},n,{children:(0,r.jsx)("span",{className:l(c.html,i),dangerouslySetInnerHTML:{__html:p}})}))})),u=(0,a.r)({html:{"& a":{color:n.T.blue_0072ce,":hover":{color:n.T.gray_262626}},"& p, & ul, & ol":{marginBottom:"1.23em"},"& *:last-child":{marginBottom:0},"& ul":{listStyle:"disc"},"& ol":{listStyle:"decimal"},"& li":{marginStart:32},"& b, & strong":{fontWeight:c.fontWeight.semibold},"& i, & em":{fontStyle:"italic"}}})},40104:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var s=i(88836),r=i.n(s);const n={a:["href"],b:[],strong:[],i:[],em:[],br:[],p:[],ul:[],ol:[],li:[]},a=e=>o(r()(e,{whiteList:n})),o=e=>e.replace(/(<br\s*\/?>){3,}/g,"<br><br>").replace(/<a /g,'<a target="_blank" rel="noopener" ')},98626:(e,t,i)=>{"use strict";i.d(t,{Q:()=>b});var s=i(31085),r=i(46579),n=i(10742),a=i(84175),o=i(81618),c=i(53772),d=i(3135),l=i(14041),u=i(79594),p=i(95792),m=i(49959),g=i(82781),h=i(99259),f=i(80552),v=i(88756);const b=(0,l.memo)((e=>{const{isMobileDevice:t}=(0,r.U)();return t?(0,s.jsx)(x,Object.assign({},e)):(0,s.jsx)(y,Object.assign({},e))}));b.displayName="AdInfoLink";const y=(0,l.memo)((e=>{const{onCopy:t,renderIdInput:i}=(0,d.m)(),{ref:r,addTooltip:n}=(0,p.J)({title:(0,s.jsx)(m.B,Object.assign({},e,{renderIdInput:i})),to:"bottomBottomStart",loseHoverOnClick:!1,delay:300});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j,Object.assign({},e,{containerRef:r,onClick:t})),n]})})),x=(0,l.memo)((e=>{const t=(0,u.wA)(),i=(0,n.D)((i=>{i.stopPropagation(),i.preventDefault(),t((0,c.Z)(e))}));return(0,s.jsx)(j,Object.assign({},e,{onClick:i}))})),j=(0,l.memo)((e=>{const{suffix:t,gray:i,tiny:n,small:c,styles:d,dataN:l="wat-ad-info-link",containerRef:u,onClick:p,rating:m,anchorText:h,warning:f,description:b}=e,{s:y,css:x}=(0,a.I)(w),j=(0,g.c)(),{featureAdInfo:I}=(0,r.U)();return(0,s.jsx)("span",Object.assign({ref:I?u:void 0,onClick:I?p:void 0},o.dx.n(l),{className:x(y.root,I&&y.cursor,t&&y.suffix,i&&y.gray,n&&y.tiny,c&&y.small,d)},{children:(()=>{if(h)return h;const e=t?j._t(" — реклама"):j._t("Реклама");return void 0!==m||b?(0,s.jsxs)(v.u,Object.assign({inline:!0,styles:b?y.inline:y.noWrap,dotTheme:"inherit"},{children:[e,void 0!==m&&`${m}+`,b&&(0,s.jsx)("span",Object.assign({},o.dx.n("wat-ads-text-description"),{children:b})),f&&(0,s.jsx)("span",Object.assign({},o.dx.n("wat-ads-text-warning"),{children:f}))]})):e})()}))}));j.displayName="AdInfoLinkInner";const w=(0,a.r)({root:{fontWeight:f.fontWeight.medium},gray:{color:h.T.gray_929292},tiny:Object.assign({},(0,f.lineClamped)(1,f.tiny)),small:Object.assign({},(0,f.lineClamped)(1,f.smallMedium)),suffix:Object.assign(Object.assign({},f.small),{color:h.T.gray_929292,whiteSpace:"nowrap"}),cursor:{cursor:"pointer"},noWrap:{whiteSpace:"nowrap"},inline:{display:"inline"}})},848:(e,t,i)=>{"use strict";i.d(t,{i:()=>a});var s=i(14041),r=i(76065),n=i(46579);const a=({direction:e,size:t,color:i,icon:a=r.i})=>{const{rtl:c}=(0,n.U)();return s.createElement(a,{direction:o(e,c),size:t,color:i})};function o(e,t){switch(e){case"start":return t?"right":"left";case"end":return t?"left":"right";default:return e}}},63245:(e,t,i)=>{"use strict";i.d(t,{$:()=>m});var s=i(31085),r=i(14041),n=i(99259),a=i(81618),o=i(59603),c=i(76065),d=i(2829),l=i(35023),u=i(70498),p=i(84175);const m=(0,r.memo)((({children:e,showDivider:t=!1,bgColor:i})=>{const{css:d,s:u,dir:m}=(0,p.I)(g),[h,f]=(0,r.useState)("none"),v=(0,r.useRef)(null),b=(0,r.useCallback)((()=>{const e=v.current;if(!e)return;const t="rtl"===m,{scrollLeft:i,scrollWidth:s,clientWidth:r}=e,n=Math.abs(i),a=s-r,o=n===a;f(0===i||n<4&&!o?t?"left":"right":o||n>=a-4?t?"right":"left":"both")}),[m]),y=(0,r.useCallback)((()=>{const e=v.current;if(e){e.scrollWidth-e.clientWidth<=4?f("none"):"none"===h&&b()}}),[h,b]);(0,r.useEffect)((()=>{setTimeout(y,0)}),[y]),(0,r.useEffect)((()=>{y()}));const x=(0,r.useCallback)(((e,t)=>{const i=v.current;if(!i)return;const{offsetWidth:s,scrollLeft:r}=i,n=t+e;"rtl"!==m?r>t?i.scrollLeft=0:n>s&&(i.scrollLeft=n-s+e):r>=t?i.scrollLeft=Math.abs(n)-s:Math.abs(n)>s-t&&(i.scrollLeft=s+e)}),[m]),j=(0,r.useCallback)((()=>{let e=1;return"right"===h?e=0:"left"===h&&(e=2),e}),[h]),w=(0,r.useCallback)((e=>{const t=v.current,i="rtl"===m;if(t){let s=0;switch(e){case 0:s=i?-t.scrollWidth:0;break;case 1:"right"===h?s=t.scrollWidth:"left"===h&&(s=i?-t.scrollWidth:0);break;case 2:s=t.scrollWidth}t.scrollLeft=s}}),[h,m]);return(0,s.jsxs)("div",Object.assign({className:d(u.wrapper,t&&u._divider)},a.dx.n("wat-wrapper-tabs"),{style:{"--bg-color":i}},{children:[(()=>{if("none"!==h){const e="right"!==h?(0,s.jsx)("div",Object.assign({className:d(u.arrow)},a.dx.n("wat-arrow-left"),{children:(0,s.jsx)(c.i,{direction:"left",color:n.T.black})})):null,t="left"!==h?(0,s.jsx)("div",Object.assign({className:d(u.arrow,u._right)},a.dx.n("wat-arrow-right"),{children:(0,s.jsx)(c.i,{direction:"right",color:n.T.black})})):null;return(0,s.jsx)(o.N,{left:e,right:t,currentIndex:j(),maxIndex:2,minIndex:0,onChange:w})}return null})(),(0,s.jsx)("div",Object.assign({className:d(u.content),ref:v,onScroll:"none"!==h?b:l.lQ},a.dx.n("wat-contents-tabs"),a.dx.s(h),{children:e(x)}))]}))}));m.displayName="ArrowedScrollWrapper";const g=(0,p.r)({wrapper:{position:"relative",display:"flex",alignItems:"center",height:48,zIndex:d.f.base,background:"var(--bg-color)"},content:{zIndex:d.f.base,margin:"0 24px",width:"100%",height:"100%",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},arrow:{position:"absolute",background:"var(--bg-color)",top:12,height:24,width:24,left:0,paddingLeft:8,zIndex:d.f.top,"::before":{content:'""',backgroundImage:"linear-gradient(to right, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))",pointerEvents:"none",height:44,width:72,position:"absolute",left:0,paddingLeft:8,top:-12}},_divider:{boxShadow:u.E.innerBorderBottomBase},_right:{left:"auto",right:0,paddingRight:8,paddingLeft:0,"::before":{left:"auto",right:0,paddingRight:8,paddingLeft:0,backgroundImage:"linear-gradient(to left, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))"}}})},91466:(e,t,i)=>{"use strict";i.d(t,{i:()=>u});var s=i(31085),r=i(14041),n=i(91664),a=i(99259),o=i(81618),c=i(69158),d=i(84175),l=i(46579);const u=(0,r.memo)((({id:e,src:t,src2x:i,backgroundColor:n,backgroundPosition:a,isLoadingForced:c,contain:u,overlay:m,width:g,height:h,borderRadius:f="0",renderPlaceholder:v,onClick:b,onError:y,onLoad:x,dataN:j="wat-background-image",dataV:w,dataT:I})=>{const{css:C,s:_}=(0,d.I)(p),[k,O]=(0,r.useState)(!1),[S,T]=(0,r.useState)(!1),{userAgent:E}=(0,l.U)(),M=v&&!c,N=(0,r.useMemo)((()=>i?/AppleWebKit/.test(E)?`-webkit-image-set(url("${t}") 1x, url("${i}") 2x)`:`image-set("${t}" 1x, "${i}" 2x)`:`url(${t})`),[t,i,E]);(0,r.useEffect)((()=>{if(!M&&!x&&!y)return;const e=new Image;e.onload=()=>{T(!0),x&&x(e)},e.onerror=e=>{O(!0),y&&y(e)},e.src=t}),[t,M,y,x]);const L=(0,r.useCallback)((()=>{b&&b({id:e,src:t})}),[t,e,b]);return!M||!k&&S?(0,s.jsx)("div",Object.assign({role:"img",className:C(_.image,u&&_._imageContain,m&&_._imageOverlay,b&&_._imageClickable),style:{backgroundImage:N,backgroundColor:n,backgroundPosition:a,width:g||"100%",height:h||"100%",maxWidth:"100%",maxHeight:"100%",borderRadius:f},onClick:L},(0,o.p)({n:j,v:w,t:I}))):(0,s.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",width:g||"100%",height:h||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:v(k?"error":"loading")}))})),p=(0,d.r)({image:{backgroundBlendMode:"multiply",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},_imageContain:{backgroundSize:"contain"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${n.S.short}ms ease-out`,background:(0,c.m)(a.T.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}});u.displayName="BackgroundImg"},96141:(e,t,i)=>{"use strict";i.d(t,{$:()=>h,k:()=>f});var s=i(31085),r=i(14041),n=i(84175),a=i(80552),o=i(69158),c=i(99259),d=i(81618);class l extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,disabled:i,onClick:s}=this.props;(t||s)&&e.stopPropagation(),i||(t||e.preventDefault(),s&&s(e))}}render(){const{className:e,style:t,href:i,external:r,disabled:n,children:a,dataN:o="wat-kit-button",dataT:c,dataS:l,type:u,containerRef:p,onContextMenu:m}=this.props,g=d.dx.n(o),h=c?d.dx.t(c):void 0,f=l?d.dx.s(l):void 0,v=Object.assign(Object.assign(Object.assign(Object.assign({className:e,style:t,onClick:this.handleClick,onContextMenu:m,target:r&&i?"_blank":void 0,rel:r&&i&&!i.startsWith("tel:")?"noopener":void 0,disabled:n,ref:p},g),h),f),{type:"submit"===u?"submit":"button"});return i?(0,s.jsx)("a",Object.assign({href:i},v,{children:a})):(0,s.jsx)("button",Object.assign({},v,{children:a}))}}var u=i(64099),p=i(70498),m=i(63168),g=i(25698);const h=(0,r.memo)((e=>{const{appearance:t,background:i,wide:r,sharp:a,leftRounded:o,rightRounded:c,noBorder:d,compact:u,fat:p,medium:g,href:h,children:f,onClick:v,external:y,disabled:x,dataN:j,dataT:w,dataS:I,type:C,containerRef:_,color:k,experimentalStyles:O,onContextMenu:S}=e,{css:T,s:E}=(0,n.I)(b);return(0,s.jsx)(l,Object.assign({href:h,className:T(E.button,(()=>{switch(t){case"primary":return E._primary;case"secondary":return E._secondary;case"ghost":return E._ghost;case"noncontrast":return E._noncontrast;default:return E._default}})(),...(()=>{const e=[];return i&&e.push(E._background),r&&e.push(E._wide),d&&e.push(E._noBorder),p?e.push(E._fat):u?e.push(E._compact):g&&e.push(E._medium),a?e.push(E._sharp):o?e.push(E._leftRounded):c&&e.push(E._rightRounded),x&&e.push(E._disabled),e})(),O),style:{background:i,color:k||i&&(0,m.a)(i)},onClick:v,external:y,disabled:x,dataN:j,dataT:w,dataS:I,type:C,containerRef:_,onContextMenu:S},{children:f}))})),f=({medium:e,fat:t,compact:i,wide:r})=>{const n=t?40:i?8:e?16:24;return(0,s.jsx)(g.M,{width:r?"100%":100+2*n,height:parseInt(a.regular.lineHeight)+n,borderRadius:u.Vq.default})},v={background:"transparent",border:"none",margin:0,padding:0,WebkitAppearance:"none",color:"inherit",textDecoration:"none"},b=(0,n.r)((e=>({button:Object.assign(Object.assign(Object.assign({},v),a.regular),{position:"relative",zIndex:u.fE.base,boxSizing:"border-box",display:"inline-block",borderRadius:u.Vq.default,boxShadow:p.E.innerBorderTransparent,overflow:"hidden",padding:"12px 24px",cursor:"pointer",textAlign:"center"}),_background:{background:"transparent",":after":{content:'""',zIndex:u.fE.bottom,position:"absolute",top:0,bottom:0,start:0,end:0,background:"transparent"},":hover:after":{background:(0,o.m)(c.T.gray_929292,.2)}},_wide:{display:"block",width:"100%"},_fat:{padding:"20px 40px"},_compact:{padding:"4px 8px"},_medium:{padding:"8px 12px"},_sharp:{borderRadius:0},_leftRounded:{borderRadius:u.Vq.defaultOnlyEnd},_rightRounded:{borderRadius:u.Vq.defaultOnlyStart},_default:{background:c.T.white,color:c.T.blue_0072ce,":after":{borderRadius:u.Vq.default,boxShadow:p.E.innerBorderTransparent},":hover":{color:c.T.gray_262626},":active":{color:c.T.gray_929292}},_ghost:{background:"transparent",color:c.T.blue_0072ce,":hover":{color:c.T.gray_262626},":active":{color:c.T.gray_929292}},_noncontrast:{background:c.T.gray_f2f2f2,color:c.T.gray_262626,":hover":{color:c.T.gray_262626,background:c.T.blue_c5ebff},":active":{color:c.T.gray_929292}},_noBorder:{boxShadow:"none !important",":after":{boxShadow:"none !important"}},_primary:{color:(0,m.a)(e.colors.green_299400_brand),background:e.colors.green_299400_brand,":active":{color:(0,o.m)((0,m.a)(e.colors.green_299400_brand),.7)}},_secondary:{color:c.T.white,background:c.T.blue_028eff,":active":{color:(0,o.m)(c.T.white,.7)}},_disabled:{opacity:.5,pointerEvents:"none"}})))},43819:(e,t,i)=>{"use strict";i.d(t,{d:()=>d});var s=i(31085),r=i(84175),n=i(10742),a=i(80552),o=i(33466),c=i(81618);const d=(0,i(14041).memo)((e=>{const{children:t,size:i,icon:a,innerRef:o,isLabelSolid:d,fontStyle:u,dataT:p="",dataPs:m,href:g,isShifted:h=!1,onClick:f}=e,{css:v,s:b}=(0,r.I)(l),y=(0,n.D)((e=>{e.preventDefault(),f(e)})),x=g?"a":"button";return(0,s.jsxs)(x,Object.assign({},c.dx.n("wat-button-action"),c.dx.t(p),{className:v(b.button,"uppercase"===u&&b._uppercase),onClick:y,"data-ps":m,href:g,ref:o},{children:[(0,s.jsx)("span",Object.assign({className:v(b.icon),style:{width:i,height:i}},{children:a})),t&&(0,s.jsx)("span",Object.assign({className:v(b.label,d&&b._withSolidLabel,h&&b._shifted)},{children:t}))]}))}));d.displayName="ButtonAction";const l=(0,r.r)({button:Object.assign(Object.assign({},a.smallMedium),{color:"inherit",border:"none",background:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",":focus":{outline:"none"}}),_uppercase:Object.assign({},a.caps),icon:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:`opacity ${o.S.short}ms ease`,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:1}},label:{marginStart:4,transition:`opacity ${o.S.short}ms ease`,opacity:.7,"[data-ps]:active &":{opacity:1}},_withSolidLabel:{opacity:1,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:.7}},_shifted:{marginStart:8}})},57758:(e,t,i)=>{"use strict";i.d(t,{S:()=>l});var s=i(31085),r=i(14041),n=i(81618),a=i(84175),o=i(5438),c=i(99259),d=i(68887);const l=({isChecked:e,dataN:t,isInvalid:i,backgroundColor:d,tickColor:l,onClick:p,disabled:m})=>{const{css:g,s:h}=(0,a.I)(u),f=(0,r.useCallback)((()=>{m||p(!e)}),[e,p,m]);return(0,s.jsx)("div",Object.assign({},n.dx.n(t),{tabIndex:0,onClick:f,style:{background:d||"transparent"},className:g(h.checkbox,i&&h._invalid,m&&h._disabled)},{children:e&&(0,s.jsx)("span",Object.assign({className:g(h.icon)},{children:(0,s.jsx)(o.J,{width:24,height:24,color:l||c.T.gray_262626})}))}))},u=(0,a.r)({checkbox:{position:"relative",display:"inline-flex",borderRadius:d.V.default,cursor:"pointer",minWidth:20,height:20,border:`1px solid ${c.T.gray_e6e6e6}`,boxSizing:"border-box",marginEnd:12,outline:"none"},icon:{position:"absolute",top:-3,start:-3},_invalid:{border:`1px solid ${c.T.red_fe5000}`},_disabled:{filter:"grayscale(1)",cursor:"default"}})},90704:(e,t,i)=>{"use strict";i.d(t,{K:()=>p});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(24797),c=i(99259),d=i(81618);class l extends r.PureComponent{constructor(){super(...arguments),this.isClearHandled=!1,this.onClear=e=>{e.preventDefault(),this.props.stopPropagation&&e.stopPropagation(),this.isClearHandled?this.isClearHandled=!1:(this.isClearHandled=!0,this.props.onClear())}}render(){const{ariaLabel:e,isWhite:t,tabIndex:i,s:r}=this.props;return(0,s.jsx)("button",Object.assign({type:"button",className:(0,n.AH)(r.root,t&&r._isWhite),tabIndex:i},d.dx.n("wat-clear-btn"),{"aria-label":e,onClick:this.onClear},{children:(0,s.jsx)(o.k,{})}))}}const u={root:{width:"16px",height:"17px",color:c.T.gray_929292,"&:hover":{color:c.T.gray_262626}},_isWhite:{opacity:.7,color:c.T.white,"&:hover":{opacity:1,color:c.T.white}}},p=(0,a.Xy)(u)(l)},92920:(e,t,i)=>{"use strict";i.d(t,{E:()=>m});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(81618),c=i(64099),d=i(50570),l=i(99259);class u extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClick()}}render(){const{title:e,dataT:t,isActive:i,children:r,disabled:a,s:c,innerRef:l,ariaLabel:u}=this.props;return(0,s.jsx)("button",Object.assign({title:e,className:(0,n.AH)(c.control,i&&c._active),onClick:this.handleClick,disabled:a},o.dx.n("wat-kit-control"),o.dx.t(t),l&&{ref:l},(0,d.a)({label:u}),{children:r}))}}u.displayName=(0,a.d)("src/shared/kit/control");const p={control:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,color:l.T.gray_262626,borderRadius:c.Vq.default,":hover":{opacity:.7},":active":{color:l.T.blue_028eff},":disabled":{background:l.T.gray_f2f2f2,color:l.T.gray_929292,cursor:"default",":hover":{opacity:1}}},_active:{color:l.T.blue_028eff}},m=(0,n.Xy)(p)(u)},9255:(e,t,i)=>{"use strict";i.d(t,{H:()=>p});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(99259),c=i(70498),d=i(64099);class l extends r.PureComponent{render(){const{isGhost:e,isVertical:t,innerRef:i,s:r}=this.props;return(0,s.jsx)("div",Object.assign({className:(0,n.AH)(r.controls,e&&r._ghost,t&&r._vertical),ref:i},{children:this.props.children}))}}l.displayName=(0,a.d)("src/shared/kit/controls");const u={controls:{display:"inline-flex",boxShadow:c.E.popup,background:o.T.white,borderRadius:d.Vq.default,"& > *":{boxShadow:c.E.innerBorderEndBase,borderRadius:d.Vq.defaultOnlyEnd,"&:last-child":{boxShadow:"none"}}},_ghost:{boxShadow:"none",background:"none"},_vertical:{flexDirection:"column","& > *":{boxShadow:c.E.innerBorderBottomBase,borderRadius:d.Vq.defaultOnlyTop,"&:last-child":{boxShadow:"none"}}}},p=(0,n.Xy)(u)(l)},13558:(e,t,i)=>{"use strict";i.d(t,{F:()=>x});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(80552),c=i(99259),d=i(69158),l=i(70498),u=i(69248),p=i(81618),m=i(33466),g=i(64099);function h({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"M1 3h1.616c.252 0 .465.188.496.439l.77 6.248c.1.823.85 1.408 1.673 1.306l7.215-.898c.695-.087 1.237-.643 1.307-1.34L14.553 4H4.188l-.085-.683C4.012 2.565 3.374 2 2.616 2H1v1zm3.874 6.565L4.312 5H7v3h1V5h2v3h1V5h2.447l-.365 3.656c-.023.232-.204.418-.436.446L5.432 10c-.274.034-.524-.16-.558-.435zM5.5 15c.828 0 1.5-.672 1.5-1.5S6.328 12 5.5 12 4 12.672 4 13.5 4.672 15 5.5 15zm0-1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5-.5.224-.5.5.224.5.5.5zM11.5 15c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0-1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5-.5.224-.5.5.224.5.5.5z",clipRule:"evenodd"})}))}var f=i(63168);function v({color:e="currentColor"}){return(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,s.jsx)("path",{d:"M11.9 2L9.5 8 3 8.5l5 4L6.5 19l5.5-3.5 5.5 3.5-1.5-6.5 5-4-6.5-.5-2.6-6z",fillRule:"evenodd",clipRule:"evenodd"})}))}function b(){return(0,s.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.72591 1.92586C8.27306 1.69138 7.72694 1.69138 7.27409 1.92586L3.04768 4.11421C2.55291 4.37039 2.25 4.86344 2.25 5.39382V10.4499C2.25 10.9652 2.536 11.4463 3.00856 11.7085L7.23498 14.0532C7.70804 14.3156 8.29196 14.3156 8.76502 14.0532L12.9914 11.7085C13.464 11.4463 13.75 10.9652 13.75 10.4499V5.39382C13.75 4.86344 13.4471 4.37039 12.9523 4.11421L8.72591 1.92586ZM7.77174 2.78111C7.91457 2.70716 8.08543 2.70716 8.22826 2.78111L12.2111 4.84334L9.68735 6.33674C9.66387 6.35064 9.64216 6.36589 9.6222 6.38225L9.60779 6.39404L7.99387 7.35653L6.40333 6.4055L6.38697 6.39139C6.36439 6.37193 6.33946 6.35393 6.31214 6.33776L3.78774 4.84395L7.77174 2.78111ZM12.7154 5.69483V10.4499C12.7154 10.6262 12.6176 10.7841 12.4671 10.8675L8.51741 13.0587L8.51741 8.19853L12.7154 5.69483ZM3.28459 5.69555L7.48282 8.20605L7.48282 13.0588L3.53288 10.8675C3.38243 10.7841 3.28459 10.6262 3.28459 10.4499V5.69555Z",fill:"#262626"})}))}class y extends r.PureComponent{constructor(){super(...arguments),this.renderButton=()=>{const{value:e,title:t,isChecked:i=!1,isCheckedUnclickable:r=!1,isDisabled:a=!1,isFlex:o=!1,isCentered:c=!1,s:d,children:l,iconType:u,dataN:m="wat-filter-btn",dataT:g,isGray:h,style:f}=this.props;return(0,s.jsxs)("label",Object.assign({className:(0,n.AH)(d.button,!!u&&d._promo,i&&!a&&d._checked,i&&r&&d._checkedUnclickable,a&&!i&&d._disabled,h&&d._gray,a&&i&&d._checkedDisabled,o&&d._flex,this.getSharpCornerStyles(),f)},p.dx.n(m),p.dx.t(g),p.dx.v(e),p.dx.s(String(i)),{title:t},{children:[this.getIcon(),(0,s.jsx)("input",{ref:this.saveInput,className:(0,n.AH)(d.input),type:"checkbox",value:e,checked:i,disabled:a,onChange:this.onChange}),(0,s.jsx)("span",Object.assign({className:(0,n.AH)(d.label,o&&d._flex,o&&d._grow,c&&d._center)},{children:l||t}))]}),e)},this.getIcon=()=>{const{iconType:e,isChecked:t,s:i}=this.props;if(e)switch(e){case"cart":return(0,s.jsx)("div",Object.assign({className:(0,n.AH)(i.promoteIcon,t&&i._iconChecked)},{children:(0,s.jsx)(h,{})}));case"star":return(0,s.jsx)("div",Object.assign({className:(0,n.AH)(i.promoteIcon,t&&i._iconChecked)},{children:(0,s.jsx)(v,{})}));case"immersive":return(0,s.jsx)("div",Object.assign({className:(0,n.AH)(i.promoteIcon,t&&i._iconChecked)},{children:(0,s.jsx)(b,{})}))}},this.saveInput=e=>{this.input=e},this.getSharpCornerStyles=()=>{const{s:e,sharpCornersType:t}=this.props;switch(t){case"left":return e._sharpLeft;case"right":return e._sharpRight;case"both":return e._sharpBoth;default:return!1}},this.onChange=()=>{const{value:e,isDisabled:t,onClick:i}=this.props;this.input&&!t&&i&&i({value:e,isChecked:this.input.checked})}}render(){const{href:e}=this.props;return e?(0,s.jsx)("a",Object.assign({href:e},{children:this.renderButton()})):this.renderButton()}}const x=(0,a.Xy)((e=>({button:Object.assign(Object.assign({},o.regular),{padding:e.mobile?"10px":"6px 10px",borderRadius:g.Vq.oval,boxShadow:l.E.innerBorderBase,color:c.T.gray_262626,display:"inline-flex",boxSizing:"border-box",maxWidth:"100%",userSelect:"none",cursor:"pointer",backgroundColor:c.T.white,transition:`box-shadow ${m.S.short}ms ease, color ${m.S.short}ms ease`,":hover":{boxShadow:`inset 0 0 0 1px ${e.colors.green_299400_brand}`},":active":{boxShadow:`inset 0 0 0 1px ${e.colors.green_299400_brand}`,color:(0,d.m)(c.T.gray_262626,.5)},":focus":{boxShadow:l.E.innerBorderBase,color:(0,d.m)(c.T.gray_262626,.5),outline:"none"},"@media (max-width: 350px)":Object.assign({},o.small)}),_center:{justifyContent:"center",textAlign:"center"},_flex:{display:"flex"},_grow:{flexGrow:"1"},_sharpLeft:{borderRadius:`logical  ${g.Vq.oval} 0 0 ${g.Vq.oval}`},_sharpRight:{borderRadius:`logical 0 ${g.Vq.oval} ${g.Vq.oval} 0`},_sharpBoth:{borderRadius:0},_checked:{backgroundColor:e.colors.green_30ad00_brand,color:(0,f.a)(e.colors.green_30ad00_brand),boxShadow:"none",":hover":{opacity:.7},":active":{color:(0,d.m)(c.T.white,.7)},":focus":{color:(0,d.m)(c.T.white,.7)}},_checkedUnclickable:{pointerEvents:"none"},_disabled:{boxShadow:l.E.innerBorderDisabled,color:c.T.gray_bbbbbb,backgroundColor:c.T.gray_f2f2f2,pointerEvents:"none"},_gray:{backgroundColor:c.T.gray_e6e6e6,":hover":{background:(0,d.m)(c.T.gray_e6e6e6,.7),boxShadow:l.E.innerBorderDisabled},":active":{background:(0,d.m)(c.T.gray_e6e6e6,.7),boxShadow:l.E.innerBorderDisabled},":focus":{background:(0,d.m)(c.T.gray_e6e6e6,.7),boxShadow:l.E.innerBorderDisabled}},_checkedDisabled:{boxShadow:"none",backgroundColor:(0,d.m)(e.colors.green_30ad00_brand,.5),color:c.T.white,pointerEvents:"none"},_promo:{background:c.T.orange_fffaeb,boxShadow:u.E.innerBorderFilter},promoteIcon:{display:"flex",alignItems:"center",width:16,height:16,marginEnd:8,color:c.T.yellow_ffb81c},_iconChecked:{color:(0,f.a)(e.colors.green_30ad00_brand)},label:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},input:{display:"none"}})))(y)},24620:(e,t,i)=>{"use strict";i.d(t,{J:()=>c});var s=i(31085),r=i(14041),n=i(26461),a=i(68076);class o extends r.PureComponent{render(){const{children:e,styles:t,s:i}=this.props;return e?(0,s.jsx)("div",Object.assign({className:(0,a.AH)(i.flexRowContent,t)},{children:e})):null}}o.displayName=(0,n.d)("src/shared/kit/flexRow");const c=(0,a.Xy)({flexRowContent:{paddingTop:12,paddingBottom:12,flex:"1 1 auto",minWidth:0,maxWidth:"100%"}})(o)},48128:(e,t,i)=>{"use strict";i.d(t,{B:()=>c});var s=i(31085),r=i(14041),n=i(26461),a=i(68076);class o extends r.PureComponent{render(){const{children:e,size:t=24,s:i}=this.props;return e?(0,s.jsx)("div",Object.assign({className:(0,a.AH)(i.flexRowIcon,48===t&&i._big)},{children:e})):null}}o.displayName=(0,n.d)("src/shared/kit/flexRow");const c=(0,a.Xy)({flexRowIcon:{marginTop:8,marginBottom:8,marginStart:-4,marginEnd:12,flex:"0 0 auto",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},_big:{marginTop:0,marginBottom:0,marginStart:-8,marginEnd:8,width:48,height:48}})(o)},80376:(e,t,i)=>{"use strict";i.d(t,{Y:()=>p});var s=i(31085),r=i(14041),n=i(26461),a=i(68076),o=i(99259),c=i(64099),d=i(81618);class l extends r.PureComponent{render(){const{children:e,shiftedDivider:t,shiftedContent:i,justifyContent:r,alignItems:n,noDivider:o,dataN:c,s:l,wrap:u,styles:p}=this.props;return e?(0,s.jsx)("div",Object.assign({className:(0,a.AH)(p,l.flexRow,i&&l._shiftedContent,u&&l.wrap),style:{justifyContent:r,alignItems:n}},d.dx.n(c||"wat-flex-row"),{"data-divider":!o,"data-divider-shifted":!o&&t||void 0},{children:e})):null}}l.displayName=(0,n.d)("src/shared/kit/flexRow");const u={flexRow:{display:"flex",alignItems:"flex-start",position:"relative",'[data-divider="true"] + &:not([data-divider="false"])::before':{position:"absolute",content:'""',display:"block",borderBottom:`1px solid ${o.T.gray_e6e6e6}`,top:0,right:0,left:0},"[data-divider-shifted] + &[data-divider-shifted]::before":{left:c.Ej.rackShift}},_shiftedContent:{paddingStart:c.Ej.rackShift},_alignItemsCenter:{alignItems:"center"},wrap:{flexWrap:"wrap"}},p=(0,a.Xy)(u)(l)},82559:(e,t,i)=>{"use strict";i.d(t,{H:()=>c});var s=i(31085),r=i(14041),n=i(26064),a=i(68076);class o extends r.PureComponent{constructor(){super(...arguments),this.wrapperRef=r.createRef(),this.wasFocused=!1,this.isFocused=!1,this.handleFocusOut=()=>{this.isFocused=!1,this.runTimeout()},this.handleFocusIn=()=>{this.isFocused=!0,this.runTimeout()},this.triggerProperHandler=()=>{this.isFocused!==this.wasFocused&&(this.isFocused?this.props.onFocus&&this.props.onFocus():this.props.onBlur&&this.props.onBlur(),this.wasFocused=this.isFocused)}}componentDidMount(){this.isFocused=!!this.props.initialFocus,this.wasFocused=!!this.props.initialFocus;const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.addEventListener("focusout",this.handleFocusOut),e.addEventListener("focusin",this.handleFocusIn))}componentWillUnmount(){window.clearTimeout(this.triggerTimeoutId);const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.removeEventListener("focusout",this.handleFocusOut),e.removeEventListener("focusin",this.handleFocusIn))}render(){return(0,s.jsx)("div",Object.assign({tabIndex:-1,ref:this.wrapperRef,className:(0,n.AH)(this.props.s.focus),onClick:this.props.onClick},{children:this.props.children}))}runTimeout(){window.clearTimeout(this.triggerTimeoutId),this.triggerTimeoutId=window.setTimeout(this.triggerProperHandler,0)}}const c=(0,a.Xy)({focus:{width:"100%",height:"100%",outline:"none"}})(o)},69270:(e,t,i)=>{"use strict";i.d(t,{M:()=>l});var s=i(31085),r=i(14041),n=i(64099),a=i(57354),o=i(84175),c=i(99259),d=i(81618);const l=(0,r.memo)((e=>{const{css:t,s:i}=(0,o.I)(u),{children:r,header:n,fixedContentFooter:c,contentScrollId:l,frameBackground:p,scrollboxRef:m}=e;return(0,s.jsxs)("div",Object.assign({className:t(i.frameLayoutRoot)},{children:[(0,s.jsx)("div",Object.assign({className:t(i.header)},{children:n})),(0,s.jsx)("div",Object.assign({className:t(i.body)},{children:(0,s.jsxs)("div",Object.assign({className:t(i.content),style:{background:p}},{children:[(0,s.jsx)("div",Object.assign({className:t(i.contentScroller)},{children:(0,s.jsx)("div",Object.assign({className:t(i.contentScrollerInner)},{children:(0,s.jsx)(a.OY,Object.assign({id:l,persistent:!!l,scrollboxRef:m},{children:r}))}))})),c&&(0,s.jsx)("div",Object.assign({className:t(i.contentFooter)},d.dx.n("wat-footer-card"),{children:c}))]}))}))]}))})),u=(0,o.r)({frameLayoutRoot:{position:"relative",zIndex:n.fE.base,background:c.T.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:n.fE.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:n.fE.base},content:{display:"flex",flexDirection:"column",flex:"1 1 auto"},contentFooter:{position:"relative",zIndex:n.fE.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});l.displayName="FrameLayout"},56671:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var s=i(46579);const r=e=>{const{featureReadOnly:t}=(0,s.U)();return t?null:e.children||null}},50593:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});var s=i(31085),r=i(14041);function n(e){const{onMouseEnter:t,onMouseLeave:i,children:n}=e,[a,o]=(0,r.useState)(!!e.isHovered);return(0,s.jsx)(s.Fragment,{children:n({isHovered:a,hoverHandlers:{onMouseEnter:()=>{o(!0),t&&t()},onMouseLeave:()=>{o(!1),i&&i()}}})})}},101:(e,t,i)=>{"use strict";i.d(t,{P:()=>I});var s=i(31085),r=i(14041),n=i(81618),a=i(84175),o=i(99259),c=i(72616),d=i(64099),l=i(82781),u=i(80552),p=i(69158),m=i(54935),g=i(46561);const h=r.memo((e=>{const{size:t,activeIndex:i}=e,{css:r,s:n}=(0,a.I)(f);return t?(0,s.jsx)("section",Object.assign({className:r(n.dots)},{children:(0,g.H)(t,(e=>(0,s.jsx)("div",{className:r(n.dot,e===i&&n._active)},e)))})):null})),f=(0,a.r)({dots:{display:"flex",justifyContent:"center"},dot:{height:4,flex:"0 0 4px",borderRadius:"50%",background:(0,p.m)(o.T.black,.2),marginEnd:8,"&:last-child":{margin:0}},_active:{background:o.T.black}});var v=i(20315),b=i(46579),y=i(8365),x=i(41350);const j=(0,r.memo)((({img:e,index:t,activeIndex:i,loadAll:r,bssItem:n})=>{const{s:o,css:c}=(0,a.I)(w),{lang:d}=(0,b.U)(),{bssRef:l}=(0,y.E)(n?x.QU.bss.showRealtyMiniCardPhoto({position:i+1,item:n}):void 0,{threshold:.7});return(0,s.jsx)("div",Object.assign({className:c(o.image,i===t&&o._active),ref:l},{children:(0,s.jsx)(v.H,{src:e,forceLoad:r,withProgressBar:!0,alt:"ru"===d?"Фото":void 0})}))})),w=(0,a.r)({image:{pointerEvents:"none",width:"100%",height:"100%",marginBottom:4,display:"none"},item:{cursor:"pointer",height:"100%",flexGrow:1,flexShrink:1,flexBasis:"100%",opacity:0},_active:{display:"block"}}),I=r.memo((e=>{const{css:t,s:i}=(0,a.I)(C),[d,u]=r.useState(0),{images:p,total:g=0,showDots:f=!0,loadAllOnMount:v=!1}=e,[b,y]=r.useState(v),x=r.useRef(null),w=(0,l.c)(),{isHovered:I}=(0,m.M)({ref:x}),_=d===p.length-1,k=g-p.length,O=_&&k>0,[S,T]=r.useState(),E=e=>{u(+(e.currentTarget.dataset.i||0))};return(0,s.jsxs)("article",Object.assign({},n.dx.n("wat-hover-carousel"),{className:t(i.root),ref:x,onMouseOver:()=>{if(b)return;const e=setTimeout((()=>{y(!0)}),50);T(e)},onMouseOut:()=>{!b&&S&&(clearTimeout(S),T(void 0))}},{children:[(0,s.jsx)("section",Object.assign({className:t(i.items)},{children:p.map(((e,r)=>(0,s.jsx)("div",{"data-i":r,className:t(i.item),onMouseEnter:E},r)))})),p.map(((t,i)=>(0,s.jsx)(j,{img:t,index:i,activeIndex:d,loadAll:b,bssItem:e.bssItem},t+i))),O&&(0,s.jsxs)("div",Object.assign({className:t(i.lastOverlay)},{children:[(0,s.jsx)(c.$,{color:o.T.gray_929292}),(0,s.jsx)("span",{children:w._gg("+%1 фото",[k])})]})),g>1&&f&&(0,s.jsx)("div",Object.assign({className:t(i.dots,I&&i._visible)},{children:(0,s.jsx)(h,{size:p.length,activeIndex:d})}))]}))})),C=(0,a.r)({root:{cursor:"pointer",position:"relative",zIndex:d.fE.base,width:"100%",height:"100%",backgroundColor:o.T.gray_f2f2f2,marginBottom:4},items:{cursor:"pointer",position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:d.fE.top,display:"flex"},item:{cursor:"pointer",height:"100%",flexGrow:1,flexShrink:1,flexBasis:"100%",opacity:0},lastOverlay:Object.assign(Object.assign({pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},u.small),{backgroundColor:(0,p.m)(o.T.black,.3),color:o.T.white}),dots:{visibility:"hidden"},_visible:{visibility:"visible"}})},20315:(e,t,i)=>{"use strict";i.d(t,{H:()=>l});var s=i(31085),r=i(14041),n=i(84175),a=i(99259),o=i(72616),c=i(8415),d=i(2829);const l=r.memo((e=>{const{src:t,srcSet:i,forceLoad:d=!1,withProgressBar:l=!1,threshold:p=.3,alt:m,borderRadius:g}=e,{css:h,s:f}=(0,n.I)(u),[v,b]=r.useState(!1),[y,x]=r.useState(!1),[j,w]=(0,c.q)({threshold:p}),I=t&&(d||w);return(0,s.jsxs)("article",Object.assign({className:h(f.root,e.styles),ref:j,style:{borderRadius:g}},{children:[(0,s.jsx)("div",Object.assign({className:h(f.icon)},{children:(0,s.jsx)(o.$,{color:a.T.gray_929292})})),v?null:(0,s.jsxs)(s.Fragment,{children:[I&&(0,s.jsx)("img",{className:h(f.image),src:t,srcSet:i,onError:()=>b(!0),onLoad:()=>x(!0),alt:m}),l&&!y&&w&&(0,s.jsx)("div",{className:h(f.progressbar)})]})]}))})),u=(0,n.r)({root:{position:"relative",zIndex:d.f.base,width:"100%",height:"100%",overflow:"hidden",backgroundColor:a.T.gray_f2f2f2},image:{width:"100%",height:"100%",objectFit:"cover"},icon:{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",color:a.T.gray_e6e6e6,zIndex:d.f.bottom},progressbar:{height:2,position:"absolute",bottom:0,left:0,right:"100%",transform:"translateZ(0)",backgroundColor:a.T.green_30ad00,animationName:{"0%":{right:"100%"},"5%":{right:"100%"},"33%":{right:"33%"},"100%":{right:"10%"}},animationTimingFunction:"ease-out",animationDuration:"10s",zIndex:d.f.bottom}})},88114:(e,t,i)=>{"use strict";i.d(t,{E:()=>m});var s=i(31085),r=i(14041),n=i(26461),a=i(68076),o=i(81618),c=i(91664),d=i(99259),l=i(69158);class u extends r.PureComponent{constructor(){super(...arguments),this.state={imgWidth:0,imgHeight:0,isError:!this.props.src,isComplete:!1},this.renderImage=()=>{const{src:e,onClick:t,s:i,width:r,height:n,alt:c,srcSet:d,borderRadius:l="0",cover:u=!1,overlay:p=!1,border:m,dataN:g="wat-image",dataV:h,dataT:f}=this.props,{imgWidth:v,imgHeight:b}=this.state,y=u?"100%":b>=v?"auto":"100%",x=u||b>=v?"100%":"auto";return(0,s.jsx)("div",Object.assign({className:(0,a.AH)(i.imageWrapper,p&&i._imageOverlay,t&&i._imageClickable),style:{width:r||"100%",height:n||"100%",borderRadius:l,border:m},onClick:this.handleClick},(0,o.p)({n:g,v:h,t:f}),{children:(0,s.jsx)("img",{src:e,srcSet:d,alt:c,style:{objectFit:u?"cover":void 0,width:y,height:x}})}))},this.renderPlaceholder=e=>{const{renderPlaceholder:t,width:i,height:r}=this.props;return t?(0,s.jsx)("div",Object.assign({},o.dx.n("wat-image-placeholder"),{style:{display:"flex",justifyContent:"center",alignItems:"center",width:i||"100%",height:r||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:t(e)})):null},this.onLoad=()=>{this.image&&this.setState({isError:!1,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.onError=e=>{this.props.onError&&this.props.onError(e),this.image&&this.setState({isError:!0,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.handleClick=()=>{const{id:e,src:t,onClick:i}=this.props;i&&i({id:e,src:t})}}componentDidMount(){this.props.isLoadingForced||(this.image=new Image,this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src,this.setState({isComplete:this.image.complete}))}componentDidUpdate(e){e.src!==this.props.src&&(this.image=new Image,this.setState({isError:!this.props.src,isComplete:this.image.complete}),this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src)}componentWillUnmount(){delete this.image}render(){if(this.props.isLoadingForced)return this.renderImage();const{isError:e,isComplete:t}=this.state;return e||!t?this.renderPlaceholder(e?"error":"loading"):this.renderImage()}}u.displayName=(0,n.d)("src/shared/kit/img");const p={imageWrapper:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${c.S.short}ms ease-out`,background:(0,l.m)(d.T.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}},m=(0,a.Xy)(p)(u)},88756:(e,t,i)=>{"use strict";i.d(t,{u:()=>p});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(99259),c=i(35023);class d extends r.PureComponent{render(){const{children:e,s:t,maxHeight:i,inline:r=!1,styles:a}=this.props;return 1===e.length&&e[0]?(0,s.jsx)("span",Object.assign({className:(0,n.AH)(t.single,a)},{children:e[0]})):(0,s.jsx)("span",Object.assign({className:(0,n.AH)(t.kebabs,a),style:i?{maxHeight:i}:void 0},{children:(0,c.oE)(e).map(((e,i)=>(0,s.jsxs)("span",Object.assign({className:(0,n.AH)(t.item,this.themeToStyle(),r&&t._inline)},{children:["​",e]}),i)))}))}themeToStyle(){switch(this.props.dotTheme){case"dark":return this.props.s._dark;case"inherit":return this.props.s._inherit}}}d.displayName=(0,a.d)("src/shared/kit/kebab");const l={position:"relative",marginStart:"-12px",paddingStart:"12px",marginEnd:"12px"},u={kebabs:{overflow:"hidden",display:"block"},single:Object.assign({},l),item:Object.assign(Object.assign({},l),{display:"inline-block","::before":{position:"absolute",display:"inline-block",start:"0",width:"12px",textAlign:"center",color:o.T.gray_e6e6e6,content:'"•"'},":last-child":{marginEnd:0},":first-child":{"::before":{content:"none"}}}),_inline:{display:"inline"},_dark:{"::before":{color:o.T.gray_262626}},_inherit:{"::before":{color:"inherit"}}},p=(0,n.Xy)(u)(d)},76504:(e,t,i)=>{"use strict";i.d(t,{O:()=>d});var s=i(31085),r=i(14041),n=i(91466),a=i(8415),o=i(84175),c=i(88114);const d=(0,r.memo)((e=>{const{css:t,s:i}=(0,o.I)(l),{isLoadingForced:r=!1,lazyLoadVisibilityOffset:d,width:u,height:p,backgroundColor:m,borderRadius:g,isTrueImg:h=!1}=e,[f,v]=(0,a.q)({isIntersectInitial:r});return v?h?(0,s.jsx)(c.E,Object.assign({},e)):(0,s.jsx)(n.i,Object.assign({},e)):(0,s.jsxs)("div",Object.assign({className:t(i.root),style:{width:u,height:p}},{children:[!!m&&(0,s.jsx)("div",{className:t(i.background),style:{backgroundColor:m,borderRadius:g}}),(0,s.jsx)("div",{ref:f,className:t(i.visibleTrap),style:{inset:d}})]}))})),l=(0,o.r)({root:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},background:{width:"100%",height:"100%",overflow:"hidden"},visibleTrap:{position:"absolute",inset:0}})},10048:(e,t,i)=>{"use strict";i.d(t,{w:()=>p,M:()=>m});var s=i(50432),r=i(31085),n=i(14041);const a=(0,n.createContext)({addComponent:e=>{}});class o extends n.Component{constructor(e){super(e)}render(){return(0,r.jsx)(a.Provider,Object.assign({value:{addComponent:e=>{this.props.lazyProviderStore.addComponent(e)}}},{children:this.props.children}))}}let c;o.displayName="LazyProvider",c=i;function d(e){var t;return(t=class extends n.PureComponent{render(){return(0,r.jsx)(e,Object.assign({},this.props))}}).displayName="LazyComponentWrapper",t}const l="UnlazyComponent",u=new class{getExistsModuleByModuleId(e){return c(e)}getModuleByModuleId(e){return i.c[e]?this.getExistsModuleByModuleId(e):void 0}};const p=function(e){var t;return t=class extends n.Component{static getDerivedStateFromProps(e,t){const i=u.getModuleByModuleId(e.loader.moduleID.toString());return t.chunkName!==e.loader.chunkName?{chunkName:e.loader.chunkName,isLoading:!1,error:!1,component:i?d(i[l]):void 0}:null}constructor(e){super(e),this._mutableIsMounted=!1;const t=this.getExistsComponent();this.state={error:!1,isLoading:!1,chunkName:this.props.loader.chunkName,component:t?d(t):void 0}}componentWillUnmount(){this._mutableIsMounted=!1}componentDidMount(){this._mutableIsMounted=!0,this.onUpdateAndMountActions()}componentDidUpdate(){this.onUpdateAndMountActions()}render(){return this.state.error?this.props.renderPlaceholder("error"):this.state.isLoading||!this.state.component?this.props.renderPlaceholder("loading"):this.props.render(this.state.component)}onUpdateAndMountActions(){if(this.state.component||this.state.isLoading||this.state.error)return;const t=this.getExistsComponent();if(t)return this.setState({component:d(t)});this.setState({isLoading:!0,error:!1}),Promise.all([this.importWithRetries(),this.preventFlick()]).then((([e])=>{this._mutableIsMounted&&(e[l]?this.setState({component:d(e[l]),isLoading:!1,error:!1}):this.setState({component:void 0,error:!0,isLoading:!1}))})).catch((t=>{e(t,this.props.loader.chunkName),this._mutableIsMounted&&this.setState({component:void 0,error:!0,isLoading:!1})}))}preventFlick(){return new Promise((e=>{setTimeout((()=>{e()}),200)}))}importWithRetries(e=5,t=500){return new Promise(((i,s)=>{this.props.loader.asyncImport().then(i).catch((r=>{0!==e?setTimeout((()=>{this.importWithRetries(e-1,t).then(i,s)}),t):s(r)}))}))}getExistsComponent(){const e=u.getModuleByModuleId(this.props.loader.moduleID.toString());return e?e[l]:void 0}},t.displayName="LazyComponentLoader",t}((e=>{const t=e.message&&e.message.toString();(0,s.vV)({message:t,level:"error",id:"6cvgx",payload:{type:"network",subtype:"ChunkLoadFailed"}})})),m=new Error("ChunkLoadError")},71064:(e,t,i)=>{"use strict";i.d(t,{N:()=>g,A:()=>h});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(99259),c=i(81618);const d=/^([^[\]]*)\[([^[\]]+)\]([^[\]]*)$/;function l(e){return e.replace(/[[\]]/g,"")}var u=i(50570);class p extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,onClick:i}=this.props;(t||i)&&e.stopPropagation(),t||e.preventDefault(),i&&i(e)}}render(){return this.props.templated?this.renderTemplated(this.props.children):this.renderLink(this.props.children)}renderTemplated(e){if("string"!=typeof e)return this.renderLink(e);const t=function(e){const t=e.match(d);return t&&4===t.length?""===t[1]&&""===t[3]?[t[2]]:t.slice(1):[l(e)]}(e);return 1===t.length?this.renderLink(t[0]):(0,s.jsxs)("span",Object.assign({ref:this.props.containerRef},{children:[t[0],this.renderLink(t[1]),t[2]]}))}renderLink(e){const{href:t,color:i,s:r,external:a,dataN:o="wat-kit-link",dataT:d,ariaLabel:l,block:p,styles:m,title:g,containerRef:h,dataId:f}=this.props,v=c.dx.n(o),b=d?c.dx.t(d):void 0,y=(0,n.AH)(r.link,"dark"===i&&r._dark,"gray"===i&&r._gray,"inherit"===i&&r._inherit,p&&r._block,m);return t?(0,s.jsx)("a",Object.assign({suppressHydrationWarning:!0,href:t,target:a?"_blank":void 0,className:y,ref:h,"data-id":f,onClick:this.handleClick,title:g},v,b,(0,u.a)({label:l}),{children:e})):(0,s.jsx)("button",Object.assign({ref:h,className:y,"data-id":f,onClick:this.handleClick,title:g},v,b,(0,u.a)({label:l}),{children:e}))}}const m={link:{color:o.T.blue_0072ce,textDecoration:"none",cursor:"pointer",userSelect:"text",display:"inline",textAlign:"inherit",border:"none",padding:0,backgroundColor:"transparent",":hover":{color:o.T.gray_262626}},_dark:{color:o.T.gray_262626,":hover":{color:o.T.gray_929292}},_gray:{color:o.T.gray_929292,":hover":{color:o.T.gray_262626}},_inherit:{cursor:"inherit",color:"inherit",":hover":{color:"inherit",opacity:1}},_block:{display:"block"}},g=(0,a.Xy)(m)(p),h=g},51029:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var s=i(31085),r=i(23300),n=i(27516);const a=({count:e=10,ContentSkeleton:t})=>(0,s.jsx)(s.Fragment,{children:new Array(e).fill("").map(((e,i)=>(0,s.jsx)(n.P,{children:t?(0,s.jsx)(t,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Y,{}),(0,s.jsx)(r.Y,{})]})},i)))})},27516:(e,t,i)=>{"use strict";i.d(t,{P:()=>l,c:()=>d});var s=i(31085),r=i(99259),n=i(70498),a=i(33466),o=i(81618),c=i(84175);const d=e=>{const{children:t,onClick:i,isFlex:r=!1,isActive:n=!1,isHovered:a=!1,onMouseEnter:d,onMouseLeave:l,isSmall:p,dataN:m="wat-mini-wrap",dataT:g="",dataS:h=""}=e,{css:f,s:v}=(0,c.I)(u);return(0,s.jsx)("div",Object.assign({className:f(v.listItem,r&&v._flex,n&&v._active,a&&v._hovered,p&&v._small),onClick:i,onMouseEnter:d,onMouseLeave:l},o.dx.n(m),o.dx.t(g),o.dx.s(h),{children:t}))},l=({children:e})=>{const{css:t,s:i}=(0,c.I)(u);return(0,s.jsx)("div",Object.assign({className:t(i.listItem),style:{pointerEvents:"none"}},{children:e}))},u=(0,c.r)((e=>({listItem:{background:r.T.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:16,boxShadow:n.E.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${a.S.short}ms`,":hover":{background:r.T.gray_f9f9f9}},_active:{boxShadow:`${n.E.innerBorderBottomBase}, inset 3px 0 0 0 ${e.colors.green_299400_brand}`,background:r.T.gray_f9f9f9},_hovered:{background:r.T.gray_f9f9f9},_flex:{display:"flex",justifyContent:"space-between"},_small:{padding:"12px 20px"}})))},71832:(e,t,i)=>{"use strict";i.d(t,{O:()=>c});var s=i(31085),r=i(81882),n=i(90861),a=i(10742),o=i(84175);const c=e=>{const{data:t,renderItem:i,renderSkeleton:c,isLoading:l,fetchNextPage:u,isFetchingNextPage:p,hasNextPage:m,paddingBottom:g}=e,{s:h,css:f}=(0,o.I)(d),v=(0,a.D)((()=>{m&&u()}));return l?c?c():null:(0,s.jsxs)(s.Fragment,{children:[null==t?void 0:t.map(i),!m&&g&&(0,s.jsx)("div",{style:{paddingBottom:g}}),m&&(0,s.jsx)(r.e,Object.assign({loadMore:v,isLoading:p},{children:(0,s.jsx)("div",Object.assign({className:f(h.preloader)},{children:(0,s.jsx)(n.Z,{})}))}))]})},d=(0,o.r)({preloader:{padding:"24px 0"}})},81882:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var s=i(31085),r=i(14041),n=i(26461);const a={rootMargin:"50px",threshold:0};class o extends r.PureComponent{constructor(){super(...arguments),this.wrapperRef=e=>{e&&this.initObserver(e)},this.handleClick=()=>{const{isLoading:e}=this.props;e||this.props.loadMore()}}render(){const{children:e}=this.props;return(0,s.jsx)("div",Object.assign({ref:this.wrapperRef,onClick:this.handleClick},{children:e}))}componentWillUnmount(){this.destroyObserver()}initObserver(e){this.observer||(this.observer=new IntersectionObserver((e=>{const{loadMore:t,isLoading:i}=this.props;if(i)return;e.find((e=>e.isIntersecting))&&t()}),a),this.observer.observe(e))}destroyObserver(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}}o.displayName=(0,n.d)("src/shared/kit/loadMore")},90861:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(31085),r=i(14041),n=i(84175),a=i(64099),o=i(99259),c=i(81618);const d=(0,r.memo)((({height:e,caterpillarColor:t=o.T.green_30ad00,dotColor:i=o.T.gray_e6e6e6})=>{const{s:r,css:a}=(0,n.I)(l);return(0,s.jsx)("div",Object.assign({className:a(r.wrapper),style:{height:e}},c.dx.n("wat-preloader"),{children:(0,s.jsxs)("div",Object.assign({className:a(r.root)},{children:[(0,s.jsx)("div",{className:a(r.dot),style:{backgroundColor:i}}),(0,s.jsx)("div",{className:a(r.dot),style:{backgroundColor:i}}),(0,s.jsx)("div",{className:a(r.dot),style:{backgroundColor:i}}),(0,s.jsx)("div",{className:a(r.dot),style:{backgroundColor:i}}),(0,s.jsx)("div",{className:a(r.dot),style:{backgroundColor:i}}),(0,s.jsx)("div",{className:a(r.caterpillar),style:{backgroundColor:t}})]}))}))})),l=(0,n.r)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center"},root:{display:"flex",justifyContent:"space-between",width:56,position:"relative"},dot:{width:8,height:8,background:o.T.gray_e6e6e6,borderRadius:a.Vq.oval},caterpillar:{position:"absolute",top:0,left:0,height:8,borderRadius:a.Vq.oval,animationIterationCount:"infinite",animationTimingFunction:"linear",animationDuration:"4s",animationName:{"0%":Object.assign(Object.assign({},u(!1,0)),{opacity:0}),"10%":Object.assign(Object.assign({},u(!1,0)),{opacity:1}),"20%":u(!0,0),"30%":u(!1,12),"40%":u(!0,12),"50%":u(!1,24),"60%":u(!0,24),"70%":u(!1,36),"80%":u(!0,36),"90%":Object.assign(Object.assign({},u(!1,48)),{opacity:1}),"100%":Object.assign(Object.assign({},u(!1,48)),{opacity:0})}}});function u(e,t){return{width:e?20:8,transform:`translateX(${t}px)`}}},59603:(e,t,i)=>{"use strict";i.d(t,{N:()=>u});var s=i(31085),r=i(14041),n=i(68076),a=i(99259),o=i(26461),c=i(69158);class d extends r.PureComponent{constructor(){super(...arguments),this.onNextArrowClick=()=>{if("maxIndex"in this.props){this.checkIs("last")||this.props.onChange(this.props.currentIndex+1)}else this.props.onChange(this.props.currentIndex+1)},this.onPrevArrowClick=()=>{if("minIndex"in this.props){this.checkIs("first")||this.props.onChange(this.props.currentIndex-1)}else this.props.onChange(this.props.currentIndex-1)}}render(){const{s:e,children:t}=this.props;return t?(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.main)},{children:[(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.arrowWrapper)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.arrow,e.arrowLeft,this.checkIs("first")&&e._hidden),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.arrow,e.arrowRight,this.checkIs("last")&&e._hidden),onClick:this.onNextArrowClick},{children:this.props.right}))]})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.childrenWrapper)},{children:t}))]})):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.arrow,this.checkIs("first")&&e._disabledArrow),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.arrow,this.checkIs("last")&&e._disabledArrow),onClick:this.onNextArrowClick},{children:this.props.right}))]})}checkIs(e){return"last"===e?"maxIndex"in this.props&&this.props.currentIndex===this.props.maxIndex:"minIndex"in this.props&&this.props.currentIndex===this.props.minIndex}}d.displayName=(0,o.d)("src/shared/kit/prevNextArrows");const l={main:{position:"relative"},arrowWrapper:{display:"flex",justifyContent:"space-between",height:"100%",position:"absolute",width:"100%"},arrow:{cursor:"pointer"},arrowLeft:{display:"flex",alignItems:"center",color:a.T.white,background:`linear-gradient(90deg, ${(0,c.m)(a.T.black,.5)} 0%, ${(0,c.m)(a.T.black,0)} 100%)`,zIndex:1},arrowRight:{display:"flex",alignItems:"center",color:a.T.white,backgroundImage:`linear-gradient(270deg, ${(0,c.m)(a.T.black,.5)} 0%, ${(0,c.m)(a.T.black,0)} 100%)`,zIndex:1},childrenWrapper:{height:"100%",marginTop:0,marginBottom:12,marginStart:24,marginEnd:24},_hidden:{visibility:"hidden"},_disabledArrow:{color:a.T.gray_e6e6e6}},u=(0,n.Xy)(l)(d)},78452:(e,t,i)=>{"use strict";i.d(t,{m:()=>u});var s=i(31085),r=i(14041),n=i(26461),a=i(68076),o=i(64099),c=i(81618);class d extends r.PureComponent{render(){const{children:e,dataN:t="wat-rack",s:i}=this.props;return e?(0,s.jsx)("div",Object.assign({className:(0,a.AH)(i.rack),"data-rack":!0},c.dx.n(t),{children:e})):null}}d.displayName=(0,n.d)("src/shared/kit/rack");const l={rack:{"[data-rack] + &":{marginTop:o.Ej.rackMargin}}},u=(0,a.Xy)(l)(d)},22974:(e,t,i)=>{"use strict";i.d(t,{R:()=>c});var s=i(31085),r=i(14041),n=i(26461),a=i(68076);class o extends r.PureComponent{render(){const{children:e,s:t}=this.props;return(0,s.jsx)("div",Object.assign({className:(0,a.AH)(t.rackWrapper)},{children:e}))}}o.displayName=(0,n.d)("src/shared/kit/rack");const c=(0,a.Xy)({rackWrapper:{paddingTop:8,paddingBottom:0,paddingStart:24,paddingEnd:24}})(o)},89446:(e,t,i)=>{"use strict";i.d(t,{G:()=>u});var s=i(31085),r=i(14041),n=i(81618),a=i(69158),o=i(26064),c=i(68076),d=i(82316);class l extends r.PureComponent{constructor(){super(...arguments),this.STAR_SIZE="small"===this.props.size?10:"medium"===this.props.size?16:this.props.size,this.renderStars=()=>{const{rating:e,s:t}=this.props,i=Math.ceil(Math.round(2*e)/2),r=Array(i).fill(""),n=this.STAR_SIZE*(Math.round(2*e)/2)+"px";return(0,s.jsx)("div",Object.assign({className:(0,o.AH)(t.ratingStars),style:{width:n}},{children:r.map(((e,t)=>this.renderStar(t,{isInactive:!1})))}))},this.renderBackgroundStars=()=>{const{s:e,rating:t,dir:i}=this.props,r=Math.floor(Math.round(2*t)/2),n=5-r,a=r*this.STAR_SIZE+"px",c=Array(n).fill("");return(0,s.jsx)("div",Object.assign({className:(0,o.AH)(e.backgroundStars),style:(0,o.mG)({marginStart:a},i)},{children:c.map(((e,t)=>this.renderStar(t,{isInactive:!0})))}))}}render(){const{s:e}=this.props;return(0,s.jsxs)("div",Object.assign({},n.dx.n("wat-kit-rating"),{className:(0,o.AH)(e.rating),style:{height:this.STAR_SIZE}},{children:[this.renderStars(),this.renderBackgroundStars()]}))}renderStar(e,t){const{color:i,inactiveColor:r}=this.props;return(0,s.jsx)("span",Object.assign({style:{width:this.STAR_SIZE,height:this.STAR_SIZE}},{children:(0,s.jsx)(d.F,{color:t.isInactive?r||(0,a.m)(i,.2):i,size:this.STAR_SIZE})}),e)}}const u=(0,c.Xy)({rating:{position:"relative",marginBottom:2,fontSize:0},ratingStars:{position:"absolute",start:0,margin:"auto",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"baseline"},backgroundStars:{display:"flex",alignItems:"baseline"}})(l)},57354:(e,t,i)=>{"use strict";i.d(t,{OY:()=>g,a3:()=>m});var s=i(31085),r=i(14041),n=i(81407),a=i(84175),o=i(64099),c=i(68299),d=i(46579),l=i(31003);const u={},p=(0,r.createContext)({scrollVerticalCenter:void 0});function m(){return(0,r.useContext)(p)}const g=({id:e,persistent:t,scrollboxRef:i,children:r})=>{const{isMobileDevice:a}=(0,d.U)(),o=!a,{ref:m,refCallback:g}=(0,l.g)(i);(0,n.E)((()=>{m.current&&e&&(m.current.scrollTop=t&&u[e]||0)}),[e,t]);const v=(0,c.Y)((()=>{var i;if(!e||!t)return;const s=null===(i=m.current)||void 0===i?void 0:i.scrollTop;s&&(u[e]=s)}),100);(0,n.E)((()=>{var i;if(e&&t)return null===(i=m.current)||void 0===i||i.addEventListener("scroll",v,{passive:!0}),()=>{var e;null===(e=m.current)||void 0===e||e.removeEventListener("scroll",v)}}),[m,e,t]);const b=o?(0,s.jsx)(h,Object.assign({innerRef:m,refCallback:g},{children:r})):(0,s.jsx)(f,Object.assign({innerRef:m},{children:r}));return(0,s.jsx)(p.Provider,Object.assign({value:{scrollVerticalCenter:(y=m,e=>{if(y.current&&e){const{top:t,height:i}=e.getBoundingClientRect(),{clientHeight:s,scrollTop:r}=y.current,n=t>(s+i)/2;if(!(n||t<i))return;y.current.scrollTo({behavior:"smooth",top:n?r+s/2:r-s/2})}})}},{children:b}));var y};g.displayName="Scroll";const h=({children:e,innerRef:t,refCallback:i})=>{const{css:n,s:o}=(0,a.I)(v),[c,d]=(0,r.useState)("100%");(0,r.useEffect)((()=>{if(!t.current)return;const e=setTimeout((()=>{var e;return d((null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().width)||"100%")}),0);return()=>{clearTimeout(e)}}),[t]);const[l,u]=(0,r.useState)(!1);return(0,s.jsx)("div",Object.assign({className:n(o.scroller,o._customScrollbar,l&&o._forceOverflowAuto),ref:i,onTouchStartCapture:()=>{u(!0)},tabIndex:-1,"data-scroll":!0},{children:(0,s.jsx)("div",Object.assign({className:n(o.inner),style:{width:c}},{children:e}))}))},f=({children:e,innerRef:t})=>{const{css:i,s:r}=(0,a.I)(v);return(0,s.jsx)("div",Object.assign({className:i(r.scroller),ref:t,tabIndex:-1,"data-scroll":!0},{children:(0,s.jsx)("div",Object.assign({className:i(r.inner)},{children:e}))}))},v=(0,a.r)({scroller:{height:"100%",overflowX:"hidden",display:"flex",flexDirection:"column"},_customScrollbar:{"@media (hover: hover)":Object.assign(Object.assign({},o.W2),{overflowY:"hidden","&:hover, &:focus":{overflowY:"auto"}})},_forceOverflowAuto:{overflowY:"auto !important"},inner:{flex:"1 0 100%"}})},78075:(e,t,i)=>{"use strict";i.d(t,{e:()=>h});var s=i(31085),r=i(14041),n=i(12043),a=i(64099),o=i(57354),c=i(84175),d=i(99259),l=i(81618);const u=(0,r.memo)((e=>{const{css:t,s:i}=(0,c.I)(p),{children:r,header:n,sidebar:a,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:m,sidebarBg:g,frameBackground:h,areFiltersClosed:f}=e;return(0,s.jsxs)("div",Object.assign({className:t(i.frameLayoutRoot)},{children:[(0,s.jsx)("div",Object.assign({className:t(i.header)},l.dx.n("wat-frame-header"),{children:n})),(0,s.jsxs)("div",Object.assign({className:t(i.body)},{children:[Boolean(!f&&a)&&(0,s.jsx)("div",Object.assign({className:t(i.sidebar),style:{background:g}},{children:(0,s.jsx)("div",Object.assign({className:t(i.sidebarInner)},{children:(0,s.jsx)(o.OY,{children:a})}))})),(0,s.jsxs)("div",Object.assign({className:t(i.content),style:{background:h}},{children:[d&&(0,s.jsx)("div",Object.assign({className:t(i.contentHeader)},{children:d})),(0,s.jsx)("div",Object.assign({className:t(i.contentScroller)},{children:(0,s.jsx)("div",Object.assign({className:t(i.contentScrollerInner)},{children:(0,s.jsx)(o.OY,Object.assign({id:m,persistent:!!m},{children:r}))}))})),u&&(0,s.jsx)("div",Object.assign({className:t(i.contentFooter)},{children:u}))]}))]}))]}))})),p=(0,c.r)({frameLayoutRoot:{position:"relative",zIndex:a.fE.base,background:d.T.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",zIndex:a.fE.top},body:{display:"flex",flex:"1 1 auto",zIndex:a.fE.base},sidebar:{flex:`0 1 ${a.Ej.sidebarFrameWidth}px`,position:"relative",overflow:"hidden",display:"block"},sidebarInner:{width:`${a.Ej.sidebarFrameWidth}px`,position:"absolute",top:0,end:0,bottom:0,borderEnd:`1px solid ${d.T.gray_e6e6e6}`},content:{flex:`1 0 ${a.Ej.standardFrameWidth}px`,maxWidth:a.Ej.standardFrameWidth,display:"flex",flexDirection:"column"},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto"},contentFooter:{},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});u.displayName="SearchFrameLayoutDesktop";const m=(0,r.memo)((e=>{const{css:t,s:i}=(0,c.I)(g),{children:r,header:n,sidebar:a,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:p,frameBackground:m,sidebarBg:h,areFiltersOpened:f,searchType:v}=e;return(0,s.jsxs)("div",Object.assign({className:t(i.frameLayoutRoot)},{children:["filials"===v||"brand"===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.OY,Object.assign({id:p,persistent:!!p},{children:[n,r]})),u&&(0,s.jsx)("div",Object.assign({className:t(i.contentFooter)},{children:u}))]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:t(i.header)},{children:n})),(0,s.jsx)("div",Object.assign({className:t(i.body)},{children:(0,s.jsxs)("div",Object.assign({className:t(i.content),style:{background:m}},{children:[d&&(0,s.jsx)("div",Object.assign({className:t(i.contentHeader)},{children:d})),(0,s.jsx)("div",Object.assign({className:t(i.contentScroller)},{children:(0,s.jsx)("div",Object.assign({className:t(i.contentScrollerInner)},{children:(0,s.jsx)(o.OY,Object.assign({id:p,persistent:!!p},{children:r}))}))})),u&&(0,s.jsx)("div",Object.assign({className:t(i.contentFooter)},l.dx.n("wat-footer-card"),{children:u}))]}))}))]}),f&&a&&(0,s.jsx)("div",Object.assign({className:t(i.sidebar),style:{background:h}},{children:(0,s.jsx)("div",Object.assign({className:t(i.sidebarInner)},{children:(0,s.jsx)(o.OY,{children:a})}))}))]}))})),g=(0,c.r)({frameLayoutRoot:{position:"relative",zIndex:a.fE.base,background:d.T.white,display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:a.fE.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:a.fE.base},sidebar:{position:"absolute",width:"100%",height:"100%",top:0,left:0,overflow:"hidden",background:d.T.white,zIndex:a.fE.top},sidebarInner:{width:"100%",position:"absolute",top:0,end:0,bottom:0},content:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto",position:"relative",zIndex:a.fE.top},contentFooter:{position:"relative",zIndex:a.fE.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100,zIndex:a.fE.base},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});m.displayName="SearchFrameLayoutMobile";const h=function(e){const t=e.desktop,i=e.mobile;return e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.j,{children:(0,s.jsx)(t,Object.assign({},e))}),(0,s.jsx)(n.h,{children:(0,s.jsx)(i,Object.assign({},e))})]})}({desktop:u,mobile:m})},82193:(e,t,i)=>{"use strict";i.d(t,{F:()=>n});var s=i(31085),r=i(46579);const n=(0,i(14041).memo)((({children:e})=>{const{isSearchBot:t}=(0,r.U)();return e?t?(0,s.jsx)("div",Object.assign({"data-nosnippet":!0},{children:e})):(0,s.jsx)(s.Fragment,{children:e}):null}))},88122:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var s=i(31085),r=i(68076),n=i(26064),a=i(81618);const o=(0,r.Xy)({shifter:{position:"relative"},icon:{position:"absolute"},content:{wordBreak:"break-word",wordWrap:"break-word"}})((function(e){const{offset:t,children:i,icon:o,iconOffsetX:c,iconOffsetY:d,s:l,dir:u,dataN:p="wat-shifter",dataT:m=""}=e,g=c||d?(0,n.mG)({top:d||0,start:c||0},u):void 0,h=(0,n.mG)({marginStart:t},u);return(0,s.jsxs)("div",Object.assign({className:(0,r.AH)(l.shifter)},{children:[(0,s.jsx)("div",Object.assign({className:(0,r.AH)(l.icon)},a.dx.n(p),a.dx.t(m),{style:g},{children:o})),(0,s.jsx)("div",Object.assign({className:(0,r.AH)(l.content)},a.dx.n("wat-description-content"),{style:h},{children:i}))]}))}))},12790:(e,t,i)=>{"use strict";i.d(t,{W:()=>o});var s=i(31085),r=i(99259),n=i(84175),a=i(64099);const o=({count:e,width:t=90,height:i=30})=>{const{s:r,css:a}=(0,n.I)(c);return(0,s.jsx)("div",Object.assign({className:a(r.row)},{children:new Array(e).fill("").map(((e,n)=>(0,s.jsx)("div",{className:a(r.button),style:{width:t,height:i}},n)))}))},c=(0,n.r)({row:{display:"flex",gap:"8px 4px",flexWrap:"wrap"},button:{background:r.T.black_transparent_06,borderRadius:a.Vq.oval}})},84655:(e,t,i)=>{"use strict";i.d(t,{j:()=>l});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(99259);class c extends r.PureComponent{render(){const{width:e,height:t,s:i}=this.props,r=t||(e||20),a=e||(t||20);return(0,s.jsx)("div",{className:(0,n.AH)(i.circle),style:{width:`${r}px`,height:`${a}px`}})}}c.displayName=(0,a.d)("src/shared/kit/skeletons");const d={circle:{background:o.T.black_transparent_06,borderRadius:"50%"}},l=(0,n.Xy)(d)(c)},41950:(e,t,i)=>{"use strict";i.d(t,{U:()=>o});var s=i(31085),r=i(14041),n=i(9390),a=i(78075);const o=r.memo((e=>(0,s.jsx)(a.e,Object.assign({sidebar:(0,s.jsx)("div",{}),areFiltersOpened:e.areFiltersOpened},{children:(0,s.jsx)(n.S,{squareLogo:e.squareLogo,logoSize:e.logoSize})}))));o.displayName="SearchSkeleton"},47498:(e,t,i)=>{"use strict";i.d(t,{E:()=>s});const s=i(14041).memo((({loading:e,skeleton:t,children:i})=>e?t:i||null));s.displayName="Skeleton"},21054:(e,t,i)=>{"use strict";i.d(t,{r:()=>f});var s=i(31085),r=i(14041),n=i(81618),a=i(25698),o=i(87543),c=i(84175),d=i(11827),l=i(18389),u=i(79594),p=i(46383),m=i(46579),g=i(12043);const h=(0,p.S)(),f=(0,r.memo)((()=>{const{css:e,s:t}=(0,c.I)(v),i=(0,m.U)(),r=(0,l.o)(),p=(0,u.d4)((e=>r?h({state:e,frameId:r.id}):void 0));return r&&p?(0,s.jsxs)("div",Object.assign({className:e(t.root)},(0,n.n)("wat-entity-card-skeleton"),{children:[(0,s.jsx)(d.z,{frame:r,frameContext:p}),(0,s.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,s.jsx)(g.j,{children:(0,s.jsxs)("div",Object.assign({className:e(t.actions)},{children:[(0,s.jsx)(a.M,{width:80,height:24,borderRadius:6}),(0,s.jsx)(a.M,{width:80,height:24,borderRadius:6,marginStart:12}),(0,s.jsx)(a.M,{width:80,height:24,borderRadius:6,marginStart:12})]}))}),!i.featureReadOnly&&(0,s.jsx)(a.M,{count:2,flexBasis:272,flexShrink:0,height:170,gap:16,borderRadius:8,marginBottom:12,marginStart:-8,marginEnd:-8}),(0,s.jsx)(a.M,{width:240,height:20,paddingTop:4,borderRadius:6}),(0,s.jsx)(a.M,{width:120,height:16,marginTop:4,borderRadius:6}),(0,s.jsx)(a.M,{width:160,height:16,marginTop:8,borderRadius:6}),(0,s.jsx)(a.M,{height:16,marginTop:8,borderRadius:6})]})),(0,s.jsx)(a.M,{height:44}),(0,s.jsx)("div",Object.assign({className:e(t.content)},{children:(0,s.jsx)(o.Y,{})}))]})):null}));f.displayName="SkeletonEntity";const v=(0,c.r)({root:{height:"100%",overflow:"hidden"},header:{padding:"16px 24px"},content:{flex:1},actions:{display:"flex",marginBottom:12}})},87543:(e,t,i)=>{"use strict";i.d(t,{Y:()=>l});var s=i(31085),r=i(14041),n=i(25698),a=i(87795),o=i(44744),c=i(22974),d=i(84175);const l=r.memo((e=>{const{s:t,css:i}=(0,d.I)(u);return(0,s.jsx)("div",Object.assign({className:i(t.root)},{children:(0,s.jsxs)("div",Object.assign({className:i(t.skeletonEntityTab)},{children:[(0,s.jsx)(c.R,{children:(0,s.jsx)(a.L,{count:4,icon:!0})}),(0,s.jsxs)("div",Object.assign({className:i(t.squaresWrapper)},{children:[(0,s.jsx)(n.M,{count:1,height:40}),(0,s.jsx)(n.M,{count:1,height:40})]})),(0,s.jsx)("div",Object.assign({className:i(t.textLinesWrapper)},{children:(0,s.jsx)(o.C,{linesCount:2})}))]}))}))}));l.displayName="SkeletonEntityTab";const u=(0,d.r)({root:{display:"flex",flexDirection:"column",height:"100%"},skeletonEntityTab:{display:"flex",flexDirection:"column",justifyContent:"space-between"},squaresWrapper:{padding:"0 24px"},textLinesWrapper:{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}})},8605:(e,t,i)=>{"use strict";i.d(t,{r:()=>d});var s=i(31085),r=i(14041),n=i(26461),a=i(99259),o=i(84655);const c=24;class d extends r.PureComponent{render(){const{size:e=c,isBoundVisible:t}=this.props;return(0,s.jsx)("div",Object.assign({style:{boxSizing:"border-box",display:"flex",alignItems:"center",width:e,height:e,border:t?`1px dotted ${a.T.gray_e6e6e6}`:"none"}},{children:(0,s.jsx)(o.j,{width:this.getCompositionSize()})}))}getCompositionSize(){return 48===this.props.size?32:16}}d.displayName=(0,n.d)("src/shared/kit/skeletons")},16363:(e,t,i)=>{"use strict";i.d(t,{N:()=>u,h:()=>m});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(84655),c=i(25698),d=i(27516),l=i(23300);const u=165;class p extends r.PureComponent{constructor(){super(...arguments),this.nothing=()=>{},this.renderTextLine=(e,t)=>(0,s.jsx)(l.Y,{fontSize:8,lineHeight:e,short:t})}render(){const{s:e,squareLogo:t,logoSize:i=56}=this.props;return(0,s.jsxs)(d.c,Object.assign({onMouseEnter:this.nothing,onMouseLeave:this.nothing,dataN:"wat-skeleton-minicard"},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.avatar)},{children:t?(0,s.jsx)(c.M,{width:i,height:i,count:1}):(0,s.jsx)(o.j,{width:i})})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.row,e.firstRow),style:{marginInlineEnd:i}},{children:[this.renderTextLine(20),this.renderTextLine(20)]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.row,e.longRow),style:{marginInlineEnd:i}},{children:[this.renderTextLine(16),this.renderTextLine(16)]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.row,e.longRow),style:{marginInlineEnd:i}},{children:[this.renderTextLine(16),this.renderTextLine(16,!0)]}))]}))}}p.displayName=(0,a.d)("src/shared/kit/skeletons");const m=(0,n.Xy)({row:{paddingBottom:"6px"},firstRow:{width:"176px"},longRow:{maxWidth:"240px"},avatar:{float:"end"}})(p)},87795:(e,t,i)=>{"use strict";i.d(t,{L:()=>p});var s=i(31085),r=i(14041),n=i(26461),a=i(80376),o=i(48128),c=i(24620),d=i(8605),l=i(44744),u=i(78452);class p extends r.PureComponent{render(){const{count:e,icon:t}=this.props;return(0,s.jsxs)(u.m,{children:[Array(e-1).fill("").map(((e,i)=>(0,s.jsxs)(a.Y,Object.assign({shiftedDivider:!!t},{children:[!!t&&(0,s.jsx)(o.B,{children:(0,s.jsx)(d.r,{size:24})}),(0,s.jsx)(c.J,{children:(0,s.jsx)(l.C,{linesCount:3})})]}),i))),(0,s.jsx)(a.Y,Object.assign({shiftedDivider:!!t,shiftedContent:!0},{children:(0,s.jsx)(c.J,{children:(0,s.jsx)(l.C,{linesCount:2})})}),e)]})}}p.displayName=(0,n.d)("src/shared/kit/skeletons")},82882:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var s=i(31085),r=i(14041),n=i(23300),a=i(84655),o=i(84175);const c=r.memo((()=>{const{css:e,s:t}=(0,o.I)(d);return(0,s.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,s.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,s.jsx)(a.j,{height:24,width:24}),(0,s.jsxs)("div",Object.assign({className:e(t.description)},{children:[(0,s.jsx)(n.Y,{fontSize:8,lineHeight:16}),(0,s.jsx)(n.Y,{fontSize:8,lineHeight:16})]}))]})),(0,s.jsx)("div",Object.assign({className:e(t.rating)},{children:(0,s.jsx)(n.Y,{fontSize:8,lineHeight:16})})),(0,s.jsxs)("div",Object.assign({className:e(t.content)},{children:[(0,s.jsx)(n.Y,{fontSize:8,lineHeight:16}),(0,s.jsx)(n.Y,{fontSize:8,lineHeight:16,short:!0}),(0,s.jsx)(n.Y,{fontSize:8,lineHeight:16})]}))]}))}));c.displayName="ReviewSkeleton";const d=(0,o.r)({root:{padding:"12px 24px",minHeight:98},header:{display:"inline-flex",alignItems:"center"},description:{marginStart:"8px",width:"110px"},rating:{display:"inline-block",width:"50px",float:"end"},content:{padding:"8px 0"}})},46033:(e,t,i)=>{"use strict";i.d(t,{j:()=>l});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(84655),c=i(23300);class d extends r.PureComponent{render(){const{s:e}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.content)},{children:[(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.item)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.icon)},{children:(0,s.jsx)(o.j,{width:64})})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.text)},{children:(0,s.jsx)(c.Y,{marginAuto:!0,fontSize:11,lineHeight:12})}))]}))]}))}}d.displayName=(0,a.d)("src/shared/kit/skeletons");const l=(0,n.Xy)({content:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},item:{marginBottom:4,flex:"1 1 25%"},icon:{marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto",display:"flex",justifyContent:"center"},text:{height:"24px"}})(d)},44744:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var s=i(31085),r=i(14041),n=i(26461),a=i(23300);class o extends r.PureComponent{render(){const{linesCount:e}=this.props;return(0,s.jsxs)("div",{children:[Array(e-1).fill("").map(((e,t)=>(0,s.jsx)(a.Y,{},t))),(0,s.jsx)(a.Y,{short:e>1})]})}}o.displayName=(0,n.d)("src/shared/kit/skeletons")},9390:(e,t,i)=>{"use strict";i.d(t,{S:()=>o});var s=i(31085),r=i(14041),n=i(15937),a=i(16363);const o=r.memo((e=>(0,s.jsx)("div",{children:Array.from({length:e.count||(0,n.H)(a.N)},((t,i)=>(0,s.jsx)(a.h,{squareLogo:e.squareLogo,logoSize:e.logoSize},i)))})));o.displayName="SkeletonsCatalog"},25698:(e,t,i)=>{"use strict";i.d(t,{M:()=>d});var s=i(31085),r=i(14041),n=i(99259),a=i(69158),o=i(26064),c=i(84175);const d=(0,r.memo)((e=>{const{css:t,s:i,dir:r}=(0,c.I)(l),{height:n,width:a,marginTop:d,marginBottom:u,marginStart:p,marginEnd:m,paddingTop:g,border:h,borderRadius:f,flexBasis:v,flexShrink:b,flexGrow:y,gap:x,icon:j,count:w=1,dark:I,color:C}=e;return(0,s.jsx)("div",Object.assign({className:t(i.skeleton),style:(0,o.mG)({height:n,width:a,marginTop:d,marginBottom:u,marginStart:p,marginEnd:m,paddingTop:g,gap:x,border:h},r)},{children:w>0&&Array(w).fill("ok").map(((e,r)=>(0,s.jsx)("div",Object.assign({className:t(i.skeletonItem,I&&i._dark),style:{flexBasis:v||100/w+"%",flexShrink:b,flexGrow:y,background:C,borderRadius:f}},{children:j}),r)))}))}));d.displayName="Square";const l=(0,c.r)({skeleton:{display:"flex",flexDirection:"row",borderTop:"1px solid #fff",boxSizing:"border-box",gap:1},_dark:{background:(0,a.m)(n.T.black,.6)},skeletonItem:{display:"flex",justifyContent:"center",alignItems:"center",background:n.T.black_transparent_06,overflow:"hidden"}})},23300:(e,t,i)=>{"use strict";i.d(t,{Y:()=>d});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(25698);class c extends r.PureComponent{render(){const{s:e,fontSize:t=8,lineHeight:i=16,full:r=!1,short:a=!1,width:c,marginAuto:d=!1}=this.props,l=Math.floor((i-t)/2);return(0,s.jsx)("div",Object.assign({style:{padding:`${l}px 0`,margin:d?"auto":0,width:c},className:(0,n.AH)(e.line,r&&e.full,a&&e.short)},{children:(0,s.jsx)(o.M,{height:t,count:1})}))}}c.displayName=(0,a.d)("src/shared/kit/skeletons");const d=(0,n.Xy)({line:{width:"90%"},full:{width:"100%"},short:{width:"66%"}})(c)},89379:(e,t,i)=>{"use strict";i.d(t,{h:()=>n});var s=i(31085),r=i(84175);const n=(0,i(14041).memo)((({children:e,offset:t=0,gap:i,styles:n,containerRef:o,verticalOffset:c=0})=>{const{css:d,s:l}=(0,r.I)(a);return(0,s.jsx)("div",Object.assign({ref:o,className:d(n,l.root),style:{gap:i,padding:`${c}px ${t}px`}},{children:e}))}));n.displayName="SnapCarousel";const a=(0,r.r)({root:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}})},21079:(e,t,i)=>{"use strict";i.d(t,{D:()=>j});var s=i(31085),r=i(14041),n=i(33466),a=i(84175),o=i(26064),c=i(89379),d=i(82781);const l=(0,r.memo)((({children:e,styles:t,style:i,containerRef:r,allPhotosText:n})=>{const{css:o,s:c}=(0,a.I)(u);return(0,s.jsx)("div",Object.assign({className:o(c.root,t),ref:r,style:i,"data-text":null!=n?n:""},{children:e}))}));l.displayName="SnapItem";const u=(0,a.r)({root:{scrollSnapAlign:"center",scrollSnapStop:"always",flexBasis:"100%",flexShrink:0,flexGrow:0}});var p=i(99259),m=i(25698),g=i(12043),h=i(59124),f=i(46561),v=i(46579);var b=i(64099);const y=(0,r.memo)((({scrollboxRef:e,maxDots:t=5,dotSize:i=6,smallDotSize:n=4,gap:c=4,color:d=p.T.white})=>{const{css:l,s:u,dir:m}=(0,a.I)(x),[g,h]=function({scrollboxRef:e}){const{rtl:t}=(0,v.U)(),i=t?-1:1,[s,n]=(0,r.useState)(0),[a,o]=(0,r.useState)(0);return(0,r.useEffect)((()=>{const t=e.current;if(!t)return;o(t.children.length);const s=()=>{const e=t.offsetWidth/2+t.scrollLeft*i,s=t.scrollWidth/t.children.length,r=Math.floor(e/s);n(r)};return t.addEventListener("scroll",s),()=>{t.removeEventListener("scroll",s)}}),[e,i]),[s,a]}({scrollboxRef:e}),b=Math.floor(t/2),y=Math.max(0,Math.min(h-t,g-b)),j=Math.max(0,h-Math.max(t,g+1+b)),w=(i+c)*(j-y);return h?(0,s.jsx)("div",Object.assign({className:l(u.root),style:(0,o.mG)({gap:c,marginStart:w},m)},{children:(0,f.H)(h,(e=>{const t=y>0&&e<=y,r=j>0&&e+1>=h-j,a=t||r?n:i;return(0,s.jsx)("div",{className:l(u.dot,g===e&&u._active,e<y||e>=h-j?u._hidden:void 0),style:(0,o.mG)({width:a,height:a,marginStart:t?i-n:void 0,marginEnd:r?i-n:void 0,color:d},m)},e)}))})):null}));y.displayName="CarouselDots";const x=(0,a.r)({root:{display:"flex",alignItems:"center",justifyContent:"center",transition:`${n.S.short}ms ${n.l.base}`},dot:{borderRadius:b.Vq.oval,overflow:"hidden",opacity:.3,background:p.T.white,transition:`${n.S.short}ms ${n.l.base}`},_active:{opacity:1},_hidden:{opacity:0}}),j=e=>{const t=(0,d.c)(),{items:i,innerRef:n,renderItem:u,offset:p=16,gap:f=16,flexBasis:v=272,height:b,allPhotosText:x=t._t("Все фото"),idKey:j,styles:I,showAllPhotosText:C,withArrows:_=!0,flexGrow:k=0,withDots:O}=e,{css:S,s:T,dir:E}=(0,a.I)(w),M=(0,r.useRef)(null),N=i.length,L=(0,r.useMemo)((()=>(0,o.mG)({height:null!=b?b:void 0,flexBasis:N>1?v:"100%",flexGrow:k},E)),[b,N,v,k,E]);return(0,s.jsxs)("div",Object.assign({className:S(T.root,I),ref:n},{children:[(0,s.jsx)(c.h,Object.assign({containerRef:M,offset:p,gap:f},{children:i.map(((e,t)=>{const r=C&&t===i.length-1&&i.length>1&&e,n=e?e[j]:`skeletonId_${t}`;return(0,s.jsx)(l,Object.assign({allPhotosText:r?x:void 0,styles:r?T.lastItemWithText:T.item,style:L},{children:e?u(e,t):(0,s.jsx)(m.M,{height:null!=b?b:172,borderRadius:8})}),n)}))})),_&&(0,s.jsx)(g.j,{children:(0,s.jsx)(h.u,{offset:p,scrollboxRef:M},N)}),N>1&&O&&(0,s.jsx)("div",Object.assign({className:S(T.dots)},{children:(0,s.jsx)(y,{scrollboxRef:M},N)}))]}))},w=(0,a.r)({root:{position:"relative"},item:{position:"relative",height:170,transition:`flex-basis ${n.S.veryshort}ms ${n.l.base}`},lastItemWithText:{position:"relative",height:170,"&::before":{content:'""',position:"absolute",pointerEvents:"none",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:5},"&::after":{content:"attr(data-text)",position:"absolute",pointerEvents:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:p.T.white}},dots:{position:"absolute",start:0,end:0,bottom:8,display:"flex",justifyContent:"center",pointerEvents:"none"}})},33808:(e,t,i)=>{"use strict";i.d(t,{y:()=>p});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(69158),c=i(33466);const d=i(99259).T.black;class l extends r.PureComponent{render(){const{s:e,size:t,color:i=(0,o.m)(d,.6),background:r}=this.props;return(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.spinner),style:{width:t,height:t,borderColor:r||(0,o.m)(d,.3)}},{children:(0,s.jsx)("div",{className:(0,n.AH)(e.line),style:{borderTopColor:i}})}))}}l.displayName=(0,a.d)("src/shared/kit/spinner");const u={spinner:{position:"relative",borderRadius:"50%",border:"4px solid transparent",transform:"translateZ(0)"},line:{position:"absolute",top:-4,start:-4,width:"100%",height:"100%",border:"4px solid transparent",borderRadius:"50%",borderColor:"transparent",animationName:{to:{transform:"rotate(360deg)"}},animationDuration:`${c.S.spinner}ms`,animationIterationCount:"infinite"}},p=(0,n.Xy)(u)(l)},33285:(e,t,i)=>{"use strict";i.d(t,{d:()=>l});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(76065),c=i(81618);class d extends r.PureComponent{constructor(){super(...arguments),this.handleShevronClick=e=>{const{isExpanded:t=!1,handleExpandClick:i}=this.props;e.stopPropagation(),i(t)},this.handleExpandClick=e=>{const{isExpanded:t=!1,handleExpandClick:i}=this.props;t||(e.stopPropagation(),i(t))}}render(){const{children:e,isExpanded:t=!1,withoutShevron:i,dataN:r,s:a}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(a.container,!t&&a._showPointer,!i&&a._shevronOffset)},c.dx.n(r||"wat-kit-spoiler"),c.dx.s(`wat-toggle-${t}`),{children:[!i&&(0,s.jsx)("div",Object.assign({className:(0,n.AH)(a.shevron)},c.dx.n("wat-kit-spoiler-shevron"),{onClick:this.handleShevronClick},{children:(0,s.jsx)(o.i,{direction:t?"up":"down"})})),(0,s.jsx)("div",Object.assign({},c.dx.n("wat-toggle"),{onClick:this.handleExpandClick},{children:e}))]}))}}const l=(0,a.Xy)({container:{position:"relative"},shevron:{cursor:"pointer",position:"absolute",end:-4,top:-5,width:24,height:24,userSelect:"none"},_showPointer:{cursor:"pointer"},_shevronOffset:{paddingEnd:20}})(d)},74641:(e,t,i)=>{"use strict";i.d(t,{v:()=>a});var s=i(31085),r=i(14041),n=i(33285);class a extends r.Component{constructor(){super(...arguments),this.state={isExpanded:this.props.initiallyExpanded||!1},this.toggle=e=>{const t=!e;this.props.onToggle&&this.props.onToggle(t),this.setState({isExpanded:t})}}render(){return(0,s.jsx)(n.d,Object.assign({isExpanded:this.state.isExpanded,handleExpandClick:this.toggle,withoutShevron:this.props.withoutShevron,dataN:this.props.dataN},{children:this.props.children(this.state.isExpanded,(()=>this.toggle(this.state.isExpanded)))}))}}},60116:(e,t,i)=>{"use strict";i.d(t,{o:()=>h});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(99259),c=i(81618),d=i(71064),l=i(64099),u=i(80552);class p extends r.PureComponent{constructor(){super(...arguments),this.handleTabClick=()=>this.props.onSelect&&this.props.onSelect(this.props.tab)}render(){const{tab:e,s:t,renderIcon:i,tabRef:r,href:a,dataN:o="wat-tab"}=this.props;return(0,s.jsx)("h2",Object.assign({className:(0,n.AH)(t.tab,e.isSelected&&t.active),onClick:this.handleTabClick,ref:r},c.dx.n(o),c.dx.s(e.isSelected?"active":"inactive"),c.dx.v(e.label),c.dx.t(e.key),{children:(0,s.jsxs)(d.A,Object.assign({color:e.isSelected?"inherit":"dark",href:a},{children:[e.label,!!e.count&&(0,s.jsx)("span",Object.assign({className:(0,n.AH)(t.count,e.isSelected&&t.isActive)},c.dx.n("wat-count"),c.dx.v(e.label),c.dx.t(e.key),{children:e.count})),i&&(0,s.jsx)("span",Object.assign({className:(0,n.AH)(t.iconWrapper,e.isSelected&&t.isActive)},{children:i(e)})),!!e.badgeCount&&(0,s.jsx)("div",Object.assign({className:(0,n.AH)(t.badgeCount)},c.dx.n("wat-tab-price-count"),{children:e.badgeCount<99?e.badgeCount:99}))]}))}),e.label)}}const m={tab:Object.assign(Object.assign({cursor:"pointer",color:o.T.gray_262626},u.regular),{paddingTop:16,paddingBottom:13,paddingStart:0,paddingEnd:0,margin:"0 8px",whiteSpace:"nowrap",userSelect:"none",position:"relative",":first-child":{marginStart:0},":last-child":{marginEnd:0}}),count:{background:o.T.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.T.gray_929292}`,color:o.T.white,marginStart:"4px",borderRadius:l.Vq.default,padding:"0 4px",display:"inline-block",lineHeight:"20px",height:18,marginTop:-4},active:{cursor:"default",color:o.T.gray_929292},iconWrapper:{background:o.T.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.T.gray_929292}`,color:o.T.white,borderRadius:l.Vq.default,height:18,marginStart:4,verticalAlign:"middle",display:"inline-block",marginTop:-4},isActive:{background:"transparent",boxShadow:`inset 0 0 1px 1px ${o.T.gray_929292}`,color:o.T.gray_929292},badgeCount:Object.assign(Object.assign({},u.smallBold),{lineHeight:u.smallBold.fontSize,position:"absolute",top:8,end:-2,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:l.Vq.oval,display:"flex",justifyContent:"center",alignItems:"center",color:o.T.white,background:o.T.red_fe5000})},g=(0,a.Xy)(m)(p),h=e=>(0,s.jsx)(g,Object.assign({},e))},64033:(e,t,i)=>{"use strict";i.d(t,{t:()=>m});var s=i(31085),r=i(14041),n=i(26064),a=i(68076),o=i(33466),c=i(60116),d=i(81618),l=i(35023);class u extends r.PureComponent{constructor(){super(...arguments),this.tabsPositions=[],this.renderTab=e=>{const{renderTab:t,onSelect:i}=this.props;return t?t(e):(0,s.jsx)(c.o,{tab:e,onSelect:e.isSelected?l.lQ:i},e.label)},this.refContainer=e=>{this.container=e},this.refUnderline=e=>{this.underline=e},this.setTab=()=>{this.container&&(this.tabs=this.container.childNodes)},this.setTabPositions=()=>{if(!this.container)return;const e=this.container.getBoundingClientRect();this.tabsPositions=Array.prototype.map.call(this.tabs,(t=>{const i=t.getBoundingClientRect();return{left:i.left-e.left+"px",width:`${i.width}px`}}))},this.setUnderlineStyle=()=>{if(!this.underline)return;const e=this.props.tabs.findIndex((e=>!!e.isSelected));if(e<0)return;const t=this.tabsPositions[e];this.underline.style.width=t.width,this.underline.style.left=t.left}}componentDidMount(){this.setTab(),setTimeout((()=>{this.setTabPositions(),this.setUnderlineStyle()}),0)}componentDidUpdate(){this.setTab(),this.setTabPositions(),this.setUnderlineStyle()}render(){const{s:e,tabs:t,opacifyUnderline:i}=this.props;return(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.root)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.tabsContainer),ref:this.refContainer},d.dx.n("wat-tabs"),{children:t.map(this.renderTab)})),(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.underline,i&&e._opacify),ref:this.refUnderline},d.dx.n("wat-underline")))]}))}}const p=(0,a.Xy)((e=>({root:{position:"relative",height:"100%"},tabsContainer:{display:"flex"},underline:{position:"absolute",bottom:0,height:3,background:e.colors.green_299400_brand,transition:`left ${o.S.short}ms ease-out, width ${o.S.short}ms ease-out`,transform:"translateZ(0)"},_opacify:{background:"currentColor",opacity:.5}})))(u),m=e=>(0,s.jsx)(p,Object.assign({},e))},33708:(e,t,i)=>{"use strict";i.d(t,{n:()=>v});var s=i(31085),r=i(14041),n=i(68076),a=i(26064),o=i(33466);var c=i(59603),d=i(81618),l=i(848),u=i(80552),p=i(99259),m=i(60077),g=i(81407),h=i(12043),f=i(89379);const v=(0,m.K)()({__dirname:"src/shared/kit/tape",styles:{root:{},header:Object.assign(Object.assign({position:"relative",width:"100%",height:40,boxSizing:"border-box"},u.regular),{lineHeight:"40px",color:p.T.gray_262626,userSelect:"none"}),headerTitle:{position:"absolute",start:24,end:24,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},headerArrows:{float:"end",height:"100%",paddingTop:8,paddingEnd:12,boxSizing:"border-box",display:"flex"},tape:{position:"relative",boxSizing:"border-box",background:"none",display:"flex",transform:"translateZ(0)"},slide:{background:"none"},_marginBottom:{marginBottom:12}}})((({s:e,children:t,gap:i,slideWidth:u,controlsSize:m,dir:v,title:b,titleColor:y,titleHref:x,sideMargins:j,onArrowClick:w,dataN:I="wat-carousel-header",hasStaticWidth:C,slideHeight:_,padding:k=0,__titleCustomStyles:O,withoutHeaderAndArrowsOverCarousel:S})=>{const[T,E]=r.useState(0),[M,N]=r.useState(0),L=r.useRef(null),P=e=>(0,s.jsx)("div",Object.assign({},d.dx.n("wat-carousel-header-arrow"),d.dx.t(e),{children:(0,s.jsx)(l.i,{direction:e,size:m})})),R=()=>L.current?function({slideWidth:e,viewportWidth:t,slidesCount:i,index:s=0,slideGap:r=0,padding:n}){const a=i*e+(i-1)*r+(n?2*n:0);if(s<0||s>=i||t>=a)return 0;const o=s*(e+r);return Math.min(o,a-t)}({index:T,viewportWidth:L.current.offsetWidth,slideWidth:u,slidesCount:t.length,slideGap:i,padding:k}):0,A=e=>{E(e),w&&w(e)};r.useEffect((()=>E(0)),[t.length]),(0,g.E)((()=>{L.current&&N(L.current.offsetWidth)}),[]);const B=Math.floor(M/u),z=B?t.length-B:t.length-1,F=()=>{const r=t.map(((r,o)=>(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.slide)},d.dx.n("wat-carousel-item"),{style:(0,a.mG)({marginStart:o&&i?i:void 0,height:_,minWidth:C||t.length>1?u:"100%",maxWidth:C||t.length>1?u:"100%"},v)},{children:r}),`tape-item-${o}`)));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.j,{children:(0,s.jsx)("div",Object.assign({ref:L,className:(0,n.AH)(e.tape),style:(0,a.mG)({padding:`0px ${k}px`,margin:`0px ${j}px`,start:-R(),transition:`${"ltr"===v?"left":"right"} ${o.S.short}ms ${o.l.base}`},v)},{children:r}))}),(0,s.jsx)(h.h,{children:(0,s.jsx)(f.h,Object.assign({offset:j},{children:r}))})]})},H=b||t.length>1;return S?b?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.j,{children:(0,s.jsx)(c.N,Object.assign({left:P("start"),right:P("end"),onChange:A,currentIndex:T,minIndex:0,maxIndex:z},{children:(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.root)},{children:F()}))}))}),(0,s.jsx)(h.h,{children:(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.root,e._marginBottom)},{children:F()}))})]}):(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.root)},{children:[H&&(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(e.header)},d.dx.n(I),{children:[b&&(0,s.jsx)("header",Object.assign({className:(0,n.AH)(e.headerTitle,O),style:(0,a.mG)({color:y||p.T.gray_262626},v)},d.dx.n("wat-carousel-header-title"),{children:x?(0,s.jsx)("a",Object.assign({href:x},{children:b})):b})),(0,s.jsx)(h.j,{children:(0,s.jsx)(s.Fragment,{children:t.length>1&&(0,s.jsx)("div",Object.assign({className:(0,n.AH)(e.headerArrows)},d.dx.n("wat-carousel-header-arrows"),{children:(0,s.jsx)(c.N,{left:P("start"),right:P("end"),onChange:A,currentIndex:T,minIndex:0,maxIndex:z})}))})})]})),F()]}))}))},80848:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});var s=i(31085),r=i(14041);const n=({template:e,render:t})=>{const i=(0,r.useMemo)((()=>a(e)),[e]);return(0,s.jsx)(s.Fragment,{children:i.map(((e,i)=>{var n;return(0,s.jsx)(r.Fragment,{children:"string"==typeof e?e:(null===(n=t[e.name])||void 0===n?void 0:n.call(t,e.text))||e.text},i)}))})};function a(e){const t=[];let i="",s="",r=!1;for(const n of e)switch(n){case"$":r=!0,s&&(t.push(s),s="");break;case"[":r=!1,s&&(t.push(s),s="");break;case"]":t.push({name:i||"default",text:s}),s="",i="";break;default:" "===n&&r&&(t.push({name:i,text:""}),r=!1,i=""),r?i+=n:s+=n}return s&&t.push(s),i&&t.push({name:i,text:""}),t}},10520:(e,t,i)=>{"use strict";i.d(t,{E:()=>p});var s=i(31085),r=i(14041),n=i(81618),a=i(80552),o=i(99259),c=i(26461),d=i(68076);class l extends r.PureComponent{render(){const{children:e,block:t,dataN:i="wat-kit-text",dataT:r=""}=this.props;return e?t?(0,s.jsx)("div",Object.assign({className:this.getClassName()},n.dx.n(i),n.dx.t(r),{children:e})):(0,s.jsx)("span",Object.assign({className:this.getClassName()},n.dx.n(i),n.dx.t(r),{children:e})):null}getClassName(){const{s:e,bold:t,note:i,lead:s,m:r,small:n,m4:a,m8:o,medium:c,__experimentalStyles:l}=this.props;return(0,d.AH)(e.text,s&&e.lead,n&&e.small,t&&e._bold,c&&e._medium,i&&e._note,(r||a||o)&&e.m,(r&&4===r||a)&&e.m4,(r&&8===r||o)&&e.m8,r&&12===r&&e.m12,r&&6===r&&e.m6,r&&16===r&&e.m16,r&&20===r&&e.m20,r&&24===r&&e.m24,l)}}l.displayName=(0,c.d)("src/shared/kit/text");const u={text:Object.assign({},a.regular),_bold:{fontWeight:a.fontWeight.semibold},_medium:{fontWeight:a.fontWeight.medium},_note:{color:o.T.gray_929292},lead:Object.assign({},a.lead),small:Object.assign({},a.small),m:{"&:empty":{display:"none"},"&:last-child":{marginBottom:0}},m4:{marginBottom:4},m8:{marginBottom:8},m6:{marginBottom:6},m12:{marginBottom:12},m16:{marginBottom:16},m20:{marginBottom:20},m24:{marginBottom:24}},p=(0,d.Xy)(u)(l)},51068:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var s=i(31085),r=i(14041),n=i(80552),a=i(99259),o=i(81618),c=i(46501),d=i(604),l=i(84175);const u=e=>{const{s:t,css:i}=(0,l.I)(p),[n,a]=(0,r.useState)(e.initialValue||e.value||""),[u]=(0,r.useState)(void 0!==e.value),[m,g]=(0,r.useState)(e.autoFocus||!1);(0,r.useEffect)((()=>{u&&void 0!==e.value&&a(e.value)}),[e.value,u]);const h=(0,r.useRef)({beforeStart:0,beforeEnd:0}),f=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{var t,i;(e.multiline||"text"===(null===(t=f.current)||void 0===t?void 0:t.type))&&(null===(i=f.current)||void 0===i||i.setSelectionRange(h.current.beforeStart,h.current.beforeEnd))}),[n,e.multiline]);const v=()=>{const{hasClearButton:r}=e;if(r&&n)return(0,s.jsx)("div",Object.assign({className:i(t.buttons)},o.dx.n("wat-input-clear-button"),{children:(0,s.jsx)("div",Object.assign({className:i(t.clearButtonWrapper),onClick:w},{children:(0,s.jsx)(c.b,{})}))}))},b=()=>{const{autoFocus:r,linesCount:a=4,multiline:c,dataT:d,isLead:l,inputType:u,maxLength:p}=e,m=17*a,g={className:i(t.input,l?t.leadText:t.inputText),placeholder:I(),onChange:y,onFocus:x,onBlur:j,autoFocus:r,maxLength:p};return c?(0,s.jsx)("textarea",Object.assign({},g,{ref:f,style:{height:m},value:n},o.dx.n("wat-textfield-input"),o.dx.t(d),{onClick:C})):(0,s.jsx)("input",Object.assign({},g,{ref:f,type:u||"text",value:n},o.dx.n("wat-textfield-input"),o.dx.t(d),{onClick:C}))},y=t=>{var i,s;const r=t.target.value,n=null!==(i=t.target.selectionStart)&&void 0!==i?i:0,o=null!==(s=t.target.selectionEnd)&&void 0!==s?s:0;h.current={beforeStart:n,beforeEnd:o},u||a(r),e.onChange(r)},x=()=>{var t;g(!0),null===(t=e.onFocus)||void 0===t||t.call(e)},j=()=>{var t;g(!1),null===(t=e.onBlur)||void 0===t||t.call(e)},w=()=>{var t;a(""),null===(t=e.onClear)||void 0===t||t.call(e)},I=()=>e.placeholder?e.placeholder:m||""!==n?"":e.label,C=e=>{e.stopPropagation()};return(0,s.jsx)(d.S,{label:e.placeholder||m||""!==n?e.label:"",hasLabel:!!e.label,input:(0,s.jsxs)(s.Fragment,{children:[b(),v()]}),renderOutside:()=>{const{hasClearButton:t,renderOutside:i}=e;if(t&&n)return i&&i()},error:!!e.error,focused:m})};u.displayName="TextField";const p=(0,l.r)({input:{color:a.T.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial","::placeholder":{color:a.T.gray_929292}},inputText:Object.assign({},n.input),leadText:Object.assign({},n.lead),buttons:{display:"flex",justifyContent:"space-between"},clearButtonWrapper:{height:24,marginTop:-4,marginBottom:-4,cursor:"pointer"}})},604:(e,t,i)=>{"use strict";i.d(t,{S:()=>p});var s=i(31085),r=i(14041),n=i(68076),a=i(26461),o=i(80552),c=i(99259);class d extends r.PureComponent{render(){const{label:e,input:t,s:i,error:r,renderOutside:a,dataN:o="wat-kit-textfield",focused:c,hasLabel:d}=this.props;return(0,s.jsxs)("div",Object.assign({"data-n":o,style:{width:"100%"}},{children:[(e||d)&&(0,s.jsx)("label",Object.assign({className:(0,n.AH)(i.label)},{children:e||""})),!a&&(0,s.jsx)("div",Object.assign({className:(0,n.AH)(i.wrapper,c&&i._focused,r&&i._error)},{children:t})),a&&(0,s.jsxs)("div",Object.assign({className:(0,n.AH)(i.flexWrap)},{children:[(0,s.jsx)("div",Object.assign({className:(0,n.AH)(i.wrapper,c&&i._focused,r&&i._error)},{children:t})),a()]}))]}))}}d.displayName=(0,a.d)("src/shared/kit/textField");const l={content:'""',position:"absolute",bottom:0,height:1,width:"100%",start:0},u={flexWrap:{display:"flex",justifyContent:"space-between"},wrapper:{width:"100%",display:"flex",alignItems:"center",color:c.T.gray_929292,position:"relative",boxSizing:"border-box",padding:"12px 0",":after":Object.assign(Object.assign({},l),{background:c.T.gray_e6e6e6})},_error:{":after":Object.assign(Object.assign({},l),{background:c.T.red_fe5000})},_focused:{color:c.T.gray_262626,":after":Object.assign(Object.assign({},l),{background:c.T.blue_0072ce})},label:Object.assign(Object.assign({},o.small),{display:"block",color:c.T.gray_929292,height:o.small.lineHeight,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},p=(0,n.Xy)(u)(d)},79086:(e,t,i)=>{"use strict";i.d(t,{w:()=>d});var s=i(31085),r=i(14041);const n={bottomStart:"bottomEnd",bottomEnd:"bottomStart",bottomBottomEnd:"bottomBottomStart",bottomBottomStart:"bottomBottomEnd",centerStart:"centerEnd",centerEnd:"centerStart"};var a=i(46579);const o=i(3633),c={attributes:!0,characterData:!0,subtree:!0,childList:!0};const d=r.memo((({children:e,innerRef:t,pointerEvents:i,to:d,offset:l,targetBoundingClientRect:u})=>{const p=(0,r.useRef)(null),m=t||p,[g,h]=(0,r.useState)(void 0),{rtl:f}=(0,a.U)(),{top:v,left:b,bottom:y,right:x,transform:j}=(0,r.useMemo)((()=>{if(!g)return{top:0,left:0};const e=window.innerWidth,t=window.innerHeight;return function(e){const{to:t,targetClientRect:i,ownClientRect:s,windowWidth:r,windowHeight:a,offset:o,rtl:c}=e,d=s.width,l=s.height;switch(c&&n[t]||t){case"bottomMiddle":return{left:i.left+i.width/2,top:i.bottom+o,transform:"translateX(-50%)"};case"bottomStart":return{left:i.left-o,top:i.bottom+o,transform:"translateX(-100%)"};case"bottomEnd":{const e=i.right+o,t=i.bottom+o,s=r-e-d<8,n=a-t-l<8;return s&&n?{right:r-i.left+o,bottom:a-i.top+o}:s?{top:t,right:r-i.left+o}:n?{bottom:a-i.top+o,left:e}:{left:e,top:t}}case"centerStart":return{left:i.left-o,top:i.top+i.height/2,transform:"translateY(-50%) translateX(-100%)"};case"centerEnd":return{left:i.right+o,top:i.top+i.height/2,transform:"translateY(-50%)"};case"bottomBottomStart":const e=i.left,t=i.bottom+o,s=r-e-d<8,n=a-t-l<8;return s&&n?{right:r-i.left+o,bottom:a-i.top+o}:s?{top:t,right:r-i.left+o}:n?{bottom:a-i.top+o,left:e}:{left:e,top:t};case"bottomBottomEnd":return{left:i.right,top:i.bottom+o,transform:"translateX(-100%)"}}}({to:d,targetClientRect:u,ownClientRect:g,windowWidth:e,windowHeight:t,offset:l,rtl:f})}),[g]),w=(0,r.useCallback)((()=>{var e;h(null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect())}),[]);return(0,r.useEffect)(w,[]),function(e,t){const i=(0,r.useCallback)(((...e)=>o((()=>{t(...e)}))),[t]);(0,r.useEffect)((()=>{if(e.current&&"undefined"!=typeof MutationObserver){const t=new MutationObserver(i);return t.observe(e.current,c),()=>{t.disconnect()}}}),[i,e])}(m,w),(0,s.jsx)("div",Object.assign({style:{position:"absolute",top:v,left:b,bottom:y,right:x,transform:j,pointerEvents:i,visibility:g?void 0:"hidden"},ref:m},{children:e}))}))},64099:(e,t,i)=>{"use strict";i.d(t,{Ej:()=>a,Vq:()=>c,W2:()=>d,fE:()=>o});var s=i(99259),r=i(2829),n=i(69158);const a={searchBarWrapperHeight:56,sideMenuWidth:288,navigationWidth:64,standardFrameWidth:352,innerFrameWidth:304,sidebarFrameWidth:200,wideFrameWidth:552,popupFrameWidth:544,photoListItemHeight:170,cardLogo:56,rackShift:32,rackMargin:8},o=Object.assign({},r.f),c={default:"4px",defaultOnlyTop:"4px 4px 0 0",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px",small:"2px",isolate:"6px",oval:"200px",topRaunded8:"8px 8px 0 0"},d={"::-webkit-scrollbar-thumb":{backgroundColor:(0,n.m)(s.T.black,.2)},"::-webkit-scrollbar-track":{backgroundColor:"#f0f0f0"},"::-webkit-scrollbar":{width:"6px"},scrollbarWidth:"thin"}},2487:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});class s{constructor(){this.requests=[]}setRequest(e){2===e.params.data.v&&this.requests.push(e)}getRequests(){return this.requests}clear(){this.requests=[]}}},33682:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});const s=(e,t)=>e.includes(t)},2895:(e,t,i)=>{"use strict";function s(e,t){return t<0||t>=e.length?e:[...e.slice(0,t),...e.slice(t+1)]}i.d(t,{T:()=>s})},24855:(e,t,i)=>{"use strict";function s(e,t,i){return i<0||i>=e.length?e:[...e.slice(0,i),t,...e.slice(i+1)]}i.d(t,{H:()=>s})},46561:(e,t,i)=>{"use strict";function s(e,t){return e<=0?[]:Array(e).fill("").map(((e,i)=>t(i)))}i.d(t,{H:()=>s})},76127:(e,t,i)=>{"use strict";function s(e,t){const i={};return e.filter((e=>{const s=t(e);return!i[s]&&(i[s]=!0,!0)}))}i.d(t,{h:()=>s})},806:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var s=i(14041);const r=e=>{let t=e;const i=()=>t,r=(()=>{let e,t;return{notify(t){let i=e;for(;i;)i.fn(t),i=i.next},subscribe(i){const s={fn:i};return e&&t?(t.next=s,s.prev=t,t=s):(e=s,t=s),()=>{s.prev&&s.next?(s.prev.next=s.next,s.next.prev=s.prev):s.prev?(t=s.prev,t.next=void 0):s.next?(e=s.next,e.prev=void 0):(e=void 0,t=void 0)}}}})(),n=e=>e;return{use:(e=n)=>{const[t,a]=(0,s.useState)((()=>e(i())));return(0,s.useEffect)((()=>(a(e(i())),r.subscribe((t=>a(e(t)))))),[e]),t},get:i,set:e=>{"undefined"!=typeof window?(t=e(i()),r.notify(t)):console.error("Нельзя менять состояние атомов на сервере!",(new Error).stack)}}}},34764:(e,t,i)=>{"use strict";i.d(t,{MN:()=>s.MN,mN:()=>s.mN,nr:()=>s.nr});var s=i(48171)},48171:(e,t,i)=>{"use strict";i.d(t,{MN:()=>c,Yz:()=>d,h_:()=>a,mN:()=>o,nr:()=>s});var s,r,n,a,o;!function(e){e.Bar="awards_awards2025_thebestbar2025",e.Barbershop="awards_awards2025_thebestbarbershop2025",e.BeautySalon="awards_awards2025_thebestbeautysalon2025",e.Cafe="awards_awards2025_thebestcafe2025",e.Carservice="awards_awards2025_thebestcarservice2025",e.Coffeeshop="awards_awards2025_thebestcoffeeshop2025",e.Confectionery="awards_awards2025_thebestconfectionery2025",e.Dental="awards_awards2025_thebestdental2025",e.Detailing="awards_awards2025_thebestdetailing2025",e.Fitness="awards_awards2025_thebestfitnessclub2025",e.Flowers="awards_awards2025_thebestflowers2025",e.Foodmall="awards_awards2025_thebestfoodmall2025",e.Hairdressing="awards_awards2025_thebesthairdressing2025",e.Hotel="awards_awards2025_thebesthotel2025",e.Massage="awards_awards2025_thebestmassage2025",e.MedicalCenter="awards_awards2025_thebestmedicalcenter2025",e.Nailsalon="awards_awards2025_thebestnailsalon2025",e.Restaurants="awards_awards2025_thebestrestaurants2025",e.Shotglass="awards_awards2025_thebestshotglass2025",e.Spa="awards_awards2025_thebestspa2025",e.Streetfood="awards_awards2025_thebeststreetfood2025"}(s||(s={})),function(e){e.GreatList="guide_great_list"}(r||(r={})),function(e){e.Kidsfriendly="awards_kidsfriendly"}(n||(n={})),function(e){e.award2016="awards_past_awards_awards2016",e.award2017="awards_past_awards_awards2017",e.award2018="awards_past_awards_awards2018",e.award2019="awards_past_awards_awards2019",e.award2020="awards_past_awards_awards2020",e.award2021="awards_past_awards_awards2021",e.award2022="awards_past_awards_awards2022",e.award2023="awards_past_awards_awards2023"}(a||(a={})),function(e){e.Award2GIS="Премия 2ГИС",e.GreatList="GreatList",e.Kidsfriendly="Kidsfriendly"}(o||(o={}));const c={[o.Award2GIS]:s,[o.GreatList]:r,[o.Kidsfriendly]:n},d=[...Object.values(c).flatMap(Object.values),...Object.values(a)]},15014:(e,t,i)=>{"use strict";function s(e){return{map:{effectsLevel:e.appContext.isImmersiveMapEnabled?"immersive":"default"}}}i.d(t,{p:()=>s})},43772:(e,t,i)=>{"use strict";i.d(t,{C:()=>c});var s=i(85608),r=i(29094),n=i(536),a=i(79594),o=i(82781);function c({textToCopy:e,successMessage:t,title:i,bssName:c,payload:d}){const l=(0,o.c)(),u=(0,a.wA)();return{copyToClipboard:()=>(0,s.sH)(this,void 0,void 0,(function*(){try{yield navigator.clipboard.writeText(e),u((0,r.D)((0,n.k)({title:i||l._t("Скопировано"),message:t||"",bssName:c,payload:d})))}catch(e){console.log("clipboard API требует безопасного контекста (HTTPS или localhost)"),(0,r.D)((0,n.z)({title:l._t("Ошибка!"),message:""}))}}))}}},9154:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var s=i(72833);function r(e){const t=(0,s.T)(e);return[parseInt(`${t[1]}${t[2]}`,16),parseInt(`${t[3]}${t[4]}`,16),parseInt(`${t[5]}${t[6]}`,16)]}},72833:(e,t,i)=>{"use strict";i.d(t,{T:()=>n});const s=/^#[a-f0-9]{6}$/,r=/^#[a-f0-9]{3}$/;function n(e){const t=e.toLowerCase();return s.test(t)?t:r.test(t)?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:"#000000"}},40301:(e,t,i)=>{"use strict";i.d(t,{F:()=>n});var s=i(72833),r=i(51451);function n(e,t){const i=(0,s.T)(e).substr(1),n=function(e){const t=Math.round(255*(0,r.qE)(e,0,1)).toString(16);return 1===t.length?"0"+t:t}(t);return`#${i}${n}`}},13527:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});const s=(0,i(14041).createContext)("\n  #########\n  ERROR: Забыл добавить конфиг приложения в ConfigContext\n  #########\n")},72384:(e,t,i)=>{"use strict";i.d(t,{n:()=>l,l:()=>u});var s=i(50432),r=i(53157);function n(e){return(0,r.xO)(e)%10}function a(e){return e.slice(-12)}function o(e,t,i){i.length;const s=function(e,t=0){const i=a(e),s=i.length-t;return i.slice(s-2,s)}(t,n(e)),r=parseInt(s,16);if(Number.isNaN(r))return;const o=r%(2*i.length);return{group:i[Math.floor(o/2)],subgroup:o%2?1:2}}var c=i(24645),d=i(48518);function l(e){return(t,i)=>{var r;const{name:l,percentRange:u,groups:p,forHumanFromSeo:m,forCountries:g,excludeHumanFromSeo:h,excludeSafari:f,forDesktop:v,forMobile:b}=e,y={name:e.name,values:p},x=t.godmode?[...t.availableExperiments,y]:[];if(m&&!t.isHumanFromSeo||g&&!g.includes(t.defaultCountryCode)||h&&t.isHumanFromSeo||f&&(null===(r=null==i?void 0:i.useragent)||void 0===r?void 0:r.isSafari)||v&&t.isMobileDevice||b&&!t.isMobileDevice)return{availableExperiments:x};let j=!1;try{j=function(e,t,i){if(i.find((e=>e<0||e>1)))throw new Error(`Bad percentageRange in filters = ${i.toString()}`);const s=n(e),r=a(t).slice(s,s+3),o=parseInt(r,16);if(Number.isNaN(o))throw new Error(`Can't filter properly in a/b test. Cannot get value from ${r}`);const c=4095*i[0],d=4095*i[1];return o>=c&&o<d}(l,t.userId,u)}catch(e){(0,s.vV)({id:"sakfa",message:(0,c.u)(e),level:"error",payload:{type:"exception",subtype:"a/b test error",stack:(0,d.N)(e)}})}if(!0!==j)return{availableExperiments:x};const w=o(e.name,t.userId,p);if(!w)return(0,s.vV)({id:"hklqe",message:"cannot set group in a/b test",level:"error",payload:{type:"exception",subtype:"a/b test error"}}),{};return{availableExperiments:x,experiments:[{name:e.name,value:`${w.group}_${w.subgroup}`},...t.experiments]}}}function u(e,t){const i=t.find((t=>t.name===e));if(i)return i.value.split("_")[0]}},180:(e,t,i)=>{"use strict";i.d(t,{g$:()=>r});i(24645);var s=i(35023);function r(e,t,i="unknown key"){if("string"==typeof e)return t;if("number"==typeof e){const e=Number(t);if(e!=e||""===t.trim())throw new Error(`Invalid number env config value (${i}): "${t}"`);return e}if("boolean"==typeof e)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;default:throw new Error(`Invalid boolean env config value (${i}): ${t}`)}if(Array.isArray(e)){const e=JSON.parse(t);if(Array.isArray(e))return e;throw new Error(`Invalid array env config value (${i}): ${t}`)}if((0,s.Gv)(e)){const e=JSON.parse(t);if((0,s.Gv)(e))return e;throw new Error(`Invalid object env config value (${i}): ${t}`)}throw new Error(`Config value is not a string/number/boolean/array/object (${i})`)}},88220:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var s=i(79594),r=i(15401);function n(e,t,i){return(0,s.H_)((i=>{let s,n={},a={};return(o,c)=>{const d=e?e(o,c):{};if((0,r.b)(s,d)&&(0,r.b)(n,c))return a;const l=t?t(i,Object.assign(Object.assign({},c),d)):void 0;return n=c,s=d,a=Object.assign({},c,s,l),a}}),i)}},86070:(e,t,i)=>{"use strict";i.d(t,{G:()=>d});var s=i(79594),r=i(4340),n=i(7143),a=i(1269),o=i(12017),c=i(7335);function d(e){let t=!1;const i=t=>t.appContext[e],d=(0,a.V)(`appContextAtomSet_${e}`,(0,n.T)("appContext",((t,i)=>t[e]===i?t:Object.assign(Object.assign({},t),{[e]:i}))));return{get:i,use:()=>(0,s.d4)(i),set:i=>(0,o.K2)(t&&(0,o.v6)((()=>{r.IG.local.setItem(e,i)})),d(i)),syncLS:(s=l)=>{var n;t=!0;const a=JSON.parse(null!==(n=r.IG.local.getItem(e))&&void 0!==n?n:"null");return(0,c.eU)(i,(e=>d(s(a,e))))}}}function l(e,t){return null==e?t:e}},69924:(e,t,i)=>{"use strict";function s(e){return Date.now()+e}i.d(t,{l:()=>s})},10330:(e,t,i)=>{"use strict";function s(e,t){return new Date(e+6e4*(new Date(e).getTimezoneOffset()+t))}i.d(t,{F:()=>s})},12148:(e,t,i)=>{"use strict";i.d(t,{YH:()=>d,Yk:()=>u,gb:()=>c});var s=i(27917),r=i(35023),n=i(21788);const a="|",o=";";function c(e){const t=e.reduce(((e,t)=>t&&(0,r.O9)(t.lonLat)?e.concat((0,r.oE)([(0,n.R)(t.lonLat),"entityId"in t&&t.entityId]).join(o)):e),[]),i=e[0];return(!i||u(i)&&!(0,r.O9)(i.lonLat))&&t.length&&t.unshift(""),t.join(a)}function d(e){if(!e)return[];const t=e.split(a),i=t.reduce(((e,t)=>{const i=l(t);return i?e.concat(i):e}),[]);return i.length&&!t[0]?[void 0,...i]:i}function l(e,t=o){const i=e.split(t),r=(0,s.q)(i[0]);if(!r)return;const n=i[1];return/^\d+$/.test(n)?{type:"point",lonLat:r,entityId:n}:{type:"point",lonLat:r}}function u(e){return!!e&&"location"===e.type}},5536:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var s=i(59954);function r(e){const t=e.split(".").pop();return e.includes("urbi-sa")&&"com"===t||t?s.Jr[t]:void 0}},81618:(e,t,i)=>{"use strict";i.d(t,{c:()=>r,dx:()=>l,n:()=>n,p:()=>d,t:()=>a,v:()=>c});let s=!1;function r(e){s=!e}function n(e){return s||!e?{}:{"data-n":e}}function a(e){return s||!e?{}:{"data-t":e}}function o(...e){return s?{}:{"data-s":e.filter((e=>!!e)).join(" ")||void 0}}function c(e){return s||!e?{}:{"data-v":`${e}`}}function d(e){return s?{}:Object.assign(Object.assign(Object.assign(Object.assign({},n(e.n)),a(e.t)),o(...(t=e.s,t?"string"==typeof t?[t]:t:[]))),c(e.v));var t}const l={s:o,n,t:a,v:c}},66003:(e,t,i)=>{"use strict";i.d(t,{Dp:()=>r.Dp,EH:()=>a,mU:()=>r.mU,uI:()=>n.u,yG:()=>r.yG});var s=i(35023),r=i(50154),n=i(5512);function a(e,t,...i){return r=>({type:`effect(${e})`,payload:{name:e,params:r,phase:"start",handler:t,uuid:(0,s.W7)()},effect:!0,reducers:i})}},15434:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var s=i(50154);function r(e){const{services:t,asyncExtraPayload:i}=e;return e=>{const r=function(e){const{asyncExtraPayload:t,getState:i}=e;return{get:e=>{if(!t)return;const s=t(i());return s?s[e]:void 0}}}({asyncExtraPayload:i,getState:e.getState});let n=e.dispatch;return e=>i=>(0,s.eh)(i)?(e(i),i.payload.handler(i.payload.params)(Object.assign(Object.assign({},t),{contextApi:r})).then((e=>{n((0,s.cv)(i,e))})).catch((e=>{n((0,s.h$)(i,e))}))):e(i)}}},50154:(e,t,i)=>{"use strict";function s(e){const{effect:t,payload:i}=e;return t&&"start"===i.phase}function r(e,t){return(i,s)=>{if(!function(e,t){return!0===e.effect&&e.payload.name===t}(s,e))return i;switch(s.payload.phase){case"start":return t.start?t.start(i,s.payload):i;case"success":return t.success?t.success(i,s.payload):i;case"error":return t.error?t.error(i,s.payload):i}return i}}function n(e,t,i){const s=r(e,i);return(e=t,i)=>s(e,i)}function a(e,t){return{type:`effect(${e.payload.name}):success`,payload:{uuid:e.payload.uuid,name:e.payload.name,params:e.payload.params,phase:"success",result:t},reducers:e.reducers,effect:!0}}function o(e,t){return{type:`effect(${e.payload.name}):error`,payload:{uuid:e.payload.uuid,name:e.payload.name,params:e.payload.params,phase:"error",error:t},reducers:e.reducers,effect:!0}}function c(e){return(t,i)=>{switch(i.payload.phase){case"start":return e.start?e.start(t,i.payload):t;case"success":return e.success?e.success(t,i.payload):t;case"error":return e.error?e.error(t,i.payload):t}return t}}i.d(t,{Dp:()=>n,cv:()=>a,eh:()=>s,h$:()=>o,mU:()=>c,yG:()=>r})},24645:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});var s=i(35023);function r(e){if(t=e,(0,s.Gv)(t)&&"message"in t&&"string"==typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}}function n(e){return r(e).message}},48518:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});var s=i(35023);function r(e){if((0,s.Gv)(e)&&"stack"in e&&"string"==typeof e.stack)return e.stack}},39890:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});var s=i(88618);var r=i(80739);function n(e,t={}){const i=Object.assign({},t),{valueType:n,name:a,value:o,isChecked:c}=e;if(!a||!o)return i;const d=t&&t[a]||"";let l;switch(n){case"multiple":const e=(0,r.v)(d),t=e.indexOf(o),i=-1!==t;c&&!i?e.push(o):!c&&i&&e.splice(t,1),l=e.join(s.Wy);break;case"single":l=c?o:""}return l=!l&&e.defaultValue?e.defaultValue:l,!l&&a in i?delete i[a]:l&&i[a]!==l&&(i[a]=l),i}},7491:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});var s=i(88618);function r(e,t){return`${e}${s.Wy}${t}`}},88618:(e,t,i)=>{"use strict";i.d(t,{Ed:()=>r,K8:()=>s,Wy:()=>a,lm:()=>n,xt:()=>o});const s="=",r=";",n=",",a=",",o="+"},80739:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var s=i(88618);function r(e){return e?e.split(s.lm):[]}},92942:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(88618);function r(e){return e.split(s.lm).splice(0,2)}},61949:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=function(...e){const t=e?e.length:0;return function(...i){let s=0,r=t?e[s].apply(this,i):i[0];for(;++s<t;)r=e[s].call(this,r);return r}}},79435:(e,t,i)=>{"use strict";function s(){const e={append:()=>{}};return"undefined"!=typeof FormData?new FormData:e}i.d(t,{J:()=>s})},26461:(e,t,i)=>{"use strict";function s(e){const t=e.split("/");return t[t.length-1]}i.d(t,{d:()=>s})},11540:(e,t,i)=>{"use strict";i.d(t,{Jq:()=>r,_4:()=>n,cD:()=>a,kc:()=>o});var s=i(10866);const{withFormatter:r,FormatterProvider:n,FormatterContextConsumer:a,useFormatter:o}=(0,s.PR)()},41929:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var s=i(14041),r=i(15401);function n(e,t){const i=function(e){const t=(0,s.useRef)(e);if(t.current===e)return e;if(function(e,t){if(e.length!==t.length)return!1;return e.every(((e,i)=>(0,r.b)(e,t[i])))}(t.current,e))return t.current;return e}(t);return(0,s.useMemo)(e,i)}},24963:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});var s=i(14041);function r(e,t){(0,s.useEffect)((()=>{const i=i=>{e.current&&!e.current.contains(i.target)&&t()};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}}),[e,t])}},86291:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var s=i(14041);function r(e,t,i){const r=(0,s.useRef)(null);(0,s.useEffect)((()=>{const s=()=>{!function(e,t,i){n(e),e.current=setTimeout(t,i)}(r,t,i)},a=()=>{n(r)};return s(),e.current&&(e.current.addEventListener("mouseenter",a),e.current.addEventListener("mouseleave",s)),()=>{a(),e.current&&(e.current.removeEventListener("mouseenter",a),e.current.removeEventListener("mouseleave",s))}}),[e.current])}function n(e){clearTimeout(e.current)}},56964:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});const s=e=>"ar"===e.lang||"ar_AE"===e.locale?"straight":e.addressOrder},75041:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});var s=i(36501);function r(e,t){return"ru"!==e&&t.includes(e)?("cs"!==e&&"it"!==e&&"es"!==e||(e="en"),i(61016)(`./${e}.po`).then((e=>JSON.stringify(e)))):Promise.resolve(s.A)}},58767:(e,t,i)=>{"use strict";i.d(t,{F:()=>m});var s=i(85608),r=i(8834),n=i(61949),a=i(71448),o=i(26516),c=i(9539),d=i(45280);class l{setLocaleData(e){this.currentLocaleData=e}format(e,t){return(0,c.A)(e,t,{locale:this.currentLocaleData})}formatDistanceStrict(e,t,i){return(0,d.A)(e,t,{locale:this.currentLocaleData,addSuffix:null==i?void 0:i.addSuffix})}}function u(e){return function(e){switch(e){case"ru":return i.e(909).then(i.bind(i,35974));case"kk":return i.e(9664).then(i.bind(i,16323));case"hy":return i.e(7775).then(i.bind(i,57596));case"ka":return i.e(8698).then(i.bind(i,96737));case"az":return i.e(3147).then(i.bind(i,4736));case"uz":return i.e(1751).then(i.bind(i,84068));case"cs":return i.e(1136).then(i.bind(i,58915));case"es":return i.e(3734).then(i.bind(i,48757));case"ar":return i.e(3552).then(i.bind(i,93903));default:return Promise.resolve().then(i.bind(i,69059))}}(e).then((e=>e.default))}var p=i(50432);class m{constructor(e,t=new l){this.getLang=()=>this.lang,this.getLocale=()=>this.locale,this.translationController=e,this.tp=this.replaceEntitiesInProvider(new r.TranslationProvider(this.translationController)),this.dateFns=t,this.lang="ru",this.locale="ru_RU"}setLocale(e){return(0,s.sH)(this,void 0,void 0,(function*(){const{lang:t,countryCode:i}=e,[s,r]=yield Promise.all([this.fetchTranslations(t),this.fetchDateFnsLocaleData(t)]);this.dateFns.setLocaleData(r),this.lang=s,this.locale=(0,o.R)(s,i)}))}fetchTranslations(e){return new Promise((t=>{this.translationController.setLocale(e,(e=>{t(e)}),(i=>{(0,p.vV)({message:`Set locale '${e}' error (${i})`,level:"fatal",id:"VQExy",payload:{type:"exception",subtype:"setLocale",data:i.stack}}),this.translationController.setLocale("ru",t)}))}))}replaceEntitiesInProvider(e){return{_t:(0,n.A)(e._t,a.an),_pt:(0,n.A)(e._pt,a.an),_nt:(0,n.A)(e._nt,a.an),_npt:(0,n.A)(e._npt,a.an),_gg:(0,n.A)(e._gg,a.an),_pgg:(0,n.A)(e._pgg,a.an),_ngg:(0,n.A)(e._ngg,a.an),_npgg:(0,n.A)(e._npgg,a.an)}}fetchDateFnsLocaleData(e){return u(e)}}},79911:(e,t,i)=>{"use strict";i.d(t,{R:()=>s});const s=i(14041).createContext({})},26516:(e,t,i)=>{"use strict";function s(e,t){const[i,s=t]=e.split(/[-_]/);return`${i.toLowerCase()}_${s.toUpperCase()}`}i.d(t,{R:()=>s})},71448:(e,t,i)=>{"use strict";i.d(t,{CT:()=>r,an:()=>n});var s=i(80690);const r=e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;function n(e){return e.replace(/&nbsp;/g,s.aY)}},36501:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s='{"meta":{"pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);", "language":"ru_RU"},"items":[]}'},9481:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(35023);const r="undefined"==typeof window;class n{static removeStore(e,t){try{(0,s.jJ)(localStorage,((i,s)=>{const r=s.split(".");r[0]===e&&r[1]===t&&localStorage.removeItem(s)}))}catch(e){}}static forEachDbKey(e,t,i){try{(0,s.jJ)(localStorage,((s,r)=>{const n=r.split(".");n[0]===e&&n[2]===t&&i(JSON.parse(s),r)}))}catch(e){}}constructor(e,t){this.dbName=e,this.storeName=t,this.meta={},this.prefix=this.dbName+"."+this.storeName+".",r||this.get("__meta").then((e=>this.meta=e)).catch((()=>this.set("__meta",{})))}get(e){try{const t=localStorage.getItem(this.prefix+e);return null===t?Promise.reject(`no such key in storage: ${this.prefix+e}`):Promise.resolve(JSON.parse(t))}catch(e){return Promise.reject(e)}}set(e,t){try{const i=JSON.stringify(t);return this.meta[e]=!0,localStorage.setItem(this.prefix+e,i),"__meta"!==e&&this.updateMeta(),Promise.resolve()}catch(e){return Promise.reject(e)}}delete(e){for(const t of e)delete this.meta[t],localStorage.removeItem(this.prefix+t);this.updateMeta()}clear(){for(const e in this.meta)this.meta.hasOwnProperty(e)&&localStorage.removeItem(this.prefix+e);return this.meta={},this.updateMeta(),Promise.resolve()}getAll(e,t){const i=Object.keys(this.meta).sort(((e,i)=>t?e<i?1:e>i?-1:0:e>i?1:e<i?-1:0)).slice(e);return Promise.all(i.map((e=>this.get(e))))}updateMeta(){return this.set("__meta",this.meta)}}},88516:(e,t,i)=>{"use strict";function s({src:e,src2x:t,onLoad:i,onError:s,onLoading:r}){const n=new Image;t?n.srcset=`${e} 1x, ${t} 2x`:n.src=e,n.complete?null==i||i():(r&&r(),i&&(n.onload=()=>{i()}),s&&(n.onerror=()=>{s()}))}i.d(t,{_:()=>s})},74182:(e,t,i)=>{"use strict";function s(e){return e.intended}function r(e){return e.actual}function n(e){return{intended:e,actual:e}}function a(e,t){return e.intended!==t?{intended:t,actual:e.actual}:e}function o(e){return n(e.intended)}function c(e){return n(e.actual)}i.d(t,{At:()=>s,HX:()=>r,ZS:()=>o,fY:()=>a,ku:()=>c,vt:()=>n})},93328:(e,t,i)=>{"use strict";function s(e){return e.some((e=>"guide"===e.type||"collection"===e.type&&"guide"===e.subtype))}i.d(t,{G:()=>s})},60382:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});const s=!1},9639:(e,t,i)=>{"use strict";i.d(t,{I:()=>h,a:()=>f});var s=i(91171);const r=e=>{let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return String(t>>>0)};var n=i(32065);const a=(0,s.WL)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]});const o=new class{constructor(e,t,i){this.queue=[],this.inProgress=!1,this.LOG_BATCH_SIZE=20,this.deduplicateTimeout=i||0,this.sendLogAction=e,this.deduplicateQueue=t}addToQueue(e){this.queue.push(e),this.queue=this.deduplicateQueue(this.queue),this.startQueue()}startQueue(){this.sendNextLog()}sendNextLog(){this.inProgress||(this.inProgress=!0,setTimeout((()=>{this.sendLog()}),this.deduplicateTimeout))}sendLog(){if(!this.queue.length)return void(this.inProgress=!1);const e=this.queue.splice(0,this.LOG_BATCH_SIZE);this.sendLogAction(e).then((()=>{this.inProgress=!1,this.sendNextLog()})).catch((()=>{this.inProgress=!1,e.forEach((e=>{this.addToQueue(e)})),this.addToQueue({environment:"client",level:"warn",message:"Error during send log","error.type":"sendLogError"})}))}}((function(e){return a("/_/log",{method:"post",data:e,timeout:3e4,headers:{"Content-Type":"application/json"}})}),(function(e){const t=(i=e=>r("error.type"in e?`${e["error.type"]}_${e.message}`:`${e.log_id}`),e.reduce(((e,t)=>{const s=i(t);return void 0!==e[s]?(e[s].count++,e):(e[s]={data:t,count:1},e)}),{}));var i;return(0,n.sm)(t).map((e=>{const t=e.data;return Object.assign(Object.assign({},t),{count:t.count>1?e.count+t.count-1:e.count})}))}),1e3),c=i(60382),d=!0;const l=c.Logger?function(){const e=new c.Logger({exitOnError:!1,emitErrs:!1,levels:{fatal:0,error:1,warn:2,info:3}});return e.add(c.transports.Console,{handleExceptions:!1,json:!0,stringify:d,timestamp:d,prettyPrint:!1}),e}():void 0;var u=i(18310),p=i(35023);const m=1e3;function g(e){return e.noCropValues?e:(0,p.LG)(e,(e=>"string"==typeof e?e.slice(0,m):e))}function h(e){o.addToQueue(g((0,u.O)(e)))}function f(e){const{level:t}=e;l.log(t,g((0,u.O)(e)))}},72678:(e,t,i)=>{"use strict";i.d(t,{B:()=>c});var s=i(12017),r=i(1321),n=i(24872),a=i(29203),o=i(7335);const c=({point:e,margin:t=10,dontUpdateResultsOnNextMapMove:i})=>(0,o.Cl)((o=>(0,a.z)({point:e,viewpoint:o,margin:t})?(0,s.lQ)():(0,s.K2)(i?(0,r.Ip)({dontUpdateResultsOnNextMapMove:i}):(0,s.lQ)(),(0,n.t$)(e))))},16916:(e,t,i)=>{"use strict";i.d(t,{L:()=>s});const s=(e,t=2)=>{if(t<=1)return e;const[i,s]=e,r=(s.lon-i.lon)*(t-1)/2,n=(s.lat-i.lat)*(t-1)/2;return[{lon:i.lon-r,lat:i.lat-n},{lon:s.lon+r,lat:s.lat+n}]}},49804:(e,t,i)=>{"use strict";i.d(t,{$H:()=>n,I4:()=>r,iN:()=>o});var s=i(9729);function r({center:e,zoom:t,mapSize:i,rotation:r,pitch:n}){const a=[e.lon,e.lat],o=[i.width,i.height];return[(0,s.screenPointToLonLat)([0,0],{zoom:t,center:a,mapSize:o,rotation:r,pitch:n}),(0,s.screenPointToLonLat)([o[0],0],{zoom:t,center:a,mapSize:o,rotation:r,pitch:n}),(0,s.screenPointToLonLat)([0,o[1]],{zoom:t,center:a,mapSize:o,rotation:r,pitch:n}),(0,s.screenPointToLonLat)([o[0],o[1]],{zoom:t,center:a,mapSize:o,rotation:r,pitch:n})]}function n({center:e,zoom:t,mapSize:i,pitch:s,rotation:n}){const[a,o,c,d]=r({center:e,zoom:t,mapSize:i,pitch:s,rotation:n});return`POLYGON((${a[0]} ${a[1]},${o[0]} ${o[1]},${d[0]} ${d[1]},${c[0]} ${c[1]},${a[0]} ${a[1]}))`}const a=Math.PI/180;function o(e,t){const i=e.y*a,s=t.y*a,r=(t.x-e.x)*a,n=Math.cos(i)*Math.sin(s)-Math.sin(i)*Math.cos(s)*Math.cos(r),o=Math.sin(r)*Math.cos(s);return function(e){if(0<=e&&e<360)return e;const t=e,i=360;return(360*t/i%i+i)%i}(Math.atan2(o,n)/a)}},94787:(e,t,i)=>{"use strict";i.d(t,{x1:()=>O,mo:()=>I,BN:()=>k,$Y:()=>M,k8:()=>T,CR:()=>E,WA:()=>g,VR:()=>b,fS:()=>w});var s=i(85608),r=i(34647),n=i(95305),a=i(64306),o=i(77756),c=i.n(o),d=i(79594),l=i(50595),u=i(9729),p=i(14041),m=i(59954);const g=({items:e,config:t,getMarkerBBox:i,getBubbleBBox:s,processBubblesSeparately:r,allowBubblesIntersectMarkers:n,keepBubbles:a})=>{const o=(0,d.d4)(l.p);return(0,p.useMemo)((()=>{const d=Math.floor(o.zoom);let l=t[d];if(!(null==l?void 0:l.length)){const e=Object.keys(t).map(Number).reduce(((e,t)=>Math.abs(t-d)<Math.abs(e-d)?t:e));if(l=t[e],!(null==l?void 0:l.length))return m.Ml}const p=new(c()),g=l.map((()=>new(c()))),v=r?new(c()):void 0,[b,y]=o.mapSize,x=[];let j=[...e];for(let e=0;e<l.length;e+=1){const{safeZone:t,margin:c,labelMargin:d,degradation:m,degradationLevel:w}=l[e],I=j;j=[],I.forEach((l=>{if(l.originalDegradationLevel&&e<l.originalDegradationLevel)return void j.push(l);const[I,C]=(0,u.lonLatToScreenPoint)(l.coordinates,o);if(I<0||C<0||I>b||C>y)return;const _=f(i({item:l,mapState:o,degradationLevel:w}),[I,C]),k=f(null==s?void 0:s({item:l,mapState:o,degradationLevel:w}),[I,C]),O=h(_,c);if(e>0&&l.originalDegradationLevel===e&&g[e-1].collides(O))return void j.push(l);if(p.collides(h(_,t)))return void j.push(l);if(!r&&k&&p.collides(k))return void j.push(l);let S=!1;if(k){const e=h(k,d);r&&v?v.collides(e)||p.collides(k)||(v.insert(e),n||p.insert(k),S=!0):(p.insert(e),S=!0)}m>c&&g[e].insert(h(_,m)),p.insert(O),x.push(Object.assign(Object.assign({},l),{degradationLevel:w,bubble:(a||S)&&l.bubble||void 0,isBubbleHidden:!S}))}))}return x}),[t,r,n,a,s,i,e,o])};function h(e,t){return e&&t?{minX:e.minX-t,maxX:e.maxX+t,minY:e.minY-t,maxY:e.maxY+t}:e}function f(e,[t,i]){return e&&{minX:e.minX+t,maxX:e.maxX+t,minY:e.minY+i,maxY:e.maxY+i}}var v=i(42853);function b(e){const{current:t}=(0,p.useRef)(new Map);return(0,p.useMemo)((()=>{const i=[],s=e.map((e=>{const s=e.key;i.push(s);const r=t.get(s);return r&&(0,v.A)(r,e)?r:(t.set(s,e),e)}));for(const[e]of t)i.includes(e)||t.delete(e);return s}),[e,t])}var y=i(10742);var x=i(24257);const j=200;function w({delay:e,isClickable:t}={}){const{hoveredId:i,onHover:s,onUnhover:r}=(0,x.A)(),{isActive:n,activate:a,deactivate:o}=function(e){const[t,i]=(0,p.useState)(!1),s=(0,p.useRef)();return{isActive:t,activate:(0,p.useCallback)((()=>{void 0!==e?s.current||(s.current=setTimeout((()=>{s.current=void 0,i(!0)}),e)):i(!0)}),[e]),deactivate:(0,p.useCallback)((()=>{s.current&&(clearTimeout(s.current),s.current=void 0),i(!1)}),[])}}(e),[c,d]=(0,p.useState)(),l=(0,p.useRef)(!1),u=(0,p.useRef)(),m=(0,y.D)((()=>{d(void 0),o(),l.current=!1,u.current&&(clearTimeout(u.current),u.current=void 0)})),g=(0,y.D)((({id:e,event:t})=>{s({id:e}),(null==c?void 0:c.id)!==e&&(m(),d({id:e,element:t.target}),a())})),h=(0,y.D)((()=>{r(),t?u.current=setTimeout((()=>{l.current||m(),u.current=void 0}),j):m()})),f=(0,y.D)((()=>{c&&(l.current=!0)})),v=(0,y.D)((()=>{m()}));return{hoveredId:i,tooltip:n&&c,onHover:g,onUnhover:h,onHoverTooltip:f,onUnhoverTooltip:v}}const I="undefined"==typeof window?64:Math.ceil(64*window.devicePixelRatio),C=new Map,_=new Map,k=()=>{var e;return null===(e=_.get("pin"))||void 0===e?void 0:e.document};function O(){const e=i(53047),t=e.keys(),s=new RegExp("./(?<styleId>[^/]+)/markersGroup/(?<group>[^/]+)/style.json");t.filter((e=>e.match(s))).forEach((i=>{var a,o,c,d;const l=null===(o=null===(a=i.match(s))||void 0===a?void 0:a.groups)||void 0===o?void 0:o.styleId,u=null===(d=null===(c=i.match(s))||void 0===c?void 0:c.groups)||void 0===d?void 0:d.group,p=`./${l}/icons`;if(l&&u){const s=`./${l}/markersGroup/${u}/generalization.json`,a=(0,r.A)(e(i)),o=t.includes(s)?e(s):void 0;Object.keys(a.icons).forEach((t=>{const i=a.icons[t];Object.keys(i).forEach((t=>{const s=i[t];if(s)try{const r=e(`${p}/${s.img}`),a=r&&!r.startsWith((0,n.c)())?(0,n.c)():"";i[t]=Object.assign(Object.assign({},s),{img:`${a}${r}`})}catch(e){0}}))}));const c=C.get(l)||{styles:{},generalization:{}};c.styles[u]=a,c.generalization[u]=o,C.set(l,c)}}))}const S=new Set(["smallbullet","bigbullet","middlebullet","commercial","commercial_logo","commercial_immersive","commercial_logo_immersive","pin","pin-commercial","pin-commercial-logo"]);function T(){const e=new DOMParser,t=new Set,i=new Set(Object.values(a.j));return C.forEach((e=>{Object.values(e.styles).forEach((e=>{Object.entries(e.icons).forEach((([e,s])=>{S.has(e)&&Object.values(s).forEach((e=>{t.add(e.img)})),i.has(e)&&Object.values(s).forEach((e=>{t.add(e.img)}))}))}))})),Promise.all(Array.from(t).map((t=>fetch(t).then((i=>(0,s.sH)(this,void 0,void 0,(function*(){const s=yield i.text();_.set(t,{dataUrl:`data:image/svg+xml,${encodeURIComponent(s)}`,document:e.parseFromString(s,"image/svg+xml")})})))))))}function E(e){return C.get(e)}function M(e){var t;return e?null===(t=_.get(e))||void 0===t?void 0:t.document:void 0}},6494:(e,t,i)=>{"use strict";i.d(t,{a:()=>r,y:()=>n});const s=":";function r(e,t){return`${e}${s}${t}`}function n(e){const t=e.split(s);return{productId:t.slice(0,t.length-1).join(s),branchId:t[t.length-1]}}},51451:(e,t,i)=>{"use strict";function s(e,t,i){return Math.max(Math.min(e,i),t)}i.d(t,{qE:()=>s})},98159:(e,t,i)=>{"use strict";i.d(t,{$g:()=>a,ln:()=>n});var s=i(19400);const r=(e,t)=>{const i=1===t,r=(0,s.bI)(e);return i?r?e.preview_urls["640x"]:e.preview_urls["656x340"]:r?e.preview_urls["320x"]:e.preview_urls["176x176"]},n=(e,t=3)=>(i,s)=>{const n=e>t;return{id:i.id,url:r(i,e),counter:n&&s===t-1?e:void 0,type:"photo"}},a=(e,t,i,r)=>{const a=e.map(n(e.length,r)),o=e.map(((e,t)=>i=>{var r;return{id:i.id,media_type:"photo",real_object_type:"branch",photo:{url:(0,s.ED)(i)?i.url:null!==(r=i.preview_urls.url)&&void 0!==r?r:"",preview_urls:(0,s.bI)(i)?{"328x170":i.preview_urls["320x"],"88x88":i.preview_urls["320x"],"656x340":i.preview_urls["640x"],"176x176":i.preview_urls["320x"],"116x116":i.preview_urls["320x"],"232x232":i.preview_urls["320x"]}:{"328x170":i.preview_urls["328x170"],"88x88":i.preview_urls["88x88"],"656x340":i.preview_urls["656x340"],"176x176":i.preview_urls["176x176"],"116x116":i.preview_urls["116x116"],"232x232":i.preview_urls["232x232"]},height:(0,s.ED)(i)?i.height:0,width:(0,s.ED)(i)?i.width:0},copyright:{title:(null==t?void 0:t.first_name)?t.first_name:(0,s.ED)(i)?i.owner.name:"",code:e,icon:(null==t?void 0:t.image)?t.image:(0,s.ED)(i)?i.copyright.icon:"",type:"text",value:""},owner:(0,s.ED)(i)?i.owner:void 0,modification_time:"date_created"in i?i.date_created:i.modification_time,creation_time:"date_created"in i?i.date_created:i.creation_time,is_pinned:!1,is_visible:!0,status:"active",pinned_position:0}})(i,t));return{photosForGallery:o,photosForPreview:a}}},65671:(e,t,i)=>{"use strict";i.d(t,{UM:()=>r});var s=i(35023);function r(e,t){const i=t({},{});return()=>function(e,t){return function(e,t){for(const i in e)e[i]&&e[i].mockName(`${t}.${i}`);return e}((0,s.LG)(t,(()=>function(){const e=jest.fn();return e.mockImplementation((()=>{const t=e.getMockName();throw t?console.error(`\n        В тесте дергается метод ${t}, но его имплементация не замокана.\n\n        Такой тест нельзя сливать в мастер.\n      `):console.error("\n        В тесте дергается метод, но его имплементация не замокана.\n        Имя этого метода неизвестно, потому что автор забыл обернуть моки\n        в assignMethodNames — когда найдёшь этот метод, оберни его сам.\n\n        Такой тест нельзя сливать в мастер.\n    "),new Error(`There is no method "${t}" implementation`)})),e}())),e)}(e,i)}},62508:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});const s=(0,i(14041).createContext)({})},54752:(e,t,i)=>{"use strict";i.d(t,{Ml:()=>a,fn:()=>o});var s=i(14041),r=i(62508);const n={isPending:!1},a={isPending:!0,data:void 0,error:void 0};function o(e){const t=(0,s.useContext)(r.S).dispatch,i=e?t(e):void 0,[a,o]=(0,s.useState)(i?i.getState():n);return(0,s.useEffect)((()=>{if(!i)return void o(n);let e=a.data;const t=()=>{const{isPending:t,data:s,error:r}=i.getState();t&&void 0===s?o({isPending:t,error:r,data:e}):(o({isPending:t,data:s,error:r}),e=s)},s=i.subscribe(t);return t(),()=>{s()}}),[i]),a}},54006:(e,t,i)=>{"use strict";function s(e,t=1){if(0===t||!isFinite(t))return e;const i=Math.round(e/t)*t;return parseFloat(i.toFixed(8))}i.d(t,{W:()=>s})},59050:(e,t,i)=>{"use strict";function s(e,t){return!!e&&e.hasOwnProperty(t)}i.d(t,{C:()=>s})},32065:(e,t,i)=>{"use strict";i.d(t,{YD:()=>s.Y,Up:()=>a,sm:()=>r});i(35023);var s=i(88056);function r(e){return void 0!==Object.values?Object.values(e):n(e)}function n(e){const t=Array(Object.keys(e).length);let i=0;for(const s in e)e.hasOwnProperty(s)&&(t[i]=e[s],i+=1);return t}function a(e,t){const i={};for(const s of t)e.hasOwnProperty(s)&&(i[s]=e[s]);return i}},88056:(e,t,i)=>{"use strict";function s(e){return"object"!=typeof e?[]:Object.keys(e)}i.d(t,{Y:()=>s})},11449:(e,t,i)=>{"use strict";function s(e,t,i){const s=[...Object.keys(e),...Object.keys(t)],r={};for(const n of s)r.hasOwnProperty(n)||(r[n]=i(e[n],t[n]));return r}i.d(t,{h:()=>s})},18310:(e,t,i)=>{"use strict";function s(e){const t={};let i=!1;for(const s in e){const r=e[s];void 0!==r?t[s]=r:i=!0}return i?t:e}i.d(t,{O:()=>s})},15401:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});const s=Object.prototype.hasOwnProperty,r=(e,t)=>{if(e===t)return!0;if("object"!=typeof e||null===e)return!1;if("object"!=typeof t||null===t)return!1;const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(let r=0;r<i.length;r++){const o=i[r];if(!s.call(t,o)||(n=e[o],a=t[o],!(n===a?0!==n||0!==a||1/n==1/a:n!=n&&a!=a)))return!1}var n,a;return!0}},84711:(e,t,i)=>{"use strict";function s(e,t,i){const s=new IntersectionObserver(i,t);return s.observe(e),s}i.d(t,{Z:()=>s})},92695:(e,t,i)=>{"use strict";i.d(t,{p:()=>c,k:()=>d});const s=(e,t)=>{const i=[...e],s=t/100;if(i.sort(((e,t)=>e-t)),s<=0)return i[0];if(s>=1)return i[i.length-1];const r=Math.max(i.length*s-1,0),n=Math.ceil(r);return n===r?(i[r]+i[r+1])/2:i[n]};var r=i(44293);var n=i(48699),a=i(12017);const o=e=>{let t=0,i=0,o=[];const c=()=>{"undefined"!=typeof window&&(t=requestAnimationFrame((()=>{i||(i=Date.now());const e=Date.now();o.push(e-i),i=e,c()})))};return{startTracker:c,stopTracker:c=>{if(!o.length)return cancelAnimationFrame(t),void(i=0);const d=((e,t)=>({eventName:t,hardwareInfo:(0,r.Z)(),url:window.location.href,percentile50Perf:s(e,50),percentile90Perf:s(e,90)}))(o,e);cancelAnimationFrame(t),i=0,o=[],c((0,a.K2)((0,n.TE)(["Map",`${e}_50percentile`,`${e}_50percentile`,d.percentile50Perf]),(0,n.TE)(["Map",`${e}_90percentile`,`${e}_90percentile`,d.percentile90Perf])))}}},c=o("map_move_after_search"),d=o("show_tooltip_after_markers_update")},78170:(e,t,i)=>{"use strict";i.d(t,{VZ:()=>o,WL:()=>p,r8:()=>c});var s=i(46579),r=i(37573),n=i(87017),a=i(62200);function o(e,t,i){return{use:(s,r)=>{const[a,o,c]=d(e,s,t,i?Object.assign(Object.assign({},i),r):r);return(0,n.useQuery)(a,o,c)},prefetch:i=>{const s=t(i);return(0,a.uL)(l(s,e,i),u(s))},withQueryState:(i,s)=>{const r=t(i);return(0,a.mn)(l(r,e,i),s)},invalidate:i=>{const s=t(i);return(0,a.WG)(l(s,e,i))},setQueryData:(i,s)=>{const r=t(i);return(0,a.CN)(l(r,e,i),s)}}}function c(e,t,i){return{use:(s,r)=>{const[a,o,c]=d(e,s,t,i?Object.assign(Object.assign({},i),r):r),l=(0,n.useInfiniteQuery)(a,o,c);return Object.assign(Object.assign({},l),{fetchNextPage:()=>l.fetchNextPage(),fetchPreviousPage:()=>l.fetchPreviousPage()})},prefetch:i=>{const s=t(i);return(0,a.g8)(l(s,e,i),u(s))},withQueryData:(i,s)=>{const r=t(i);return(0,a.R0)(l(r,e,i),s)},invalidate:i=>{const s=t(i);return(0,a.WG)(l(s,e,i))},setQueryData:(i,s)=>{const r=t(i);return(0,a.cC)(l(r,e,i),s)}}}const d=(e,t,i,n)=>{const a=(0,s.U)(),o=(0,r.A)();if(!t)return["void",()=>{throw 1},{enabled:!1}];const c=i(t),d=l(c,e,t),p=u(c);return[d,e=>p({config:a,services:o,context:e}),n]},l=(e,t,i)=>Array.isArray(e)&&e[0]?[t,e[0]]:[t,i],u=e=>"function"==typeof e?e:e[1];function p(e,t){return{use:i=>{const a=(0,s.U)(),o=(0,r.A)(),c=t?Object.assign(Object.assign({},t),i):i;return(0,n.useMutation)((t=>{const i=e(t);return m(i)({config:a,services:o})}),c)}}}const m=e=>"function"==typeof e?e:e[1]},62200:(e,t,i)=>{"use strict";i.d(t,{CN:()=>l,R0:()=>c,WG:()=>a,ZT:()=>u,cC:()=>d,g8:()=>n,mn:()=>o,uL:()=>r});var s=i(85608);const r=(e,t)=>({type:"query:prefetch",payload:(i,r)=>(0,s.sH)(void 0,void 0,void 0,(function*(){yield i.prefetchQuery(e,(e=>t(Object.assign(Object.assign({},r),{context:e}))))}))}),n=(e,t)=>({type:"query:prefetch",payload:(i,r)=>(0,s.sH)(void 0,void 0,void 0,(function*(){yield i.prefetchInfiniteQuery(e,(e=>t(Object.assign(Object.assign({},r),{context:e}))))}))}),a=e=>({type:"query:invalidate",payload:(t,i)=>(0,s.sH)(void 0,void 0,void 0,(function*(){yield t.invalidateQueries(e)}))}),o=(e,t)=>({type:"query:getQueryState",payload:i=>t(i.getQueryState(e))}),c=(e,t)=>({type:"query:getInfinityQueryData",payload:i=>t(i.getQueryData(e))}),d=(e,t)=>({type:"query:setInfinityQueryState",payload:i=>i.setQueryData(e,t)}),l=(e,t)=>({type:"query:setQueryState",payload:i=>i.setQueryData(e,t)}),u=(e,t)=>({dispatch:i})=>s=>r=>"query:getQueryState"===r.type||"query:getInfinityQueryData"===r.type?i(r.payload(e)):"query:prefetch"===r.type||"query:invalidate"===r.type?r.payload(e,t):"query:setQueryState"===r.type||"query:setInfinityQueryState"===r.type?r.payload(e):s(r)},91171:(e,t,i)=>{"use strict";i.d(t,{WL:()=>d,oU:()=>c,pe:()=>o});var s=i(26660),r=i.n(s),n=i(61120),a=i(35023);class o{constructor(e){this.details=e}}function c(e){return e instanceof o&&((0,a.Jt)(e,"details.response.status")||(0,a.Jt)(e,"details.code"))||""}function d(e,t={GDPRAllowedServiceHosts:[]}){const i=function(e){if(n.S$||!e.analyticsBssEnableTestHandles)return;const t=window;return t.testHandles=t.testHandles||{},t.testHandles.XHRActive=[],t.testHandles}(e);return(s,n={})=>{const a=Object.assign(Object.assign(Object.assign({method:"get",withCredentials:!1,timeout:e.networkTimeout},n),t.headers&&{headers:Object.assign(Object.assign({},t.headers),n.headers)}),{url:l(s,{useHttps:t.useHttps,hostname:e.hostname}),httpAgent:t.httpAgent,httpsAgent:t.httpsAgent});e.enableProxy&&(a.proxy={host:e.proxyHost,port:e.proxyPort}),n.timeout&&(a.timeout=n.timeout),e.transformRequest&&(a.transformRequest=e.transformRequest),i&&i.XHRActive.push(s);return e.featureReadOnly&&!t.GDPRAllowedServiceHosts.some((e=>s.includes(e)))?Promise.reject({message:"GDPR blocked service",skipLog:!0}):r().request(a).then((e=>(u(s,i),e))).catch((e=>{throw u(s,i),new o(e)}))}}function l(e,t){const{hostname:i,useHttps:s}=t;let r=e;return n.S$&&"/"===e[0]&&"/"!==e[1]&&(r=`//${i}${r}`),n.S$&&r.startsWith("//")&&(r=`${s?"https":"http"}:${r}`),r}function u(e,t){t&&t.XHRActive.find(((i,s)=>(i===e&&t.XHRActive.splice(s,1),!1)))}},66333:(e,t,i)=>{"use strict";function s(e,t=!1,i=o){let s,r;const c=t?n:a;return(...t)=>(c(t,s,i)||(r=e(...t),s=t),r)}function r(e,t,i){return function(e,...t){return(i,r)=>{const n=e(r,...t);return s(((e,t,...s)=>{const r=i.map((i=>i(e,t,...s)));return n(...r)}))}}(s,!!i&&i.compareByFirstArgOnly)(e,t)}function n(e,t,i){return!!t&&i(e[0],t[0])}function a(e,t,i){return!(!t||t.length!==e.length)&&e.every(((e,s)=>i(e,t[s])))}function o(e,t){return e===t}i.d(t,{Bj:()=>s,Mz:()=>r})},32106:(e,t,i)=>{"use strict";i.d(t,{Cg:()=>c,Dc:()=>n,Tm:()=>l,bO:()=>a,bd:()=>d,iv:()=>o,qn:()=>r,rv:()=>u,vQ:()=>p});var s=i(80690);const r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Sun","Sat"],a="HH:mm",o="h:mm a",c=s.ts,d="00:00",l=60,u=1440,p=60},10838:(e,t,i)=>{"use strict";i.d(t,{PY:()=>b,eW:()=>v,Vi:()=>y,BS:()=>f,yn:()=>m,wg:()=>g,As:()=>u,eJ:()=>h,xn:()=>p});var s=i(57786),r=i(31512),n=i(32106),a=i(96342),o=i(35023);var c=i(37234),d=i(43915),l=i(48297);function u(e,t){return!m(e)&&!e[t.day]}const p=e=>{if(!e)return!1;const t=(0,c.A)(new Date);return e.some((e=>{const i=(0,d.A)(e.date);return(0,l.A)(i,t)&&0===e.working_hours.length}))};function m(e){return e.is_24x7||!n.qn.find((t=>{const i=e[t];if(i){const e=i.working_hours[0];return!(e&&"00:00"===e.from&&"24:00"===e.to)}return!0}))}function g(e){const t=n.qn[0],i=e[t];return!m(e)&&(!!i&&(2!==i.working_hours.length&&n.qn.every((s=>{if(s===t)return!0;const r=e[s];return!!r&&(r.working_hours[0].from===i.working_hours[0].from&&r.working_hours[0].to===i.working_hours[0].to)}))))}function h(e){const t=(0,o.cJ)(e,["comment","is_24x7"]),i=Object.keys(t).reduce(((t,i)=>e[i]?[...t,i]:t),[]),s=e[i[0]];return!(!s||i.length<7)&&n.qn.every((t=>{const i=e[t];return!!i&&function(e,t,i){if(e.length!==t.length)return!1;const s=[...t];return e.every((e=>{const t=s.findIndex((t=>i?i(e,t):e===t));return-1!==t&&(s.splice(t,1),!0)}))}(i.working_hours,s.working_hours,((e,t)=>e.from===t.from&&e.to===t.to))}))}function f(e,t){if(m(e))return{type:s.XU.aroundTheClock};const i=function(e,t){const i=[],s=n.qn.indexOf(t.day),o=i.concat(n.qn.slice(s),n.qn.slice(0,s+1)),c=(0,a.Q1)(t.day,6),d=e[c],l=d?d.working_hours:[],u=(0,a.QU)((0,a.mM)(l)),p=function(e,t){return t.map((t=>e[t])).map(((e,t)=>e?e.working_hours.map((e=>Object.assign(Object.assign({},e),{dayOffset:t}))):[])).reduce(((e,t)=>(null!=e?e:[]).concat(null!=t?t:[])))}(e,o),m=function(e,t,i){return e.reduce(((e,t)=>e.concat((0,a.QU)(t))),(0,r.A)(t)).filter((e=>e.dayOffset>0||e.time>i.time))}(p,u,t);return m.slice(0,2)}(e,t),o=i[0],c=i[1],d=(0,a.vl)(t.time,null==o?void 0:o.time,null==o?void 0:o.dayOffset);if((null==o?void 0:o.type)===s.Bx.close){if(d>=n.vQ)return{type:s.XU.opened};const e=c?(0,a.Tu)(o,c):void 0;return d<=1?{type:void 0!==e?s.XU.willCloseInMinuteForBreak:s.XU.willCloseInMinute,breakType:e}:{type:void 0!==e?s.XU.willCloseInTimeForBreak:s.XU.willCloseInTime,breakType:e,minutesTo:d}}if((null==o?void 0:o.type)===s.Bx.open){const i=null==o?void 0:o.dayOffset,r=-1!==n.Dc.indexOf(t.day);if(0===i){const i=y(e,t),r=(0,a.lZ)(i,t.time),c=r&&(0,a._x)(r);return d>=n.vQ?{type:void 0!==c?s.XU.willOpenAtTimeFromBreak:s.XU.willOpenAtTime,breakType:c,time:o.time}:d<=1?{type:void 0!==c?s.XU.willOpenInMinuteFromBreak:s.XU.willOpenInMinute,breakType:c}:{type:void 0!==c?s.XU.willOpenInTimeFromBreak:s.XU.willOpenInTime,breakType:c,minutesTo:d}}return 1===i?{type:s.XU.willOpenTomorrowAtTime,time:null==o?void 0:o.time}:2!==i||r?{type:s.XU.willOpenAtDayAtTime,day:(0,a.Q1)(t.day,null==o?void 0:o.dayOffset),time:null==o?void 0:o.time}:{type:s.XU.willOpenOvermorrowAtTime,day:(0,a.Q1)(t.day,null==o?void 0:o.dayOffset),time:null==o?void 0:o.time}}}function v(e,t){const i=n.qn.indexOf(t.day);return n.qn.map(((t,s)=>{const r=e[t],n=r?r.working_hours:[],o=!n||!n.length,c=(0,a.KS)(n),d=(0,a.Fo)(n),l=i===s;return{dayName:t,timeIntervals:c,breaks:d,breakTypes:d.map((e=>(0,a._x)(e))),closed:o,present:l}}))}function b(e,t){return e.map((e=>{const i=e.working_hours||[],s=(0,a.KS)(i),r=(0,a.Fo)(i),n=!i.length;return{dateToShow:t.format(new Date(e.date),"d MMMM, cccccc"),timeIntervals:s,breaks:r,breakTypes:r.map((e=>(0,a._x)(e))),closed:n,present:!1}}))}function y(e,t,i){const s=e[t.day],r=s?s.working_hours:[];return(null==i?void 0:i.length)?(0,a.Fo)(i):(0,a.Fo)(r)}},3210:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});var s=i(23614),r=i(78534);function n(e,t,i,n,a){return"branch"!==e.type&&"parking"!==e.type||!e.schedule?void 0:(0,s.v3)((0,r.Q)(e.schedule,e.schedule_special),t,i,n,a)}},75362:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n});var s=i(9539),r=i(57693);const n=e=>e.reduce(((e,t)=>{var i;const n=(0,s.A)((0,r.A)(t.date,"yyyy-MM-dd",new Date),"EEE");return Object.assign(Object.assign({},e),{[n]:{working_hours:[...(null===(i=e[n])||void 0===i?void 0:i.working_hours)||[],...t.working_hours]}})}),{})},24059:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});var s=i(18006),r=i(78534);function n(e,t){return"branch"!==e.type&&"parking"!==e.type||!e.schedule?void 0:(0,s.f)((0,r.Q)(e.schedule,e.schedule_special),t)}},99471:(e,t,i)=>{"use strict";i.d(t,{As:()=>n.As,BS:()=>n.BS,KS:()=>r.KS,Vi:()=>n.Vi,_x:()=>r._x,eJ:()=>n.eJ,eW:()=>n.eW,lN:()=>a,wg:()=>n.wg,yn:()=>n.yn});var s=i(32106),r=i(96342),n=i(10838);function a(e){return{day:s.qn[e.getDay()],time:o(e)}}function o(e){return`${(0,r.u2)(e.getHours())}:${(0,r.u2)(e.getMinutes())}`}},78534:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n});var s=i(75362),r=i(18493);const n=(e,t)=>{const i=(0,r.C)(7,t);return(null==i?void 0:i.length)?(0,s.Q)(i):e}},57786:(e,t,i)=>{"use strict";var s,r,n;i.d(t,{Bx:()=>n,M3:()=>r,XU:()=>s}),function(e){e[e.aroundTheClock=0]="aroundTheClock",e[e.opened=1]="opened",e[e.willCloseInMinuteForBreak=2]="willCloseInMinuteForBreak",e[e.willCloseInMinute=3]="willCloseInMinute",e[e.willCloseInTimeForBreak=4]="willCloseInTimeForBreak",e[e.willCloseInTime=5]="willCloseInTime",e[e.willOpenAtTime=6]="willOpenAtTime",e[e.willOpenAtDayAtTime=7]="willOpenAtDayAtTime",e[e.willOpenTomorrowAtTime=8]="willOpenTomorrowAtTime",e[e.willOpenOvermorrowAtTime=9]="willOpenOvermorrowAtTime",e[e.willOpenInMinute=10]="willOpenInMinute",e[e.willOpenInTime=11]="willOpenInTime",e[e.willOpenInMinuteFromBreak=12]="willOpenInMinuteFromBreak",e[e.willOpenInTimeFromBreak=13]="willOpenInTimeFromBreak",e[e.willOpenAtTimeFromBreak=14]="willOpenAtTimeFromBreak"}(s||(s={})),function(e){e[e.lunch=0]="lunch",e[e.rest=1]="rest"}(r||(r={})),function(e){e[e.open=0]="open",e[e.close=1]="close"}(n||(n={}))},96342:(e,t,i)=>{"use strict";i.d(t,{Fo:()=>v,HG:()=>j,KS:()=>y,Q1:()=>l,QU:()=>p,Tu:()=>h,YI:()=>w,_x:()=>f,lD:()=>x,lZ:()=>o,mM:()=>u,u2:()=>b,vl:()=>m});var s=i(57786),r=i(32106),n=i(11792),a=i(14441);function o(e=[],t){return e.find((e=>c(t,e)))}function c(e,t){const i=t.from,s=t.to>t.from?t.to:d(t.to);return e>=i&&e<s}function d(e){const t=e.split(":");return`${Number(t[0])+24}:${t[1]}`}function l(e,t){return r.qn[(r.qn.indexOf(e)+t)%7]}function u(e){const t=(0,n.A)(e,(e=>e.from>e.to));if(t)return{from:r.bd,to:t.to}}function p(e){if(!e)return[];const t=e.to<e.from;return[{type:s.Bx.open,time:e.from,dayOffset:e.dayOffset||0},{type:s.Bx.close,time:e.to,dayOffset:(e.dayOffset||0)+Number(t)}]}function m(e,t,i){const s=g(e),n=g(t);return n.m-s.m+(n.h-s.h)*r.Tm+i*r.rv}function g(e){const t=null==e?void 0:e.split(":");return{h:t&&+t[0],m:t&&+t[1]}}function h(e,t){if(e.dayOffset===t.dayOffset)return f({from:e.time,to:t.time})}function f(e){const t=e.to!==r.bd?e.to:d(e.to);return e.from>="12:00"&&t<="16:00"?s.M3.lunch:s.M3.rest}function v(e=[]){return e.reduce(((e,t)=>{const i=(0,a.A)(e);return i&&(i.to=t.from),e.concat({from:t.to,to:""})}),[]).slice(0,-1)}function b(e){return e<10?`0${e}`:`${e}`}function y(e){return(null==e?void 0:e.length)?[e.reduce(((e,t)=>(e.from||(e.from=t.from),e.to=t.to,e)),{from:"",to:""})]:[]}function x(e,t,i,s=!0){const n=j(e,i?r.iv:r.bO),a=j(t,i?r.iv:r.bO);return i&&s?`${n} ${a}`:`${n}${r.Cg}${a}`}function j(e,t){return t!==r.bO&&e?w(e):e}function w(e){const[t,i]=e.split(":").map((e=>Number(e))),s=t>=12&&t<24?"pm":"am";return`${t%12?b(t%12):12}:${i<10?b(i):i}&nbsp;${s}`}},12017:(e,t,i)=>{"use strict";i.d(t,{K2:()=>a,NV:()=>l,Q2:()=>d,_7:()=>o,aR:()=>n,bh:()=>r,gd:()=>p,lQ:()=>g,n5:()=>c,rq:()=>m,uk:()=>h,v6:()=>u});var s=i(85608);const r={NAME:"__SIGNAL_NAME__"},n=e=>(...t)=>({type:"INTERNAL/ACTION_SEQUENCE",payload:t,[r.NAME]:e});function a(...e){return{type:"INTERNAL/ACTION_SEQUENCE",payload:e}}function o(...e){return{type:"INTERNAL/ACTION_PARALLEL",payload:e}}function c(e,t){return(...i)=>{return{type:"INTERNAL/SIGNAL",payload:s={name:e,params:1===i.length?i[0]:i,action:t(...i)},[r.NAME]:s.name};var s}}function d(e){return{type:"INTERNAL/ACTION_WITH_STATE",payload:e}}function l(e){return{type:"INTERNAL/ACTION_WITH_CONFIG",payload:e}}const u=e=>({type:"INTERNAL/DEFER",payload:{fn:e}});function p(e){return"undefined"!=typeof window?e:g()}function m(e){return d((t=>t.session.isSearchBot?g():e))}function g(e){return{type:"INTERNAL/NOOP",payload:e}}const h=e=>u((()=>(0,s.sH)(void 0,void 0,void 0,(function*(){return yield new Promise((t=>setTimeout(t,e)))}))))},4340:(e,t,i)=>{"use strict";i.d(t,{IG:()=>a});let s=r();function r(){return"undefined"!=typeof window?window:void 0}function n(e){return s&&function(e){try{if(e.setItem("testStorageItem","1"),"1"!==e.getItem("testStorageItem"))throw new Error;return e.removeItem("testStorageItem"),!0}catch(e){return!1}}(s[e])?s[e]:function(){const e={};return Object.defineProperty(e,"key",{value(e){return Object.keys(this)[e]}}),Object.defineProperty(e,"getItem",{value(e){return this[e]}}),Object.defineProperty(e,"setItem",{value(e,t){this[e]=t}}),Object.defineProperty(e,"removeItem",{value(e){delete this[e]}}),Object.defineProperty(e,"length",{get(){return Object.keys(this).length}}),Object.defineProperty(e,"clear",{value(){for(const e in this)this.hasOwnProperty(e)&&delete this[e]}}),Object.create(e)}()}const a={local:n("localStorage"),session:n("sessionStorage")}},53157:(e,t,i)=>{"use strict";i.d(t,{jM:()=>o,ND:()=>p,ks:()=>c,KL:()=>l,y4:()=>s,WG:()=>r,IC:()=>d,wz:()=>g,xO:()=>h,M8:()=>m});const s=e=>decodeURIComponent(atob(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),r=e=>btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(parseInt("0x"+t,16)))));var n=i(637),a=i.n(n);const o=e=>(a().str(e)>>>0).toString(16).padStart(8,"0").toUpperCase();function c(e){const{str:t,start:i=0,end:s=e.str.length,letterInTheEnd:r=!1}=e;if(!t)return t;const n=t.slice(i,s);return r?u(n):n}function d(e,t,i){const s=e.split(/<br\s*\/?>/);for(;s.length>0&&!s[s.length-1];)s.pop();const r=[];let n=0,a=!1;for(let e=0;e<s.length&&n<t;e++){const o=l(s[e]),c=o.replace(/&[-#0-9a-z]+;/gi," "),d=Math.ceil(c.length/i)||1;if(n+d>t){e===s.length-1&&(a=!0);const c=i*(t-n);let d=o.substring(0,c);if(/&[-#0-9a-z]*$/.test(d)){const e=o.substring(c).match(/^[-#0-9a-z]*;/);e&&(d+=e[0]||"")}r.push(d);break}r.push(o),n+=d}const o=s.length!==r.length;for(;r.length>0&&!r[r.length-1];)r.pop();return r.length?((o||a)&&(r[r.length-1]=u(r[r.length-1])+"…"),r.join("<br>")):""}function l(e){return e.replace(/<[^>]*>/g,"")}function u(e){return e.replace(/(&[-#0-9a-z]+;|[^0-9a-zа-яё])+$/i,"")}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e){return e.trim().split("\n").map((e=>e.trim())).join("\n").replace(/(\n\n\n+)/g,"\n\n\n").replace(/[^\S\n]+/g," ")}function g(e){const t=e.charAt(1);return(i=t).toUpperCase()!==i||function(e){return/^\s$/.test(e)}(t)||!t?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e):e;var i}function h(e){return e.split("").reduce(((e,t)=>0|(e<<5)-e+t.charCodeAt(0)),0)+2147483647+1}},92460:(e,t,i)=>{"use strict";i.d(t,{AH:()=>a,vv:()=>r});var s=i(38376);const{StyleSheet:r,StyleSheetServer:n,css:a}=s.StyleSheet.extend([{selectorHandler:(e,t,i)=>-1===e.indexOf("&")?null:i(e.replace(/&/g,t))}])},26064:(e,t,i)=>{"use strict";i.d(t,{AH:()=>s.AH,mG:()=>r.C,pz:()=>n});var s=i(92460),r=i(13730);const n=s.vv.rehydrate},13730:(e,t,i)=>{"use strict";i.d(t,{C:()=>s,Z:()=>r});const s=i(89366).default?i(89366).default:i(89366);function r(e,t){const i={};for(const r in e)e.hasOwnProperty(r)&&(i[r]=s(e[r],t||"ltr"));return i}},95e3:(e,t,i)=>{"use strict";i.d(t,{DP:()=>l,O$:()=>o,O4:()=>u});var s=i(31085),r=i(14041),n=i(81618),a=i(31108);const o=({children:e,theme:t})=>(0,s.jsx)(d.Provider,Object.assign({value:t},{children:(0,s.jsx)(c,Object.assign({rtl:t.rtl},{children:r.Children.only(e)}))})),c=({rtl:e,children:t})=>(0,s.jsx)("div",Object.assign({},n.dx.n("wat-theme"),n.dx.s(e?"rtl":"ltr"),{dir:e?"rtl":"ltr",style:{height:"100%"}},{children:t})),d=r.createContext(a.Z.dgis_ltr_desktop),l=()=>r.useContext(d),u=e=>a.Z[(0,a.r)("2gis"===e.brandCode?"dgis":"urbi",e.rtl?"rtl":"ltr",e.isMobileDevice?"mobile":"desktop")]},69158:(e,t,i)=>{"use strict";i.d(t,{m:()=>n});var s=i(9154),r=i(35023);function n(e,t){if(1===t)return e;const i=(0,s.E)(e);return i?function(e,[t,i,s]){return`rgba(${t}, ${i}, ${s}, ${(0,r.jF)(e,2)})`}(t,i):e}},35023:(e,t,i)=>{"use strict";i.d(t,{AK:()=>v,Bq:()=>o,EE:()=>a,Gv:()=>C,Im:()=>_,Jt:()=>b,LG:()=>n,ND:()=>u,O9:()=>E,OV:()=>g,W7:()=>d,bG:()=>p,cJ:()=>I,jB:()=>x,jF:()=>T,jJ:()=>r,kk:()=>j,kx:()=>k,lQ:()=>l,lx:()=>M,nF:()=>h,oE:()=>y,ox:()=>m,sg:()=>f,t2:()=>w});var s=i(85608);function r(e,t){for(const i in e)if(e.hasOwnProperty(i)){if(!1===t(e[i],i))break}}function n(e,t){const i={};for(const s in e)e.hasOwnProperty(s)&&(i[s]=t(e[s],s));return i}function a(e,t){const i=e.lastIndexOf(t);return i===e.length-1||-1===i?e[0]:e[i+1]}function o(e){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...e):t.push(e)})),t}const c=i(79514);function d(){return c()}const l=()=>{};function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t){if(!e)return"";const i=(e,i)=>t[i]||"";return e.replace(/\${(\w+)}/g,i).replace(/\$(\w+)/g,i)}const m=e=>e?e.split("_")[0]:"",g=e=>e.split("_")[1];function h(e,t){let i,s;return function(){s?i=()=>e.apply(this,arguments):(e.apply(this,arguments),s=setTimeout((()=>{s=void 0,i&&(i(),i=void 0)}),t))}}function f(e,t){let i;return function(){i&&clearTimeout(i),i=setTimeout((()=>{i=void 0,e.apply(this,arguments)}),t)}}function v(e,t){let i;return(...s)=>(i&&clearTimeout(i),new Promise((r=>{const n=new Promise((e=>{i=setTimeout(e,t)}));n.then((()=>{r(e(...s))}))})))}function b(e,t,i){if(!e)return i;return t.split(".").reduce(((e,t)=>C(e)?e[t]:Array.isArray(e)?e[+t]:void 0),e)||i}function y(e){return e.filter((e=>!!e))}function x(e,t){const i=[],s=[];for(let r=0;r<e.length;r++){const n=e[r];t(n,r)?i.push(n):s.push(n)}return[i,s]}function j(e){for(const t in e)void 0===e[t]||null===e[t]?delete e[t]:"object"==typeof e[t]&&j(e[t]);return e}function w(e){return!!e}function I(e,t){return t.reduce(((e,t)=>{const i=e,r=t;i[r];return(0,s.Tt)(i,["symbol"==typeof r?r:r+""])}),e)}function C(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}function _(e){return!e||0===Object.keys(e).length}function k(e){const t=e.split("."),i=e.split(":");return i.length>1?function(e){let t=e.join(":");8===e.length&&0===t.indexOf("0000:0000:0000:0000:0000:ffff:")&&(t=`::ffff:${t.substr(30)}`);if(0===t.indexOf("::ffff:")){const i=t.substr(7),s=i.split(".");if(4===s.length)return O(s);const r=i.split(":");if(2!==r.length)return S(e);return O(r.reduce(((e,t)=>{let i=t.split("");switch(i.length){case 3:i.unshift("0");break;case 2:i=["0",i[0],"0",i[1]];break;case 1:i.unshift("0","0","0")}return e.push(parseInt(`${i[0]}${i[1]}`,16).toString()),e.push(parseInt(`${i[2]}${i[3]}`,16).toString()),e}),[]))}if(e.length<2)return e.join(":");return S(e)}(i):4===t.length?O(t):e}function O(e){return e[3]="0",e.join(".")}function S(e){const t=`${e[0]}:${e[1]}::`;return":::"===t?"::":t}function T(e,t=6){return parseFloat(e.toFixed(t))}function E(e){return null!=e}function M(e,t,i=6){return Math.abs(e-t)<Math.pow(10,-i)}},65622:(e,t,i)=>{"use strict";i.d(t,{pv:()=>n,zF:()=>a.z});const s={sizeLimit:void 0,photoCount:void 0,maxDailyPhotoCount:void 0,maxVerticalRatio:void 0,maxHorizontalRatio:void 0,maxHeight:void 0,maxWidth:void 0,minWidth:void 0,minHeight:void 0,approvedMIMERegExpr:void 0,videoSizeMinLimit:void 0,maxDuration:void 0,minDuration:void 0},r={productFeedback:Object.assign(Object.assign({},s),{sizeLimit:10485760,photoCount:10,approvedMIMERegExpr:/image\/(png|gif|bmp|jp(e?)g)/}),userAvatar:Object.assign(Object.assign({},s),{sizeLimit:10485760,photoCount:1,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:170,minHeight:170,approvedMIMERegExpr:/image\/(png|webp|jp(e?)g)/}),entityPhoto:Object.assign(Object.assign({},s),{sizeLimit:10485760,photoCount:9,maxDailyPhotoCount:20,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:600,minHeight:600,approvedMIMERegExpr:/image\/(png|webp|jp(e?)g)/}),entityVideo:Object.assign(Object.assign({},s),{sizeLimit:1073741824,videoSizeMinLimit:102400,maxDuration:60,minDuration:3.5,photoCount:9,maxDailyPhotoCount:20,approvedMIMERegExpr:/video\/(mp4|mov|quicktime|hevc)/}),reviewPhoto:Object.assign(Object.assign({},s),{sizeLimit:10485760,photoCount:10,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:600,minHeight:600,approvedMIMERegExpr:/image\/(png|jp(e?)g)/}),typedFeedback:Object.assign(Object.assign({},s),{sizeLimit:10485760,photoCount:10,maxVerticalRatio:5,maxHorizontalRatio:5,approvedMIMERegExpr:/image\/(png|jp(e?)g)/})};function n(e){return r[e]}var a=i(81239)},81239:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(50432);function r(e,t){return new Promise(((i,r)=>{const n=function(e,t){const i=e.name.slice(2+(e.name.lastIndexOf(".")-1>>>0));if(i&&["heic","heif"].indexOf(i)>-1)return"failFormatHEIF";if(e.size>t.sizeLimit)return"failSize";if(!e.type.match(t.approvedMIMERegExpr))return"failFormat";return}(e,t);if(n)return r(n),void(0,s.vV)({message:"Ошибка валидации при загрузке файла изображения",level:"info",id:"ffv510",payload:{type:"debug",subtype:"filevalidation",data:JSON.stringify({error:n,fileType:e.type,fileName:e.name,fileSize:e.size})}});const a=new FileReader;a.onload=()=>{if(!a.result)return void r("failRead");const e=new Image;e.onload=()=>{const n=function(e,t){if(t.minWidth&&e.width<t.minWidth)return"smallWidth";if(t.minHeight&&e.height<t.minHeight)return"smallHeight";if(t.maxWidth&&e.width>t.maxWidth)return"largeWidth";if(t.maxHeight&&e.height>t.maxHeight)return"largeHeight";if(t.maxHorizontalRatio&&e.width/e.height>t.maxHorizontalRatio)return"wide";if(t.maxVerticalRatio&&e.height/e.width>t.maxVerticalRatio)return"narrow";return}(e,t);if(n)return r(n),void(0,s.vV)({message:"Ошибка валидации при загрузке файла изображения",level:"info",id:"dff144",payload:{type:"debug",subtype:"filevalidation",data:n}});i(e)},e.onerror=()=>{r("failRead")},e.src=a.result.toString()},a.onerror=()=>{r("failRead")},a.readAsDataURL(e)}))}},76192:(e,t,i)=>{"use strict";i.d(t,{u:()=>r,z:()=>n});var s=i(33682);const r=["sbol-review"],n={args:[{key:"subtype",isRequired:!1,formatCheck:e=>(0,s.y)(r,e)}],type:"error",name:"error",isQuery:!1}},27917:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var s=i(35023);function r(e){const[t,i]=e.split(","),r=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t>180?180:t<-180?-180:(0,s.jF)(t)}(t),n=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t>90?90:t<-90?-90:(0,s.jF)(t)}(i);if(void 0!==r&&void 0!==n&&!Number.isNaN(r)&&!Number.isNaN(n))return{lon:r,lat:n}}},21788:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var s=i(35023);function r(e){return`${(0,s.jF)(e.lon)},${(0,s.jF)(e.lat)}`}},19071:(e,t,i)=>{"use strict";i.d(t,{w:()=>Q,q:()=>q});const s={args:[{key:"id",isRequired:!0,formatCheck:/^\d+$/}],type:"region",compile:({code:e})=>e?[e]:void 0,name:"region",isQuery:!1};var r=i(35023),n=i(88618);function a(e){const t=[];return(0,r.jJ)(e,((e,i)=>{!e||"sort"===i&&"distance"===e||t.push("true"===e?i:`${i}${n.K8}${e}`)})),t.join(`${n.Ed}`)}function o(e){const t={};if(!e)return t;return e.split(n.Ed).forEach((e=>{const[i,s="true"]=e.split(n.K8);i&&s&&(t[i]=function(e){return/^\d+-\d+$/.test(e)?e.replace("-",n.lm):e}(s))})),t}const c={args:[{key:"query",isRequired:!0,formatCheck:/^.+$/},{key:"activeTab",name:"tab",isRequired:!1,formatCheck:/^(catalog)$/},{key:"rubricId",name:"rubricId",isRequired:!1,formatCheck:/^(\d+,)*(\d+)$/},{key:"attributeId",name:"attributeId",isRequired:!1,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"search",name:"search",isQuery:!1};var d=i(12148);const l={args:[{key:"tab",name:"tab",isRequired:!1,formatCheck:/^.+$/},{key:"points",name:"points",isRequired:!1,formatCheck:/^.+$/,serialize:e=>e&&(0,d.gb)(e),deserialize:d.YH},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"directions",name:"directions",isQuery:!1};var u=i(21788),p=i(27917);const m={args:[{key:"entityId",isRequired:!1,formatCheck:/^[1-9]\d*$/},{key:"entityWithPoint",isRequired:!1,formatCheck:/^[1-9]\d*,(-?\d+(\.\d+)?,-?\d+(\.\d+)?)(\/|$)/,deserialize:e=>{const[t,i,s]=e.split(",");return{id:t,point:(0,p.q)(`${i},${s}`)}}},{key:"point",isRequired:!1,formatCheck:/^-?[.\d]+,-?[.\d]+$/,serialize:e=>e&&(0,u.R)(e),deserialize:p.q},{key:"tab",name:"tab",isRequired:!1,formatCheck:/^[a-z]+$/},{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"entranceId",name:"entranceId",isRequired:!1,formatCheck:/^\d+$/}],validate:e=>!!(e.entityId||e.entityWithPoint||e.point),type:"firm",name:"firm",isQuery:!1},g={args:[{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"offers",name:"offers",isQuery:!1},h={args:[{key:"objectId",isRequired:!0,formatCheck:/^\d+$/},{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"inside",name:"inside",isQuery:!1},f=Object.assign(Object.assign({},m),{type:"geo",name:"geo"}),v=Object.assign(Object.assign({},m),{type:"route",name:"route"}),b=Object.assign(Object.assign({},m),{type:"platform",name:"platform"}),y=Object.assign(Object.assign({},m),{type:"station",name:"station"}),x=Object.assign(Object.assign({},m),{type:"stationEntrance",name:"stationEntrance"}),j={args:[{key:"productId",isRequired:!0,formatCheck:/^\S+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"product",name:"product",isQuery:!1};function w(e){return e?(Math.round(100*e)/100).toString():""}const I={args:[{key:"center",isRequired:!1,serialize:e=>void 0!==e?(0,u.R)(e):"",deserialize:e=>(0,p.q)(e),formatCheck:/^-?[.\d]+,-?[.\d]+$/},{key:"zoom",isRequired:!1,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,serialize:w,deserialize:e=>parseFloat(e)},{key:"pitch",name:"p",isRequired:!1,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,serialize:w,deserialize:e=>e?parseFloat(e):0},{key:"rotation",name:"r",isRequired:!1,formatCheck:/^-?\d{1,3}(?:\.\d{1,2})?$/,serialize:w,deserialize:e=>e?parseFloat(e):0}],type:"mapview",name:"m",isQuery:!0},C={args:[{key:"value",formatCheck:/^\d+$/,serialize:e=>void 0===e?"0":String(e),deserialize:e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},isRequired:!1}],isQuery:!0,type:"floor",name:"floor"},_=["source","medium","term","content","campaign"].map((e=>({args:[{key:"value",isRequired:!0}],type:e,name:`utm_${e}`,isQuery:!0}))),k={args:[{key:"orgId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"branches",name:"branches",isQuery:!1},O={args:[{key:"rubricId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"rubric",name:"rubric",isQuery:!1};function S(e){return e.map((e=>(0,r.jF)(e))).join(",")}function T(e){const t=(0,p.q)(e);return t?[t.lon,t.lat]:void 0}const E={args:[{key:"points",isRequired:!1,formatCheck:/^.+$/,serialize:e=>e&&e.map(S).join("|"),deserialize:e=>(0,r.oE)(e.split("|").map(T))}],type:"ruler",name:"ruler",isQuery:!0};function M(e){const t=e.split("|"),i=(0,p.q)(t[0]);if(i)return{type:"point",lonLat:i,entityId:t[2]}}const N=[{args:[{key:"rsType",name:"rsType",isRequired:!1},{key:"from",name:"from",isRequired:!1,formatCheck:/^.+$/,deserialize:M},{key:"to",name:"to",isRequired:!1,formatCheck:/^.+$/,deserialize:M}],type:"online4RouteSearch",name:"routeSearch",isQuery:!1},{args:[{key:"point",isRequired:!0,deserialize:M}],type:"online4From",name:"from",isQuery:!1},{args:[{key:"point",isRequired:!0,deserialize:M}],type:"online4To",name:"to",isQuery:!1},{args:[{key:"value",isRequired:!0}],type:"online4RsType",name:"rsType",isQuery:!1},{args:[],type:"online4Collections",name:"collections",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/},{key:"innerFirmId",name:"firm",isRequired:!1,formatCheck:/^\d+$/}],type:"online4Floors",name:"floors",isQuery:!1},{args:[{key:"stopId",isRequired:!0}],type:"online4Stop",name:"stop",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/}],type:"online4Reviews",name:"reviews",isQuery:!1},{args:[{key:"tab",isRequired:!0,deserialize:e=>{switch(e){case"discount":return"discounts";case"reviews":return"reviews";case"photos":return"photos";default:return"contacts"}}}],type:"online4MediaTab",name:"mediaTab",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Discounts",name:"discounts",isQuery:!1},{args:[{key:"entityId",isRequired:!0},{key:"tab",name:"group",isRequired:!1,deserialize:e=>"internet"===e?"providers":"services"}],type:"online4Service",name:"service",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Inside",name:"inside",isQuery:!1},{args:[],type:"online4Feedback",name:"feedback",isQuery:!1},{args:[],type:"online4AddOrg",name:"addOrg",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Article",name:"article",isQuery:!1},{args:[{key:"id",isRequired:!0,formatCheck:/^\d+$/}],type:"online4City",name:"city",isQuery:!1},{args:[{key:"id",isRequired:!0,formatCheck:/^(geo-|firms-)\d+$/,deserialize:e=>e.replace(/(geo-|firms-)/g,"")}],type:"online4Callout",name:"callout",isQuery:!1},{args:[{key:"lang",isRequired:!0}],type:"online4Lang",name:"lang",isQuery:!1},{args:[{key:"center",isRequired:!0,deserialize:e=>(0,p.q)(e),formatCheck:/^-?[.\d]+[,╎]-?[.\d]+$/}],type:"online4Center",name:"center",isQuery:!1},{args:[{key:"zoom",isRequired:!0,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,deserialize:e=>parseFloat(e)}],type:"online4Zoom",name:"zoom",isQuery:!1}],L={args:[{key:"adsIds",isRequired:!0,formatCheck:/^\d+(,\d+)*$/},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"buyHere",name:"buyHere",isQuery:!1},P={args:[{key:"adsIds",isRequired:!0,formatCheck:/^\d+(,\d+)*$/},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"fmcg",name:"fmcg",isQuery:!1},R={args:[{key:"calc",name:"calc",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e?Object.entries(e).filter((e=>!!e[1])).map((e=>`${e[0]}=${e[1]}`)).join(";"):"",deserialize:e=>{if(!e)return;const t=e.split(";").map((e=>e.split("="))).reduce(((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:i})),{}),i=(null==t?void 0:t.volume)?parseInt(t.volume,10):void 0;return{action:(null==t?void 0:t.action)?t.action:void 0,currencyCode:null==t?void 0:t.currencyCode,volume:i&&i>0?i:void 0}}},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],isQuery:!1,type:"exchange",name:"exchange"},A={args:[{key:"category",isRequired:!1,formatCheck:/^(sale|rent|daily|saleCommercial|rentCommercial)$/},{key:"at",name:"at",isRequired:!1,formatCheck:/^\d+$/},{key:"rc",name:"rc",isRequired:!1,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],isQuery:!1,type:"realty",name:"realty"};var B=i(76192);const z={args:[{key:"value",formatCheck:/^[1-5]$/,deserialize:Number,isRequired:!1}],isQuery:!0,type:"reviewRating",name:"rating"},F={args:[{key:"value",isRequired:!0,serialize:e=>void 0!==e?(0,u.R)(e):"",deserialize:e=>(0,p.q)(e),formatCheck:/^-?[.\d]+,-?[.\d]+$/}],isQuery:!0,type:"previousMapView",name:"pmv"},H={slugs:[s,{args:[],type:"rubrics",name:"rubrics",isQuery:!1},{args:[{key:"parentId",isRequired:!0,formatCheck:/^\d+$/}],type:"subrubrics",name:"subrubrics",isQuery:!1},c,{args:[{key:"stub",isRequired:!0,formatCheck:/^metro$/}],type:"metroScheme",name:"directions",isQuery:!1},l,{args:[{key:"branchId",isRequired:!0,formatCheck:/^\d+$/},{key:"categoryId",name:"categoryId",isRequired:!1,formatCheck:/^\d+$/}],type:"prices",name:"prices",isQuery:!1},{args:[{key:"profileTab",isRequired:!0,formatCheck:/^[a-zA-Z].+$/}],type:"my",name:"my",isQuery:!1},{args:[{key:"userId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"user",name:"user",isQuery:!1},{args:[{key:"page",isRequired:!0,formatCheck:/^(invite|tab)$/},{key:"userId",isRequired:!1,formatCheck:/^[a-zA-Z0-9].+$/}],type:"mapfriends",name:"mapfriends",isQuery:!1},{args:[],type:"friendsList",name:"friendsList",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/}],type:"friends",name:"friends",isQuery:!1},{args:[{key:"group",isRequired:!1,formatCheck:/^[a-zA-Z].+$/}],type:"achievements",name:"achievementsGroup",isQuery:!1},g,{args:[{key:"productId",isRequired:!0,formatCheck:/^\S+$/}],type:"offer",name:"offer",isQuery:!1},m,h,f,v,b,y,x,j,{args:[{key:"entityType",isRequired:!0,formatCheck:/^\w+$/},{key:"entityId",isRequired:!0,formatCheck:/^\d+$/},{key:"photoId",name:"photoId",isRequired:!1}],type:"gallery",name:"gallery",isQuery:!1},k,{args:[{key:"brandId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&a(e),deserialize:o}],type:"brand",name:"brand",isQuery:!1},C,{args:[{key:"OLD_ONLINE_4_PUBLIC_FAVORITE_ID",isRequired:!1}],type:"favorites",name:"favorites",isQuery:!1,preferNewSlugToParameter:!0},{args:[],type:"interesting",name:"interesting",isQuery:!1},{args:[],type:"guidebook",name:"guidebook",isQuery:!1},{args:[{name:"scenario",key:"scenarioId",isRequired:!1},{name:"rubric",key:"rubricId",isRequired:!1},{name:"branch",key:"entityId",isRequired:!1}],type:"guide",name:"guide",isQuery:!1},{args:[{key:"collectionId",isRequired:!0}],type:"collection",name:"collection",isQuery:!1},{args:[{key:"collectionId",isRequired:!0}],type:"private",name:"private",isQuery:!1},I,{args:[{key:"lang",isRequired:!0}],isQuery:!1,compile:e=>[e.lang],type:"lang",name:""},{args:[],type:"addreview",name:"addreview",isQuery:!1},{args:[{key:"source",name:"source",isRequired:!1}],type:"writeReview",name:"writeReview",isQuery:!0},{args:[{key:"value",isRequired:!0}],type:"stat",name:"stat",isQuery:!0},E,{args:[{key:"value",formatCheck:/^[a-zA-Z0-9].+$/,isRequired:!0}],isQuery:!0,type:"layer",name:"layer"},{args:[{key:"value",formatCheck:/^[a-zA-Z0-9].+$/,isRequired:!0}],isQuery:!0,type:"sublayer",name:"sublayer"},{args:[],type:"feedback",name:"feedback",isQuery:!0},{args:[],type:"addOrg",name:"addOrg",isQuery:!0},{args:[],type:"traffic",name:"traffic",isQuery:!0},{args:[{key:"status",isRequired:!0,formatCheck:/^[a-zA-Z].+$/}],type:"auth",name:"auth",isQuery:!1},{args:[],type:"award2019",name:"award2019",isQuery:!1},L,P,R,A,{args:[{key:"id",isRequired:!0},{key:"tab",name:"tab",isRequired:!1}],isQuery:!1,type:"realtyAd",name:"ad"},{args:[{key:"profileTab",isRequired:!1,formatCheck:/^[a-zA-Z].+$/}],type:"profile",name:"profile",isQuery:!1,preferNewSlugToParameter:!0},B.z,{args:[],type:"new_year_promo",name:"new_year_promo",isQuery:!1},{args:[{key:"intensity",isRequired:!1}],type:"snow",name:"snow",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"story",name:"story",isQuery:!1},{args:[],type:"preferences",name:"preferences",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"firmStory",name:"firmStory",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"fmcgStory",name:"fmcgStory",isQuery:!1},z,{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"discoveryStory",name:"discoveryStory",isQuery:!1},F,{args:[{key:"sessionId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"geolocation",name:"geolocation",isQuery:!1},{args:[{key:"state",isRequired:!0}],type:"immersive",name:"immersive",isQuery:!0},{args:[],type:"immersivePromo",name:"immersive-promo",isQuery:!1},{args:[],type:"advice",name:"advice",isQuery:!1},{args:[{key:"meetId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"meet",name:"meet",isQuery:!1},O,{args:[{key:"reviewId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"review",name:"review",isQuery:!1},..._,...N]};var U=i(60042);const D=["ru","en","es","cs","ar","az","uz","kk","ky","hy","ka"];function V(e,t,i){const s={};if(e.args.every((r=>{let n=t.shift();return!!n&&(r.name&&r.name!==n?(t.unshift(n),!0):e.preferNewSlugToParameter&&!r.isRequired&&i.slugs.some((({name:e})=>e===n))?(t.unshift(n),!1):!(r.name&&r.name===n&&(n=t.shift(),!n))&&(function(e,t){const i=e.formatCheck;return!i||(i instanceof RegExp?!!t.match(i):i(t))}(r,n)?(s[r.key]=function(e,t){return e.deserialize?e.deserialize(t):t}(r,n),!0):(t.unshift(n),!r.isRequired)))})),e.validate&&!e.validate(s))return;return e.args.every((e=>!e.isRequired||!!s[e.key]))?s:void 0}function $(e,t){const i={},s=[...e],r=[],n=[];let a=-1;for(;s.length;){const e=s.shift();if(a+=1,!e)continue;let o,c;for(const i of t.slugs){if(i.name!==e||i.isQuery)continue;o=i;const r=s.length;c=V(o,s,t);const n=s.length;if(c){a+=r-n;break}}o?c?i[o.type]=Object.assign({type:o.type},c):(n.push({name:e,value:[],position:a,isQuery:!1}),s.shift()):r.push({name:e,value:[],position:a,isQuery:!1})}return{payload:i,unknown:r,invalid:n}}function W(e,t){const i={},s=[],r=[];for(;e.length;){const n=e.shift();if(!n)continue;const[a,o]=n,c=t.slugs.find((e=>e.name===a&&e.isQuery));if(!c){s.push({name:a,value:o,isQuery:!0});continue}const d=V(c,o,t);d?i[c.type]=Object.assign({type:c.type},d):r.push({name:a,value:o,isQuery:!0})}return{payload:i,unknown:s,invalid:r}}function q(e,t=H){const{path:i,query:s}=(0,U.qg)(e),r=$(i,t),n=W(s,t);return function(e){const t=Object.assign({},e.payload),i=[...e.unknown];i[0]&&i[0].name&&0===i[0].position&&D.includes(i[0].name)&&(t.lang={type:"lang",lang:i[0].name},i.shift());i[0]&&i[0].name&&(0===i[0].position||1===i[0].position)&&(t.region={type:"region",code:i[0].name},i.shift());return Object.assign(Object.assign({},e),{payload:t,unknown:i})}({payload:Object.assign(Object.assign({},r.payload),n.payload),unknown:[...r.unknown,...n.unknown],invalid:[...r.invalid,...n.invalid]})}function Z(e,t){return(0,r.oE)(t.reduce(((t,{key:i,name:s,serialize:r})=>{const n=r?r(e[i]):e[i];return n?s?[...t,s,n]:[...t,n]:t}),[]))}function Q(e,t=H){return(0,U.wE)((i=e,s=t.slugs,i.reduce(((e,t)=>{const i=s.find((e=>e.type===t.type));if(!i)return e;const r=i.compile&&i.compile(t),n=r&&r.length>0?r:[i.name,...Z(t,i.args)];if(i.isQuery){const[t,...i]=n;return Object.assign(Object.assign({},e),{query:[...e.query,[t,i]]})}return Object.assign(Object.assign({},e),{path:[...e.path,...n]})}),{path:[],query:[]})));var i,s}},60042:(e,t,i)=>{"use strict";i.d(t,{wE:()=>c,qg:()=>n,vz:()=>d});var s=i(35023);const r=e=>{try{return decodeURIComponent(e)}catch(e){return""}},n=e=>{const[t,i=""]=e.split("?");return{path:a(t),query:o(i.split("#")[0])}};function a(e){return"/"===e?[]:(0,s.oE)(e.split("/")).map(r)}function o(e){if(""===e)return[];const t=e.split("&");return(0,s.oE)(t.map((e=>{if(!e)return;const[t,i]=e.split("=");if(!t)return;if(!i)return[t,[]];return[t,(0,s.oE)(r(i).split("/"))]})))}const c=e=>{const t=function(e){return"/"+d(...e.map((e=>encodeURIComponent(e))))}(e.path),i=function(e){return(0,s.oE)(e.map((([e,t])=>{if(""===e)return;const i=encodeURIComponent((0,s.oE)(t).join("/"));return""===i?e:`${e}=${i}`}))).join("&")}(e.query);return i?`${t}?${i}`:t};function d(...e){return e.slice(1).reduce(((e,t)=>t?(e.endsWith("/")||""===e?e+=t.startsWith("/")?t.slice(1):t:e+=t.startsWith("/")?t:"/"+t,e):e),e[0]||"")}},37171:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var s=i(14041);const r=e=>{const t=(e=>{const[,t]=(0,s.useReducer)((e=>e+1),0),i=(0,s.useRef)(null),{replace:r,append:n}=e,a=r?r(e.format(e.value)):e.format(e.value),o=(0,s.useRef)(!1);return(0,s.useLayoutEffect)((()=>{if(null==i.current)return;const[,s,o,c,d]=i.current;let l=i.current[0];i.current=null;const u=c&&d,p="number"==typeof s.selectionStart?s.selectionStart:void 0,m=l.slice(p).search(e.accept||/\d/g),g=-1!==m?m:0,h=t=>(t.match(e.accept||/\d/g)||[]).join(""),f=h(l.substr(0,p)),v=e=>{let t=0,i=0;for(let s=0;s!==f.length;++s){let r=e.indexOf(f[s],t)+1,n=h(e).indexOf(f[s],i)+1;n-i>1&&(r=t,n=i),i=Math.max(n,i),t=Math.max(t,r)}return t};if(!0===e.mask&&o&&!d){let e=v(l);const t=h(l.substr(e))[0];e=l.indexOf(t,e),l=`${l.substr(0,e)}${l.substr(e+1)}`}let b=e.format(l);null==n||s.selectionStart!==l.length||d||(o?b=n(b):""===h(b.slice(-1))&&(b=b.slice(0,-1)));const y=r?r(b):b;return a===y?t():e.onChange(y),()=>{let t=v(b);if(null!=e.mask&&(o||c&&!u))for(;b[t]&&""===h(b[t]);)t+=1;s.selectionStart=s.selectionEnd=t+(u?1+g:0)}})),(0,s.useEffect)((()=>{const e=e=>{"Delete"===e.code&&(o.current=!0)},t=e=>{"Delete"===e.code&&(o.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),{value:null!=i.current?i.current[0]:a,onChange:s=>{const r=s.target.value;i.current=[r,s.target,r.length>a.length,o.current,a===e.format(r)],t()}}})(e);return e.children(t)}},19263:(e,t,i)=>{"use strict";i.d(t,{bY:()=>f,iL:()=>o,lj:()=>a,qH:()=>l,sX:()=>d});var s=i(35023),r=i(85512);const n=/^[A-Z]+\((.+)\)/.source;function a(e){const t=h(e);if(t)switch(t){case"POINT":return{type:"point",geometry:o(e)};case"MULTIPOINT":return{type:"points",geometry:c(e)};case"LINESTRING":return{type:"polyline",geometry:d(e)};case"POLYGON":return{type:"polygon",geometry:l(e)};case"MULTILINESTRING":return{type:"polyline",geometry:u(e)};case"MULTIPOLYGON":return{type:"polygon",geometry:p(e)}}}function o(e){const t=g(e);if("POINT"!==h(t))return;const i=new RegExp(n).exec(t);if(!i)return;const[s,r]=i[1].split(" ");return void 0!==s&&void 0!==r?{lon:parseFloat(s),lat:parseFloat(r)}:void 0}function c(e){const t=g(e);if("MULTIPOINT"!==h(t))return;const i=new RegExp(n).exec(t);return i?m(i[1].split(",")):void 0}function d(e){const t=g(e);if("LINESTRING"!==h(t))return;const i=new RegExp(n).exec(t);return i?m(i[1].split(",")):void 0}function l(e){const t=g(e);if("POLYGON"!==h(t))return;const i=new RegExp(n).exec(t);if(!i)return;const s=[],r=/\((.*?)\)/g;let a;for(;a=r.exec(i[1]);)s.push(m(a[1].split(",")));return s}function u(e){const t=g(e);if("MULTILINESTRING"!==h(t))return;const i=new RegExp(n).exec(t);if(!i)return;const s=[],r=/\((.*?)\)/g;let a;for(;a=r.exec(i[1]);)s.push(m(a[1].split(",")));return s}function p(e){const t=g(e);if("MULTIPOLYGON"!==h(t))return;const i=new RegExp(n).exec(t);if(!i)return;return i[1].split(")),((").map((e=>`POLYGON((${e.replace("((","").replace("))","")}))`)).map(l).filter(s.t2).reduce(((e,t)=>(e.push(...t),e)),[])}function m(e){return e.reduce(((e,t)=>{const[i,s]=t.replace(/\(|\)/g,"").split(" ");return e.push({lon:parseFloat(i),lat:parseFloat(s)}),e}),[])}function g(e){return e.replace(/\s*([\s(),])\s*/g,"$1")}function h(e){const t=/((MULTI)?(POINT|LINESTRING|POLYGON)).+/.exec(e);return t&&t[1]?t[1]:void 0}function f(e){if(e&&(0,r.F)(e))return`POINT(${(0,s.jF)(e.lon,7)} ${(0,s.jF)(e.lat,7)})`}},67235:(e,t,i)=>{"use strict";i.d(t,{Ks:()=>n,R9:()=>o,WN:()=>a,kq:()=>s,oB:()=>r});i(9729);const s=0,r=50,n=180,a=-180;function o(e){return e.reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]])}},536:(e,t,i)=>{"use strict";i.d(t,{z:()=>a,k:()=>n});var s=i(35023);function r(e){return(t,i)=>({id:i||(0,s.W7)(),type:e,payload:t})}const n=r("success"),a=r("error")},93950:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});var s=i(31085),r=i(84175);const n=({size:e="m",counter:t,position:i="absolute",appearance:n="primary",styles:o})=>{const{css:c,s:d,inline:l}=(0,r.I)(a);return(0,s.jsx)("div",Object.assign({style:l({position:i,zIndex:"static"===i?"unset":void 0}),className:c(d.counter,d[`size_${e}`],d[`appearance_${n}`],o)},{children:(0,s.jsx)("span",{children:("number"==typeof t||"string"==typeof t)&&t})}))},a=(0,r.r)((({colors:e,typography:t,roundCorners:i})=>({counter:{zIndex:2,top:-4,right:-4,background:e["Text, Icons/Status/Critical"],color:e["Text, Icons/Global/White primary"],display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",userSelect:"none"},appearance_primary:{background:e["Text, Icons/Status/Critical"],color:e["Text, Icons/Global/White primary"]},appearance_secondary:{background:e["Text, Icons/Secondary"],color:e["Background/02"]},appearance_tertiary:{background:e["Text, Icons/Tertiary"],color:e["Text, Icons/Global/White primary"]},size_s:Object.assign(Object.assign({padding:"1px 4px",borderRadius:i.s,minWidth:16},t.tinyMedium),{"&:empty":{padding:0,width:6,height:6,top:4,right:4,borderRadius:i.xs}}),size_m:Object.assign(Object.assign({paddingTop:1,paddingStart:5,paddingBottom:2,paddingEnd:5,borderRadius:i.m,minWidth:19},t.smallMedium),{"&:empty":{padding:0,width:8,height:8,top:6,right:6,borderRadius:i.xs}}),size_l:Object.assign(Object.assign({padding:"3px 6px",borderRadius:i.l,minWidth:24},t.regularMedium),{"&:empty":{padding:0,width:8,height:8,top:8,right:8,borderRadius:i.xs}})})))},2723:(e,t,i)=>{"use strict";i.d(t,{V:()=>r});var s=i(31085);const r=({color:e="currentColor",direction:t="left"})=>(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",style:{transform:`rotate(${n[t]}deg)`}},{children:(0,s.jsx)("path",{fill:e,fillRule:"evenodd",d:"m9 20.707-1.414-1.414L14.879 12 7.586 4.707 9 3.293 17.707 12z",clipRule:"evenodd"})})),n={down:-90,up:90,right:0,left:180}},65932:(e,t,i)=>{"use strict";i.d(t,{rA:()=>D,Vy:()=>u.V,vG:()=>p,sH:()=>g,bm:()=>h,ph:()=>c.p,gy:()=>v,ir:()=>Z,UX:()=>m,f5:()=>f,a:()=>ee,ft:()=>L,Ms:()=>P,ic:()=>b,oz:()=>K.oz,VQ:()=>K.VQ,wq:()=>K.EA,vw:()=>se,dV:()=>y,hj:()=>j,yQ:()=>re,aZ:()=>x,OA:()=>X,w4:()=>ae});var s=i(31085),r=i(14041),n=i(84175),a=i(82781),o=i(85608),c=i(93950);const d=e=>(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22.001C17.5228 22.001 22 17.5238 22 12.001C22 6.47813 17.5228 2.00098 12 2.00098C6.47715 2.00098 2 6.47813 2 12.001C2 17.5238 6.47715 22.001 12 22.001ZM15.2928 16.7081L12 13.4152L8.70706 16.7081L7.29285 15.2939L10.5857 12.001L7.29285 8.70808L8.70706 7.29387L12 10.5868L15.2928 7.29387L16.7071 8.70808L13.4142 12.001L16.7071 15.2939L15.2928 16.7081Z",fill:"#E6E6E6",fillOpacity:"0.55"})})),l=e=>(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 13.5859L17.2929 8.29297L18.7071 9.70718L12.7071 15.7072L12 16.4143L11.2929 15.7072L5.29291 9.70718L6.70712 8.29297L12 13.5859Z",fill:"currentColor",fillOpacity:"0.55"})}));var u=i(2723);const p=e=>(0,s.jsx)("svg",Object.assign({width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.15364 2.50195C3.01162 2.50195 2.07748 3.38169 2.00458 4.50528L2 4.64695V12.3568C2 13.49 2.88959 14.4244 3.99738 14.4974L4.13694 14.502H11.8631C12.9931 14.502 13.9229 13.6112 13.9954 12.5044L14 12.365V10.2162H12.2857V12.365C12.2857 12.5662 12.1317 12.7437 11.9375 12.7806L11.8631 12.7877H4.13694C3.93685 12.7877 3.75853 12.6317 3.72137 12.4331L3.71429 12.3568V4.64695C3.71429 4.43376 3.86659 4.25926 4.07363 4.22311L4.15364 4.21624H6.28571V2.50195H4.15364ZM14 2.50195V8.50195H12.2857V5.42842L6.89181 10.8223L5.67962 9.61015L11.0735 4.21624H8V2.50195H14Z",fill:"currentColor",fillOpacity:"0.55"})})),m=e=>(0,s.jsx)("svg",Object.assign({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,s.jsx)("path",{d:"M15.0122 7.05964C14.4669 6.57416 13.7448 6.36101 13.0332 6.4736C11.6501 6.69247 9.30694 7.38808 8.21431 7.71831L6.67394 11.2001L7.92729 11.7169L9.30694 9.57546L10.3572 9.28974L8.94151 14.8457L4.64288 16.3519V18.5713L9.87099 17.4316C10.2612 17.3466 10.5885 17.0738 10.7516 16.6978L11.8077 14.2628L13.2103 17.0094L12.1158 22.004H14.1518L15.6985 17.4713C15.7929 17.1945 15.7931 16.8927 15.6989 16.6158L14.3804 12.7385L14.0706 11.7169L14.1073 11.6385L14.1398 11.5578L14.6429 9.86117L16.0715 11.2897L20.3572 9.82362L20.235 8.44159L16.8896 8.77418C16.4482 8.34586 15.6374 7.6162 15.0122 7.05964ZM14.865 2.04188C13.8037 1.82801 12.776 2.54211 12.5702 3.63609C12.3625 4.73257 13.0529 5.79338 14.1146 6.00839C15.1738 6.22282 16.2013 5.50776 16.4085 4.41186C16.6161 3.31762 15.9248 2.25662 14.865 2.04188Z",fill:"currentColor"})})),g=e=>(0,s.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5.50403C7 5.50403 9 5.00403 12 5.00403C15 5.00403 17 5.50403 17 5.50403L19 10.004L21 10.504V11.886C21 12.2648 20.786 12.611 20.4472 12.7804L20 13.004V18.004C20 18.5563 19.5523 19.004 19 19.004H17L16.5 18.004H7.5L7 19.004H5C4.44772 19.004 4 18.5563 4 18.004V13.004L3.55279 12.7804C3.214 12.611 3 12.2648 3 11.886V10.504L5 10.004L7 5.50403ZM7 15.004C7.55228 15.004 8 14.5563 8 14.004C8 13.4517 7.55228 13.004 7 13.004C6.44772 13.004 6 13.4517 6 14.004C6 14.5563 6.44772 15.004 7 15.004ZM18 14.004C18 14.5563 17.5523 15.004 17 15.004C16.4477 15.004 16 14.5563 16 14.004C16 13.4517 16.4477 13.004 17 13.004C17.5523 13.004 18 13.4517 18 14.004ZM17.5 11.004H6.5L7 7.50403C7 7.50403 9.00014 7.00403 12.0001 7.00403C15 7.00403 17 7.50403 17 7.50403L17.5 11.004Z",fill:"currentColor"})})),h=e=>{var{color:t="currentColor"}=e,i=(0,o.Tt)(e,["color"]);return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:[(0,s.jsx)("g",Object.assign({clipPath:"url(#clip0_1194_101)"},{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0001 13.4143L17.293 18.7072L18.7072 17.293L13.4143 12.0001L18.7072 6.70718L17.293 5.29297L12.0001 10.5859L6.70718 5.29297L5.29297 6.70718L10.5859 12.0001L5.29297 17.293L6.70718 18.7072L12.0001 13.4143Z",fill:t})})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_1194_101"},{children:(0,s.jsx)("rect",{width:"24",height:"24",fill:"white"})}))})]}))},f=e=>{var{color:t="currentColor"}=e,i=(0,o.Tt)(e,["color"]);return(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_1295_2953)"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:t}),(0,s.jsx)("path",{d:"M11 17V13H7V11H11V7H13V11H17V13H13V17H11Z",fill:t})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_1295_2953"},{children:(0,s.jsx)("rect",{width:"24",height:"24",fill:"white"})}))})]}))},v=e=>(0,s.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e,{children:[(0,s.jsx)("circle",{cx:"6",cy:"5.99805",r:"5",fill:"white"}),(0,s.jsx)("circle",{cx:"6",cy:"5.99805",r:"5",fill:"#262626",fillOpacity:"0.75"}),(0,s.jsx)("circle",{cx:"6",cy:"5.99805",r:"5",stroke:"white",strokeWidth:"2"})]})),b=e=>(0,s.jsx)("svg",Object.assign({width:"12",height:"5",viewBox:"0 0 12 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0L4.33841 4.01155C4.92711 4.55589 5.22147 4.82807 5.55275 4.93159C5.84467 5.0228 6.15533 5.0228 6.44725 4.93159C6.77854 4.82807 7.07289 4.55589 7.66159 4.01155L12 0H0Z",fill:"currentColor"})})),y=e=>(0,s.jsxs)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e,{xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M2 14.002H14L2 2.00195V14.002Z",fill:"#2ABB2F",fillOpacity:"0.2"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2929 13.002L2.64648 3.35555L3.35359 2.64844L13 12.2949V10.002H14V14.002H10V13.002H12.2929Z",fill:"black"})]})),x=e=>(0,s.jsxs)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e,{xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{d:"M14 2.00195V14.002H2L14 2.00195Z",fill:"#2ABB2F",fillOpacity:"0.2"}),(0,s.jsx)("path",{d:"M10 2.00195V3.00195L12.2929 3.00195L2.64648 12.6484L3.35359 13.3555L13 3.70906V6.00195H14V2.00195H10Z",fill:"black"})]})),j=e=>(0,s.jsxs)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e,{xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("rect",{x:"14",y:"14.002",width:"12",height:"12",transform:"rotate(180 14 14.002)",fill:"#2ABB2F",fillOpacity:"0.2"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.0212 5.71691L11.7283 4.95557L13.8497 7.23962L13.8497 7.23954L14.5568 8.00089L14.5568 8.00096L13.8496 8.76231L11.7284 11.0463L11.0213 10.2849L12.66 8.52051L2 8.51948L2.00009 7.48325L12.6627 7.48428L11.0212 5.71691Z",fill:"black"})]}));var w=i(81618),I=i(88114),C=i(25698);const _=e=>{const{css:t,s:i,theme:{sizes:r}}=(0,n.I)(E),{icon:a,size:u="m",appearance:p="default",children:m,fullWidth:g,subtitle:h,active:f,styles:v,counter:b,onClear:y,onCollapseChange:x,collapsed:j,onClick:C,dataN:_,dataT:k}=e,O=(0,o.Tt)(e,["icon","size","appearance","children","fullWidth","subtitle","active","styles","counter","onClear","onCollapseChange","collapsed","onClick","dataN","dataT"]),S=_?w.dx.n(_):void 0,T=k?w.dx.t(k):void 0;return(0,s.jsxs)("button",Object.assign({},O,S,T,{onClick:e=>{x&&x(),null==C||C(e)},className:t(i.root,g&&i.fullWidth,f&&"checked"!==p&&i.active,j&&i.collapsed,h&&i.withSubtitle,i[`_${u}`],i[`_${p}`],v)},{children:[(0,s.jsxs)("div",Object.assign({className:t(i.body)},{children:[a&&(0,s.jsx)("span",Object.assign({className:t(i.icon,i[`_${u}Icon`])},{children:(e=>"string"==typeof e?(0,s.jsx)(I.E,{src:e,width:r.icons.buttons[u],height:r.icons.buttons[u],isLoadingForced:!0}):e)(a)})),(0,s.jsx)("span",{children:m}),y&&"checked"===p&&f&&(0,s.jsx)("div",Object.assign({"data-n":"clearIcon",onClick:e=>{e.preventDefault(),e.stopPropagation(),null==y||y()},className:t(i.clearIcon)},{children:(0,s.jsx)(d,{})})),x&&(0,s.jsx)("div",Object.assign({className:t(i.collapseIcon)},{children:(0,s.jsx)(l,{style:{transform:`rotate(${j?180:0}deg)`}})}))]})),h&&"checked"!==p&&(0,s.jsx)("span",Object.assign({className:t(i[`_${p}Subtitle`])},{children:h})),void 0!==b&&(0,s.jsx)(c.p,{counter:"boolean"!=typeof b?b:void 0,size:"m"})]}))},k=({size:e="m"})=>"l"===e?(0,s.jsx)(C.M,{width:120,height:48,borderRadius:8}):(0,s.jsx)(C.M,{width:100,height:40,borderRadius:8}),O={content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"inherit"},S={display:"flex",alignItems:"center",justifyContent:"center"},T=e=>({background:e["Button/Disabled"],color:e["Text, Icons/Tertiary"],cursor:"default",pointerEvents:"none"}),E=(0,n.r)((({colors:e,sizes:t,shadows:i,roundCorners:s,typography:r})=>({root:Object.assign(Object.assign({background:e["Button/Primary"],color:e["Text, Icons/Primary button/Primary"],cursor:"pointer",borderRadius:s.s,display:"inline-flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",border:"none",boxSizing:"border-box"},r.regularMedium),{":disabled":Object.assign({},T(e)),"&:active":{"&::after":Object.assign({},O)},'&:active:has(div[data-n="clearIcon"]:active)':{"&::after":{visibility:"hidden"}}}),active:{"&::after":Object.assign({},O)},collapsed:{"&::after":Object.assign({},O)},_m:{paddingTop:8,paddingBottom:8,paddingStart:9,paddingEnd:9},_l:Object.assign({paddingStart:9,paddingEnd:9,paddingTop:12,paddingBottom:12,borderRadius:s.m},r.leadBold),fullWidth:{width:"100%"},_default:{background:e["Button/Secondary"],color:e["Text, Icons/Primary"]},_map:{background:e["Button/Map"],color:e["Text, Icons/Primary"],boxShadow:i.xs,"&:active":{boxShadow:"unset"}},_primary:{background:e["Button/Primary"],color:e["Text, Icons/Primary button/Primary"]},_checked:{background:e["Button/Checked"],color:e["Text, Icons/Inverse/Primary"]},body:{display:"flex",alignItems:"center",height:24,gap:6},icon:Object.assign({},S),_mIcon:{height:t.icons.buttons.m,width:t.icons.buttons.m},_lIcon:{height:t.icons.buttons.m,width:t.icons.buttons.m},_defaultSubtitle:{color:e["Text, Icons/Secondary"]},_mapSubtitle:{color:e["Text, Icons/Secondary"]},_primarySubtitle:{color:e["Text, Icons/Primary button/Accent"]},withSubtitle:{alignItems:"unset",justifyContent:"unset"},clearIcon:Object.assign(Object.assign({},S),{"&:active":{opacity:.6}}),collapseIcon:Object.assign({},S)})));function M(e,t,i){if(!e)return;let s=requestAnimationFrame((()=>{s=null,i(t?Array.from(e.childNodes).findIndex((e=>e.offsetTop>=t)):-1)}));return()=>{s&&cancelAnimationFrame(s)}}var N=i(46561);const L=({items:e,dataN:t="wat-smart-button-group",size:i="l",appearance:o="default",maxRows:c=2,collapseOnSelect:d,onClick:l,onClear:u,onCollapseChange:p,styles:m})=>{const{_gg:g}=(0,a.c)(),{css:h,s:f}=(0,n.I)(B),v=(0,r.useRef)(null),[b,y]=(0,r.useState)(!1),x=b?void 0:c*A[i]+R*(c-1),j=function({containerRef:e,maxHeight:t,items:i}){const[s,n]=(0,r.useState)(-1),[a,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>(o(!1),M(e.current,t,(e=>{-1!==s&&e>s?n(e-1):(n(e),-1!==e&&o(!0))})))),[e,t,i]),(0,r.useEffect)((()=>{if(a)return M(e.current,t,(e=>{e===s&&n(e-1),o(!1)}))}),[a]),s}({containerRef:v,maxHeight:x,items:e});return(0,s.jsxs)("ul",Object.assign({},w.dx.n(t),{className:h(f.root,m),style:{maxHeight:x},ref:v},{children:[e.map(((e,t)=>(0,s.jsxs)(r.Fragment,{children:[t===j&&!b&&(0,s.jsx)("li",{children:(0,s.jsx)(_,Object.assign({size:i,appearance:o,onClick:()=>y(!0)},{children:g("Ещё")}))}),(0,s.jsx)("li",Object.assign({className:h(e.fullWidth&&f._fullWidth)},{children:(0,s.jsx)(_,Object.assign({},e,{size:i,appearance:o,onClick:()=>{return t=e.id,d&&y(!1),void(null==l||l(t));var t},onClear:()=>null==u?void 0:u(e.id),onCollapseChange:p?()=>p(e.id):void 0},{children:e.name}))}))]},`${e.id}-${t}`))),b&&(0,s.jsx)("li",{children:(0,s.jsx)(_,Object.assign({size:i,appearance:o,onClick:()=>y(!1)},{children:g("Свернуть")}))},"collapse")]}))},P=({size:e="l",items:t=6,maxRows:i=2,styles:r})=>{const{css:a,s:o}=(0,n.I)(B),c=i*A[e]+R*(i-1);return(0,s.jsx)("ul",Object.assign({className:a(o.root,r),style:{maxHeight:c}},{children:(0,N.H)(t,(t=>(0,s.jsx)("li",{children:(0,s.jsx)(k,{size:e})},t)))}))},R=8,A={m:40,l:48},B=(0,n.r)({root:{position:"relative",display:"flex",flexWrap:"wrap",gap:R,overflow:"hidden"},_fullWidth:{width:"100%"}});var z=i(80552),F=i(35023);const H=e=>{var{external:t,href:i,containerRef:r}=e,n=(0,o.Tt)(e,["external","href","containerRef"]);const a=t&&i?"_blank":void 0;return(0,s.jsx)("a",Object.assign({href:i,ref:r},n,{target:a}))},U=e=>{var{onClick:t,containerRef:i}=e,r=(0,o.Tt)(e,["onClick","containerRef"]);return(0,s.jsx)("button",Object.assign({ref:i},r,{onClick:e=>{e.preventDefault(),t&&t(e)}}))},D=(0,r.memo)((e=>{const{icon:t,iconPosition:i="start",disabled:r,size:a="m",appearance:d="primary",children:l,fullWidth:u,styles:p,counter:m,dataN:g,dataT:h}=e,f=(0,o.Tt)(e,["icon","iconPosition","disabled","size","appearance","children","fullWidth","styles","counter","dataN","dataT"]),{css:v,s:b,theme:{sizes:y}}=(0,n.I)(q),x=g?w.dx.n(g):void 0,j=h?w.dx.t(h):void 0,C=e=>"string"==typeof e?(0,s.jsx)(I.E,{src:e,width:y.icons.buttons[a],height:y.icons.buttons[a]}):e,_=(0,s.jsxs)("div",Object.assign({className:v(b.body)},{children:[t&&"start"===i&&(0,s.jsx)("span",Object.assign({className:v(b.iconStart,b[`_${a}Icon`])},{children:C(t)})),(0,s.jsx)("span",{children:l}),t&&"end"===i&&(0,s.jsx)("span",Object.assign({className:v(b.iconEnd,b[`_${a}Icon`])},{children:C(t)})),void 0!==m&&(0,s.jsx)(c.p,{counter:"boolean"!=typeof m?m:void 0,size:"xl"===a?"l":a})]}));return"a"===f.tag?(0,s.jsx)(H,Object.assign({},(0,F.cJ)(f,["tag"]),x,j,{className:v(b.root,u&&b.fullWidth,b[`_${a}`],b[`_${d}`],r&&b.disabledLink,p)},{children:_})):(0,s.jsx)(U,Object.assign({},(0,F.cJ)(f,["tag"]),x,j,{disabled:r,className:v(b.root,u&&b.fullWidth,b[`_${a}`],b[`_${d}`],p)},{children:_}))}));D.displayName="ActionButton";const V={content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"inherit"},$={display:"flex",alignItems:"center",justifyContent:"center"},W=e=>({background:e["Button/Disabled"],color:e["Text, Icons/Tertiary"],cursor:"default",pointerEvents:"none"}),q=(0,n.r)((({colors:e,roundCorners:t,sizes:i,typography:s})=>({root:Object.assign(Object.assign({background:e["Button/Primary"],color:e["Text, Icons/Primary button/Primary"],cursor:"pointer",borderRadius:t.s,display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",border:"none",boxSizing:"border-box"},z.regularBold),{":disabled":Object.assign({},W(e)),"&:active":{"&::after":Object.assign({},V)}}),disabledLink:Object.assign({},W(e)),_s:{paddingTop:6,paddingBottom:6,paddingStart:12,paddingEnd:12},_m:{paddingTop:8,paddingBottom:8,paddingStart:14,paddingEnd:14},_l:Object.assign({paddingStart:16,paddingEnd:16,borderRadius:t.m,paddingTop:12,paddingBottom:12},s.bodySemibold),_xl:Object.assign({paddingStart:18,paddingEnd:18,borderRadius:t.l,paddingTop:16,paddingBottom:16},z.leadBold),fullWidth:{width:"100%"},body:{display:"flex",alignItems:"center",paddingBottom:2,height:24,gap:6},_primary:{background:e["Button/Primary"],color:e["Text, Icons/Primary button/Primary"]},_secondary:{background:e["Button/Secondary brand"],color:e["Text, Icons/Brand"]},_critical:{background:e["Button/Secondary"],color:e["Text, Icons/Status/Critical"]},_default:{background:e["Button/Secondary default"],color:e["Text, Icons/Primary"]},iconStart:Object.assign({marginEnd:6},$),iconEnd:Object.assign({marginStart:6},$),_sIcon:{height:i.icons.buttons.s,width:i.icons.buttons.s},_mIcon:{height:i.icons.buttons.m,width:i.icons.buttons.m},_lIcon:{height:i.icons.buttons.l,width:i.icons.buttons.l},_xlIcon:{height:i.icons.buttons.xl,width:i.icons.buttons.xl}}))),Z=(0,r.memo)((e=>{var{icon:t,disabled:i,appearance:r="primary",children:a,className:c,dataN:d="",dataT:l=""}=e,u=(0,o.Tt)(e,["icon","disabled","appearance","children","className","dataN","dataT"]);const{css:p,s:m,theme:{sizes:g}}=(0,n.I)(G);return(0,s.jsxs)("button",Object.assign({},u,w.dx.n(d),w.dx.t(l),{disabled:i,className:p(m.root,m[`_${r}`],c)},{children:["string"==typeof t?(0,s.jsx)(I.E,{src:t,width:g.icons.buttons.m,height:g.icons.buttons.m}):t,a]}))}));Z.displayName="NavButton";const Q={content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"inherit"},G=(0,n.r)((({colors:e,roundCorners:t,typography:i})=>({root:Object.assign(Object.assign({width:"max-content",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",gap:8,boxSizing:"border-box",cursor:"pointer",border:"none",borderRadius:t.s},i.footnoteSemibold),{":disabled":{background:e["Button/Disabled"],color:e["Text, Icons/Tertiary"],cursor:"default",pointerEvents:"none"},'&:active::after, &[aria-pressed="true"]::after':Object.assign({},Q)}),_primary:{padding:"8px 14px",background:e["Button/Primary"],color:e["Text, Icons/Primary button/Primary"]},_default:{padding:8,background:e["Button/Secondary"],color:e["Text, Icons/Accent"]}})));var K=i(31675),Y=i(64099);const X=e=>{var{appearance:t="02",error:i,size:r="l",dataN:a="",dataT:c=""}=e,d=(0,o.Tt)(e,["appearance","error","size","dataN","dataT"]);const{css:l,s:u}=(0,n.I)(J);return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",Object.assign({className:l(u.label,u[`_${t}`],u[`_${r}Label`],i&&u.error)},{children:(0,s.jsx)("input",Object.assign({},d,w.dx.n(a),w.dx.t(c),{type:"text",className:l(u.input,u[`_${r}Input`])}))})),i&&(0,s.jsx)("span",Object.assign({className:l(u.errorText)},{children:i}))]})},J=(0,n.r)((({colors:e,typography:t})=>({label:{position:"relative",display:"flex",alignItems:"center",border:"none",borderRadius:8,overflow:"hidden"},input:{width:"100%",paddingTop:2,paddingBottom:4,paddingStart:8,paddingEnd:8,border:"none",outline:"none",backgroundColor:"initial",caretColor:e["Text, Icons/Brand"],zIndex:Y.fE.top,"&::placeholder":Object.assign({},t.footnoteRegular)},_mLabel:{padding:8},_lLabel:{padding:"11px 8px"},_mInput:Object.assign(Object.assign({},t.footnoteRegular),{"&::placeholder":Object.assign({},t.footnoteRegular)}),_lInput:Object.assign(Object.assign({},t.bodyRegular),{"&::placeholder":Object.assign({},t.bodyRegular)}),_01:{backgroundColor:e["Surface/Section/01"]},_02:{backgroundColor:e["Surface/Section/02"]},error:{":before":{content:'""',position:"absolute",top:0,bottom:0,left:0,right:0,borderRadius:8,border:`2px solid ${e["Text, Icons/Status/Critical"]}`}},errorText:Object.assign({display:"block",color:e["Text, Icons/Status/Critical"],padding:"0 16px",marginTop:7},t.caption1Regular)}))),ee=e=>{var{dataN:t="",dataT:i=""}=e,r=(0,o.Tt)(e,["dataN","dataT"]);const{css:a,s:c}=(0,n.I)(te);return(0,s.jsx)("label",Object.assign({className:a(c.label)},{children:(0,s.jsx)("input",Object.assign({},w.dx.n(t),w.dx.t(i),r,{className:a(c.input),type:"radio"}))}))},te=(0,n.r)((({colors:e})=>({label:{display:"inline-block"},input:{cursor:"pointer",position:"relative",display:"flex",width:24,height:24,boxSizing:"border-box",margin:0,"&:before":{content:'""',position:"absolute",top:2,bottom:2,left:2,right:2,borderRadius:"50%",border:`2px solid ${e["Button/Secondary"]}`},"&:after":{content:'""',position:"absolute",display:"none"},"&:checked::before":{backgroundColor:e["Button/Primary"]},"&:checked::after":{display:"block",top:8,bottom:8,left:8,right:8,borderRadius:"50%",backgroundColor:e["Text, Icons/Primary button/Primary"]},"&:disabled::before":{border:"none",backgroundColor:e["Button/Disabled"]},"&:disabled::after":{backgroundColor:e["Text, Icons/Tertiary"]}}})));var ie=i(69158);const se=({icon:e,appearance:t="primary",title:i,styles:r})=>{const{css:a,s:o}=(0,n.I)(ne);return(0,s.jsxs)("div",Object.assign({className:a(o.badge,o[`_${t}`],r)},{children:["string"==typeof e?(0,s.jsx)(I.E,{src:e,alt:"string"==typeof i?i:void 0,width:16,height:16,isLoadingForced:!0}):e,(0,s.jsx)("span",Object.assign({className:a(o.title)},{children:i}))]}))},re=({icon:e,appearance:t="primary"})=>{const{css:i,s:r,theme:{typography:a}}=(0,n.I)(ne);return(0,s.jsxs)("div",Object.assign({className:i(r.badge,r[`_${t}Skeleton`])},{children:["string"==typeof e?(0,s.jsx)(I.E,{src:e,width:16,height:16,isLoadingForced:!0}):e||(0,s.jsx)(C.M,{width:16,height:16,borderRadius:4}),(0,s.jsx)("span",Object.assign({className:i(r.title)},{children:(0,s.jsx)(C.M,{width:24,height:a.caption1Regular.lineHeight,borderRadius:4})}))]}))},ne=(0,n.r)((({typography:e,colors:t})=>({badge:{height:24,display:"flex",alignItems:"center",gap:6},title:Object.assign({},(0,z.lineClamped)(1,e.caption1Regular)),_primary:{color:t["Text, Icons/Global/White primary"]},_secondary:{color:t["Text, Icons/Global/Black secondary"]},_primarySkeleton:{color:(0,ie.m)(t["Text, Icons/Global/White primary"],.1)},_secondarySkeleton:{color:(0,ie.m)(t["Text, Icons/Global/Black primary"],.1)}})));var ae=i(11388)},31675:(e,t,i)=>{"use strict";i.d(t,{EA:()=>b,oz:()=>u,VQ:()=>v});var s=i(31085),r=i(14041),n=i(84175),a=i(89379),o=i(59124),c=i(93950),d=i(88114),l=i(81618);const u=(0,r.memo)((({title:e,icon:t,counter:i,isSelected:r,onClick:a})=>{const{s:o,css:u,theme:{sizes:m}}=(0,n.I)(p);return(0,s.jsxs)("div",Object.assign({},l.dx.n("wat-tab-bar-tab"),{className:u(o.root,r&&o._selectedRoot),onClick:a},{children:[!!t&&("string"==typeof t?(0,s.jsx)(d.E,{src:t,width:m.icons.buttons.m,height:m.icons.buttons.m,isLoadingForced:!0}):t),(0,s.jsx)("span",Object.assign({className:u(o.title)},{children:e})),void 0!==i&&(0,s.jsx)(c.p,{styles:o.counter,appearance:r?"secondary":"tertiary",counter:i,position:"static"})]}))})),p=(0,n.r)((({colors:e,shadows:t,typography:i,roundCorners:s})=>({root:{height:24,flexShrink:0,padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",color:e["Text, Icons/Secondary"],position:"relative",backgroundColor:"transparent"},_selectedRoot:{color:e["Text, Icons/Primary"],backgroundColor:e["Surface/03"],boxShadow:t.xs,borderRadius:s.s},title:Object.assign({},i.footnoteMedium),counter:Object.assign({position:"unset"},i.caption1Medium)})));var m=i(2723),g=i(12043),h=i(25698),f=i(46863);const v=(0,r.memo)((({tabs:e,withFadingEdges:t=!1,onClick:i,activeId:c,styles:d,gap:p=2,offset:h=16,verticalOffset:v=0,renderTab:b,dataN:x="wat-tab-bar"})=>{const{s:j,css:w}=(0,n.I)(y),I=(0,r.useRef)(null),C=e=>t=>{(0,f.o)(t.currentTarget,I.current,"horizontal"),i(e,t)};return(0,s.jsxs)("div",Object.assign({},l.dx.n(x),{className:w(j.root,d)},{children:[(0,s.jsx)(a.h,Object.assign({verticalOffset:v,containerRef:I,gap:p,offset:h},{children:e.map((e=>b?b(Object.assign(Object.assign({},e),{isSelected:e.id===c,onClick:C(e.id)})):(0,r.createElement)(u,Object.assign({},e,{key:e.id,isSelected:e.id===c,onClick:C(e.id)}))))})),t&&(0,s.jsx)("div",{className:w(j.fadingEdges)}),(0,s.jsx)(g.j,{children:(0,s.jsx)(o.u,{scrollboxRef:I,offset:12,size:24,icon:m.V,arrowStyle:j.arrow,isAlwaysVisible:!0,isSafeCornerTap:!1})})]}))})),b=({verticalOffset:e})=>(0,s.jsx)(h.M,{width:"100%",height:36,marginTop:e,marginBottom:e}),y=(0,n.r)((({colors:e,shadows:t,roundCorners:i})=>({root:{position:"relative",backgroundColor:e["Surface/03"]},fadingEdges:{position:"absolute",inset:0,pointerEvents:"none",":before":{content:'""',position:"absolute",top:0,bottom:0,start:0,width:24,background:`linear-gradient(90deg, ${e["Surface/03"]}, transparent)`},":after":{content:'""',position:"absolute",top:0,bottom:0,end:0,width:24,background:`linear-gradient(90deg, transparent, ${e["Surface/03"]})`}},arrow:{width:32,height:32,borderRadius:i.s,color:e["Text, Icons/Accent"],opacity:.8,backgroundColor:e["Surface/03"],boxShadow:t.m}})))},84572:(e,t,i)=>{"use strict";i.r(t),i.d(t,{colors:()=>s,gaps:()=>d,roundCorners:()=>n,shadows:()=>r,sizes:()=>c,typography:()=>o});const s={"Color/Grayscale/Gray/November Sky":"#F2F2F2","Color/Grayscale/Gray/Rain Cloud":"#E6E6E6","Type/Blackish/A 1.00":"#262626","Background/01":"#F2F2F2","Background/02":"#FFFFFF","Surface/03":"#FFFFFF","Surface/Section/01":"#FFFFFF","Surface/Section/02":"#8C8C8C1A","Text, Icons/Global/White primary":"#FFFFFF","Text, Icons/Global/White secondary":"#E6E6E68C","Text, Icons/Global/White accent":"#FAFAFAB2","Text, Icons/Global/Black primary":"#0D0D0D","Text, Icons/Global/Black secondary":"#2626268C","Text, Icons/Global/Black accent":"#262626BF","Button/Primary":"#2abb2f","Button/Secondary brand":"#2abb2f1a","Button/Secondary default":"#B3B3B333","Button/Secondary":"#b3b3b333","Button/Disabled":"#8c8c8c1a","Button/Map":"#ffffff","Button/Checked":"#595959","Text, Icons/Primary button/Primary":"#ffffff","Text, Icons/Brand":"#22aa27","Text, Icons/Status/Success":"#22AA27","Text, Icons/Status/Critical":"#e84331","Text, Icons/Tertiary":"#2626264d","Text, Icons/Primary":"#0d0d0d","Text, Icons/Secondary":"#2626268c","Text, Icons/Accent":"#262626BF","Text, Icons/Inverse/Primary":"#ffffff","Text, Icons/Primary button/Accent":"#fafafab2","Text, Icons/Global/White tertiary":"#e6e6e64d","Special/Divider/Default":"rgba(140, 140, 140, 0.30)","Color/Grayscale/Gray/Gray Anguish #929292":"#929292",markerBackground:"#FFFFFF",markerAureole:"#FFFFFF",markerStroke:"#0168F9",markerStrokeHovered:"#F5373C",markerStrokeInactive:"#899AAB",markerBubbleRating:"#EAEAEA",markerBubbleStar:"#5A5A5A"},r={xs:"0px 1px 4px 0px #00000026",m:"0px 3px 12px 0px #00000026",drop:"0px 2.5px 5px 0px #00000033, 0px 1.25px 3.75px 0px #00000026",pin:"0px 4px 6px 0px #00000033, 0px 1px 3px 0px #00000026"},n={xs:6,s:8,m:10,l:12,xl:14};var a=i(80552);const o=Object.assign(Object.assign(Object.assign({},a),{bodyRegular:{fontWeight:400,fontSize:"16px",lineHeight:"20px",letterSpacing:"-1.5%"},bodyMedium:{fontWeight:500,fontSize:"16px",lineHeight:"20px",letterSpacing:"-1.5%"},bodySemibold:{fontWeight:600,fontSize:"16px",lineHeight:"20px",letterSpacing:"-1.5%"},footnoteRegular:{fontSize:"14px",fontWeight:400,lineHeight:"18px",letterSpacing:"-0.02em",textAlign:"left",textUnderlinePosition:"from-font",textDecorationSkipInk:"none"},footnoteMedium:{fontSize:"14px",fontWeight:a.fontWeight.medium,lineHeight:"18px",letterSpacing:"-0.02em",textAlign:"left",textUnderlinePosition:"from-font",textDecorationSkipInk:"none"},footnoteSemibold:{fontSize:"14px",fontWeight:600,lineHeight:"18px",letterSpacing:"-0.02em",textAlign:"left",textUnderlinePosition:"from-font",textDecorationSkipInk:"none"},caption1Regular:{fontWeight:400,fontSize:"13px",lineHeight:"16px",letterSpacing:"-0.018em"},caption2Regular:{fontWeight:400,fontSize:"11px",lineHeight:"14px",letterSpacing:"-0.016em"},caption1Medium:{fontSize:"13px",fontWeight:a.fontWeight.normal,lineHeight:"16px",letterSpacing:"-0.018em",textAlign:"center",textUnderlinePosition:"from-font",textDecorationSkipInk:"none"},caption2Medium:{fontSize:"11px",fontWeight:a.fontWeight.medium,lineHeight:"14px",letterSpacing:"-0.016em",textAlign:"center",textUnderlinePosition:"from-font",textDecorationSkipInk:"none"},caption1Semibold:{fontSize:"13px",fontWeight:a.fontWeight.semibold,lineHeight:"16px",letterSpacing:"-0.018em",textAlign:"center",textUnderlinePosition:"from-font",textDecorationSkipInk:"none"},caption2Semibold:{fontWeight:600,fontSize:"11px",lineHeight:"14px",letterSpacing:"-0.016em"},h2Medium:{fontWeight:500,fontSize:"29px",lineHeight:"36px",letterSpacing:"-0.024em"},h3Medium:{fontWeight:500,fontSize:"22px",lineHeight:"28px",letterSpacing:"-0.02em"},h4Regular:{fontWeight:400,fontSize:"19px",lineHeight:"24px",letterSpacing:"-2.3%"},h2Semibold:{fontSize:"29px",fontWeight:600,lineHeight:"36px",letterSpacing:"-0.522px"},subheadMedium:{fontSize:"15px",fontWeight:500,lineHeight:"20px",letterSpacing:"-0.3px"},h3Semibold:{fontWeight:a.fontWeight.semibold,fontSize:"22px",lineHeight:"28px",letterSpacing:"-0.018em"},markerBubble:{fontWeight:500,fontSize:"10px",lineHeight:"12.54px",letterSpacing:"-2%"}}),a),c={icons:{buttons:{s:24,m:24,l:32,xl:32}}},d={verticalFormItems:12,verticalItemsL:16,verticalItemsM:8,horizontalItemsS:6}},11388:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var s=i(84572)},80648:(e,t,i)=>{"use strict";i.d(t,{xf:()=>T,OM:()=>k,EV:()=>E,MY:()=>C,QW:()=>N,ze:()=>M,y3:()=>I,kR:()=>L});var s=i(66333),r=i(46287),n=i(66698),a=i(31222),o=i(56688),c=i(94887),d=i(73428),l=i(41013),u=i(80905),p=i(95530),m=i(59954),g=i(42853),h=i(54684),f=i(77017);var v=i(46516);function b(e){return(0,v.O)(e)&&!(0,h.Q)(e)&&(t=e.rubrics,!!(0,f.F)(t));var t}var y=i(35023),x=i(5164),j=i(53790),w=i(18472);const I=(0,s.Mz)([e=>(0,r.DE)(e)],(e=>{if(!e||!e.data)return!1;const t=0!==(0,w.i)(e.data)?(0,w.i)(e.data):(0,c.x)(e.data);return!!t&&t>n.MO})),C=(0,s.Mz)([({state:e,entityId:t})=>(0,r.DE)({state:e,entityId:t}),({state:e,entityReviewsSearchId:t})=>(0,r.YH)({state:e,searchId:t||""}),({state:e,orgReviewsSearchId:t})=>(0,r.YH)({state:e,searchId:t||""})],((e,t,i)=>_(e,t,i)));function _(e,t,i){const s=e&&e.data,r=s&&(0,v.O)(s)&&s.reviews&&s.reviews.org_review_count||0,n=s&&"reviews"in s&&s.reviews&&s.reviews.general_review_count||0,a=t&&t.data&&t.data.total,o=i&&i.data&&i.data.total;return{entityCount:void 0!==a?a:n,orgCount:void 0!==o?o:r}}const k=(0,s.Mz)([e=>(0,r.DE)(e),e=>C(e),({state:e,entityId:t})=>(0,u.f_)(e.appContext.frames,t),({state:e,entityId:t})=>(0,r.Sf)({state:e,entityId:t}),({state:e})=>"realty"===e.appContext.activeLayer,e=>e.featureReadOnly,({state:e})=>e.config.featureMenu,({state:e})=>e.config.featureOnTerritory,e=>e.photosCount,e=>e.menuPhotosCount,e=>e.offersCount,e=>e.realtyCount],((e,t,i,s,r,n,a,o,c,d,l,u)=>O({profile:e,reviewsCount:t,discountsTotal:s.data?s.data.total:0,frame:i,isRealtyLayer:r,isReadOnly:n,featureMenu:a,featureOnTerritory:o,photosCount:c,offersCount:l,menuPhotosCount:d,realtyCount:u})));function O(e){const{profile:t,reviewsCount:i,discountsTotal:s,frame:r,offersCount:n,isRealtyLayer:u,isReadOnly:m,featureMenu:g,featureOnTerritory:f,photosCount:y,menuPhotosCount:x,realtyCount:I}=e,C=t&&t.data;if(!C)return[];const _=(0,a.w)(C).reduce(((e,t)=>{var a,_,k,O;let S;switch(t){case"contacts":case"info":S={tab:t};break;case"inside":const e=f?(0,w.i)(C):0,T=(0,c.x)(C),E=e||T;S=0===E?void 0:{tab:t,count:E};break;case"photos":S=m||"__empty"===C.id?void 0:{tab:t,count:y};break;case"menu":S=!m&&g&&b(C)?{tab:t,count:x}:void 0;break;case"prices":const M=(0,v.O)(C)&&n?n:0;S=(0,h.Q)(C)?{tab:t,count:M}:void 0;break;case"realty":const N="entity"===(null==r?void 0:r.type)&&((null===(a=r.tabRealty)||void 0===a?void 0:a.currentCategoryValue)||(null===(O=(null===(_=r.tabRealty)||void 0===_?void 0:_.currentFiltersValues)&&Object.keys(null===(k=r.tabRealty)||void 0===k?void 0:k.currentFiltersValues))||void 0===O?void 0:O.length));S=("has_realty"in C&&C.has_realty||(0,j._)(C)&&(I||N))&&!u?{tab:t,count:I}:void 0;break;case"services":{const e=(0,d.o)(C);e&&(S={tab:t,count:e});break}case"providers":{const e=(0,l.p)(C);e&&(S={tab:t,count:e});break}case"discounts":S=s?{tab:t,count:s}:void 0;break;case"reviews":{if((0,p.k)(C)||m||!(0,o.E)(C))break;const e=r&&"entity"===r.type&&r.tabReviews,s=(0,v.O)(C)&&C.reviews&&C.reviews.is_org_reviews;if(e){S={tab:t,count:e.isOrg?i.orgCount:i.entityCount}}else{S={tab:t,count:s?i.orgCount:i.entityCount}}}}return S?e.concat([S]):e}),[]);return _.length,_}const S=(0,s.Bj)((e=>e),!1,g.A),T=(0,s.Mz)([({state:e,entityId:t,searchId:i})=>{const s=(0,r.Tq)({state:e,entityId:t,searchId:i}).data;return s&&"links"in s&&s.links&&s.links.database_entrances?S(s.links.database_entrances):m.Ml},({state:e,entityId:t,searchId:i})=>{var s,n,a;return null===(a=null===(n=null===(s=(0,r.Tq)({state:e,entityId:t,searchId:i}))||void 0===s?void 0:s.data)||void 0===n?void 0:n.context)||void 0===a?void 0:a.entrance_id},({entranceId:e})=>e],((e,t,i)=>{const s=t||i;if(s){const t=e.find((e=>e.id===s));if(t)return{vectors:t.geometry.vectors,points:t.geometry.points,iterationCount:n.xZ}}return e.reduce(((e,t)=>{var i,s;return(null==t?void 0:t.is_visible_on_map)&&((null===(i=t.geometry.vectors)||void 0===i?void 0:i.length)&&e.vectors.push(...t.geometry.vectors),(null===(s=t.geometry.points)||void 0===s?void 0:s.length)&&e.points.push(...t.geometry.points)),e}),{points:[],vectors:[],iterationCount:n.xZ})})),E=e=>t=>(0,r.DE)({state:t,entityId:e||""}),M=(0,s.Mz)([({state:e})=>{const t=(0,u.Su)(e.appContext.frames);return t?(0,x.$8)({state:e,props:{frame:t}}):void 0}],(e=>{if(!(null==e?void 0:e.length))return;return(0,y.oE)(e.map((({id:e,search_attributes:t})=>(null==t?void 0:t.best_keyword)?`${e}:${t.best_keyword}`:void 0))).join(",")})),N=e=>t=>{var i,s;if(e)return null===(s=null===(i=(0,r.DE)({state:t,entityId:e}).data)||void 0===i?void 0:i.search_attributes)||void 0===s?void 0:s.best_keyword},L=e=>t=>t.session.is3dEnabled&&"branch"===e.type&&!0===e.has_ads_model},74961:(e,t,i)=>{"use strict";i.d(t,{Pg:()=>b,XR:()=>g,Z6:()=>h,c_:()=>p,cq:()=>m,p0:()=>y});var s=i(10522),r=i(35023),n=i(32065),a=i(46287),o=i(84082),c=i(82393),d=i(66333),l=i(96891),u=i(59954);const p=e=>(0,d.Mz)([t=>(0,o.cB)(t)[e],c.MJ],((e,t)=>e?(0,l.q)(e,t):u.Ml)),m=()=>(0,d.Mz)([e=>(0,o.b1)(e)],(e=>(0,n.sm)(e).filter((t=>{const i=t&&t.collection_id?e[null==t?void 0:t.collection_id]:void 0;return(0,o.OZ)(t)&&(0,o.xM)(i)&&i.is_visible_on_map})))),g=(0,d.Mz)([o.b1,c.MJ],((e,t)=>(0,l.q)((0,n.sm)(e).filter(o.xM),t))),h=e=>{const t=(0,r.oE)((0,n.sm)((0,s.to)(e))),i=t.find((({place_type:e})=>"home"===e)),a=t.find((({place_type:e})=>"work"===e));return[{type:"home",place:i,entity:x(e,i)},{type:"work",place:a,entity:x(e,a)}]},f=(0,a.eJ)(),v=(0,a.eJ)(),b=(0,d.Mz)([s.cd,e=>{const t=(0,s.cd)(e);if(t&&t.object_id)return f({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"home",place:e,entity:t}})),y=(0,d.Mz)([s.cU,e=>{const t=(0,s.cU)(e);if(t&&t.object_id)return v({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"work",place:e,entity:t}}));function x(e,t){if(t&&t.object_id)return(0,a.Tq)({state:e,entityId:t.object_id})}},88337:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var s=i(82393);function r(e){const t=(0,s.n$)(e);return{lang:e.appContext.lang,product:"online5",userId:e.session.userId,sessionId:e.config.sessionId,screen:e.session.screen,city:t&&t.code||"unknown",mapType:e.session.is3dEnabled?"3d":"2d",source:"what is source"}}},83720:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var s=i(80905),r=i(31800),n=i(55839);const a=e=>t=>{var i;if(!(0,r.S)(e)(t))return!1;const a=(0,s.w1)((0,n.t)(t),e),o=a&&"filterPanelState"in a?a.filterPanelState:void 0;if(!o)return!1;const c="realty"===(null==a?void 0:a.type)&&"building"===(null===(i=a.entity)||void 0===i?void 0:i.type);return("auto"!==o||!t.config.isMobileDevice)&&("auto"===o?1===t.appContext.frames.length&&!c:"manuallyOpened"===o)}},31800:(e,t,i)=>{"use strict";i.d(t,{S:()=>n});var s=i(80905),r=i(55839);const n=e=>t=>{const i=(0,s.w1)((0,r.t)(t),e);if(!i)return!1;switch(i.type){case"search":case"product":case"realty":case"exchange":return!0;case"directions":switch(i.tab){case"bus":return!0;case"car":case"truck":return(e=>{const t=(0,s.bB)(e.appContext.frames,"directions");return!!t&&!!t.isPpngFiltersAvailable})(t);default:return!1}default:return!1}}},55839:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});const s=(0,i(66333).Mz)([e=>e.appContext.frames,e=>e.appContext.staticFrames.dashboard.id],((e,t)=>e.length?e:[{id:t,type:"dashboard"}]))},88817:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});var s=i(55839),r=i(23124),n=i(31897);const a=e=>{if(e.config.isMobileDevice)return 0;if(e.appContext.isDataViewerMinimized)return n.k.width;const t=(0,s.t)(e);return n.k.width+t.reduce(((t,i)=>t+(0,r.q)(i.id)(e)),0)}},46383:(e,t,i)=>{"use strict";i.d(t,{S:()=>o});var s=i(66333),r=i(31800),n=i(83720),a=i(55839);const o=()=>(0,s.Mz)([({state:e,frameId:t})=>c(t)(e),({state:e,frameId:t})=>d(t)(e),({state:e,frameId:t})=>(0,r.S)(t)(e),({state:e,frameId:t})=>(0,n.w)(t)(e)],((e,t,i,s)=>i?{isLeftMost:e,isRightMost:t,hasFilters:i,areFiltersOpened:s}:{isLeftMost:e,isRightMost:t,hasFilters:i})),c=e=>t=>{if(t.config.isMobileDevice)return!0;const i=(0,a.t)(t);return i[i.length-1].id===e},d=e=>t=>{if(t.config.isMobileDevice)return!0;return(0,a.t)(t)[0].id===e}},23124:(e,t,i)=>{"use strict";i.d(t,{q:()=>u});var s=i(80905),r=i(64099),n=i(31800),a=i(83720),o=i(55839),c=i(72384);const d="wideCard",l="withWideCard",u=((0,c.n)({name:d,percentRange:[0,0],groups:["controlGroup",l],forHumanFromSeo:!0}),e=>t=>{const i=(0,s.w1)((0,o.t)(t),e),u="entity"===(null==i?void 0:i.type)||"pending"===(null==i?void 0:i.type);return(0,c.l)(d,t.config.experiments)===l&&u?640:i&&(0,n.S)(e)(t)&&(0,a.w)(e)(t)?r.Ej.wideFrameWidth:r.Ej.standardFrameWidth})},516:(e,t,i)=>{"use strict";i.d(t,{U:()=>a});var s=i(83878),r=i(80905),n=i(74182);const a=(0,s.Mz)([e=>e.appContext.frames],(e=>{const t=(0,r.bB)(e,"search");if("query"===(null==t?void 0:t.searchType))return(0,n.HX)(t.tabCatalog.searchId)}))},6618:(e,t,i)=>{"use strict";i.d(t,{g:()=>n});var s=i(66333),r=i(82393);const n=(0,s.Mz)([r.n$,e=>e.config.adviceMapProjects,e=>e.config.featureAdvice],((e,t,i)=>i&&!!e&&t.includes(e.code)))},33581:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});const s=e=>e.appContext.activeSublayer},71085:(e,t,i)=>{"use strict";i.d(t,{y:()=>n});var s=i(56803),r=i(80905);const n=e=>{var t,i,n,a;const o=e.appContext.frames[0];if("gallery"===(null==o?void 0:o.type)){const r=o.searchId;return null===(i=null===(t=(0,s.s8)({state:e,searchId:r}).data)||void 0===t?void 0:t.searchAttributes)||void 0===i?void 0:i.query_context}const c=(0,r.bB)(e.appContext.frames,"search");if(("query"!==(null==c?void 0:c.searchType)||"catalog"!==c.tab)&&"filials"!==(null==c?void 0:c.searchType))return;const d=(0,r.Xk)(c,"actual");return null===(a=null===(n=(0,s.s8)({state:e,searchId:d}).data)||void 0===n?void 0:n.searchAttributes)||void 0===a?void 0:a.query_context}},57744:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});const s={RU:["ru_RU"],KZ:["ru_KZ","kk_KZ"],AE:["en_AE","ar_AE"],IQ:["en_IQ","ar_IQ"],SA:["en_SA","ar_SA"],EG:["en_EG","ar_EG"],CY:["en_CY"],CZ:["cs_CZ"],IT:["it_IT"],CL:["es_CL"],KG:["ru_KG"],UZ:["ru_UZ","uz_UZ"],AZ:["az_AZ","ru_AZ"],BY:["ru_BY"],OM:["en_OM","ar_OM"],BH:["en_BH","ar_BH"],QA:["en_QA","ar_QA"],KW:["en_KW","ar_KW"],MA:["en_MA","ar_MA"],AM:["ru_AM","hy_AM"],GE:["ru_GE","ka_GE"]};const r=(0,i(66333).Mz)([e=>e.config,e=>e.appContext.lang,e=>e.appContext.defaultLocale],((e,t,i)=>function(e){const{lang:t,availableLocales:i,defaultLocale:s}=e,r=t.replace("-","_"),n=r.split("_")[0],a=s.split("_")[1];return i.find((e=>e===r))||i.find((e=>e.startsWith(`${n.toLowerCase()}_`)))||i.find((e=>e.endsWith(`_${a.toUpperCase()}`)))||s}({lang:t,availableLocales:s[e.defaultCountryCode]||[],defaultLocale:i})))},23020:(e,t,i)=>{"use strict";i.d(t,{n1:()=>z,Tr:()=>V,rL:()=>F,uI:()=>q,Pz:()=>P,hv:()=>A,jq:()=>T,Ae:()=>G,JV:()=>R,M_:()=>B,$J:()=>W,iK:()=>L,o5:()=>$,Fq:()=>Q,QS:()=>D,kD:()=>M,Cb:()=>E,Yk:()=>N,_2:()=>K});var s=i(80905),r=i(74182),n=i(6514),a=i(49804),o=i(66333);var c=i(29908),d=i(35023),l=i(18396),u=i(49206),p=i(33920),m=i(65454),g=i(19263),h=i(59954),f=i(88817),v=i(74961),b=i(56803),y=i(83500),x=i(82082),j=i(37383),w=i(80798),I=i(72384),C=i(31897),_=i(16916),k=i(12154);var O=i(25545);const S={top:56,left:0,right:0,bottom:0,bigTop:100,bigLeft:100,bigRight:100,bigBottom:100},T=e=>e.appContext.zoom,E=(0,o.Mz)([f.b,e=>e.appContext.lang],((e,t)=>{const{bigTop:i,bigLeft:s,bigRight:r,bigBottom:n}=S;return"ar"===t?{topLeft:[r,i],bottomRight:[e+s,n]}:{topLeft:[e+s,i],bottomRight:[r,n]}})),M=(0,o.Mz)([f.b,e=>e.appContext.lang,e=>e.appContext.isDataViewerMinimized,e=>e.config.isMobileDevice],((e,t,i,s)=>{const{top:r,left:n,right:a,bottom:o}=S,c=r,d=n,l=a,u=o;return s?"ar"===t?{topLeft:[l,c],bottomRight:[d,u+C.k.height]}:{topLeft:[d,c],bottomRight:[l,u+C.k.height]}:"ar"===t?{topLeft:[l,c],bottomRight:[i?C.k.width+d:e+d,u]}:{topLeft:[i?C.k.width+d:e+d,c],bottomRight:[l,u]}})),N=(0,o.Mz)([M,e=>e.session.screen],((e,t)=>(0,n.Y)(t,e))),L=(0,o.Mz)([e=>e.appContext.center,e=>e.appContext.zoom,e=>e.appContext.pitch,e=>e.appContext.rotation],((e,t,i,s)=>({center:e,zoom:t,pitch:i,rotation:s}))),P=(0,o.Mz)([e=>A(e)],(e=>{const[t,,i]=e;return[t,i]})),R=({ratio:e})=>(0,o.Mz)([e=>P(e)],(t=>(0,_.L)(t,e))),A=(0,o.Mz)([M,e=>e.session.screen,L],((e,t,i)=>{const{center:s}=i,r=(0,n.Y)(t,e);if(0===r.width||0===r.height)return[s,s,s,s];const o=(0,a.I4)(Object.assign({mapSize:r},i)),[,,c,d]=o.map((e=>({lon:e[0],lat:e[1]}))),l=function(e,t){return e.map((e=>{const i=t.lat+(t.lat-e.lat),s=Math.abs(i)>90?2*Math.sign(i)*90-i:i;return{lon:t.lon+(t.lon-e.lon),lat:s}}))}([c,d],s);return function(e){let t={minLon:-180,maxLat:90,maxLon:180,minLat:-90};return e.length>1&&(t=e.reduce(((e,t)=>{const{lon:i,lat:s}=t;return{minLon:Math.min(e.minLon,i),maxLat:Math.max(e.maxLat,s),maxLon:Math.max(e.maxLon,i),minLat:Math.min(e.minLat,s)}}),{minLon:180,maxLat:-90,maxLon:-180,minLat:90})),[{lon:t.minLon,lat:t.maxLat},{lon:t.minLon,lat:t.minLat},{lon:t.maxLon,lat:t.minLat},{lon:t.maxLon,lat:t.maxLat}]}([...l,c,d])}));function B(e){const t=(0,s.K$)(e.appContext.frames,["collection"]);if(t)return"collection"===t.type?(0,r.vt)(t.collectionId):void 0}const z=e=>{const t=F(e);if(!t)return;const i=(0,b.Iv)({searchId:t,state:e});return i&&i.data};function F(e){const t=(0,s.Su)(e.appContext.frames);if(t)return e.appContext.weak.markers.catalog[t.id]}const H=(0,o.Mz)([z],(e=>{if(200===(null==e?void 0:e.code)){if(e.items.reduce(((e,t)=>e+(t.cluster?t.cluster.count:1)),0)<20)return!0}return!1})),U=(0,o.Mz)([e=>{const t=(0,k.u)(e);if(t&&"query"===t.searchType&&"catalog"===t.tab)return(0,b.s8)({state:e,searchId:(0,s.Xk)(t)}).data}],(e=>{var t;const i=null===(t=null==e?void 0:e.searchAttributes)||void 0===t?void 0:t.dgis_search_type;return 1===i||3===i})),D=(0,o.Mz)([H,U,e=>(0,j.M)({state:e}),e=>e.config],((e,t,i,s)=>{const r=s.markersExperiment&&(0,I.l)(s.markersExperiment,s.experiments);if(r&&"controlGroup"!==r){const t=`experiment${(0,d.ND)(r)}${e?"Fewmarkers":""}`;if(i.styles[t])return t}return t?"recovery":e?"fewmarkers":"default"})),V=(0,o.Mz)([z,F],((e,t)=>{if(!e||200!==e.code||!t)return;const i={},s=e.items.map(((e,s)=>{const r=(0,x.O)(e),n={id:e.id,key:(0,d.ox)(e.id),lonLat:[e.lon,e.lat],type:e.is_advertising||r?"commercial":"bigbullet",buildingId:e.geometry_id,data:{source:"catalog",searchId:t,type:(0,y.y)(e.type),match_type:e.match_type,rubr:e.rubr,source_type:e.source_type,vital:e.vital,is_advertising:e.is_advertising,name:[e.name,e.name_back].filter(d.t2).join(" / "),name_ex:e.name_ex,schedule:e.schedule,schedule_special:e.schedule_special,context:e.context,reviews:e.reviews,ads:e.ads,cluster:e.cluster,timezone_offset:e.timezone_offset,temporary_unavailable_atm_services:e.temporary_unavailable_atm_services,flags:e.flags,is_deleted:e.is_deleted,logo_url:r,friends:e.friends,has_ads_model:e.has_ads_model}};return i[(0,d.ox)(e.id)]=s,n}));return{indexHashMap:i,markers:s}})),$=(0,o.Mz)([e=>e.appContext.weak.floors,V],c.k);function W(e){const t=e.appContext.frames.find(u.q);return t&&t.originalSearchId}function q(e){const t=W(e);if(t)return t;const i=e.appContext.frames.find(l.O)||e.appContext.frames.find(p.a)||e.appContext.frames.find(O.F)||e.appContext.frames.find(u.q);return i&&(0,s.Xk)(i)}const Z=e=>{var t,i;const s=null===(t=e.entity)||void 0===t?void 0:t.data,r=null===(i=e.place)||void 0===i?void 0:i.point;if(!s||!r)return;const n="branch"===s.type?s.name_ex.primary:"name"in s&&s.name||"";return{id:s.id,point:[r.lon,r.lat],name:n,classId:"home"===e.type?1:2,humanReadableClassId:"home"===e.type?"personal_poi_home":"personal_poi_work"}},Q=(0,o.Mz)([m.F,v.Pg,v.p0],((e,t,i)=>{const s=[];if(!e.data&&!t&&!i)return h.Ml;e.data.suggestLastObjects.slice(0,10).forEach((e=>{if(e.entity&&e.entity.id){const t=e.entity,i=t.geometry&&t.geometry.centroid?(0,g.iL)(t.geometry.centroid):t.point;i&&s.push({id:t.id,point:[i.lon,i.lat],name:"name_ex"in t&&t.name_ex?t.name_ex.primary:t.name,classId:t.class_id||0,humanReadableClassId:t.human_readable_class_id})}}));const r=t?Z(t):void 0;r&&s.push(r);const n=i?Z(i):void 0;return n&&s.push(n),0!==s.length?s:h.Ml})),G=({state:e})=>{const t=(0,w.q)({state:e});if(t&&("entity"===t.type||"pending"===t.type))return t.isCommercial?t.entityIcon:void 0},K=({state:e})=>{const t=(0,w.q)({state:e});return!(!t||"entity"!==t.type&&"pending"!==t.type)&&Boolean(t.isCommercial)}},11006:(e,t,i)=>{"use strict";i.d(t,{e:()=>c});var s=i(80905),r=i(96536),n=i(40133),a=i(56803);const o=(e,t=!0)=>{var i,s,r;if((e=>void 0!==e&&"branch"===e.type)(e))return t&&(null===(r=null===(s=null===(i=e.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.poi)||void 0===r?void 0:r.is_premium)?void 0:e.poi_category};function c(e,{checkPremium:t}={checkPremium:!0}){const i=(0,s.pS)(e.appContext.frames,e.appContext.graveyard),c=(0,s.bB)(e.appContext.frames,"search");return(()=>{var s,d,l;if(i){if(c){const{profile:t,searchId:i}=(0,r.Y)(e,c);if(1!==(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.searchType)&&9!==(null===(d=null==t?void 0:t.data)||void 0===d?void 0:d.searchType))return;if(9===t.data.searchType&&i){if(!(1===(null===(l=(0,a.mF)({searchId:i,page:1,state:e}))||void 0===l?void 0:l.data.length)))return}}return o((0,n.o)(e,i),t)}})()||(()=>{if(c)return o((0,n.L)(e,c),t)})()}},26684:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var s=i(62260),r=i(46287),n=i(80798);const a=(0,r.eJ)();function o({state:e}){const t=(0,n.q)({state:e});if(!t)return;const{entityId:i,searchId:r}=(0,s.w)(t,e);return i?a({state:e,entityId:i,searchId:r}):void 0}},80798:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});var s=i(66333),r=i(80905);const n=(0,s.Mz)([({state:e})=>e.appContext.frames],(e=>(0,r.K$)(e,["search","entity","pending","product","prices","realty","realtyCard"])))},18047:(e,t,i)=>{"use strict";i.d(t,{z:()=>m});var s=i(66333),r=i(80473),n=i(80798),a=i(26684),o=i(46516),c=i(95455),d=i(73865),l=i(23020),u=i(94447),p=i(84572);const m=(0,s.Mz)([function({state:e}){const t=(0,n.q)({state:e});return t&&"point"in t?t.point:void 0},a.a,function({state:e}){var t,i;const s=(0,n.q)({state:e});if(!s)return;switch(s.type){case"realtyCard":return(0,d.X)(e);case"realty":return"building"===(null===(t=s.entity)||void 0===t?void 0:t.type)?null===(i=s.entity)||void 0===i?void 0:i.id:void 0;case"product":return s.buildingId;default:return}},l.Ae,l._2,({state:e})=>(0,u.FO)(e)],((e,t,i,s,n,a)=>{var d;const l=null==t?void 0:t.data,u=(0,c.z)(l);return{entityId:(null==u?void 0:u.id)||(null==l?void 0:l.id),buildingId:l&&(0,o.O)(l)?null===(d=l.address)||void 0===d?void 0:d.building_id:i,pointFromFrame:e,pointFromEntity:l&&"point"in l?l.point:void 0,withAds:l&&"ads"in l&&(0,r.J)(l.ads),color:g({isGuideAccomodationRubric:a}),czarIcon:s,isCommercial:n}}));function g(e){const{isGuideAccomodationRubric:t}=e;if(t)return p.colors["Text, Icons/Brand"]}},40133:(e,t,i)=>{"use strict";i.d(t,{L:()=>a,o:()=>o});var s=i(46287),r=i(56803),n=i(96536);const a=(e,t)=>{var i,a,o;const{profile:c,searchId:d}=(0,n.Y)(e,t);if(1!==(null===(i=null==c?void 0:c.data)||void 0===i?void 0:i.searchType)&&9!==(null===(a=null==c?void 0:c.data)||void 0===a?void 0:a.searchType)||!d)return;const l=null===(o=(0,r.mF)({searchId:d,page:1,state:e}))||void 0===o?void 0:o.data;if(9===c.data.searchType&&1!==(null==l?void 0:l.length))return;const u=null==l?void 0:l[0];return u?(0,s.Tq)({state:e,entityId:u,searchId:d}).data:void 0},o=(e,t)=>(0,s.Tq)({state:e,entityId:t.entityId,searchId:t.searchId}).data},50595:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var s=i(83878),r=i(88817);const n=(0,s.Mz)((e=>e.appContext.center.lon),(e=>e.appContext.center.lat),((e,t)=>[e,t])),a=(0,s.Mz)((e=>e.session.screen.width-(0,r.b)(e)),(e=>e.session.screen.height),((e,t)=>[e,t])),o=(0,s.j8)({zoom:e=>e.appContext.zoom,center:n,pitch:e=>e.appContext.pitch,rotation:e=>e.appContext.rotation,mapSize:a})},84759:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(93328);const r=(0,i(66333).Mz)([({state:e})=>e.config,({state:e})=>e.appContext.activeLayer,({state:e})=>!!e.appContext.activeSublayer,({state:e})=>e.appContext.showSnow.allowSnowStyle,({state:e})=>(0,s.G)(e.appContext.frames)||e.appContext.graveyard[0]&&(0,s.G)(e.appContext.graveyard[0])],((e,t,i,s,r)=>{let n;return i?n=e.grayMapStyleId:"realty"===t&&e.realtyMapStyleId?n=e.realtyMapStyleId:"metro"===t?n="4bf19781-6fa2-4a43-8386-db596f51db8d":"roadAccident"===t?n="fd6c509e-855c-4b40-b8b6-b90945c95d55":"tourism"===t?n="ca89ab0b-ceb6-4900-ab22-ad4651736837":r?n="3ccada2a-f8fc-4d04-832c-ef297fee27b4":s?n="26015706-6204-4b41-bae9-c84dcd126160":e.isMobileDevice?n="9451a385-750a-4f28-ac7a-ddc7922db9b6":e.customMapStyleId&&(n=e.customMapStyleId),n}))},37383:(e,t,i)=>{"use strict";i.d(t,{M:()=>c});var s=i(66333),r=i(94787),n=i(84759);const a={styles:{},generalization:{}},o=new Map,c=(0,s.Mz)([n.t],(e=>function(e){if(o.has(e))return o.get(e);let t=(0,r.CR)(e);t&&0!==Object.keys(t.styles).length||(t=(0,r.CR)("default"));t&&o.set(e,t);return t}(!e||e.includes("//")?"default":e)||a))},96536:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var s=i(56803),r=i(80905);const n=(e,t)=>{if(("query"!==(null==t?void 0:t.searchType)||"catalog"!==t.tab)&&"filials"!==(null==t?void 0:t.searchType))return{};const i=(0,r.Xk)(t,"actual");return{profile:(0,s.s8)({state:e,searchId:i}),searchId:i}}},54434:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var s=i(82393);function r(e){if(!e.config.featureImmersiveMap)return!1;if(!e.session.is3dEnabled)return!1;const t=(0,s.n$)(e);return!!t&&e.config.immersiveMapProjects.includes(t.code)}},9420:(e,t,i)=>{"use strict";i.d(t,{$x:()=>m,CT:()=>l,PQ:()=>g,g3:()=>p});var s=i(45863),r=i(66333),n=i(46287),a=i(56190),o=i(80905),c=i(53930);const d=[],l=(0,r.Mz)([e=>e.appContext.popup],(e=>e&&"photoUploader"===e.type?{photos:e.photoTemporaryIds||d}:{photos:d})),u=[],p=(0,r.Mz)([e=>l(e).photos,e=>e.data.photo],((e,t)=>e===d?{photos:u}:{photos:e.map((e=>t[e]||a.d))})),m=e=>{var t;const{frameId:i,state:s}=e,r=(0,o.w1)(s.appContext.frames,i);if(!r||"entity"!==r.type&&"gallery"!==r.type)return;return"entity"===r.type?null===(t=r.tabPhoto)||void 0===t?void 0:t.photoAlbum:r.photoAlbum},g=({state:e,frameId:t,media:i,isVideo:r})=>{const a=(0,o.w1)(e.appContext.frames,t),d=a&&"entityId"in a&&a.entityId?(0,n.DE)({entityId:a.entityId,state:e}).data:void 0,l=(0,c.xz)(i)?{id:i.object.id_str,type:i.object.type}:void 0,u=m({state:e,frameId:t}),p=(0,c.xz)(i)&&"branch"===i.object.type?i.object.type:null==d?void 0:d.type;return{mediaPayload:(0,s.p)({media:i,tag:null==u?void 0:u.id,orgId:"branch"===(null==d?void 0:d.type)?d.org.id:void 0,entityId:(null==d?void 0:d.id)||(null==l?void 0:l.id),entityType:p,isVideo:r}),entity:d,selectedAlbum:u}}},82393:(e,t,i)=>{"use strict";i.d(t,{wl:()=>T,Pm:()=>v,W0:()=>y,n$:()=>j,MJ:()=>x,JC:()=>I,zN:()=>w,M9:()=>b,Qc:()=>S,$4:()=>O,Hv:()=>_,ER:()=>k});var s=i(52160),r=i(56190),n=i(5536),a=i(59954),o=i(63854);function c(e,t){return e.endsWith(".web-staging.2gis.ru")?function(e,t){const i=e.match(/([^.]+)\.?(.*)\.web-staging\.2gis\.ru/);if(!i)return;const s=i[1],r=i[2];if(!r&&"ru"===t)return;const n=d(r||"2gis.ru",t);if(!n)return;return`${s}.${n}.web-staging.2gis.ru`}(e,t):d(e,t)}function d(e,t){const i=e.match(/^(alpha\.|beta\.|canary\.)/),s=i?i[0]:"";if(function(e,t){const i={sa:"urbi-sa",iq:"urbi-iq",eg:"urbi-eg",om:"urbi-om",kw:"urbi-kw"}[e];return!!i&&!new RegExp(`${i}\\.(com|4geo\\.info)$`).test(t)}(t,e))return s+(0,o.e)(t,"urbi");if("bh"===t&&!/urbi-bh\.4geo\.info$/.test(e)&&!/urbi\.bh$/.test(e)||"qa"===t&&!/urbi-qa\.4geo\.info$/.test(e)&&!/urbi\.qa$/.test(e)||"ma"===t&&!/urbi-ma\.4geo\.info$/.test(e)&&!/urbi\.ma$/.test(e))return s+(0,o.e)(t,"urbi");if("ae"===t&&/urbi-ae\.4geo\.info$/.test(e))return;const r=(0,n.f)(e),c=a.Jr[t];if("ae"===c){const t=e.includes("urbi")&&!e.includes("urbi.ae")?"maps.urbi.ae":!e||e.includes("urbi.ae")||e.includes("2gis.ae")?void 0:"2gis.ae";return t?s+t:void 0}if(c&&r!==c&&e.includes("urbi")&&"com"!==c&&!a.jD.includes(c))return s+"2gis."+c;if(!r||!c||r===c)return;const d=e.lastIndexOf(r);return-1!==d?e.substr(0,d)+c:void 0}var l=i(32065),u=i(80905),p=(i(46287),i(43793)),m=i(38385),g=i(27783);var h=i(475);const f={admDiv:r.d,project:r.d},v=e=>{const t=_(e);if(!t||!t.data)return f;if("universe"===t.data.type)return f;return{admDiv:t,project:t.data.regionId&&(0,s.b7)({state:e,id:t.data.regionId})||r.d}},b=e=>{var t,i;return null===(i=null===(t=_(e))||void 0===t?void 0:t.data)||void 0===i?void 0:i.segmentId},y=(e,t,i)=>{const s=_(e);if(i&&s&&s.data&&s.data.allowChangeDomain&&h.qo.includes(s.data.countryCode))return c(t,s.data.countryCode)},x=e=>{const t=v(e).admDiv.data;return(0,m.t)(t)},j=e=>{var t;const i=x(e);if(void 0!==i)return null===(t=(0,s.b7)({state:e,id:i}))||void 0===t?void 0:t.data};function w(e){const t=j(e);return t&&t.id||"0"}function I(e){const t=j(e);return t&&t.code}const C={data:{name:"",type:"universe",id:"",countryCode:"ru",overlapRegionId:"0",allowChangeDomain:!0},meta:{code:200,status:"success"}},_=e=>(0,g.b)(e.appContext.zoom)?C:(0,s.Zh)({state:e,id:a.i$}),k=e=>{var t;const i=(0,s.Zh)({state:e,id:a.i$});return null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.id};function O({state:e,code:t}){const i=[];return(0,l.sm)(e.data.region.profile).forEach((e=>{(null==e?void 0:e.data)&&i.push(e.data)})),function(e,t){return t.find((t=>{var i;return t.uri_code===e||(null===(i=t.uri_aliases)||void 0===i?void 0:i.includes(e))}))}(t,i)}function S(e){var t;const i=k(e),s=i&&(null===(t=e.data.entity.profile[i])||void 0===t?void 0:t.data),r=s&&"adm_div"in s?s.adm_div:void 0,n=null==r?void 0:r.find((e=>"region"===e.type));return null==n?void 0:n.id}function T(e){const t=(0,u.bB)(e.appContext.frames,"entity")||(0,u.bB)(e.appContext.frames,"gallery");if(t)return t.entityId;const i=(0,u.bB)(e.appContext.frames,"search");if(i)switch(i.searchType){case"inside":return i.objectId;case"filials":case"brand":{const t=(0,p.X)(i);if(!t)return;const s=e.data.search.pagination[t];if(!s)return;const r=s[1];if(!r)return;return r.data[0]}default:return}}},12154:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});var s=i(80905);function r(e){const t=(0,s.Su)(e.appContext.frames);if(t)return t}},45469:(e,t,i)=>{"use strict";i.d(t,{Ad:()=>f,JS:()=>m,Jm:()=>v,KW:()=>y,WY:()=>l,gD:()=>h,gt:()=>p,oJ:()=>b,yN:()=>g});var s=i(83878),r=i(74182),n=i(12762),a=i(97980),o=i(56190),c=i(65454),d=i(74006);function l(e,t){return e.appContext.weak.suggests[t]}function u(e,t){const i=l(e,t);if(i&&i.suggestId)return(0,r.HX)(i.suggestId)}function p(e){const t=u(e,"products");if(t){const i=(0,a.gt)({state:e,searchId:t});return i&&i.data&&i.data.items}}function m(e){var t;const i=u(e,"products");if(i){const s=(0,a.gt)({state:e,searchId:i});return null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.bss}}function g(e){const t=l(e,"primary");if(t&&t.suggestId){const i=(0,n.J)({state:e,searchId:(0,r.At)(t.suggestId)});if(i&&i.data&&i.data.query)return!1}return!0}const h=(0,s.Mz)([e=>g(e),e=>v(e,"primary"),e=>(0,c.F)(e)],((e,t,i)=>e?function(e){if(e)return e.searches.slice(0,d.Dc)}(i&&i.data):t));function f(e,t){if("products"===t)return o.d;const i=u(e,t);return i?(0,n.J)({state:e,searchId:i}):o.d}function v(e,t){const{data:i}=f(e,t);return i&&i.items}function b(e,t){const{data:i}=f(e,t);return i&&i.searchAttributes}function y(e,t){switch(t){case"products":return p(e);case"primary":case"inside":return h(e);default:return v(e,t)}}},22665:(e,t,i)=>{"use strict";function s(e){return e.session.userId}i.d(t,{W:()=>s})},69248:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var s=i(99259);const r={innerBorderFilter:`inset 0 0 0 1px ${s.T.yellow_ffb81c}`,innerBorderNonContrastHovered:`inset 0 0 0 1px ${s.T.blue_82bceb}`,innerBorderWithoutColor:"inset 0 0 0 1px"}},51021:(e,t,i)=>{"use strict";i.d(t,{P:()=>r,n:()=>n});var s=i(12017);const r=e=>e?(0,s.NV)((t=>!t.isMobileDevice&&e)):(0,s.lQ)(),n=e=>e?(0,s.NV)((t=>t.isMobileDevice&&e)):(0,s.lQ)()},90882:(e,t,i)=>{"use strict";i.d(t,{L:()=>r});var s=i(12017);const r=(e,t)=>{return window.confirm(e||void 0)?t():(0,s.lQ)()}},9101:(e,t,i)=>{"use strict";i.d(t,{O:()=>u});var s=i(12017),r=i(15942),n=i(7335),a=i(82393),o=i(63041),c=i(69395),d=i(77620),l=i(6532);const u=e=>{const{actionType:t,value:i,entityId:u,ctaOwner:m}=e;switch(t){case"order":{if(!u)return(0,s.lQ)();const e=p(m);return(0,d.b)({entityId:u,source:e})}case"search_by_org":return(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:""}),(0,r.f8)({orgId:i}));case"search_buy_here":return(0,l.X)({adsIds:i});case"search_by_query":return(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:i}),(0,n.Cl)((e=>(0,r.q_)({query:i,viewpoint:e}))));case"search_by_rubric":return(0,s.K2)((0,c.Tl)({suggesterKey:"primary",query:""}),(0,s.Q2)((e=>(0,n.Cl)((t=>(0,r.q_)({viewpoint:t,rubricId:i,query:"",regionId:(0,a.zN)(e)}))))));case"open_card":return(0,o.UP)({id:i,type:"branch"});default:return(0,s.lQ)()}},p=e=>{switch(e){case"mapMarker":return"marker";case"placeCardFull":return"entityCard";case"placeCardMini":return"entityMinicard";case"adsBanner":return"banner"}return"entityCard"}},40374:(e,t,i)=>{"use strict";function s(e,t="ru_RU"){return`${e}_${t}`}i.d(t,{SD:()=>_,YY:()=>O,N7:()=>S,Uy:()=>C});var r=i(1321),n=i(82393),a=i(12017),o=i(74182),c=i(46287),d=i(57744),l=i(63041),u=i(88735),p=i(51143),m=i(91565),g=i(29787),h=i(78069),f=i(24872),v=i(62230),b=i(69395),y=i(64912),x=i(75433),j=i(95280),w=i(23020),I=i(35023);const C=(0,a.n5)("updateDashboardDataIfNeeded",(()=>(0,a.Q2)((e=>0===e.appContext.frames.length&&(0,a._7)(_(),k())))));const _=(0,a.n5)("fetchMetarubricsIfNeeded",(e=>(0,a.Q2)((t=>{const i=t.appContext.weak.dashboard.transitions.rubricsId,c=function(e,t){const i=(0,d.u)(e),r=(0,n.zN)(e),a=[(t?(0,I.W7)():(0,o.HX)(e.appContext.weak.dashboard.transitions.rubricsId)).split(":")[0],s(r,i)].join(":");return(0,o.fY)(e.appContext.weak.dashboard.transitions.rubricsId,a)}(t,e);return c===i?(0,a.lQ)():(0,a.K2)((0,r.cr)(c),(0,a.Q2)((e=>{const t=(0,o.At)(e.appContext.weak.dashboard.transitions.rubricsId),i=(0,x.l)({state:e,dashboardId:t});if((0,j.P)(i)&&t){const i=(0,d.u)(e),s=(0,n.zN)(e),r=(0,w.Pz)(e);return(0,y.f)({dashboardId:t,regionId:s,locale:i,viewpoint:r})}})),(0,a.Q2)((e=>{const t=e.appContext.weak.dashboard.transitions.rubricsId;if((0,o.At)(c)===(0,o.At)(t))return(0,r.cr)((0,o.ZS)(t))})))})))),k=(0,a.n5)("fetchDashboardEntityIfNeeded",(()=>(0,a.Q2)((e=>{const t=(0,n.Pm)(e).admDiv.data;if(!t)return(0,a.lQ)();const i=t.id;if(!i)return(0,a.lQ)();return(0,c.Tq)({state:e,entityId:i}).data?(0,a.lQ)():(0,l.x7)({id:i,searchId:void 0})})))),O=(0,a.n5)("openDashboardFromMinicard",(e=>(0,a.K2)(e.skipHistoryPush?(0,a.lQ)():(0,g.PC)(),(0,h.S2)(),(0,b.Tl)({suggesterKey:"primary",query:void 0}),(0,u.o6)({entityId:e.entityId},(t=>t.data?(0,a.lQ)():(0,l.x7)({id:e.entityId,searchId:void 0}))),(0,f.TE)({entityId:e.entityId}))));function S(e){return(0,a.gd)((0,a.NV)((t=>(0,a.Q2)((i=>{if(0!==i.appContext.frames.length)return;const s=(0,n.Pm)(i).admDiv.data;if(!s||!(0,v.o)(e,s)||"adm_div.city"!==s.type)return;const r=s.id;if(!r)return;const a=(0,c.Tq)({state:i,entityId:r}).data;if(!a)return;const o=(0,p.du)({entity:a,state:i});if(!o)return;return(0,n.W0)(i,window.location.hostname,t.isCountryRedirectsEnabled)?void 0:(0,m.kN)(o)})))))}},15714:(e,t,i)=>{"use strict";i.d(t,{V4:()=>m,HY:()=>p,BS:()=>g});var s=i(85608),r=i(78069),n=i(88735),a=i(73581),o=i(95455),c=i(35023);let d;const l=["offline","navigator"];function u(){return d=(0,c.EE)(l,d),d}i(47856),i(12017),i(80798),i(26684);function p(e){const{id:t,frameId:i,type:s,point:n,tab:a,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:m,activeDirectionId:g,entranceId:h,isOpenedFromMap:f,entityIcon:v,isCommercial:b}=e;return(0,r.fL)({id:i,type:"entity",entityType:s,entityId:t,tab:a,isShowEntrance:!0,point:n,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:m,activeDirectionId:g,entranceId:h,promoType:u(),isOpenedFromMap:f,entityIcon:v,isCommercial:b})}function m(e){return(0,n.o6)({entityId:e.entityId},(t=>(0,a.$e)(e.frameId,(e=>{const i=t&&t.data;if(!i)return e;const s=(0,o.z)(i);if(s&&e.entityId!==s.id)return Object.assign(Object.assign({},e),{entityId:s.id,entityType:s.type});const r=i.type;return e.entityType===r?e:Object.assign(Object.assign({},e),{entityType:r})}))))}function g(e){const{frameId:t}=e,i=(0,s.Tt)(e,["frameId"]);return(0,r.fL)(Object.assign(Object.assign({},i),{id:t,type:"pending",subtype:"entity",promoType:u()}))}},63041:(e,t,i)=>{"use strict";i.d(t,{x7:()=>I,lQ:()=>H,r_:()=>U,UP:()=>O,fV:()=>P,BJ:()=>z});var s=i(12017),r=i(35023),n=i(59954),a=i(29787),o=i(15714),c=i(24872),d=i(12027),l=i(88735),u=i(88703);function p({id:e,searchId:t}){return(0,l.o6)({entityId:e,searchId:t},(t=>{const i=t.data;return i&&"branch"===i.type&&(0,u.H)(i)?(0,d.c)({id:e}):(0,s.lQ)()}))}var m=i(66944),g=i(32462),h=i(85592),f=i(7335),v=i(35606),b=i(56803),y=i(23020),x=i(71085),j=i(74786),w=i(95280);const I=(0,s.n5)("fetchEntityProfileWithCurrentViewpoint",(e=>(0,l.o6)({entityId:e.id},(t=>e.ifMissingOnly&&!(0,w.P)(t)?(0,s.lQ)():(0,f.RC)({viewpoint:y.Pz,searchProfile:t=>(0,b.s8)({state:t,searchId:e.searchId}),searchQueryContext:e=>(0,x.y)(e)},(({viewpoint:t,searchProfile:i,searchQueryContext:s})=>{var r;const n=(0,j.MV)(s);return(0,v.it)({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,viewpoint:t,contextRubrics:null===(r=i.data)||void 0===r?void 0:r.contextRubrics,adsId:e.adsId,mapAdsId:e.mapAdsId,searchCtx:n})}))))));var C=i(95455);function _(e){return(0,s.aR)("fetchProfileCheckGroup")(I({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId,mapAdsId:e.mapAdsId,ifMissingOnly:e.ifMissingOnly}),(0,l.o6)({entityId:e.id},(t=>{var i,s;if(!t.data)return;const r=(0,C.z)(t.data),n="group"in t.data?null===(s=null===(i=t.data.group)||void 0===i?void 0:i.find((({type:e})=>"adm_div"===e)))||void 0===s?void 0:s.id:void 0,a=(null==r?void 0:r.id)||n;return a?I({id:a,searchId:e.searchId,clickPoint:e.clickPoint,adsId:e.adsId,mapAdsId:e.mapAdsId,ifMissingOnly:e.ifMissingOnly}):void 0})))}var k=i(25346);const O=(0,s.n5)("openEntityCard",(e=>{const t=(0,r.W7)(),i=(0,r.W7)(),d=(0,r.W7)(),l=(0,r.W7)(),u=(0,r.W7)(),f=(0,r.W7)(),v=(0,r.W7)(),b=e.searchId?e.searchId:n.j4,y=Object.assign(Object.assign({},e),{statusId:i,searchId:b,frameId:t,entityReviewsSearchId:d,orgReviewsSearchId:l,gtaId:u,unconfirmedEntityReviewsSearchId:f,unconfirmedOrgReviewsSearchId:v});const x=(0,k.lq)({objectId:y.id});return(0,s.K2)(e.skipHistoryPush?(0,s.lQ)():(0,a.PC)(),(0,o.HY)(y),_(y),x,e.shouldFitEntityInMapView?(0,c.TE)({entityId:e.id}):void 0,(0,o.V4)({frameId:t,entityId:y.id}),p({id:y.id,searchId:b}),(0,m.tt)(y),(0,s._7)((0,g.Jy)(y),(0,h.K)(y)))}));var S=i(40374),T=i(60776),E=i(46287),M=i(80905),N=i(47948),L=i(47856);const P=(0,s.n5)("openEntityCardFromMinicard",(e=>(0,f.RC)({entityProfile:t=>(0,E.Tq)({state:t,entityId:e.id,searchId:e.searchId}),searchFrame:e=>(0,M.Su)(e.appContext.frames),isMobile:e=>e.config.isMobileDevice},(({entityProfile:t,searchFrame:i,isMobile:s})=>{var r,n,a,o,c,d,l,u;const{id:p,searchId:m,type:g,skipHistoryPush:h}=e,f=t.data,v=s,b=(null===(a=null===(n=null===(r=null==f?void 0:f.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.marker_logo)||void 0===a?void 0:a.url)?(0,L.S)(null===(c=null===(o=null==f?void 0:f.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.marker_logo.url):void 0,y=Boolean(null===(l=null===(d=null==f?void 0:f.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.marker_logo);return f?function(e){return"adm_div"===e.type&&["city","settlement"].includes(e.subtype)&&!e.geocoded_by}(f)?(0,S.YY)({entityId:p,skipHistoryPush:h}):"point"===f.type?(0,T.v)({point:f.geocoded_by||f.point,shouldCenterMap:!0}):O({id:p,searchId:m,hash:f.hash,type:f.type,skipHistoryPush:h,entranceId:null===(u=f.context)||void 0===u?void 0:u.entrance_id,adsId:(0,N.D)(i),point:"geocoded_by"in f&&f.geocoded_by||"point"in f&&f.point||void 0,shouldFitEntityInMapView:v,entityIcon:b,isCommercial:y}):O({id:p,searchId:m,type:g,skipHistoryPush:h,hash:void 0,shouldFitEntityInMapView:v})}))));var R=i(42451),A=i(78069),B=i(31222);const z=(0,s.n5)("openEntityCardFromPending",(e=>{const{entityId:t,frameId:i,isOpenedFromMap:n,statusId:a,searchId:o,clickPoint:c,gtaId:d,skipFetchEntity:u,trackBssOnLoading:m}=e;return(0,s.K2)((0,f.kE)(i,(i=>!u&&i&&_({id:t,statusId:a,searchId:o,clickPoint:c,gtaId:(0,R.j)(i),adsId:e.adsId,mapAdsId:e.mapAdsId}))),(0,l.o6)({entityId:t,searchId:o},(a=>{if(!a.data)return;const c=a.data,u=(0,C.z)(c),v=u?u.id:t,b=u?u.type:c.type;return(0,f.kE)(i,(t=>t&&(0,s.K2)(m&&m(c),(0,l.o6)({entityId:v},(t=>(0,A.xd)(i,(i=>({id:i.id,searchId:e.searchId,statusId:e.statusId,point:i.point,gtaId:d,type:"entity",entityId:v,entityType:b,tab:(0,B.w)(t.data||c)[0],isShowEntrance:!0,victimsId:i.victimsId,entranceId:i.entranceId,isOpenedFromMap:n,entityIcon:i.entityIcon,isCommercial:i.isCommercial}))))),(0,s._7)((0,g.Jy)({id:v,type:b,searchId:o,frameId:i,entityReviewsSearchId:(0,r.W7)(),orgReviewsSearchId:(0,r.W7)(),unconfirmedOrgReviewsSearchId:(0,r.W7)(),unconfirmedEntityReviewsSearchId:(0,r.W7)()}),(0,h.K)({id:v,searchId:o}),p({id:v,searchId:o})))))})))}));var F=i(81866);const H=(0,s.n5)("fetchEntityProfileWithCurrentViewpointIfNeeded",(e=>(0,F.s)((t=>(0,E.DE)({state:t,entityId:e.id})),I(e)))),U=(0,s.n5)("fetchMultipleEntityProfileWithCurrentViewpoint",(e=>(0,f.Cl)((t=>{if(!e.ids)return(0,s.lQ)();if(!e.experimentalPagination||e.ids.length<=100)return(0,v.I7)({ids:e.ids,searchId:e.searchId,viewpoint:t,hash:e.hash});const i=[...e.ids],r=[];for(;i.length>0;)r.push(i.splice(0,100));return(0,s._7)(...r.map((i=>(0,v.I7)({ids:i,searchId:e.searchId,viewpoint:t,hash:e.hash}))))}))))},30392:(e,t,i)=>{"use strict";i.d(t,{G:()=>o});var s=i(12017),r=i(78069),n=i(73581),a=i(80905);const o=(0,s.n5)("setPhotoAlbum",(e=>(0,s.Q2)((t=>{const{frameId:i,selectedAlbum:o}=e,c=(0,a.w1)(t.appContext.frames,i);switch(null==c?void 0:c.type){case"entity":return(0,n.$e)(i,(e=>Object.assign(Object.assign({},e),{tabPhoto:{photoAlbum:o}})));case"gallery":return(0,r.oy)(i,(e=>Object.assign(Object.assign({},e),{photoAlbum:o})));default:return(0,s.lQ)()}}))))},66944:(e,t,i)=>{"use strict";i.d(t,{n3:()=>O,pd:()=>I,tt:()=>w,yC:()=>k});var s=i(12017),r=i(35023),n=i(95083),a=i(15942),o=i(37895),c=i(62154),d=i(73581),l=i(3726),u=i(46287),p=i(76125),m=i(80648),g=i(7335),h=i(57744),f=i(80905),v=i(97980),b=i(32462),y=i(62363),x=i(53790),j=i(17525);function w({id:e,tab:t,tabQuery:i,filterValues:r={},frameId:n,entityReviewsSearchId:a,orgReviewsSearchId:o}){return(0,s.NV)((({featureReadOnly:c})=>(0,s.Q2)((s=>{var d;const g=(0,u.DE)({state:s,entityId:e}),h=(0,f.w1)(s.appContext.frames,n),v=g&&g.data;if(!v)return;if(!h)return;if("entity"!==h.type)return;const b=(0,m.OM)({state:s,entityId:e,entityReviewsSearchId:a,orgReviewsSearchId:o,featureReadOnly:c}),y="realty"===t&&(0,x._)(v)?t:(0,l.c)(b,t||h.tab),w=null!==(d=(0,j.N)(v))&&void 0!==d?d:(0,p.$)(v);return y?I({entityId:e,frameId:n,tab:y,objectId:w,tabQuery:i,filterValues:r}):void 0}))))}const I=(0,s.n5)("setEntityTab",(e=>{const{frameId:t,entityId:i,objectId:o,tab:c,tabQuery:l="",filterValues:p={}}=e,m=!e.searchId;switch(c){case"inside":return o?m?(0,a.q4)({frameId:t,entityId:i,objectId:o,filterValues:p,query:l}):(0,d.$e)(t,(e=>e.tabInside?Object.assign(Object.assign({},e),{tab:c,tabInside:Object.assign(Object.assign({},e.tabInside),{tabQuery:e.tabInside.query})}):e)):(0,s.lQ)();case"prices":{const e=i;return(0,s._7)((0,d.$e)(t,(t=>Object.assign(Object.assign({},t),{tab:c,tabPrices:{searchId:e}}))),(0,g.RC)({categories:e=>(0,v.dD)({state:e,id:i})},(({categories:t})=>!t.meta&&(0,g.eU)(h.u,(t=>(0,n.c_)({branchId:i,offersSearchId:e,locale:t}))))))}case"realty":return(0,g.RC)({entity:e=>(0,u.DE)({state:e,entityId:i}).data},(({entity:e})=>{var r,n;const a="branch"===(null==e?void 0:e.type)&&(null===(n=null===(r=null==e?void 0:e.group)||void 0===r?void 0:r.find((e=>"building"===e.type)))||void 0===n?void 0:n.id)||i;return(0,s._7)((0,d.$e)(t,(e=>Object.assign(Object.assign({},e),{tab:c,tabRealty:Object.assign(Object.assign({},e.tabRealty),{geoId:a})}))),(0,g.eU)(y.D8,(e=>e&&(0,y.Ip)(e))))}));case"services":return o?m?C(t,o):(0,d.$e)(t,(e=>{const t=e.tabServices?Object.assign(Object.assign({},e.tabServices),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabServices:t})})):(0,s.lQ)();case"providers":return o?m?_(t,o):(0,d.$e)(t,(e=>{const t=e.tabProviders?Object.assign(Object.assign({},e.tabProviders),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabProviders:t})})):(0,s.lQ)();case"reviews":return(0,g.CG)(t,(e=>"entity"===e.type),(e=>{const n=!e.tabReviews;return(0,s._7)(n?(0,b.eI)({frameId:t,id:i,searchId:e.searchId,entityReviewsSearchId:(0,r.W7)(),orgReviewsSearchId:(0,r.W7)(),unconfirmedEntityReviewsSearchId:(0,r.W7)(),unconfirmedOrgReviewsSearchId:(0,r.W7)(),type:e.entityType}):(0,s.lQ)(),(0,d.$e)(t,(e=>Object.assign(Object.assign({},e),{tab:c}))))}));default:return(0,d.$e)(t,(e=>Object.assign(Object.assign({},e),{tab:c})))}})),C=(e,t)=>{const i=(0,r.W7)(),n=(0,r.W7)();return(0,s.K2)((0,d.$e)(e,(e=>Object.assign(Object.assign({},e),{tab:"services",tabServices:Object.assign(Object.assign({},e.tabServices),{searchId:i,gtaId:n,page:1})}))),O({buildingId:t,searchId:i,gtaId:n,page:1,withStandardPageSize:!0}))},_=(e,t)=>{const i=(0,r.W7)(),n=(0,r.W7)();return(0,s.K2)((0,d.$e)(e,(e=>Object.assign(Object.assign({},e),{tab:"providers",tabProviders:Object.assign(Object.assign({},e.tabProviders),{searchId:i,gtaId:n,page:1})}))),k({buildingId:t,searchId:i,gtaId:n,page:1,withStandardPageSize:!0}))},k=(0,s.n5)("fetchFirmsProvidersWithCurrentViewpoint",(e=>(0,g.Cl)((t=>(0,c.q)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t}))))),O=(0,s.n5)("fetchFirmsMaintainersWithCurrentViewpoint",(e=>(0,g.Cl)((t=>(0,o.p)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t})))))},32462:(e,t,i)=>{"use strict";i.d(t,{Jy:()=>w,Ui:()=>I,eI:()=>C});var s=i(12017),r=i(88735),n=i(35058),a=i(56688),o=i(73581),c=i(74182),d=i(46516),l=i(7335),u=i(61582),p=i(46287),m=i(1364),g=i(40268),h=i(81866),f=i(13179),v=i(66698),b=i(71085),y=i(74786),x=i(80648),j=i(88067);function w(e){const{id:t}=e;return(0,s.Q2)((i=>{const r=(0,b.y)(i),n=(0,y.MV)(r),a=(0,x.QW)(t)(i);return(0,s.NV)((({featureReadOnly:i,featureVideoInGallery:r})=>i?(0,s.lQ)():(0,s._7)(C(e),(0,s.gd)(r?j.YD.prefetchMediaAlbum({objectId:t,albumId:v.Qh,searchCtx:n,searchKeyword:a}):(0,f.$D)({id:t,albumId:v.Qh,searchCtx:n,searchKeyword:a})))))}))}function I(e,t,i,r,o,c){return(0,s.Q2)((l=>{var f,v;const b=(0,p.Tq)({state:l,entityId:e,searchId:i});if(!b||!b.data||!(0,a.E)(b.data))return;const y=b.data,x=r.isOrg?"org":(0,d.O)(y)?"branch":"geo",j="org"===x&&(0,d.O)(y)?y.org.id:y.id,w=!!(null===(v=null===(f=y.ads)||void 0===f?void 0:f.options)||void 0===v?void 0:v.review),I=!!r.onlyAnswered||void 0;return(0,s._7)((0,n.M)({type:x,id:j,searchId:t,isAdvertiser:w,withAnswer:I,ratings:r.ratings,facts:c}),"geo"!==x&&(0,h.s)((0,m.Ly)(j),(0,u.J)({id:j,isAdvertiser:w,type:x})),(0,g.sj)({entityId:e,frameId:o,orgId:r.isOrg?j:void 0}))}))}function C(e){const{id:t,searchId:i,frameId:u,entityReviewsSearchId:p,orgReviewsSearchId:m,unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f}=e;return(0,r.o6)({entityId:t,searchId:i},(e=>{var i,r,v;const b=e&&e.data;if(!b||!(0,a.E)(b))return;const y=(0,d.O)(b)&&!!(null===(i=b.reviews)||void 0===i?void 0:i.is_org_reviews)&&b.org.branch_count>1,x={entityReviewsSearchId:(0,c.vt)(p),orgReviewsSearchId:(0,c.vt)(m),unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f,isOrg:y,onlyAnswered:!1},j=(0,d.O)(b),w=(0,d.O)(b)?b.org.id:void 0,I=y&&w?"org":j?"branch":"geo",C=y?w:t,_=!!(null===(v=null===(r=b.ads)||void 0===r?void 0:r.options)||void 0===v?void 0:v.review),k="org"===I?m:p;return C?(0,s._7)((0,o.$e)(u,(e=>Object.assign(Object.assign({},e),{tabReviews:x}))),(0,s.K2)((0,n.M)({id:C,type:I,isAdvertiser:_,searchId:k}),(0,l.eU)((e=>{var t,i;return null===(i=null===(t=e.data.reviewSearch[k])||void 0===t?void 0:t.data)||void 0===i?void 0:i.total}),(e=>"branch"===I&&!e&&w?(0,n.M)({id:w,type:"org",isAdvertiser:_,searchId:m}):(0,s.lQ)()))),(0,g.DB)({entityId:t})):void 0}))}},85592:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var s=i(88735),r=i(12017),n=i(4080);function a({id:e,searchId:t}){return(0,s.o6)({entityId:e,searchId:t},(t=>{var i,s,a,o,c,d,l;const u=t.data;if(!u||"branch"!==u.type)return(0,r.lQ)();const p=null===(a=null===(s=null===(i=null==u?void 0:u.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.videos)||void 0===a?void 0:a[0],m=null===(d=null===(c=null===(o=null==u?void 0:u.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.fmcg)||void 0===d?void 0:d[0],g=(null===(l=null==m?void 0:m.videos)||void 0===l?void 0:l[0])||p;return g?(0,n.R)({id:e,videoUrl:g.resources_description_url}):(0,r.lQ)()}))}},43027:(e,t,i)=>{"use strict";i.d(t,{z:()=>f});var s=i(66698),r=i(12017),n=i(35023),a=i(25346),o=i(13179),c=i(10109),d=i(78069),l=i(74786),u=i(7335),p=i(71085),m=i(61120),g=i(80648),h=i(88067);function f(e){const{entityId:t,searchId:i,entityType:f,photoId:v,photoAlbum:b}=e,y=(0,n.W7)();return(0,r.NV)((({featureVideoInGallery:e})=>(0,u.RC)({queryCtx:p.y,searchKeyword:(0,g.QW)(t)},(({queryCtx:n,searchKeyword:u})=>{var p,g;const x=(0,a.lq)({objectId:t}),j=(0,l.MV)(n),w=m.S$?(0,r.lQ)():e?h.YD.prefetchMediaAlbum({objectId:t,albumId:null!==(p=null==b?void 0:b.id)&&void 0!==p?p:s.Qh,searchCtx:j,searchKeyword:u}):(0,o.$D)({id:t,albumId:null!==(g=null==b?void 0:b.id)&&void 0!==g?g:s.Qh,searchCtx:j,searchKeyword:u}),I=v&&!m.S$?e?h.YD.prefetchMediaById([v]):(0,c.y)({photoId:v}):(0,r.lQ)();return(0,r._7)(x,w,I,(0,d.fL)({id:y,type:"gallery",entityType:f,photoId:v,entityId:t,searchId:i,photoAlbum:b}))}))))}},73546:(e,t,i)=>{"use strict";i.d(t,{_:()=>h});var s=i(12017),r=i(7335),n=i(84082),a=i(96863),o=i(63041),c=i(29787),d=i(60776),l=i(15714),u=i(35023),p=i(24872),m=i(88735),g=i(95455);const h=(0,s.n5)("openFavoriteItem",(e=>{const{type:t,favoriteId:i,shouldCenterMap:h=!0,isOpenedFromMap:f}=e,v="private"===t?n.Wu:a.Zk;return(0,r.eU)(v(i),(e=>{if(!e)return(0,s.lQ)();const t=e.point||e.source_point;if(e.object_id&&e.object_type){const i=(0,u.W7)(),r=(0,u.W7)(),n=(0,u.W7)(),a=(0,u.W7)(),c=e.object_id;return(0,m.o6)({entityId:c},(d=>{var u,m;const v=(0,g.z)(d.data);return!d.data||v&&v.id!==c?(0,s.K2)((0,l.BS)({frameId:i,gtaId:r,point:t,searchId:n,statusId:a}),(0,o.BJ)({entityId:c,frameId:i,statusId:a,searchId:n,gtaId:r,isOpenedFromMap:f}),h&&(0,p.TE)({entityId:c})):(0,o.UP)({id:null!==(u=null==v?void 0:v.id)&&void 0!==u?u:c,type:null!==(m=null==v?void 0:v.type)&&void 0!==m?m:e.object_type,shouldFitEntityInMapView:h,point:t,isOpenedFromMap:f})}))}return t?(0,s.K2)((0,c.PC)(),(0,d.v)({point:t,shouldCenterMap:h})):(0,s.lQ)()}))}))},44288:(e,t,i)=>{"use strict";i.d(t,{N:()=>l});var s=i(12017),r=i(86185),n=i(95014),a=i(7335),o=i(82393),c=i(50951),d=i(35023);const l=(0,s.n5)("createCollection",(e=>{const{title:t,color:i,collectionId:l=(0,d.W7)(),skipSync:u,isDefault:p,order:m}=e;return(0,a.eU)(o.Pm,(e=>{const a=e.admDiv.data,o=e.project.data,d=a&&a.regionId||o&&o.id,g=a&&a.segmentId,h=(0,c.h)(d,g),f={id:l,type:"collection",color:i,collection_id:l,title:t,project_id:[h],is_default:p,order:m};return(0,s.K2)((0,r.y)({[l]:f}),u?(0,s.lQ)():(0,n.v)())}))}))},1804:(e,t,i)=>{"use strict";i.d(t,{z:()=>g});var s=i(88735),r=i(86185),n=i(35023),a=i(12017),o=i(7335),c=i(59954),d=i(50951),l=i(61165),u=i(74961),p=i(63041),m=i(34470);const g=(0,a.n5)("createItemInCollection",(e=>{const{collectionId:t,item:i}=e;return(0,a.K2)((0,p.lQ)({id:i.object_id,searchId:void 0}),(0,o.eU)((0,u.c_)(t),(e=>{if(e.find((e=>(0,l.K)(e,i))))return(0,a.lQ)();const o=(0,n.W7)();return"point"===i.object_type?(0,r.y)({[o]:h({itemId:o,collectionId:t,entity:{type:"point",point:i.point},point:i.point})}):(0,s.o6)({entityId:i.object_id},(e=>{const s=e.data;return s?(0,r.y)({[o]:h({itemId:o,collectionId:t,entity:s,point:i.point})}):(0,a.lQ)()}))})))}));function h(e){const{itemId:t,collectionId:i,entity:s,point:r}=e;return"point"===s.type?{id:t,collection_id:i,type:"favorite",project_id:[c.T_],point:r,source_point:r}:{id:t,collection_id:i,type:"favorite",object_id:s.id,object_type:s.type,project_id:[(0,d.h)(s.region_id,s.segment_id)],point:r,source_data:JSON.stringify((0,m.u)(s)),source_point:r,system_create_time:String(Date.now())}}},86185:(e,t,i)=>{"use strict";i.d(t,{y:()=>n});var s=i(7335),r=i(16392);function n(e){return(0,s.eU)((e=>e.data.favoritesPersonal.sync),(t=>(0,r.y)({sync:t,objects:e})))}},95014:(e,t,i)=>{"use strict";i.d(t,{v:()=>d});var s=i(3479),r=i(7335),n=i(12017),a=i(90059),o=i(5795),c=i(38113);function d(){return(0,r.eU)((e=>e.data.favoritesPersonal.sync),(e=>(0,c.R)((0,n.K2)((0,s.v)({sync:e}),(0,n.Q2)((e=>{const t=e.appContext.frames.find(a.Sv);return t?(0,o.m)(t.subtype,t.collectionId,t.visibleItemsLimit):(0,n.lQ)()}))))))}},27307:(e,t,i)=>{"use strict";i.d(t,{_:()=>l});var s=i(22670),r=i(7335),n=i(12017),a=i(32065),o=i(88735),c=i(95280),d=i(63041);function l(){return(0,r.eU)((e=>e.data.favoritesPlaces.sync),(e=>(0,n.K2)((0,s._)({sync:e}),(0,n.Q2)((e=>{const t=e.data.favoritesPlaces.objects,i=(0,a.sm)(t).map((e=>e&&e.object_id));if(0===i.length)return(0,n.lQ)();const s=i.map((e=>e?(0,o.o6)({entityId:e},(t=>(0,c.P)(t)?(0,d.x7)({id:e,searchId:void 0}):(0,n.lQ)())):(0,n.lQ)()));return s.length>0?(0,n._7)(...s):(0,n.lQ)()})))))}},49971:(e,t,i)=>{"use strict";i.d(t,{f:()=>o});var s=i(7335),r=i(82393),n=i(18797),a=i(12017);function o(){return(0,s.RC)({projectId:r.MJ,countryCode:e=>e.config.defaultCountryCode.toLowerCase(),sync:e=>e.data.favoritesPublic.sync},(({projectId:e,countryCode:t,sync:i})=>e?(0,n.Wm)({projectId:e,countryCode:t,sync:i}):(0,a.lQ)()))}},34470:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});var s=i(32065);function r(e){if("type"in e)return Object.assign(Object.assign({},(0,s.Up)(e,["access_comment","access","address_comment","address","adm_div","authors","barrier","building_name","capacity","comment","contact_groups","dates","description","floors","from_name","group","is_incentive","is_paid","level_count","name_ex","name","purpose_name","purpose","rubrics","subtype_specification","subtype","to_name","type"])),"org"in e?{org:{id:e.org.id}}:{})}},69405:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(12017),r=i(81866),n=i(35606),a=i(80648);const o=(0,s.n5)("fetchEntityProfileByIdIfNeeded",(e=>{const{id:t,searchId:i}=e;return t?(0,r.s)((0,a.EV)(t),(0,n.it)({id:t,searchId:i})):(0,s.lQ)()}))},81866:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});var s=i(12017),r=i(95280);const n=(0,s.n5)("fetchIfMissing",((e,t)=>(0,s.Q2)((i=>(0,r.P)(e(i))?t:(0,s.lQ)()))))},84876:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var s=i(95993);function r(){return(0,s.c)({type:"map:hint",event:void 0})}},29787:(e,t,i)=>{"use strict";i.d(t,{Aw:()=>g,FU:()=>h,PC:()=>m});var s=i(32643),r=i(19071),n=i(12017),a=i(68443),o=i(91565),c=i(31629),d=i(15401),l=i(69395),u=i(82393);function p(e){return{appContext:Object.assign(Object.assign({},e.appContext),{weak:void 0})}}const m=e=>{const t=(0,n.Q2)((e=>(0,s.dC)({url:(0,r.w)((0,a.I)(e)),state:p(e)})));return e?(0,n.K2)(t,e):t},g=e=>(0,n.Q2)((t=>(0,n.K2)((0,s.g5)({appContext:Object.assign(Object.assign({},e.appContext),{weak:t.appContext.weak})}),(0,l.Tl)({suggesterKey:"primary",query:void 0}),(0,l.Tl)({suggesterKey:"inside",query:void 0}),(0,n._7)((0,c.v)(),(0,o.M4)()))));function h(e,t){var i;const s=p(e);return"pending"===(null===(i=s.appContext.frames[0])||void 0===i?void 0:i.type)||t&&(0,d.b)(s.appContext,p(t).appContext)&&(0,u.ER)(e)===(0,u.ER)(t)&&t.appContext.weak.showSlugsNeededOnlyForStartup===e.appContext.weak.showSlugsNeededOnlyForStartup?{url:void 0,historyState:void 0}:{url:(0,r.w)((0,a.I)(e)),historyState:s}}},77847:(e,t,i)=>{"use strict";i.d(t,{SP:()=>y,po:()=>b,pJ:()=>x});var s=i(24872),r=i(12017),n=i(78069),a=i(7335),o=i(37163),c=i(48699),d=i(29787),l=i(69395),u=i(89571),p=i(38113),m=i(82393),g=i(35606),h=i(80905);const f=e=>{const t=e.appContext.frames;return!!(0,h.bB)(t,"friendsList")||!!(0,h.bB)(t,"userPublicProfile")};var v=i(20887);const b=(0,r.n5)("updateLayer",(e=>{const{newLayer:t,manual:i}=e;return(0,p.R)((0,a.eU)((e=>e.appContext.activeLayer),(e=>e===t?(0,r.lQ)():(0,r.NV)((s=>{if("realty"!==t||s.featureRealty)return(0,r.K2)(y({layer:e}),function(e){const{layer:t,manual:i}=e;switch(t){case"realty":return v.Pf.signals.open();case"exchange":return(0,u.E)();case"metro":case"photos":case"eta":case"parkings":case"tourism":return(0,r.K2)(x(t),(0,o.cK)(t),(0,d.PC)(),(0,r.gd)((0,c.in)()));case"friends":return(0,r.K2)(i?(0,n.P8)():(0,r.lQ)(),(0,o.cK)(t),(0,d.PC)(),(0,r.gd)((0,c.in)()));case"roadAccident":return(0,a.eU)(m.ER,(e=>e?(0,r.K2)((0,g.it)({id:e,searchId:void 0}),(0,o.cK)(t),(0,r.gd)((0,c.in)())):(0,r.K2)((0,o.cK)(t),(0,r.gd)((0,c.in)()))));default:return void 0}}({layer:t,manual:i}))})))))})),y=(0,r.n5)("switchOff",(e=>{const{layer:t}=e;if(!t)return(0,r.lQ)();switch(t){case"eta":case"metro":case"photos":case"parkings":case"roadAccident":case"tourism":return(0,o.xA)();case"exchange":case"realty":return(0,r.K2)((0,n.P8)(),(0,r._7)((0,l.Tl)({suggesterKey:"primary",query:void 0}),(0,l.Tl)({suggesterKey:"inside",query:void 0})));case"friends":return(0,r.K2)((0,o.xA)(),(0,a.eU)(f,(e=>e?(0,n.P8)():(0,r.lQ)())));default:return(0,r.lQ)()}}));const x=e=>"parkings"===e?(0,r.gd)("parkings"===e?(0,a.eU)((e=>e.appContext.zoom),(e=>e<15.5?(0,s.xZ)({zoom:15.5}):(0,r.lQ)())):(0,r.lQ)()):(0,r.lQ)()},9181:(e,t,i)=>{"use strict";i.d(t,{r:()=>d});var s=i(12017),r=i(23205),n=i(7878),a=i(40268),o=i(15417),c=i(88632);const d=(0,s.n5)("logout",(()=>(0,s.K2)((0,s._7)((0,r.g)(),(0,o.B)(),(0,c.d)(),(0,n.E)({}),(0,a.PH)()),(0,s.v6)((()=>{var e;"undefined"!=typeof window&&(null===(e=window.sdk)||void 0===e||e.logout({reload:!0}))})))))},24872:(e,t,i)=>{"use strict";i.d(t,{tJ:()=>M,TE:()=>k,WH:()=>S,t$:()=>C,CD:()=>E,$b:()=>O,xZ:()=>_});var s=i(8335),r=i(12017),n=i(91565),a=i(29787),o=i(88735),c=i(7335),d=i(23020),l=i(33616),u=i(1321),p=i(73516),m=i(9729),g=i(6514),h=i(80905),f=i(82393),v=i(40374),b=i(61700),y=i(63041);var x=i(52160),j=i(51143),w=i(49039),I=i(29203);function C(e){return(0,r.aR)("setMapViewManually")((0,a.PC)(),_(e))}function _(e){return(0,r.aR)("updateMapView")((0,s.m3)({center:e.lon&&e.lat?[e.lon,e.lat]:void 0,zoom:e.zoom,rotation:e.rotation,pitch:e.pitch,duration:e.duration,easing:e.easing,animate:e.animate}))}const k=(0,r.n5)("fitEntityInMapView",(e=>(0,r.K2)((0,y.lQ)({id:e.entityId,searchId:void 0}),(0,u.Ip)({dontUpdateResultsOnNextMapMove:!0}),(0,o.o6)({entityId:e.entityId},((t,i)=>{const s=t.data;if(s)return function(e){var t;return"adm_div"===e.type&&"city"===e.subtype&&(null===(t=e.flags)||void 0===t?void 0:t.is_default)}(s)?(0,r.K2)((0,n.cx)(i,s.region_id),(0,r.Q2)((e=>{const t=(0,x.b7)({state:e,id:s.region_id}),i=t&&t.data?t.data.default_pos:void 0;return i?_(i):(0,r.lQ)()}))):(0,c.RC)({viewpoint:d.Pz},(({viewpoint:t})=>{if(e.onlyIfOutOfViewpoint&&(({entity:e,viewpoint:t})=>{const i=(0,w.L)({entity:e});return!!i&&!i.find((([e,i])=>!(0,I.z)({point:{lon:e,lat:i},viewpoint:t,margin:0})))})({entity:s,viewpoint:t}))return(0,r.lQ)();const n=(0,j.du)({entity:s,state:i});return n?_(n):(0,r.lQ)()}))}))))),O=(0,r.n5)("updateAfterMapViewChange",(({center:e=[],rotation:t,pitch:i,zoom:a})=>(0,c.eU)(d.jq,(o=>(0,r.K2)(S(),(0,s.G0)({lon:e[0],lat:e[1],zoom:a,rotation:t,pitch:i}),(0,c.RC)({dontUpdateResultsOnNextMapMove:e=>e.appContext.weak.dontUpdateResultsOnNextMapMove,regionId:f.ER},(({dontUpdateResultsOnNextMapMove:e,regionId:t})=>e?(0,r.K2)((0,u.Ip)({dontUpdateResultsOnNextMapMove:!1}),(0,r.gd)((0,r.K2)((0,b.C)({update:!0}),E()))):(0,r._7)((0,l.e)({prevZoom:o,afterMapViewChange:!0}),(0,u.Ip)({realtyListRegionId:t})))),(0,c.eU)((e=>(0,f.Pm)(e).admDiv.data),(e=>(0,r.K2)((0,n.M4)(),(0,v.N7)(e)))),(0,s.y5)()))))),S=(0,r.n5)("onceMapInteractionStart",(()=>(0,r.gd)((0,r.Q2)((e=>e.appContext.weak.mapInteractionStarted?(0,r.lQ)():(0,u.bn)()))))),T=(0,r.n5)("setMapViewToMarkersOnFloor",(e=>(0,c.RC)({currentZoom:e=>e.appContext.zoom,rotation:e=>e.appContext.rotation,offset:d.kD,screen:e=>e.session.screen,searchFrame:e=>(0,h.Su)(e.appContext.frames)},(({currentZoom:t,rotation:i,offset:n,screen:a,searchFrame:o})=>{if(!o||"inside"!==o.searchType)return(0,r.lQ)();const c=(0,g.Y)(a,n),d=(0,m.getCenterZoomByPoints)(e.map((e=>e.point)),i,[c.width,c.height]);if(!d)return(0,r.lQ)();const{center:l,zoom:u}=d;return(0,s.m3)({center:l,zoom:u<t&&u>=17?u:t})})))),E=(0,r.n5)("switchFloorIfNoMarkersOnCurrent",(()=>(0,c.RC)({markersOnFloors:d.o5,currentFloor:e=>e.appContext.floors&&e.appContext.floors.currentFloor,isManuallySelected:e=>{var t;return null===(t=e.appContext.floors)||void 0===t?void 0:t.isManuallySelected}},(({markersOnFloors:e,currentFloor:t,isManuallySelected:i})=>{if(!e)return(0,r.lQ)();if(void 0!==t&&e[t]&&e[t].length>0)return T(e[t]);if(i)return(0,r.lQ)();const n=(0,p._)(e);return void 0!==n?(0,r.K2)((0,s.Jc)({floorIndex:n,isManuallySelected:!1}),T(e[n])):(0,r.lQ)()})))),M=(0,r.n5)("clearHoveredMarker",(()=>(0,c.RC)({hoveredId:e=>e.appContext.weak.hoveredId},(({hoveredId:e})=>e?(0,u.Ip)({hoveredId:void 0}):(0,r.lQ)()))))},84917:(e,t,i)=>{"use strict";i.d(t,{E:()=>l});var s=i(12017),r=i(6514),n=i(9729),a=i(8335),o=i(7335),c=i(23020),d=i(66698);const l=(0,s.n5)("centerMapByPoints",(e=>(0,o.RC)({rotation:e=>e.appContext.rotation,screen:e=>e.session.screen,offset:c.kD},(({rotation:t,screen:i,offset:s})=>{const o=(0,r.Y)(i,s),c=(0,n.getCenterZoomByPoints)([...e.map((e=>[e.lon,e.lat]))],t,[o.width,o.height]);if(!c)return;const{center:l,zoom:u}=c;return(0,a.m3)({center:l,zoom:u-d.qh})}))))},67301:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var s=i(12017),r=i(20091),n=i(51021),a=i(7335);const o=(0,s.n5)("minimizeDataViewerIfNotDashboard",(()=>(0,n.n)((0,a.eU)((e=>0===e.appContext.frames.length),(e=>!e&&(0,r.X_)({isMinimized:!0}))))))},528:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});var s=i(7335),r=i(90882),n=i(51557);const a=e=>(0,s.eU)((e=>{var t;return!(!(null===(t=e.appContext)||void 0===t?void 0:t.popup)||!("requireConfirmationOnClose"in e.appContext.popup))&&!!e.appContext.popup.requireConfirmationOnClose}),(t=>t?(0,n.QY)((t=>(0,r.L)(t.tp._t("Закрыть окно? Ваши изменения не сохранятся"),e))):e()))},41577:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(12017),r=i(35606),n=i(7335),a=i(63041),o=i(80905),c=i(35023);const d=(0,s.n5)("openEntityProfileCardNoType",(({id:e,shouldFitEntityInMapView:t})=>(0,n.eU)((e=>{var t;return null===(t=(0,o.bB)(e.appContext.frames,"userProfile"))||void 0===t?void 0:t.searchId}),(i=>(0,s.K2)((0,r.it)({id:e,searchId:i||(0,c.W7)()}),(0,n.eU)((t=>{var i,s;return null===(s=null===(i=t.data.entity.profile[e])||void 0===i?void 0:i.data)||void 0===s?void 0:s.type}),(i=>i?(0,a.UP)({id:e,type:i,shouldFitEntityInMapView:t}):(0,s.lQ)())))))))},93282:(e,t,i)=>{"use strict";i.d(t,{C:()=>g,g:()=>m});var s=i(12017),r=i(35023),n=i(27892),a=i(66698),o=i(7335),c=i(71085),d=i(74786),l=i(80648),u=i(91175),p=i(13179);const m=(0,s.n5)("openPublicProfileMediaComplaintPopup",((e,{objectId:t,objectType:i})=>(0,o.RC)({searchKeyword:(0,l.QW)(t),featureVideoInGallery:e=>e.config.featureVideoInGallery},(({featureVideoInGallery:s})=>(0,n.PB)({id:(0,r.W7)(),type:"complaint",subtype:s?"media":"photo",itemId:e,objectId:t,objectType:i}))))),g=(0,s.n5)("openMediaComplaintPopup",(e=>(0,o.RC)({frame:e=>e.appContext.frames[0],queryContext:e=>(0,c.y)(e)},(({frame:t,queryContext:i})=>{const c="gallery"===t.type||"entity"===t.type?t.entityId:void 0,m="gallery"===t.type?t.photoAlbum:void 0,g=(0,d.MV)(i);return c?(0,o.RC)({searchKeyword:(0,l.QW)(c),featureVideoInGallery:e=>e.config.featureVideoInGallery},(({searchKeyword:t,featureVideoInGallery:i})=>{var o,d;return i?(0,u.withMediaAlbum)({objectId:c,albumId:null!==(o=null==m?void 0:m.id)&&void 0!==o?o:a.Qh,searchCtx:g,searchKeyword:t},(t=>{const i=null==t?void 0:t.pages.flatMap((e=>e.items)).find((t=>t.id===e));return i?(0,n.PB)({id:(0,r.W7)(),type:"complaint",subtype:"media",itemId:e,objectId:c,objectType:i.real_object_type}):(0,s.lQ)()})):(0,p.gg)({id:c,albumId:null!==(d=null==m?void 0:m.id)&&void 0!==d?d:a.Qh,searchCtx:g,searchKeyword:t},(t=>{const i=null==t?void 0:t.pages.flatMap((e=>e.items)).find((t=>t.id===e));return i?(0,n.PB)({id:(0,r.W7)(),type:"complaint",subtype:"photo",itemId:e,objectId:c,objectType:i.real_object_type}):(0,s.lQ)()}))})):(0,s.lQ)()}))))},9482:(e,t,i)=>{"use strict";i.d(t,{C:()=>n});var s=i(12017),r=i(91818);const n=(0,s.n5)("openComplaintPopup",(e=>(0,r.oC)("openReviewComplaint",{reviewId:e})))},7522:(e,t,i)=>{"use strict";i.d(t,{E:()=>w});var s=i(12017),r=i(21959),n=i(7335),a=i(4340);const o="dg5_numberOfReviewsSent",c="dg5_previousShowTimeThanks",d="dg5_previousShowTimePhone",l=864e5,u="dg5_numberOfPhonePopupShows",p=(e,t)=>e%5==0&&(!t||Date.now()-t>=l),m=(e,t,i,s)=>{const r=(t||[]).reduce(((e,t)=>"checkin"!==t.type?e+t.count:e),0);if(e||t&&r<=10)return!1;const n=+a.IG.local.getItem(u)||0;return!(n>=3||i%3!=0||s&&Date.now()-s<l)&&(a.IG.local.setItem(u,n+1),!0)};var g=i(60832),h=i(35023),f=i(27892);var v=i(29094),b=i(536),y=i(34438),x=i(50432),j=i(51557);const w=(0,s.n5)("openEngagingPopup",(e=>{const{contentType:t,isPlacesTab:i}=e;return i?(0,s.lQ)():(0,s.NV)((({featurePhone:i})=>(0,n.RC)({hasConfirmedPhone:r.vY,activities:r.VO},(({hasConfirmedPhone:r,activities:n})=>{switch((e=>{const t=+a.IG.local.getItem(o)||0;a.IG.local.setItem(o,t+1);const i=+a.IG.local.getItem(c),s=+a.IG.local.getItem(d),r=p(t,i);return(null==e?void 0:e.featurePhone)&&m(null==e?void 0:e.hasConfirmedPhone,null==e?void 0:e.activities,t,s)?(a.IG.local.setItem(d,Date.now()),"phonePopup"):r?(a.IG.local.setItem(c,Date.now()),"thanksPopup"):void 0})({hasConfirmedPhone:r,featurePhone:i,activities:n})){case"phonePopup":return(0,g.W)();case"thanksPopup":switch(t){case"photo":return(0,f.PB)({id:(0,h.W7)(),type:"thanksForPhoto"});case"review":return(0,f.PB)({id:(0,h.W7)(),type:"thanksForReview"})}default:switch(t){case"photo":return(0,j.QY)((({tp:e})=>(0,v.D)((0,b.k)({title:e._t("Все файлы успешно загружены"),message:""}))));case"review":const t=(0,y.o)({review:e.review});return t?(0,j.QY)((({tp:i})=>(0,v.D)((0,b.k)({title:i._t("Готово"),message:i._t("Спасибо за отзыв!"),bssName:"addReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},t),{progressBar:e.progressBar})}})))):((0,x.vV)({message:"Не удалось сформировать payload.reviewItem для сообщения об успешном добавлении отзыва",level:"error",id:"fjhd90",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e.review)}}),(0,s.lQ)())}}}))))}))},67336:(e,t,i)=>{"use strict";i.d(t,{m:()=>l});var s=i(12017),r=i(62260),n=i(27892),a=i(46287),o=i(56688),c=i(35023),d=i(66944);const l=({source:e}={})=>(0,s.Q2)((t=>{const i=t.appContext.frames.find((e=>"entity"===e.type));if(!i||"entity"!==i.type)return(0,s.lQ)();const{entityId:l,searchId:u}=(0,r.w)(i,t);if(!l)return(0,s.lQ)();const p=(0,a.Tq)({entityId:l,state:t,searchId:u});return p&&p.data&&(0,o.E)(p.data)?(0,s._7)((0,d.pd)({frameId:i.id,entityId:l,tab:"reviews"}),(0,n.PB)({id:(0,c.W7)(),type:"createReview",entityId:l,searchId:i.searchId,sourceId:e})):(0,s.lQ)()}))},18691:(e,t,i)=>{"use strict";i.d(t,{Wy:()=>E,Jz:()=>T,GV:()=>k,fs:()=>O,wT:()=>S,j1:()=>L,UC:()=>N,K_:()=>M});var s=i(91818),r=i(12017),n=i(88735),a=i(29094),o=i(536);function c(e){switch(e){case"branch":case"geo":case"profile":return e;default:return"geo"}}var d=i(7335),l=i(21959),u=i(35350),p=i(80905),m=i(50978),g=i(13179),h=i(25346),f=i(51941),v=i(30392),b=i(46287),y=i(66698),x=i(78069),j=i(51557),w=i(71085),I=i(74786),C=i(61120),_=i(80648);function k(e){return(0,s.oC)("openPhotoUploaderPopup",e)}const O=(0,r.n5)("removePhoto",(e=>(0,d.RC)({userId:l.LE,oldPhoto:t=>(0,u.n)({state:t,id:e})},(({userId:t,oldPhoto:i})=>{if(!i.data||i.data.temporary)return(0,r.lQ)();const s=i.data.object;return s&&"profile"!==s.type?(0,r.K2)((0,m.t)({entityId:s.id,entityType:c(s.type),photoId:e,userId:t}),(0,n.pj)(e,(e=>e.data?(0,j.QY)((({tp:e})=>(0,a.D)((0,o.z)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):void 0))):(0,r.lQ)()})))),S=(0,r.n5)("removePhotoV3",(e=>{const{photo:t,entityId:i,albumId:s}=e;return(0,d.RC)({userId:l.LE,entity:e=>(0,b.DE)({state:e,entityId:i}).data,queryContext:e=>(0,w.y)(e),searchKeyword:(0,_.QW)(e.entityId)},(({userId:d,entity:l,queryContext:u,searchKeyword:p})=>{if(!l)return(0,r.lQ)();const h=(0,I.MV)(u);return(0,r.K2)(N({albumId:e.albumId,diffs:-1,entityId:e.entityId}),M({albumId:e.albumId,entityId:e.entityId,actionType:"remove"},[t]),e.albumId!==y.Qh&&M({albumId:y.Qh,entityId:e.entityId,actionType:"remove"},[t]),(0,m.t)({entityId:l.id,entityType:c(l.type),photoId:t.id,userId:d}),(0,n.pj)(t.id,(e=>e.data?(0,j.QY)((({tp:e})=>(0,a.D)((0,o.z)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):(0,r.lQ)())),(0,g.gg)({id:i,albumId:s,searchCtx:h,searchKeyword:p},(e=>{const i=null==e?void 0:e.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;return(null==i?void 0:i.some((e=>e.id===t.id)))?(0,j.QY)((({tp:e})=>(0,a.D)((0,o.z)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):(0,r.lQ)()})))}))}));function T(e){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,w.y)(e)},(({entityFrame:t,queryContext:i})=>{const s=(0,I.MV)(i),n=e.entityId||(null==t?void 0:t.id);return(0,d.RC)({searchKeyword:(0,_.QW)(n)},(({searchKeyword:t})=>n&&!C.S$?(0,g.PG)({id:n,albumId:e.albumId,searchCtx:s,searchKeyword:t}):(0,r.lQ)()))}))}function E(e){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity")},(({entityFrame:t})=>{const i=e||(null==t?void 0:t.id);return i?(0,h.db)({objectId:i}):(0,r.lQ)()}))}function M(e,t){return(0,d.RC)({entityFrame:e=>(0,p.bB)(e.appContext.frames,"entity"),queryContext:e=>(0,w.y)(e)},(({entityFrame:i,queryContext:s})=>{const n=e.entityId||(null==i?void 0:i.id),a=(0,I.MV)(s);return(0,d.RC)({searchKeyword:(0,_.QW)(n)},(({searchKeyword:i})=>n?(0,g.ds)({id:n,albumId:e.albumId,searchCtx:a,searchKeyword:i},(i=>"add"===e.actionType?(0,f._E)({oldData:i,albumId:e.albumId,photos:t}):(0,f.ES)({oldData:i,albumId:e.albumId,photos:t}))):(0,r.lQ)()))}))}function N(e){return(0,d.RC)({frame:e=>e.appContext.frames[0]},(({frame:t})=>{var i;if("entity"===t.type||"gallery"===t.type){const s=e.entityId||t.entityId,n="entity"===t.type?null===(i=null==t?void 0:t.tabPhoto)||void 0===i?void 0:i.photoAlbum:t.photoAlbum;return s?(0,r.K2)((0,h.c7)({objectId:s},(t=>(0,f.yN)({oldData:t,albumId:e.albumId,diffs:e.diffs}))),n&&(0,v.G)({frameId:t.id,selectedAlbum:Object.assign(Object.assign({},n),{count:n.count+e.diffs})})):(0,r.lQ)()}return(0,r.lQ)()}))}const L=(0,r.n5)("setCurrentPhotoId",(e=>{const{frameId:t,photoId:i}=e;return(0,x.oy)(t,(e=>{if("gallery"===e.type)return Object.assign(Object.assign({},e),{photoId:i})}))}))},33662:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var s=i(12017),r=i(29787),n=i(27892),a=i(35023);function o(e,t){return(0,s._7)((0,r.PC)(),(0,n.PB)({id:(0,a.W7)(),type:"feedback",subtype:e,rating:t}))}},52072:(e,t,i)=>{"use strict";i.d(t,{c:()=>m});var s=i(12017),r=i(7335),n=i(78069),a=i(29787),o=i(51021),c=i(88735),d=i(9763),l=i(92585),u=i(80905),p=i(20887);const m=(0,s.n5)("closeRealtyFrames",(()=>(0,r.RC)({frame:e=>e.appContext.frames[0],realtyFrame:e=>(0,u.bB)(e.appContext.frames,"realty")},(({frame:e,realtyFrame:t})=>t?p.jC.isFrameRealtyCard(e)?(0,s.K2)((0,n.wU)({id:e.id}),(0,o.P)(p.Pf.signals.withFrame((e=>(null==e?void 0:e.entity)&&"building"===e.entity.type?e.suggestId?(0,c.o6)({entityId:e.suggestId},(t=>!(null==t?void 0:t.data)||(0,d.H)(t.data)?p.Pf.signals.open():p.Pf.signals.open({entity:{id:t.data.id,type:t.data.type},suggestId:null==e?void 0:e.suggestId}))):p.Pf.signals.open():(0,s.lQ)())))):(0,l.n)(e)&&t.previousRealtyId?p.jC.signals.open({realtyId:t.previousRealtyId}):p.Pf.isFrameRealtySearch(e)?e.entity&&"building"===e.entity.type?p.Pf.signals.open():(0,a.PC)((0,n.P8)()):(0,a.PC)((0,n.wU)({id:e.id})):(0,o.n)(p.Pf.signals.open())))))},91565:(e,t,i)=>{"use strict";i.d(t,{M4:()=>N,cx:()=>T,kN:()=>L});var s=i(12017),r=i(25151);(0,s.n5)("setRegionDetector",((e,t)=>{const i=t?t.region_id:e.id;return(0,r.jx)({id:null==t?void 0:t.id,name:(null==t?void 0:t.name)||e.name,regionId:i,type:"adm_div.city",countryCode:e.country_code,overlapRegionId:i,allowChangeDomain:!0})}));var n=i(52160),a=i(49804),o=i(82393),c=i(6514),d=i(7044),l=i(40374),u=i(35314),p=i(7335),m=i(48914),g=i(57744),h=i(62230);const f=(0,s.n5)("trackAudienceCounter",(e=>(0,s.gd)((0,p.eU)(g.u,(t=>(0,m.Qh)({payload:{audienceCounter:{counterType:"launch",link:window.location.href,referrer:"2gis",segmentInfo:{segmentId:e,baseLocale:"0"===e?void 0:t}}}}))))));var v=i(68443),b=i(19071),y=i(11776),x=i(23020),j=i(35023),w=i(88166),I=i(49971),C=i(27783);var _=i(59954),k=i(48699),O=i(81181);function S(){return(0,s.Q2)((e=>{const t=(0,o.Pm)(e).admDiv;if((0,C.b)(e.appContext.zoom))return(0,r.Cg)();const i=e.appContext.center,n=(0,x.kD)(e),d=(0,c.Y)(e.session.screen,n);if(0===d.width||0===d.height)return(0,s.lQ)();const l=e.appContext.pitch,u=e.appContext.rotation,p={width:Math.round(d.width/2),height:Math.round(d.height/2)},m=Math.round(e.appContext.zoom),g=(0,a.$H)({center:i,zoom:m,mapSize:p,pitch:l,rotation:u});return(0,s.K2)((0,r.sS)({geometry:g,searchId:_.i$,zoomLevel:m}),(0,s.Q2)((e=>{const i=(0,o.Hv)(e),s=i&&i.data;if(s&&(!t.data||t.data.id!==s.id))return T(e,s.regionId)})))}))}function T(e,t){if(t&&!(0,n.b7)({id:t,state:e}))return(0,r.lr)({id:t})}const E=["mapview","layer","previousMapView","user","geolocation"],M=(0,s.n5)("countryDomainRedirectOnClient",(()=>(0,s.gd)((0,s.NV)((e=>(0,p.eU)((t=>(0,o.W0)(t,window.location.hostname,e.isCountryRedirectsEnabled)),(e=>e?(0,p.eU)((e=>(0,b.w)((0,v.I)(e).filter((e=>E.includes(e.type))))),(t=>(0,y.v)({url:`${e}${t}`,name:"_self"}))):O.$.cleanFriendInOtherDomainModel()))))))),N=(0,s.n5)("detectRegionWithPostEffects",(()=>(0,p.eU)((e=>(0,o.Pm)(e).admDiv.data),(e=>(0,s.K2)(S(),M(),(0,l.Uy)(),(0,u.hL)(),(0,u.zY)(),(0,p.eU)((e=>(0,o.Pm)(e).admDiv.data),(t=>function(e,t){return t?(0,h.o)(e,t,"overlapRegionId")?f(t.overlapRegionId):(0,s.lQ)():e&&"0"!==e.overlapRegionId?f("0"):(0,s.lQ)()}(e,t))),(0,w.J)(),(0,p.eU)((e=>(0,o.MJ)(e)),(t=>(!e||e.regionId!==t)&&(0,s._7)((0,I.f)(),t?(0,k.W5)({projectId:t}):(0,s.lQ)())))))))),L=(0,s.n5)("savePositionToCookie",(({lon:e,lat:t,zoom:i})=>(0,d.T)({name:"pos",value:[(0,j.jF)(e),(0,j.jF)(t),(0,j.jF)(i,2)].join(";")})))},91818:(e,t,i)=>{"use strict";i.d(t,{cZ:()=>de,BP:()=>oe,G7:()=>ce,oC:()=>ae});var s=i(12017),r=i(7335),n=i(21959),a=i(4340),o=i(50432),c=i(29787),d=i(77314),l=i(35023),u=i(27892),p=i(80905),m=i(84963),g=i(1364),h=i(36954),f=i(68494),v=i(48699),b=i(29094),y=i(536),x=i(40268);function j(e,t){return"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===t.error.name?e._t("Представители компании не могут писать отзывы о своей компании"):403===t.code?e._t("Кажется, вы уже писали мнение об этой компании. Вернитесь к списку отзывов, и мы найдем ваш отзыв для редактирования"):e._t("Не получилось отправить отзыв. Повторите попытку.")}var w=i(19297),I=i(34438),C=i(48304);var _=i(67336),k=i(89697),O=i(59939),S=i(48616),T=i(60832),E=i(7522),M=i(27812),N=i(80981),L=i(88654),P=i(51557),R=i(85757);const A=(0,s.n5)("sendCreateReview",(e=>{const{reviewData:t}=e;return(0,s._7)((0,u.R4)((e=>Object.assign(Object.assign({},e),{temporaryId:t.temporaryId}))),(0,s.K2)((0,f.b)(t),(0,s.Q2)((i=>{var r,n,a;if(e.skipNotify)return(0,s._7)((0,x.cb)(t.entityId),(0,R.nL)(e.entity.id));const o=(0,g.xW)({state:i,id:t.temporaryId});if("error"===(null===(r=o.meta)||void 0===r?void 0:r.status)){if("error"in o.meta&&(0,w.yE)(o.meta.error.data)){const e=null===(n=o.meta.error)||void 0===n?void 0:n.data;return(0,u.R4)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return function(e){const t=e.code;return(0,s.K2)((0,P.QY)((({tp:t})=>(0,b.D)((0,y.z)({title:t._t("Что-то пошло не так"),message:j(t,e),bssName:"addReviewError"})))),(0,u.R4)((e=>Object.assign(Object.assign({},e),{temporaryId:void 0}))),403===t&&(0,v.TE)(["UGC","CreateReviewError",t]))}(o.meta)}const c="profileTab"in i.appContext.frames[0]&&"places"===(null===(a=i.appContext.frames[0])||void 0===a?void 0:a.profileTab),{text:d="",rating:l,photos:p}=o.data;return(0,s._7)((0,u.fs)(),(0,x.cb)(t.entityId),(0,E.E)({contentType:"review",isPlacesTab:c,review:o.data,progressBar:(0,N.lS)({textScore:(0,L.Q)(d),hasRating:Boolean(l),hasPhotos:Boolean(null==p?void 0:p.length)})}),(0,M.J)({type:"review",entityId:e.entity.id}),(0,R.nL)(e.entity.id))}))))})),B=(0,s.n5)("sendEditReview",(e=>{const{reviewData:t}=e,{id:i,entityId:r}=t;return(0,s.K2)((0,h.B)(t),(0,s.Q2)((t=>{const n=(0,g.xW)({state:t,id:i});if(n.meta&&"success"!==n.meta.status){if("error"in n.meta&&(0,w.yE)(n.meta.error.data)){const e=n.meta.error.data;return(0,u.R4)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return(0,P.QY)((({tp:e})=>(0,b.D)((0,y.z)({title:e._t("Что-то пошло не так"),message:e._t("Не получилось отправить отзыв. Повторите попытку.")}))))}const a=n.data,c=(0,I.o)({review:a});if(!c)return void(0,o.vV)({message:"Не удалось сформировать payload.reviewItem для редактирования отзыва",level:"error",id:"jdbm89",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(a)}});const{text:d="",rating:l,photos:p}=a;return(0,s._7)((0,P.QY)((({tp:e})=>(0,b.D)((0,y.k)({title:e._t("Готово"),message:e._t("Ваш отзыв отредактирован"),bssName:"editReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},c),{progressBar:(0,N.lS)({textScore:(0,L.Q)(d),hasRating:Boolean(l),hasPhotos:Boolean(null==p?void 0:p.length)})})}})))),(0,u.fs)(),(0,x.cb)(r),(0,M.J)({type:"review",entityId:e.entity.id}),(0,R.nL)(e.entity.id))})))}));const z=(0,s.n5)("sendReviewSafely",((e,t)=>{const i=t?(({reviewId:e,entityId:t,searchId:i})=>(0,u.PB)({id:(0,l.W7)(),type:"editReview",reviewId:e,entityId:t,searchId:i}))({reviewId:e.reviewData.id,entityId:e.reviewData.entityId}):(0,_.m)(),a=t?B(e):A(e);return(0,s.NV)((({featurePersonalDataAgreement:t,featurePhoneLaw:s})=>(0,r.RC)({hasPhone:n.vY,status:e=>(0,k.y)(e,t)},(({hasPhone:t,status:r})=>{const n=s&&!t;return n||"idle"===r?(0,O.b)({after:t=>(n?!t:null===t)?((0,C.a)(Object.assign(Object.assign({},e.reviewData),{photos:e.photos})),i):a,openPopup:n?()=>(0,T.z)():()=>(0,S.D)(!1)}):a}))))}));var F=i(7758),H=i(52342),U=i(84082),D=i(83878),V=i(32065);const $=(0,D.Mz)(U.b1,(e=>{const t=(0,V.sm)(e).find((e=>!(!e||"collection"!==e.type||!e.is_default)));return t&&t.id}));var W=i(69969),q=i(1804),Z=i(95014),Q=i(44288),G=i(73766),K=i(68871),Y=i(32380),X=i(81988),J=i(55129),ee=i(25034),te=i(48914),ie=i(74961),se=i(44126);const re="dg5_after_action",ne=3e5;function ae(e,t,i="auto"){return"undefined"==typeof window?(0,s.lQ)():(0,r.RC)({isLoggedIn:n.x3,time:e=>e.session.time},(({isLoggedIn:r,time:n})=>{if(r){if(!e)return(0,s.lQ)();return(0,le[e])(t)}e&&a.IG.local.setItem(re,JSON.stringify({key:e,data:t,ts:n,runningAfterAuth:i}));const o=new URL(window.location.href);return o.pathname="/authorize"+o.pathname,(0,te.MG)({onFinishRequest:()=>{window.sdk.ui({type:"current",redirectUrl:o.toString()})}})}))}const oe=(0,s.n5)("cleanUpActionAfterLogout",(()=>(0,s.v6)((()=>{a.IG.local.removeItem(re)})))),ce=()=>{try{const e=a.IG.local.getItem(re);if(!e)return null;return JSON.parse(e)}catch(e){return null}},de=(0,s.n5)("actionAfterLogin",(()=>(0,r.eU)((e=>e.session.time),(e=>{const t=a.IG.local.getItem(re);if(!t)return(0,s.lQ)();a.IG.local.removeItem(re);try{const{key:i,data:r,ts:n}=JSON.parse(t),a=le[i];if(!a)return(0,s.lQ)();const c=e-n;return Number.isNaN(c)||c<0||c>ne?((0,o.vV)({id:"sfomn",message:"expired action",level:"warn",payload:{type:"debug",subtype:"AfterInitError",data:JSON.stringify({data:r,time:e})}}),(0,s.lQ)()):a(r)}catch(e){return(0,o.vV)({id:"sfomn",message:null==e?void 0:e.message,level:"error",payload:{type:"exception",subtype:"AfterInitError",data:t,stack:null==e?void 0:e.stack}}),(0,s.lQ)()}})))),le={saveGuideBookmark:e=>(0,r.eU)(ie.XR,(t=>{const i=t.filter((e=>{var t;return null===(t=e.title)||void 0===t?void 0:t.includes("(Гид) ")}));return(0,u.PB)({id:(0,l.W7)(),type:"guideBookmarks",collections:i,item:e.item})})),openFavorites:()=>(0,c.PC)((0,d.x)("favorites")),openSharingPopup:()=>(0,r.eU)((e=>(0,p.bB)(e.appContext.frames,"entity")),(e=>(0,m.T)({frameId:null==e?void 0:e.id}))),sendReviewSafely:e=>z(e.params,e.isEdit),openSendOrderPopup:e=>(0,F.t)(e),handleBookmarkClick:({item:e,isAdded:t,targetBoundingClientRect:i})=>(0,s.Q2)((r=>{if(t)return(0,s.K2)((0,c.PC)(),(0,H.D)(e));const n=(e=>{const t=e.appContext.weak.temporaryDefaultCollectionId;return t&&(0,U.b1)(e)[t]?t:$(e)})(r),a=n||(0,l.W7)(),o=(0,G.si)(a);return(0,s.K2)(!n&&(0,Q.N)({title:"",collectionId:a,isDefault:!0,skipSync:!0,color:o}),(0,q.z)({collectionId:a,item:e}),(0,W.G)({collectionId:a,item:e,targetBoundingClientRect:i}),(0,Z.v)())})),handleReviewLike:e=>(0,s.Q2)((t=>{var i;const r=null===(i=(0,g.xW)({state:t,id:e.reviewId}))||void 0===i?void 0:i.data;if(!(0,K.N)(r))return(0,s.lQ)();const n=!r.temporary&&!!r.user.public_id,a=r.additional_data.is_liked;return(0,s.K2)((0,Y.u)({id:r.id,value:!a}),n&&ee.e.updatePublicProfileFeedCacheAfterLike({isLiked:!!a,reviewId:r.id,publicUserId:r.user.public_id}))})),handleToggleEmoji:e=>(0,s.Q2)((t=>{var i;const r=null===(i=(0,g.xW)({state:t,id:e.reviewId}))||void 0===i?void 0:i.data;if(!(0,K.N)(r))return(0,s.lQ)();const n=!r.temporary&&!!r.user.public_id;return(0,s.K2)((0,se.z)({reviewId:r.id,emojiId:e.emojiId,value:!e.isSelected}),n&&ee.e.updatePublicProfileFeedCacheAfterChangeEmojis({reviewId:r.id,publicUserId:r.user.public_id,emojiId:e.emojiId,isLike:!e.isSelected}))})),handlePublicProfileToggleEmoji:({reviewId:e,emojiId:t,userId:i,isLike:s})=>ee.e.changeEmojis({reviewId:e,emojiId:t,isLike:s,publicUserId:i}),handlePublicProfileReviewLike:({reviewId:e,isLiked:t,userId:i})=>ee.e.changeReviewLike({reviewId:e,isLiked:t,publicUserId:i}),openPhotoUploaderPopup:e=>(0,s.NV)((({featurePersonalDataAgreement:t,featurePhoneLaw:i})=>(0,r.RC)({hasPhone:n.vY,status:e=>(0,k.y)(e,t)},(({hasPhone:t,status:r})=>{const n=i&&!t;return n||"idle"===r?(0,O.b)({after:t=>(n?!t:null===t)?(0,s.lQ)():(0,u.PB)({id:(0,l.W7)(),type:"photoUploader",entityId:e.entityId,searchId:(0,l.W7)()}),openPopup:n?()=>(0,T.z)():()=>(0,S.D)(!1)}):(0,u.PB)({id:(0,l.W7)(),type:"photoUploader",entityId:e.entityId,searchId:e.searchId,isMenuPhoto:e.isMenuPhoto})})))),openReviewComplaint:({reviewId:e})=>(0,u.PB)({id:(0,l.W7)(),type:"complaint",subtype:"review",itemId:e}),openUserProfile:({userId:e})=>(0,s.K2)(J.V.openFriendsList(X.M.openPublicProfile),X.M.openPublicProfile({userId:e})),subscribeToUser:()=>(0,s.lQ)()}},40268:(e,t,i)=>{"use strict";i.d(t,{BY:()=>L,oS:()=>B,cb:()=>N,sj:()=>z,DB:()=>A,PH:()=>H,IG:()=>R,n1:()=>P});var s=i(88735),r=i(37700),n=i(29094),a=i(536),o=i(90882),c=i(12017),d=i(35023),l=i(78069),u=i(11989),p=i(27892),m=i(63041),g=i(7335),h=i(80905),f=i(21959),v=i(36539),b=i(11484),y=i(95280),x=i(46287),j=i(56688),w=i(73581),I=i(74182),C=i(35058),_=i(46516);function k(e){return"unconfirmedReviews"===e.type}var O=i(81866),S=i(92585),T=i(51557),E=i(85757),M=i(41350);const N=(0,c.n5)("fetchPinnedUserReviewsByEntityId",(e=>(0,g.eU)(f.LE,(t=>t?(0,b.L)({userId:t,entityId:e}):(0,c.lQ)())))),L=(0,c.n5)("editReview",(e=>{const{reviewId:t,searchId:i}=e;return(0,s.bT)(t,(e=>{var s,r;const n=!(null===(s=e.data)||void 0===s?void 0:s.temporary)&&(null===(r=e.data)||void 0===r?void 0:r.object.id);return n?(0,c.K2)((0,m.lQ)({id:n,searchId:i}),(0,p.PB)({id:(0,d.W7)(),type:"editReview",entityId:n,searchId:i,reviewId:t})):(0,c.lQ)()}))})),P=(0,c.n5)("removeReview",(e=>(0,s.bT)(e,(t=>{const i=null==t?void 0:t.data;return i?(0,g.RC)({removableFrameId:e=>{var t;return null===(t=(0,h.bB)(e.appContext.frames,"currentReview"))||void 0===t?void 0:t.id},userId:e=>(0,f.LE)(e),frameEntity:e=>(0,h.bB)(e.appContext.frames,"entity"),frameRealtyCard:e=>(0,h.bB)(e.appContext.frames,"realtyCard")},(({removableFrameId:t,userId:u,frameEntity:p,frameRealtyCard:m})=>{const g=p?(0,v.z)(p,"reviews","actual"):null==m?void 0:m.reviewSearchId;return u?(0,T.QY)((({tp:p})=>(0,o.L)(p._t("Удалить отзыв? Это действие нельзя отменить."),(()=>{const o=(0,d.W7)(),m=i.temporary?void 0:i.object.id;return(0,c.K2)((0,r.lW)({id:e,userId:u,statusId:o,searchId:g,entityId:m}),(0,s.zC)(o,(e=>e&&"success"===e.meta.status?(0,c.K2)((0,n.D)((0,a.k)({title:p._t("Готово"),message:p._t("Отзыв удалён!")})),!!t&&(0,l.wU)({id:t}),!!m&&N(m),!!m&&(0,E.nL)(m)):(0,n.D)((0,a.z)({title:p._t("Что-то пошло не так"),message:p._t("Не удалось удалить отзыв, попробуйте позднее.")})))))})))):(0,c.lQ)()})):(0,c.lQ)()})))),R=(0,c.n5)("removeComment",(e=>{const{commentId:t,reviewId:i}=e;return(0,T.QY)((({tp:e})=>(0,o.L)(e._t("Удалить комментарий к отзыву? Это действие нельзя отменить."),(()=>{const r=(0,d.W7)();return(0,c.K2)((0,u.ir)({id:t,reviewId:i,statusId:r}),(0,s.zC)(r,(t=>t&&"success"===t.meta.status?(0,n.D)((0,a.k)({title:e._t("Готово"),message:e._t("Комментарий к отзыву удалён!")})):(0,n.D)((0,a.z)({title:e._t("Что-то пошло не так"),message:e._t("Не удалось удалить комментарий к отзыву, попробуйте позднее.")})))))}))))})),A=(0,c.n5)("fetchUserPinnedReviewsIfNeeded",(e=>(0,c.gd)((0,g.RC)({userId:f.LE,entity:t=>(0,x.DE)({state:t,entityId:e.entityId})},(({userId:t,entity:i})=>i.data&&(0,j.E)(i.data)&&t?(0,O.s)((0,f.kR)(e.entityId),(0,b.L)({entityId:e.entityId,userId:t})):(0,c.lQ)()))))),B=(0,c.n5)("ensureUnconfirmedReviews",(e=>(0,c.gd)((0,c.Q2)((t=>{const{entityId:i,searchId:s,frameId:r,orgId:n}=e,a=(0,h.bB)(t.appContext.frames,"entity"),o=s?t.data.reviewSearch[s]:void 0;return(0,y.P)(o)&&a&&"reviews"===a.tab&&"branch"===a.entityType&&z({entityId:i,frameId:r,orgId:n})}))))),z=(0,c.n5)("fetchUnconfirmedReviewsOnClient",(e=>{const{entityId:t,frameId:i,orgId:r}=e;return(0,c.Q2)((e=>{var n,a,o;const l=(0,h.w1)(e.appContext.frames,i);if(l&&(0,S.n)(l)){const u=(null===(n=l.tabReviews)||void 0===n?void 0:n.unconfirmedEntityReviewsSearchId)||(0,d.W7)(),p=(null===(a=l.tabReviews)||void 0===a?void 0:a.unconfirmedOrgReviewsSearchId)||(0,d.W7)(),m=r?p:u;return(m?null===(o=e.data.reviewSearch[m])||void 0===o?void 0:o.data:void 0)?(0,c.Q2)((e=>{const t=(0,h.bB)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,w.Q7)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:m})))})):(0,s.o6)({entityId:t},(e=>{const s=null==e?void 0:e.data;if(s&&(0,_.O)(s))return(0,c.K2)((0,w.$e)(i,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{unconfirmedEntityReviewsSearchId:u,unconfirmedOrgReviewsSearchId:p}):void 0}))),(0,c.Q2)((e=>{const t=(0,h.bB)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,w.Q7)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:m})))})),(0,C.M)({id:r||t,type:r?"org":"branch",searchId:m,unconfirmed:!0}))}))}return(0,c.lQ)()}))})),F=(0,c.n5)("refetchReviewsOnClientIfUserLoggedIn",(e=>(0,s.o6)({entityId:e.entityId,searchId:e.searchId},(t=>{var i,s;return t.data&&(0,j.E)(t.data)?(0,c.K2)((0,w.$e)(e.frameId,(t=>Object.assign(Object.assign({},t),{tabReviews:t.tabReviews?Object.assign(Object.assign({},t.tabReviews),{entityReviewsSearchId:(0,I.fY)(t.tabReviews.entityReviewsSearchId,e.searchId)}):void 0}))),(0,C.M)({id:t.data.id,type:"branch"!==t.data.type?"geo":"branch",isAdvertiser:!!(null===(s=null===(i=t.data.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.review),searchId:e.searchId}),(0,w.$e)(e.frameId,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{entityReviewsSearchId:(0,I.ZS)(e.tabReviews.entityReviewsSearchId)}):void 0})))):(0,c.lQ)()}))));function H(){return(0,g.RC)({entityFrame:e=>(0,h.bB)(e.appContext.frames,"entity"),realtyFrame:e=>(0,h.bB)(e.appContext.frames,"realtyCard")},(({entityFrame:e,realtyFrame:t})=>e?(0,c.K2)((0,c.uk)(1e3),(0,c._7)(F({entityId:e.entityId,frameId:e.id,searchId:e.searchId}),A({entityId:e.entityId}),B({entityId:e.entityId,frameId:e.id}))):t&&t.realtyId?(0,c.K2)((0,c.uk)(1e3),M.QU.query.withGetItem({id:t.realtyId,locale:"ru_RU"},(e=>{var i;const s=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.building.id;return s?(0,c._7)(F({entityId:s,frameId:t.id,searchId:t.reviewSearchId}),A({entityId:s}),B({entityId:s,frameId:t.id})):(0,c.lQ)()}))):(0,c.lQ)()))}},35314:(e,t,i)=>{"use strict";i.d(t,{IQ:()=>_,aP:()=>w,ak:()=>C,hL:()=>x,k8:()=>I,zY:()=>j});var s=i(1321),r=i(82393),n=i(12017),a=i(74182),o=i(57744),c=i(35080),d=i(99031),l=i(44902),u=i(25056),p=i(15942),m=i(7335),g=i(9101),h=i(78069),f=i(52160),v=i(25151),b=i(80905),y=i(23020);function x(){return I()}function j(){return(0,n.Q2)((e=>{const t=(0,b.bB)(e.appContext.frames,"rubric");return t&&"rubric"===t.type?w(t.parentId):(0,n.lQ)()}))}function w(e){return(0,n.Q2)((t=>{const i=(0,o.u)(t),r=(0,b.bB)(t.appContext.frames,"rubricator");if(!r||"rubricator"!==r.type)return(0,n.lQ)();const p=r.regionId,m=(0,c.r)(p,i,e);if((0,a.HX)(t.appContext.weak.rubric.transition)===m)return(0,n.lQ)();const g=(0,u.Qe)(e)(t),h=(0,u.wy)(m)(t),f=(0,a.fY)(t.appContext.weak.rubric.transition,m);if(g&&h&&"success"===h.meta.status&&h.data&&h.data.length)return(0,s.Vz)((0,a.ZS)(f));const v=(0,y.Pz)(t);return(0,n.K2)(g?(0,n.lQ)():(0,d.G)({regionId:p,locale:i,id:e}),(0,s.Vz)(f),(0,l.G)({key:m,regionId:p,viewpoint:v,locale:i,parentId:e}),(0,s.Vz)((0,a.ZS)(f)))}))}function I(){return(0,n.Q2)((e=>{const t=(0,o.u)(e),i=(0,r.MJ)(e),d=(0,b.bB)(e.appContext.frames,"rubricator");if(!i||!d||"rubricator"!==d.type)return(0,n.lQ)();const p=`${d.id}_${(0,c.r)(i,t)}`;if((0,a.HX)(e.appContext.weak.rubricator.transition)===p)return(0,n.lQ)();const m=(0,u.wy)(p)(e),g=(0,a.fY)(e.appContext.weak.rubricator.transition,p),x=(0,f.b7)({state:e,id:i});if(m&&"success"===m.meta.status&&m.data&&m.data.length)return(0,n.K2)((0,s.zu)((0,a.ZS)(g)),(0,h.oy)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:i}))),x?(0,n.lQ)():(0,v.lr)({id:i}));const j=(0,y.Pz)(e);return(0,n.K2)((0,s.zu)(g),(0,h.oy)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:i}))),(0,l.G)({key:p,regionId:i,viewpoint:j,locale:t}),x?(0,n.lQ)():(0,v.lr)({id:i}),(0,s.zu)((0,a.ZS)(g)))}))}const C=(0,n.n5)("onPseudorubricClick",(e=>(0,g.O)({actionType:e.item.action.type,value:e.item.action.value,caption:e.item.caption}))),_=(0,n.n5)("onRubricClick",(e=>(0,m.Cl)((t=>(0,p.q_)({viewpoint:t,query:e.item.caption,rubricId:e.item.id})))))},54713:(e,t,i)=>{"use strict";i.d(t,{Wx:()=>v,g4:()=>h,n3:()=>f});var s=i(35023),r=i(12017),n=i(78069),a=i(29787),o=i(74182),c=i(7335),d=i(23020),l=i(61700),u=i(18835),p=i(25545),m=i(73581),g=i(48449);const h=(0,r.n5)("openBrand",(e=>{const t=(0,s.W7)(),i=(0,s.W7)(),d=(0,s.W7)(),p=(0,s.W7)(),{brandId:m,regionId:h,filterValues:f}=e,v=(0,s.O9)(f);return(0,c.Cl)((e=>(0,r.K2)((0,a.PC)(),(0,n.fL)({id:d,type:"search",searchType:"brand",gtaId:p,searchId:(0,o.vt)(t),parentSearchId:t,page:(0,o.vt)(1),brandId:m,filtersId:i,filterValues:f,query:"",filterPanelState:"auto"}),(0,r._7)((0,g.C)({brandId:m,searchId:t,filtersId:i,regionId:h,filters:f,withFilters:!v,page:1,viewpoint:e,gtaId:p}),v&&(0,g.Z)({brandId:m,filtersId:i,viewpoint:e}),(0,r.gd)((0,l.C)())),(0,u.e)({searchId:t,inviewport:e}))))}));function f(e){const{brandId:t,filtersId:i,frameId:s,page:n,searchId:a,filterValues:d}=e;return(0,r.K2)((0,m.Pk)(s,(e=>Object.assign(Object.assign({},e),{page:(0,o.fY)(e.page,n)}))),(0,c.Cl)((e=>(0,g.C)({brandId:t,filters:d,withFilters:!1,searchId:a,filtersId:i,page:n,viewpoint:e}))),(0,c.CG)(s,p.F,(e=>(0,o.At)(e.page)===n&&(0,m.Pk)(s,(t=>Object.assign(Object.assign({},t),{page:(0,o.ZS)(e.page)}))))))}function v(e){const{frameId:t,brandId:i,filtersId:n,filterValues:u,isViewportChanged:h}=e,f=(0,s.W7)(),v=(0,s.W7)();return(0,r.K2)((0,a.PC)(),(0,m.Pk)(t,(e=>Object.assign(Object.assign({},e),{searchId:(0,o.fY)(e.searchId,f),page:(0,o.fY)(e.page,1),statusId:v,filtersId:n,filterValues:u}))),(0,c.eU)(d.Pz,(e=>(0,r._7)((0,g.C)({brandId:i,filters:u,withFilters:!1,searchId:f,filtersId:n,page:1,viewpoint:e,isViewportChanged:h}),(0,l.C)({update:!0,isViewportChanged:h})))),(0,c.CG)(t,p.F,(e=>(0,o.At)(e.searchId)===f&&(0,m.Pk)(t,(t=>Object.assign(Object.assign({},t),{searchId:(0,o.ZS)(e.searchId),page:(0,o.ZS)(e.page)}))))))}},44138:(e,t,i)=>{"use strict";i.d(t,{V:()=>p,b:()=>m});var s=i(12017),r=i(29787),n=i(73581),a=i(74182),o=i(13204),c=i(7335),d=i(76666),l=i(35023),u=i(61700);const p=(0,s.n5)("searchBuyHereMoreResult",(({frameId:e,page:t,adsIds:i,searchId:u,filters:p,filtersId:m})=>(0,s.K2)((0,s._7)((0,r.PC)((0,n.WB)(e,(e=>Object.assign(Object.assign({},e),{page:(0,a.fY)(e.page,t)})))),(0,c.eU)((e=>e.session.geolocation.position),(e=>(0,c.Cl)((s=>(0,o.Wj)({query:"",searchId:u,page:t,viewpoint:s,adsIds:i,filters:p,filtersId:m,sortPoint:e})))))),(0,c.CG)(e,d.A,(s=>(0,a.At)(s.page)===t&&(0,n.WB)(e,(e=>Object.assign(Object.assign({},e),{adsIds:i,page:(0,a.ZS)(e.page),scrollIdHash:(0,l.W7)()}))))))));function m(e){const{frame:t,filterValues:i,isViewportChanged:d}=e,p=(0,l.W7)();return(0,s.K2)((0,r.PC)((0,n.WB)(t.id,(e=>Object.assign(Object.assign({},e),{filterValues:i,searchId:(0,a.fY)(e.searchId,p),page:(0,a.vt)(1)})))),(0,c.eU)((e=>e.session.geolocation.position),(e=>(0,c.Cl)((s=>(0,o.Wj)({query:"",searchId:p,page:1,viewpoint:s,adsIds:t.adsIds,filters:i,filtersId:(0,l.W7)(),sortPoint:e}))))),(0,n.WB)(t.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,a.ZS)(e.searchId)}))),(0,u.C)({update:!0,isViewportChanged:d}))}},18835:(e,t,i)=>{"use strict";i.d(t,{e:()=>u});var s=i(12017),r=i(56803),n=i(66698),a=i(23020),o=i(24872),c=i(9729),d=i(6514);var l=i(1321);const u=(0,s.n5)("flights",(e=>(0,s.Q2)((t=>{const i=(0,r.s8)({state:t,searchId:e.searchId}).data,u=p(i&&i.searchAttributes,e.inviewport,t.appContext.weak.isMapViewRepresentedInOriginalRequest,"undefined"==typeof window);if(!u)return(0,s.lQ)();const m=t.session.screen,g=(0,a.kD)(t);return(0,s.K2)((0,l.Ip)({dontUpdateResultsOnNextMapMove:!0}),(0,o.xZ)(function(e,t){const i=e.map((e=>[e.longitude,e.latitude])),{screenSize:s,maxZoom:r,rotation:n=0,offset:a}=t,o=(0,d.Y)(s,a),l=(0,c.getCenterZoomByPoints)(i,n,[o.width,o.height]);return l?{lon:l.center[0],lat:l.center[1],zoom:Math.min(l.zoom,r)}:{}}(u,{screenSize:m,offset:g,maxZoom:n.nD,rotation:t.appContext.rotation})))}))));function p(e,t,i,s){const r=e&&e.out_viewport;if(r&&!(i&&s||m(r,t)))return r}function m(e,t){return t.every((t=>!!e.find((e=>t.lat===e.latitude&&t.lon===e.longitude))))}},15942:(e,t,i)=>{"use strict";i.d(t,{xT:()=>F,sr:()=>z,du:()=>P.du,pA:()=>P.pA,q4:()=>P.q4,f8:()=>B,rz:()=>P.rz,q_:()=>E,kY:()=>N,wz:()=>M,OB:()=>P.OB,sI:()=>L});var s=i(12017),r=i(29787),n=i(13204),a=i(63041),o=i(23020),c=i(56803),d=i(78069),l=i(35023),u=i(80905),p=i(7335),m=i(24872),g=i(74182),h=i(73581),f=i(61700),v=i(18835),b=i(35363),y=i(18396),x=i(69395),j=i(33616),w=i(14414),I=i(66318),C=i(72384),_=i(54621);const k=(0,s.n5)("autoOpenCardFromSearchIfNeeded",(e=>{const{searchId:t}=e;return(0,s.Q2)((e=>{var i,r,n,o;const d=(0,c.s8)({state:e,searchId:t});if(null===(r=null===(i=d.data)||void 0===i?void 0:i.searchAttributes)||void 0===r?void 0:r.is_partial)return(0,s.lQ)();if(null===(o=null===(n=d.data)||void 0===n?void 0:n.searchAttributes)||void 0===o?void 0:o.is_auto_open_best_result){const i=(0,c.Fs)({state:e,searchId:t}),r=i&&i[1],n=r&&r.data&&r.data[0];if(!n)return(0,s.lQ)();const o=(0,w.E)(n,t)(e);if(!o)return(0,s.lQ)();const d=(0,C.l)(_.By,e.config.experiments)===_.Yc;return(0,s.K2)((0,a.fV)({id:n,searchId:t,skipHistoryPush:!0,type:o.type}),d?I.O.N.trackShowSearchResultsMarkers([]):(0,s.lQ)())}return(0,s.lQ)()}))}));var O=i(34764),S=i(32065),T=i(34791);const E=(0,s.n5)("searchByQuery",(e=>{const{query:t,rubricId:i,attributeId:o,catalogFilterValues:u={},page:h=1,buildingId:y,shouldNotAutoOpenCard:j=!1,viewpoint:w,regionId:I,isBuyHereRubric:C,cityId:_,isNonFixableQuery:E,parentSearchId:M,seoFakeEntityId:N,bestKeyword:L}=e,P=(0,l.W7)(),R=M||(0,l.W7)(),A=(0,l.W7)(),B=(0,l.W7)(),z=(0,l.W7)(),F=h,H=!(0,l.Im)(u);return(0,s.K2)((0,r.PC)(),(0,d.fL)({id:B,type:"search",filterPanelState:"auto",searchType:"query",query:t,statusId:z,tab:"catalog",tabCatalog:{rubricId:i,attributeId:o,searchId:(0,g.vt)(R),viewpoint:w,gtaId:(0,g.vt)(P),page:(0,g.vt)(F),filtersId:(0,g.vt)(A),filterValues:u,isBuyHereRubric:C},seoFakeEntityId:N}),(0,s.K2)((0,s.NV)((e=>(0,p.eU)((e=>e.session.geolocation.position),(r=>(0,s._7)((0,x.Tl)({suggesterKey:"primary",query:t}),(0,s.K2)((0,s._7)(y?(0,a.x7)({id:y,searchId:void 0}):void 0,i?(0,n.vO)(Object.assign({regionId:I,query:t,filters:u,filtersId:A,withFilters:!H,rubrId:i,viewpoint:w,searchId:R,page:h,gtaId:P,sortPoint:r,cityId:_},e.featureContextSearch?{bestKeyword:L}:{})):o?(0,n.o)({query:t,filters:u,filtersId:A,withFilters:!H,attrId:o,viewpoint:w,searchId:R,page:h,gtaId:P,sortPoint:r}):(0,n.Wj)({withFilters:!H,query:t,filters:u,searchId:R,filtersId:A,searchType:"catalog",page:F,viewpoint:w,statusId:z,gtaId:P,sortPoint:r,cityId:_,isNonFixableQuery:E})),(()=>{if(!i&&!o)return function(e){const{query:t,searchId:i}=e;return(0,s.Q2)((e=>{const s=(0,c.s8)({state:e,searchId:i});if(s.meta&&"success"===s.meta.status)return(0,b.V)(t)}))}({query:t,searchId:R})})()),H&&(0,n.cQ)({query:t,rubrId:i,filtersId:A,viewpoint:w,sortPoint:r,filters:(0,T.q)({searchType:"query",query:t,config:e,checkAwards2GisTags:!1,awards2GisTags:[]})?(0,S.Up)(u,[...Object.values(O.nr)]):void 0})))))),(0,p.eU)((e=>function(e,t){const i=(0,c.s8)({state:e,searchId:t}),s=i.data&&i.data.total||0;return!(i.data&&i.data.searchAttributes&&i.data.searchAttributes.is_partial||!s)}(e,R)),(e=>e?(0,s.gd)((0,s.K2)((0,f.q)(),(0,m.CD)())):(0,s.lQ)()))),(0,s.NV)((({isMobileDevice:e})=>function({searchId:e,shouldCallFlights:t,shouldNotAutoOpenCard:i,inviewport:r}){return(0,s.K2)(t&&(0,v.e)({searchId:e,inviewport:r}),!i&&k({searchId:e}),(0,s.gd)((0,f.q)()))}({searchId:R,shouldCallFlights:!0,shouldNotAutoOpenCard:!!e||j,inviewport:w}))))}));function M(e){const{frameId:t,page:i,query:a,rubricId:o,viewpoint:c,filtersId:d,filters:u={},searchId:m}=e,f=1===i?(0,l.W7)():void 0;return(0,s.K2)((0,r.PC)(),(0,h.mY)(t,(e=>Object.assign(Object.assign({},e),{tab:"catalog",tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,viewpoint:c,gtaId:(0,g.fY)(e.tabCatalog.gtaId,f),page:(0,g.fY)(e.tabCatalog.page,i)})}))),o?(0,p.eU)((e=>e.session.geolocation.position),(e=>(0,p.Cl)((t=>(0,n.vO)({query:a,filters:u,filtersId:d,gtaId:f,rubrId:o,viewpoint:t,searchId:m,page:i,more:!0,sortPoint:e}))))):(0,p.kE)(t,(e=>(0,y.O)(e)&&e.tabCatalog.attributeId?(0,p.eU)((e=>e.session.geolocation.position),(t=>!!e.tabCatalog.attributeId&&(0,n.o)({gtaId:f,query:a,filters:u,searchId:m,filtersId:d,attrId:e.tabCatalog.attributeId,page:i,viewpoint:c,sortPoint:t}))):(0,p.eU)((e=>e.session.geolocation.position),(e=>(0,n.Wj)({withFilters:!1,query:a,filters:u,searchId:m,page:i,viewpoint:c,gtaId:f,sortPoint:e}))))),(0,p.CG)(t,y.O,(e=>(0,g.At)(e.tabCatalog.page)===i&&(0,h.mY)(t,(t=>Object.assign(Object.assign({},t),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,gtaId:(0,g.ZS)(e.tabCatalog.gtaId),page:(0,g.ZS)(e.tabCatalog.page),scrollIdHash:(0,l.W7)()})}))))))}const N=(0,s.n5)("searchByQueryApplyFilter",(e=>{const{frameId:t,filterValues:i,query:r,rubricId:a,parentSearchId:o,isViewportChanged:c,preserveMarkers:d,viewpoint:u,filtersId:v=(0,l.W7)()}=e,b=(0,l.W7)(),x=(0,l.W7)(),j=(0,l.W7)(),w=!("filtersId"in e);return(0,s.K2)((0,h.mY)(t,(e=>Object.assign(Object.assign({},e),{statusId:x,tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{rubricId:a,searchId:(0,g.fY)(e.tabCatalog.searchId,b),filtersId:w?(0,g.fY)(e.tabCatalog.filtersId,v):e.tabCatalog.filtersId,gtaId:(0,g.fY)(e.tabCatalog.gtaId,j),page:(0,g.fY)(e.tabCatalog.page,1),parentSearchId:o,filterValues:i,viewpoint:u})}))),(0,p.eU)((e=>e.session.geolocation.position),(e=>(0,s._7)(a?(0,n.vO)({query:r,filters:i,filtersId:v,rubrId:a,viewpoint:u,searchId:b,page:1,gtaId:j,sortPoint:e}):(0,p.kE)(t,(t=>(0,y.O)(t)&&t.tabCatalog.attributeId?(0,n.o)({gtaId:j,query:r,filters:i,searchId:b,filtersId:v,attrId:t.tabCatalog.attributeId,page:1,viewpoint:u,sortPoint:e}):(0,n.Wj)({gtaId:j,withFilters:!1,query:r,filters:i,searchId:b,filtersId:v,isViewportChanged:c,page:1,viewpoint:u,statusId:x,sortPoint:e}))),w&&(0,n.cQ)({query:r,rubrId:a,filters:i,filtersId:v,viewpoint:u,sortPoint:e}),(0,s.K2)(!d&&(0,f.C)({update:!0,isViewportChanged:c}),(0,m.CD)())))),(0,p.CG)(t,y.O,(e=>(0,g.At)(e.tabCatalog.searchId)===b&&(0,h.mY)(t,(e=>Object.assign(Object.assign({},e),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{searchId:(0,g.ZS)(e.tabCatalog.searchId),filtersId:w?(0,g.ZS)(e.tabCatalog.filtersId):e.tabCatalog.filtersId,gtaId:(0,g.ZS)(e.tabCatalog.gtaId),page:(0,g.ZS)(e.tabCatalog.page)})}))))))}));function L(e){return(0,s.K2)((0,r.PC)(),(0,s.Q2)((t=>{const i=(0,u.bB)(t.appContext.frames,"search");if(i&&(0,y.O)(i)&&i.tab!==e.tab)return(0,s._7)((0,x.Tl)({suggesterKey:"inside",query:void 0}),(0,h.mY)(i.id,(t=>Object.assign(Object.assign({},t),{tab:e.tab}))),(0,f.C)(),(0,d.hU)({id:i.id}),(0,p.eU)(o.jq,(e=>(0,j.e)({prevZoom:e}))))})))}var P=i(34310),R=i(59208),A=i(33920);const B=(0,s.n5)("openFilials",(e=>{const t=(0,l.W7)(),i=(0,l.W7)(),n=(0,l.W7)(),a=(0,l.W7)(),{orgId:o,regionId:c,filterValues:u}=e,m=(0,l.O9)(u);return(0,p.Cl)((e=>(0,s.K2)((0,r.PC)(),(0,d.fL)({id:n,type:"search",searchType:"filials",gtaId:a,searchId:(0,g.vt)(t),parentSearchId:t,page:(0,g.vt)(1),orgId:o,filtersId:i,filterValues:u,query:"",filterPanelState:"auto"}),(0,s._7)((0,R.b)({orgId:o,searchId:t,filtersId:i,regionId:c,filters:u,withFilters:!m,page:1,viewpoint:e,gtaId:a}),m&&(0,R.A)({orgId:o,filtersId:i,viewpoint:e}),(0,s.gd)((0,f.C)())),(0,v.e)({searchId:t,inviewport:e}))))}));function z(e){const{orgId:t,filtersId:i,frameId:r,page:n,searchId:a,filterValues:o}=e;return(0,s.K2)((0,h.ye)(r,(e=>Object.assign(Object.assign({},e),{page:(0,g.fY)(e.page,n)}))),(0,p.Cl)((e=>(0,R.b)({orgId:t,filters:o,withFilters:!1,searchId:a,filtersId:i,page:n,viewpoint:e}))),(0,p.CG)(r,A.a,(e=>(0,g.At)(e.page)===n&&(0,h.ye)(r,(t=>Object.assign(Object.assign({},t),{page:(0,g.ZS)(e.page)}))))))}function F(e){const{frameId:t,orgId:i,filtersId:n,filterValues:a,isViewportChanged:c}=e,d=(0,l.W7)(),u=(0,l.W7)();return(0,s.K2)((0,r.PC)(),(0,h.ye)(t,(e=>Object.assign(Object.assign({},e),{searchId:(0,g.fY)(e.searchId,d),page:(0,g.fY)(e.page,1),statusId:u,filtersId:n,filterValues:a}))),(0,p.eU)(o.Pz,(e=>(0,s._7)((0,R.b)({orgId:i,filters:a,withFilters:!1,searchId:d,filtersId:n,page:1,viewpoint:e,isViewportChanged:c}),(0,f.C)({update:!0,isViewportChanged:c})))),(0,p.CG)(t,A.a,(e=>(0,g.At)(e.searchId)===d&&(0,h.ye)(t,(t=>Object.assign(Object.assign({},t),{searchId:(0,g.ZS)(e.searchId),page:(0,g.ZS)(e.page)}))))))}},34310:(e,t,i)=>{"use strict";i.d(t,{E7:()=>R,OB:()=>T,OS:()=>E,au:()=>P,du:()=>L,pA:()=>N,q4:()=>M,rz:()=>S});var s=i(12017),r=i(35023),n=i(88735),a=i(78069),o=i(29787),c=i(80905),d=i(80648),l=i(3517),u=i(73581),p=i(63041),m=i(7335),g=i(24872),h=i(74182),f=i(49206),v=i(92585),b=i(18396),y=i(69395),x=i(61700),j=i(18472),w=i(95309),I=i(52655);const C=(0,s.n5)("searchByBuildingIdWithCurrentViewpoint",(e=>(0,m.Cl)((t=>(0,l.d)({buildingId:e.buildingId,page:e.page,more:e.more,searchId:e.searchId,gtaId:e.gtaId,filters:e.filters,viewpoint:t}))))),_=(0,s.n5)("searchByPlaceIdWithCurrentViewpoint",(e=>(0,m.Cl)((t=>(0,w.e)({placeId:e.placeId,page:e.page,more:e.more,searchId:e.searchId,gtaId:e.gtaId,filters:e.filters,viewpoint:t}))))),k=(0,s.n5)("searchInBuildingByQueryWithCurrentViewpoint",(e=>(0,m.eU)((e=>e.session.geolocation.position),(t=>(0,m.Cl)((i=>(0,l.r)({buildingId:e.buildingId,query:e.query,page:e.page,searchId:e.searchId,more:e.more,gtaId:e.gtaId,filters:e.filters,viewpoint:i,sortPoint:t}))))))),O=(0,s.n5)("searchInBuildingByQueryWithCurrentViewpoint",(e=>(0,m.eU)((e=>e.session.geolocation.position),(t=>(0,m.Cl)((i=>(0,w.L)({placeId:e.placeId,query:e.query,page:e.page,searchId:e.searchId,more:e.more,gtaId:e.gtaId,filters:e.filters,viewpoint:i,sortPoint:t}))))))),S=({objectId:e,query:t="",filterValues:i,gtaId:l=(0,r.W7)(),loadedSearchId:u})=>{const g=u||(0,r.W7)(),v=(0,r.W7)();return(0,s.K2)((0,o.PC)(),(0,n.o6)({entityId:e},(o=>(0,s.K2)(!o.data&&(0,p.x7)({id:e,searchId:void 0}),(0,m.RC)({hasSearchControls:t=>(0,d.y3)({state:t,entityId:e}),frame:e=>(0,c.bB)(e.appContext.frames,"search")},(({hasSearchControls:o,frame:c})=>{let d;return c&&((0,b.O)(c)&&(d=c.query),(0,f.q)(c)&&(d=c.parentSearchQuery)),(0,n.o6)({entityId:e},(n=>{var c;const p="adm_div"===(null===(c=n.data)||void 0===c?void 0:c.type)&&"place"===n.data.subtype;return(0,s._7)((0,a.fL)({id:(0,r.W7)(),type:"search",searchType:"inside",contentType:p?"onterritory":"inbuilding",objectId:e,searchId:(0,h.vt)(g),page:(0,h.vt)(1),gtaId:l,statusId:v,query:o?t:"",parentSearchQuery:d,filterPanelState:o?"auto":"manuallyClosed",filterValues:o?i:{},filtersId:(0,r.W7)()}),p?R({placeId:e,gtaId:l,page:1,query:t,searchId:g,filterValues:i,hasSearchControls:o,shouldNotFetchBranches:!!u}):P({buildingId:e,gtaId:l,page:1,query:t,searchId:g,filterValues:i,hasSearchControls:o,shouldNotFetchBranches:!!u}))}))}))))),(0,s.gd)((0,x.C)()))},T=(0,s.n5)("searchInsideApplyFilterAndQuery",(({frameId:e,gtaId:t=(0,r.W7)(),objectId:i,filterValues:n,query:a=""})=>{const c=(0,r.W7)(),l=(0,r.W7)();return(0,s.K2)((0,o.PC)(),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:i})),(r=>(0,s.K2)((0,u.I8)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,h.fY)(e.searchId,c),statusId:l,page:(0,h.vt)(1),query:r?a:"",filterValues:r?n:{},objectId:i,gtaId:t}))),(0,m.CG)(e,f.q,(e=>"onterritory"===e.contentType?R({placeId:i,gtaId:t,page:1,query:a,searchId:c,filterValues:n,hasSearchControls:r}):P({buildingId:i,gtaId:t,page:1,query:a,searchId:c,filterValues:n,hasSearchControls:r}))),(0,u.I8)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,h.ZS)(e.searchId)})))))),(0,s.gd)((0,x.C)()))})),E=({frameId:e,page:t,objectId:i,query:n,searchId:a,filterValues:o={}})=>(0,s.K2)((0,u.I8)(e,(e=>Object.assign(Object.assign({},e),{page:(0,h.fY)(e.page,t),statusId:(0,r.W7)()}))),(0,m.CG)(e,f.q,(r=>(0,s.K2)((0,m.eU)((e=>(0,d.y3)({state:e,entityId:i})),(e=>"onterritory"===r.contentType?R({placeId:i,searchId:a,page:t,query:n,filterValues:o,hasSearchControls:e,more:!0}):P({buildingId:i,searchId:a,page:t,query:n,filterValues:o,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,h.At)(r.page)===t&&(0,u.I8)(e,(e=>Object.assign(Object.assign({},e),{page:(0,h.ZS)(e.page)}))))))),M=({frameId:e,entityId:t,objectId:i,filterValues:a,query:c=""})=>{const l=(0,r.W7)(),g=(0,r.W7)(),f=(0,r.W7)();return(0,s._7)((0,o.PC)(),(0,n.o6)({entityId:i},(e=>!e.data&&(0,p.x7)({id:i,searchId:void 0}))),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:t})),(r=>(0,n.o6)({entityId:t},(t=>{const n=t.data?!!(0,j.i)(t.data):void 0;return(0,s.K2)(n?R({placeId:i,searchId:l,page:1,gtaId:f,query:c,filterValues:a,hasSearchControls:r}):P({buildingId:i,searchId:l,page:1,gtaId:f,query:c,filterValues:a,hasSearchControls:r,shouldNotFetchMarkers:!0}),(0,u.$e)(e,(e=>Object.assign(Object.assign({},e),{tab:"inside",statusId:g,tabInside:{searchId:(0,h.vt)(l),page:(0,h.vt)(1),objectId:i,gtaId:f,query:r?c:"",filterValues:r?a:void 0,contentType:n?"onterritory":"inbuilding"}}))))})))))},N=({frameId:e,searchId:t,entityId:i,objectId:n,query:a,filterValues:o={},page:c})=>(0,s.K2)((0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:(0,r.W7)(),tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,h.fY)(e.tabInside.page,c)})}):e)),(0,m.CG)(e,v.n,(r=>(0,s.K2)((0,m.eU)((e=>(0,d.y3)({state:e,entityId:i})),(e=>(0,I.T)(r)?R({placeId:n,searchId:t,page:c,query:a,filterValues:o,hasSearchControls:e,more:!0}):P({buildingId:n,searchId:t,page:c,query:a,filterValues:o,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),r.tabInside&&(0,h.At)(r.tabInside.page)===c&&(0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,h.ZS)(e.tabInside.page)})}):e)))))),L=({frameId:e,entityId:t,objectId:i,filterValues:n,query:a="",gtaId:c=(0,r.W7)()})=>{const l=(0,r.W7)(),p=(0,r.W7)();return(0,s.K2)((0,o.PC)(),(0,m.eU)((e=>(0,d.y3)({state:e,entityId:t})),(t=>(0,s._7)((0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:p,tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,h.fY)(e.tabInside.searchId,l),page:(0,h.fY)(e.tabInside.page,1),query:t?a:"",filterValues:t?n:void 0,gtaId:c})}):e)),(0,m.CG)(e,v.n,(e=>(0,I.T)(e)?R({placeId:i,searchId:l,gtaId:c,page:1,query:a,filterValues:n,hasSearchControls:t}):P({buildingId:i,searchId:l,gtaId:c,page:1,query:a,filterValues:n,hasSearchControls:t,shouldNotFetchMarkers:!0}))),(0,y.Tl)({suggesterKey:"inside",query:a})))),(0,m.CG)(e,v.n,(t=>t.tabInside&&(0,h.At)(t.tabInside.searchId)===l&&(0,u.$e)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,h.ZS)(e.tabInside.searchId),page:(0,h.ZS)(e.tabInside.page)})}):e)))))};function P({buildingId:e,searchId:t,gtaId:i,query:r,page:n,filterValues:a,hasSearchControls:o,shouldNotFetchBranches:c,shouldNotFetchMarkers:d,more:l}){return o&&r?(0,s._7)(!c&&k({buildingId:e,gtaId:i,page:n,query:r,searchId:t,filters:a,more:l}),!d&&(0,s.gd)((0,s.K2)((0,x.C)(),(0,g.CD)()))):!c&&C({buildingId:e,gtaId:i,page:n,searchId:t,filters:a,more:l})}function R({placeId:e,searchId:t,gtaId:i,query:r,page:n,filterValues:a,hasSearchControls:o,shouldNotFetchBranches:c,shouldNotFetchMarkers:d,more:l}){return o&&r?(0,s._7)(!c&&O({placeId:e,gtaId:i,page:n,query:r,searchId:t,filters:a,more:l}),!d&&(0,s.gd)((0,x.C)())):!c&&_({placeId:e,gtaId:i,page:n,searchId:t,filters:a,more:l})}},35363:(e,t,i)=>{"use strict";i.d(t,{Q:()=>d,V:()=>c});var s=i(12017),r=i(37700),n=i(7335),a=i(56762),o=i(22665);function c(e){return(0,s.K2)((0,r.Lx)({query:e,timestamp:(new Date).getTime()}),d())}function d(){return(0,n.RC)({history:a.q,userId:o.W},(({history:e,userId:t})=>(0,r.pO)({history:e.data,userId:t})))}},94014:(e,t,i)=>{"use strict";i.d(t,{V:()=>c});var s=i(95993);var r=i(50595),n=i(9729),a=i(12017),o=i(88817);function c(e){return(0,a.NV)((({rtl:t})=>(0,a.Q2)((i=>{const a=[e.point.lon,e.point.lat],c=(0,n.lonLatToScreenPoint)(a,(0,r.p)(i)),d={top:c[1],left:c[0]},l={top:d.top,left:t?d.left:d.left+(0,o.b)(i)};return function(e){return(0,s.c)({type:"map:hint",event:{text:e.text,point:e.point}})}({text:e.text,point:l})}))))}},59939:(e,t,i)=>{"use strict";i.d(t,{M:()=>n,b:()=>r});var s=i(12017);const r=(0,s.n5)("showUgcLawPopup",(({openPopup:e,after:t})=>(window.__afterUgcLawPopup=t,e()))),n=function(e){const t=window.__afterUgcLawPopup;return window.__afterUgcLawPopup=void 0,t?t(e):(0,s.lQ)()}},12579:(e,t,i)=>{"use strict";i.d(t,{t7:()=>Y,hQ:()=>$,nQ:()=>X,iz:()=>K,RM:()=>D,ti:()=>H,bP:()=>Q,TJ:()=>V});var s=i(74182),r=i(12017),n=i(69395),a=i(95083),o=i(35023),c=i(45469),d=i(7335),l=i(23020),u=i(57744),p=i(88096),m=i(47310),g=i(64425),h=i(15942),f=i(78069),v=i(24872),b=i(29787),y=i(63041),x=i(37700),j=i(35363),w=i(51557),I=i(82393),C=i(17640),_=i(1321),k=i(73035),O=i(10522),S=i(60776),T=i(41577);const E=(0,r.n5)("openPlace",(({object_id:e,point:t})=>e?(0,T.Z)({id:e,shouldFitEntityInMapView:!0}):t?(0,S.v)({point:t,shouldCenterMap:!0}):(0,r.lQ)()));var M=i(51883);const N=(0,r.n5)("showTraffic",(()=>(0,d.eU)((e=>e.appContext.showTrafficOnMap),(e=>!e&&(0,M.GN)()))));var L=i(12762),P=i(85356),R=i(74006),A=i(67301),B=i(47856),z=i(20887),F=i(54713);const H=(0,r.n5)("showSuggestions",((e="primary")=>{const t=(0,o.W7)();return(0,d.eU)((t=>(0,c.WY)(t,e)),(i=>{if(!i)return(0,r.lQ)();const{query:a}=i;if(!a)return(0,m.Xw)();const o=i.suggestId;return(0,r.K2)((0,r._7)((0,d.RC)({viewpoint:l.Pz,personalRecords:L.p,regionId:I.zN,geolocationPosition:e=>e.session.geolocation.position},(({viewpoint:i,personalRecords:s,regionId:r,geolocationPosition:n})=>(0,m.Zg)({searchId:t,suggesterType:U(e),query:a,viewpoint:i,regionId:"typedFeedback"===e||"homework"===e?r:void 0,personalRecords:"primary"===e?s:void 0,sortPoint:n}))),(0,n.qP)({suggesterKey:e,suggestId:o?(0,s.fY)(o,t):(0,s.vt)(t)})),(0,d.eU)((t=>(0,c.WY)(t,e)),(i=>{const a=i&&i.suggestId;return a&&t===(0,s.At)(a)?(0,n.qP)({suggesterKey:e,suggestId:(0,s.ZS)(a)}):(0,r.lQ)()})))}))}));function U(e){switch(e){case"typedFeedback":case"homework":return"address";case"directions":return"route_endpoint";default:return}}function D(e){const{branchId:t,query:i}=e,p=(0,o.W7)();return i?(0,r.K2)((0,d.eU)((e=>(0,c.WY)(e,"products")),(e=>{if(e){const t=e.suggestId;return(0,n.qP)({suggesterKey:"products",suggestId:t?(0,s.fY)(t,p):(0,s.vt)(p)})}})),(0,d.RC)({locale:u.u,viewpoint:l.Pz},(({locale:e,viewpoint:s})=>(0,a.wp)({searchId:p,branchId:t,query:i.trim().toLocaleLowerCase(),viewpoint:s,locale:e}))),(0,d.eU)((e=>(0,c.WY)(e,"products")),(e=>{if(e){const t=e.suggestId;if(t&&p===(0,s.At)(t))return(0,n.qP)({suggesterKey:"products",suggestId:(0,s.ZS)(t)})}}))):(0,r._7)((0,n.qP)({suggesterKey:"products",suggestId:(0,s.vt)("")}),(0,a.Xv)())}const V=(0,r.n5)("toggleSuggest",(({suggesterKey:e,show:t})=>(0,d.eU)((t=>(0,c.WY)(t,e)),(i=>i&&i.show===t?(0,r.lQ)():(0,r.K2)(t?(0,m.Xw)():(0,r.lQ)(),(0,n.TJ)({suggesterKey:e,show:t})))))),$=(0,r.n5)("handleSuggestNavigation",(e=>{const{suggesterKey:t,keyCode:i}=e;switch(i){case p.aH:return V({suggesterKey:t,show:!1});case p.En:return W({suggesterKey:t,direction:"prev"});case p.vx:return W({suggesterKey:t,direction:"next"})}return(0,r.lQ)()})),W=(0,r.n5)("highlightNextOrPrevSuggestion",(e=>{const{suggesterKey:t,direction:i,suggestionsLimit:s=P.O}=e;return(0,w.QY)((({tp:e})=>(0,d.RC)({suggest:e=>(0,c.WY)(e,t),allSuggestions:e=>(0,c.KW)(e,t),featureRealty:e=>e.config.featureRealty,isHistorySuggestions:c.yN},(({suggest:a,allSuggestions:o,featureRealty:c,isHistorySuggestions:d})=>{if(!a||!o)return(0,r.lQ)();const l=d?R.Dc:s,u=c&&"primary"===t?(0,P.P)(o,e,d):[...o].slice(0,l),{highlightedIndex:p}=a,m=l?Math.min(u.length,l):u.length;let g=void 0!==p?p:-1;"next"===i?(g+=1,g>m-1&&(g=0)):(g-=1,g<0&&(g=m-1));const h=u[g];return(0,r._7)((0,r.NV)((e=>(0,w.QY)((({tp:i})=>(0,n.Tl)({suggesterKey:t,query:(0,k.R)(h,{tp:i,config:e})}))))),(0,n.r_)({suggesterKey:t,index:g}))}))))})),q=(0,r.n5)("changeCity",(e=>(0,r.K2)((0,b.PC)(),(0,f.S2)(),(0,n.Tl)({suggesterKey:"primary",query:void 0}),(0,_.cr)((0,s.vt)((0,o.W7)())),(0,v.TE)({entityId:e})))),Z=(0,r.n5)("addObjectToHistory",((e,t)=>e.entity?(0,r.K2)((0,x.Iq)({entity:e.entity,text:t,timestamp:(new Date).getTime()}),(0,j.Q)()):(0,r.lQ)())),Q=(0,r.n5)("submitNewSearch",(e=>(0,d.RC)({viewpoint:l.Pz},(({viewpoint:t})=>(0,r.K2)((0,f.S2)(),(0,h.q_)({query:e.query,viewpoint:t,attributeId:e.attributeId,rubricId:e.rubricId,bestKeyword:e.bestKeyword})))))),G=(0,r.n5)("openObjectSuggestionOrMakeSearch",(e=>{var t,i,s,n,a,o,c;const{suggestion:l,query:u}=e,{entity:p}=l;if(p&&p.id){if("adm_div"===p.type&&("city"===p.subtype||"settlement"===p.subtype))return q(p.id);switch(p.type){case"adm_div":case"branch":case"building":case"station":case"route":case"street":case"road":case"attraction":case"kilometer_road_sign":const e={id:p.id,type:p.type,query:u,entranceId:"context"in p?null===(t=p.context)||void 0===t?void 0:t.entrance_id:void 0,shouldFitEntityInMapView:!0,entityIcon:(0,B.S)(null===(n=null===(s=null===(i=null==p?void 0:p.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.marker_logo)||void 0===n?void 0:n.url),isCommercial:Boolean(null===(o=null===(a=null==p?void 0:p.ads)||void 0===a?void 0:a.options)||void 0===o?void 0:o.marker_logo),point:"geocoded_by"in p&&p.geocoded_by||void 0};return p.hash?(0,r.K2)((0,f.S2)(),(0,y.UP)(Object.assign(Object.assign({},e),{hash:p.hash})),"object"===l.type?Z(l):void 0):(0,r.K2)((0,f.S2)(),(0,y.UP)(e),"object"===l.type?Z(l):void 0);case"rubric":return(0,r.K2)(Q({query:u,rubricId:p.id,bestKeyword:"search_attributes"in l?null===(c=l.search_attributes)||void 0===c?void 0:c.suggested_text:void 0}),"object"===l.type?Z(l):void 0);case"attribute":return(0,r.K2)(Q({query:u,attributeId:p.id}),"object"===l.type?Z(l,u):void 0);case"org":return(0,r.K2)((0,f.S2)(),(0,h.f8)({orgId:p.id,regionId:p.region_id}),"object"===l.type?Z(l):void 0);case"brand":return(0,r.K2)((0,f.S2)(),(0,F.g4)({brandId:p.brand.id,regionId:p.region_id}),"object"===l.type?Z(l):void 0);case"special":switch(p.id){case"1":return(0,d.eU)(O.cd,(e=>e&&E(e)));case"2":return(0,d.eU)(O.cU,(e=>e&&E(e)));case"3":return(0,r.K2)((0,x.S8)(),(0,A.p)());case"4":case"5":return(0,r.K2)(N(),(0,A.p)());case"6":return z.Pf.signals.open()}}}return Q({query:u})})),K=(0,r.n5)("pickPrimarySuggestion",(e=>{const t="primary",{suggestion:i,query:s,pickedIndex:a,frameId:u,suggestions:p,searchAttributes:h,hasLogo:f,withBssShowEvent:v}=e,b=(0,o.W7)();return(0,r.K2)((0,C.c1)({suggestion:i,query:s,pickedIndex:a,frameId:u,suggestions:p,searchAttributes:h,hasLogo:f,withBssShowEvent:v}),(0,d.RC)({suggest:e=>(0,c.WY)(e,t),viewpoint:l.Pz,personalRecords:L.p,geolocationPosition:e=>e.session.geolocation.position},(({suggest:e,viewpoint:a,personalRecords:o,geolocationPosition:c})=>e?(0,g.p)(i)&&e.query!==s+" "?(0,r._7)((0,n.Tl)({suggesterKey:t,query:s+" "}),(0,n.r_)({suggesterKey:t,index:void 0}),(0,m.Zg)({searchId:b,suggesterType:U(t),query:s,viewpoint:a,regionId:void 0,personalRecords:o,sortPoint:c})):(0,r.K2)((0,n.Tl)({suggesterKey:t,query:s}),V({suggesterKey:t,show:!1}),G({suggestion:i,query:s})):(0,r.lQ)())))})),Y=(0,r.n5)("handleSuggestInputClick",(({query:e,suggesterKey:t})=>(0,d.eU)((e=>(0,c.WY)(e,t)),(i=>i&&i.show?(0,r.lQ)():(0,r._7)(V({suggesterKey:t,show:!0}),(0,n.Tl)({suggesterKey:t,query:e}),H()))))),X=(0,r.n5)("pickAlternativeSuggestion",(e=>{const t="primary",{suggestion:i,query:s}=e;return(0,r.K2)((0,n.Tl)({suggesterKey:t,query:s}),V({suggesterKey:t,show:!1}),G({suggestion:i,query:s}))}))},17640:(e,t,i)=>{"use strict";i.d(t,{bp:()=>g,HT:()=>u,c1:()=>l,_X:()=>d});var s=i(12017),r=i(48914),n=i(35023),a=i(7540),o=i(83812);var c=i(32127);const d=e=>{var t,i,s,r;const{suggestion:n,query:a,pickedIndex:c,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p=!1}=e,m=c+1,g=n.search_attributes?function(e){switch(e){case 0:return"openRecord";case 1:return"expandRecord";case 2:return"searchSuggestedText";case 3:return"incompleteQuery";default:return}}(n.search_attributes.handling_type):void 0,b=h(n.entity),y=a||("text"in n?n.text:""),x="brand"===(null==b?void 0:b.type)?{searchObjectId:b.id,searchObjectType:b.type}:void 0,j=Object.assign({text:y,entity:"special"!==(null==b?void 0:b.type)||"3"!==b.id?b:void 0,handlingType:g,resultClass:null===(t=n.search_attributes)||void 0===t?void 0:t.dgis_source_type,personalPriority:f(n),hybridEntities:(0,o.G)(n.entity),org:"branch"===(null===(i=n.entity)||void 0===i?void 0:i.type)?null===(r=null===(s=n.entity)||void 0===s?void 0:s.org)||void 0===r?void 0:r.id:void 0,hasLogo:p},x),w={size:l.length,searchSegmentId:null==u?void 0:u.dgis_project_id,firstResultClass:null==u?void 0:u.dgis_output_type,searchType:null==u?void 0:u.search_type,rtwVersion:null==u?void 0:u.rtw_version,searchStatisticsTags:(null==u?void 0:u.statistic_tags)||void 0};return{suggestItem:j,suggestList:w,bssEvent:{uiElement:{name:"suggestItem",ownerName:"suggestList",position:m,frameUuid:d},payload:{suggestItem:j,suggestList:w,searchRequest:v("show",y,b)}}}},l=e=>{const{query:t,frameId:i,pickedIndex:s,suggestions:r,searchAttributes:n,hasLogo:a}=e;return"history"===e.suggestion.type?m({suggestion:e.suggestion,query:t,frameId:i,pickedIndex:s,suggestions:r,hasLogo:a}):p(Object.assign(Object.assign({},e),{suggestion:e.suggestion,suggestions:r,searchAttributes:n,hasLogo:a}))},u=e=>{const t={uiElement:{name:"myLocation",ownerName:0===e.pointIndex?"pointA":"pointB",frameUuid:e.frameId},action:"tap"};return(0,r.cD)(t)},p=e=>{const{suggestion:t,query:i,pickedIndex:a,frameId:o,suggestions:l,searchAttributes:u,hasLogo:p,withBssShowEvent:m}=e,g=a+1,f=h(t.entity),b=i||("text"in t?t.text:""),{suggestItem:y,suggestList:x,bssEvent:j}=d({suggestion:t,query:i,pickedIndex:a,frameId:o,suggestions:l,searchAttributes:u,hasLogo:p}),w={uiElement:{name:"suggestItem",ownerName:"suggestList",position:g,frameUuid:o},action:"tap",payload:{suggestItem:y,suggestList:x,searchRequest:v("tap",b,f)}},I={uiElement:{name:"adsBanner",ownerName:"suggestList",position:g,frameUuid:o},action:"tap",payload:{adsBanner:Object.assign(Object.assign({},c.At.getSuggestionPayload(t)),{position:g})}};return p?(0,r.cD)(I):(0,s.K2)(m&&(0,r.X_)(Object.assign({showEventKey:(0,n.W7)(),autoEvent:!0},j)),(0,r.cD)(w))},m=e=>{const{suggestion:t,query:i,pickedIndex:a,frameId:c,suggestions:d,hasLogo:l}=e,u=a+1,p=h(t.entity),{bssEvent:m}=(e=>{const{suggestion:t,query:i,pickedIndex:s,frameId:r,suggestions:n,hasLogo:a}=e,c=s+1,d=h(t.entity);return{bssEvent:{uiElement:{name:"historyItem",ownerName:"historyList",position:c,frameUuid:r},payload:{historyItem:{text:i,handlingType:t.entity?"openRecord":void 0,entity:d,hybridEntities:(0,o.G)(t.entity),hasLogo:a},historyList:{size:n.length}}}}})({suggestion:t,query:i,pickedIndex:a,frameId:c,suggestions:d,hasLogo:l}),g={historyItem:{text:i,handlingType:t.entity?"openRecord":void 0,entity:p,hybridEntities:(0,o.G)(t.entity),hasLogo:l},historyList:{size:d.length}},f={uiElement:{name:"historyItem",ownerName:"historyList",position:u,frameUuid:c},action:"tap",payload:Object.assign({searchRequest:{text:i,entities:p?[p]:void 0}},g)};return(0,s.K2)((0,r.X_)(Object.assign({showEventKey:(0,n.W7)(),autoEvent:!0},m)),(0,r.cD)(f))},g=e=>(0,r.cD)({uiElement:{name:"searchStart",ownerName:"searchBar",frameUuid:e.frameId},action:"tap",payload:{searchRequest:{text:e.query}}});function h(e){if(e)return{type:e.type,segmentInfo:(0,a.o)(e),id:e.id,subtype:"subtype"in e?e.subtype:void 0}}function f(e){var t;if("special"===(null===(t=e.entity)||void 0===t?void 0:t.type))return 8}function v(e,t,i){if("special"===(null==i?void 0:i.type)){if("3"===i.id&&"tap"===e)return;if(("1"===i.id||"2"===i.id)&&"tap"===e)return{entities:i?[i]:void 0}}return{text:t,entities:i?[i]:void 0}}},44178:(e,t,i)=>{"use strict";i.d(t,{I:()=>u});var s=i(35897),r=i(12017),n=i(97980),a=i(95280),o=i(27797),c=i(394),d=i(48648),l=i(90024);const u=(0,r.n5)("syncCart",(()=>(0,r.K2)((0,s.zA)({}),(0,r.Q2)((e=>{const t=(0,c.q)(e);if(!t)return;const i=(0,l.A)(t).reduce(((t,{branchId:i,productId:s})=>((0,a.P)((0,n.a2)({state:e,branchId:i,productId:s}))&&(t[i]||(t[i]=[])).push(s),t)),{});return(0,r._7)(...Object.keys(i).map((e=>(0,d.x)({branchId:e,productIds:i[e]}))))})),(0,r.Q2)((e=>{const t=(0,c.q)(e);if(!t)return;let i=!1;const s=t.orders.map((t=>{const s=t.items.map((t=>{var s,r,o,c;const d=(0,n.z5)({state:e,productId:t.productId}),l=(0,n.a2)({state:e,branchId:t.branchId,productId:t.productId});if((0,a.P)(l))return i=!0,Object.assign(Object.assign({},t),{deleted:!0});{const e=null===(s=d.data)||void 0===s?void 0:s.product,n=l.data;if(e&&n&&(t.name!==e.name||t.description!==e.description||(null===(r=t.price.fixed)||void 0===r?void 0:r.value)!==(null===(c=null===(o=n.price_value)||void 0===o?void 0:o.fixed)||void 0===c?void 0:c.value)))return i=!0,Object.assign(Object.assign({},t),{name:e.name,description:e.description,price:n.price_value||{},deleted:!1});if(t.deleted)return Object.assign(Object.assign({},t),{deleted:!1})}return t}));return Object.assign(Object.assign({},t),{items:s})}));return i&&(0,o.b)({orders:s,showCartButton:!0,customer:t.customer})})))))},88166:(e,t,i)=>{"use strict";i.d(t,{J:()=>d});var s=i(12017),r=i(7335),n=i(82393),a=i(92716),o=i(11990),c=i(38113);function d({forced:e}={}){return(0,s.gd)((0,r.eU)(n.n$,(t=>t&&t.flags.traffic&&(0,r.eU)((0,o.q)(t.code),(i=>(!i||e)&&(0,c.R)((0,a.m)({regionCode:t.code})))))))}},51883:(e,t,i)=>{"use strict";i.d(t,{kD:()=>P,OE:()=>A,MP:()=>R,sU:()=>B,oz:()=>U,gn:()=>F,GN:()=>D,GO:()=>H});var s=i(12017),r=i(31629),n=i(20091),a=i(78069),o=i(29787),c=i(27892),d=i(29094),l=i(536),u=i(89415),p=i(24872),m=i(37700),g=i(23020),h=i(6514),f=i(9729),v=i(66698);var b=i(69395),y=i(7335),x=i(61700),j=i(82393),w=i(528),I=i(16632),C=i(52072),_=i(37163),k=i(13179),O=i(51021),S=i(51557),T=i(71085),E=i(74786),M=i(77847),N=i(88067),L=i(80648);const P=(0,s.n5)("closeLastFrame",(()=>(0,y.RC)({activeLayer:e=>e.appContext.activeLayer,frames:e=>e.appContext.frames},(({activeLayer:e,frames:t})=>{const i=t[0],r=t[1];if(!i)return(0,s.lQ)();if(1===t.length&&"friendsList"===i.type)return(0,s.K2)((0,_.xA)(),(0,a.S2)());if(1===t.length&&("search"!==i.type||"filials"!==i.searchType&&"inside"!==i.searchType)&&"directions"!==i.type&&"gallery"!==i.type)return(0,o.PC)((0,a.S2)());if("entity"===i.type&&"search"===(null==r?void 0:r.type)&&"query"===r.searchType&&r.seoFakeEntityId)return(0,o.PC)((0,a.S2)());const{type:c,id:d}=i;return"realty"===e?(0,s.K2)((0,C.c)(),z()):"exchange"===e&&"exchange"===c?(0,M.po)({}):(0,s.K2)((0,o.PC)(),(0,a.wU)({id:d}),(0,y.eU)((e=>e.appContext.frames.length),(e=>0===e?z():(0,s.lQ)())),(0,x.C)(),i.isOpenedFromMap&&(0,O.n)((0,n.X_)({isMinimized:!0})))}))));function R(){return(0,s.Q2)((e=>e.appContext.popup?e.appContext.popup.isModal?(0,s.lQ)():(0,w.q)(c.fs):I.m.get()?(0,s.v6)((()=>{I.m.set((()=>!1))})):0===e.appContext.frames.length?(0,n.X_)({isMinimized:!e.appContext.isDataViewerMinimized}):"gallery"===e.appContext.frames[0].type?A():1===e.appContext.frames.length?(0,n.X_)({isMinimized:!e.appContext.isDataViewerMinimized}):P()))}function A(){return(0,s.K2)((0,o.PC)(),(0,a.kg)(),z(),(0,r.v)())}function B(){return(0,s.Q2)((e=>0===e.appContext.frames.length?e.appContext.isDataViewerMinimized?(0,n.X_)({isMinimized:!1}):void 0:(0,s.K2)((0,o.PC)(),(0,a.S2)(),z())))}function z(){return(0,s._7)((0,b.Tl)({suggesterKey:"primary",query:void 0}),(0,b.Tl)({suggesterKey:"inside",query:void 0}))}function F(e){return(0,s.Q2)((t=>{const i=t.appContext.frames[0];return i&&"gallery"===i.type?(0,y.RC)({searchKeyword:(0,L.QW)(i.entityId)},(({searchKeyword:r})=>{const n=(0,T.y)(t),o=(0,E.MV)(n);return(0,s.NV)((({featureVideoInGallery:t})=>{var n;if(null===(n=i.photoAlbum)||void 0===n?void 0:n.id)return t?N.YD.withMediaAlbum({objectId:i.entityId,albumId:i.photoAlbum.id,searchCtx:o,searchKeyword:r},(t=>{const r=null==t?void 0:t.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;if(!r)return(0,s.lQ)();const n=r.findIndex((e=>!(!e||!("id"in e))&&e.id===i.photoId)),o="forward"===e?r[n+1]:r[n-1],c=o&&"id"in o?o.id:void 0;return c?(0,a.oy)(i.id,(e=>Object.assign(Object.assign({},e),{photoId:c}))):(0,s.lQ)()})):(0,k.gg)({id:i.entityId,albumId:i.photoAlbum.id,searchCtx:o,searchKeyword:r},(t=>{const r=null==t?void 0:t.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;if(!r)return(0,s.lQ)();const n=r.findIndex((e=>!(!e||!("id"in e))&&e.id===i.photoId)),o="forward"===e?r[n+1]:r[n-1],c=o&&"id"in o?o.id:void 0;return c?(0,a.oy)(i.id,(e=>Object.assign(Object.assign({},e),{photoId:c}))):(0,s.lQ)()}))}))})):(0,s.lQ)()}))}const H=(0,s.n5)("updateMyGeolocation",(e=>(0,s._7)((0,u.Og)({lonLat:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy}),(0,s.Q2)((t=>{if(!t.session.geolocation.following)return(0,s.lQ)();const i=function({position:e,accuracy:t,state:i}){const s={lon:e.lon,lat:e.lat,zoom:v.im};if(!t)return s;const r=t/111319.492*3,n=[[e.lon-r,e.lat+r],[e.lon+r,e.lat+r],[e.lon+r,e.lat-r],[e.lon-r,e.lat-r]],a=(0,g.kD)(i),o=(0,h.Y)(i.session.screen,a),c=(0,f.getCenterZoomByPoints)(n,i.appContext.rotation,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:c.zoom}:s}({position:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy,state:t});return(0,s._7)((0,u.$y)({follow:!1}),(0,p.t$)(Object.assign(Object.assign({},i),{rotation:0,pitch:0})))}))))),U=(0,s.n5)("setMyGeolocationFailed",(e=>(0,s._7)((0,m.Vu)(),(0,S.QY)((({tp:t})=>"PERMISSION_DENIED"===e?(0,d.D)((0,l.z)({title:t._t("Не удалось определить местоположение"),message:t._t("Доступ к геоданным не разрешён")})):(0,d.D)((0,l.z)({title:t._t("Не удалось определить местоположение"),message:""}))))))),D=()=>(0,y.RC)({regionCode:j.JC,showTraficOnMap:e=>e.appContext.showTrafficOnMap},(()=>(0,s.K2)((0,_.Hq)(),(0,n.HT)())))},73740:(e,t,i)=>{"use strict";i.d(t,{bu:()=>l,jf:()=>d});var s=i(12017),r=i(37700),n=i(97938),a=i(60822),o=i(21959),c=i(8483);const d=e=>{const{statusId:t,email:i}=e;return(0,s.Q2)((c=>{const d=(0,o.ug)(c);if(!d||!d.data)return(0,s.lQ)();const l=(0,a.J)({new_email:i,email:d.data.email,email_confirmed:d.data.email_confirmed});return(0,a.m)({new_email:d.data.new_email,email:d.data.email,email_confirmed:d.data.email_confirmed})?(0,r.j)({statusId:t,email:d.data.new_email||d.data.email,clientId:e.clientId}):l&&e.email?(e=>{const{locale:t,statusId:i,email:r,clientId:a}=e;return(0,s.Q2)((e=>{const c=(0,o.ug)(e);return c&&c.data?(0,n.V)({email:r,userId:c.data.user_id,locale:t,statusId:i,clientId:a}):(0,s.lQ)()}))})({email:e.email,locale:e.locale,clientId:e.clientId,statusId:t}):(0,s.lQ)()}))},l=e=>(0,s.NV)((({authClientId:t})=>(0,c.b)(Object.assign(Object.assign({},e),{authClientId:t}))))},7335:(e,t,i)=>{"use strict";i.d(t,{CG:()=>l,Cl:()=>c,RC:()=>o,eU:()=>a,kE:()=>d});var s=i(12017),r=i(23020),n=i(88056);function a(e,t){return(0,s.Q2)((i=>{const s=e(i);return t(s)}))}function o(e,t){return(0,s.Q2)((i=>{const s=(0,n.Y)(e).reduce(((t,s)=>(t[s]=e[s](i),t)),{});return t(s)}))}function c(e){return a(r.Pz,e)}const d=(e,t)=>a((t=>t.appContext.frames.find((t=>t.id===e))),t),l=(e,t,i)=>a((t=>t.appContext.frames.find((t=>t.id===e))),(e=>!!e&&t(e)&&i(e)))},38113:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var s=i(12017);const r=e=>(0,s.NV)((({featureReadOnly:t})=>t?(0,s.lQ)():e))},60545:(e,t,i)=>{"use strict";i.d(t,{DA:()=>c,RT:()=>n,gD:()=>o,m3:()=>a});var s=i(41281),r=i(35023);function n(e={}){return(t={})=>({eventType:"view",uiElement:(0,r.kk)((0,s.A)({},{type:"frame",uuid:expect.any(String)},e,t))})}function a(e={}){return(t={})=>(0,s.A)({},{eventType:"view",uiElement:{frameUuid:expect.any(String)}},e,t)}function o(e={}){return(t={})=>(0,s.A)({},{eventType:"action",actionType:"tap",uiElement:{frameUuid:expect.any(String)}},e,t)}function c(e={}){return(t={})=>(0,s.A)({},{eventType:"action",actionType:"close",uiElement:{frameUuid:expect.any(String)}},e,t)}},80552:(e,t,i)=>{"use strict";i.r(t),i.d(t,{caps:()=>y,fontWeight:()=>s,giant:()=>n,giantHuge:()=>r,giantMedium:()=>a,input:()=>x,lead:()=>o,leadBold:()=>d,leadMedium:()=>c,lineClamped:()=>j,regular:()=>l,regularBold:()=>p,regularMedium:()=>u,small:()=>m,smallBold:()=>h,smallMedium:()=>g,tiny:()=>f,tinyBold:()=>b,tinyMedium:()=>v});const s={normal:400,medium:500,semibold:600},r={fontSize:"35px",fontWeight:s.normal,lineHeight:"44px",letterSpacing:"-1.3px"},n={fontSize:"29px",lineHeight:"36px",fontWeight:s.normal,letterSpacing:"-0.9px"},a=Object.assign(Object.assign({},n),{fontWeight:s.medium}),o={fontSize:"19px",lineHeight:"24px",fontWeight:s.normal,wordWrap:"break-word",letterSpacing:"-0.9px"},c=Object.assign(Object.assign({},o),{fontWeight:s.medium}),d=Object.assign(Object.assign({},o),{fontWeight:s.semibold}),l={fontSize:"14px",lineHeight:"18px",fontWeight:s.normal,letterSpacing:"-0.7px"},u=Object.assign(Object.assign({},l),{fontWeight:s.medium}),p=Object.assign(Object.assign({},l),{fontWeight:s.semibold}),m={fontSize:"13px",lineHeight:"16px",fontWeight:s.normal,letterSpacing:"-0.6px"},g=Object.assign(Object.assign({},m),{fontWeight:s.medium}),h=Object.assign(Object.assign({},m),{fontWeight:s.semibold}),f={fontSize:"11px",lineHeight:"14px",fontWeight:s.normal,letterSpacing:"-0.4px"},v=Object.assign(Object.assign({},f),{fontWeight:s.medium}),b=Object.assign(Object.assign({},f),{fontWeight:s.semibold}),y={fontSize:"13px",lineHeight:"16px",fontWeight:s.semibold,textTransform:"uppercase",letterSpacing:"0.5px"},x=Object.assign(Object.assign({},l),{fontFamily:"inherit"});function j(e,t){const i=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:i?e*i:"none"})}},21644:(e,t,i)=>{"use strict";i.d(t,{EK:()=>r,GD:()=>c,HT:()=>p,KJ:()=>l,Qp:()=>n,Uz:()=>g,t3:()=>m,yH:()=>o});var s=i(80552);const r=Object.assign(Object.assign({},s.tinyBold),{fontSize:"11px",lineHeight:"16px"}),n=Object.assign(Object.assign({},s.tinyBold),{fontSize:"8px",lineHeight:"16px",letterSpacing:"-0.2px"}),a={fontSize:"13px",lineHeight:"16px",fontWeight:s.fontWeight.normal,letterSpacing:"-0.5px"},o=Object.assign(Object.assign({},a),{fontWeight:s.fontWeight.medium}),c=Object.assign(Object.assign({},a),{fontWeight:s.fontWeight.semibold}),d={fontSize:"11px",lineHeight:"14px",fontWeight:s.fontWeight.normal,letterSpacing:"-0.4px"},l=Object.assign(Object.assign({},d),{fontWeight:s.fontWeight.medium}),u={fontSize:"8px",lineHeight:"10px",fontWeight:s.fontWeight.normal,letterSpacing:"-0.3px"},p=Object.assign(Object.assign({},u),{fontWeight:s.fontWeight.medium}),m=Object.assign(Object.assign({},s.lead),{fontSize:"16px",lineHeight:"18px",hyphens:"auto"}),g=Object.assign(Object.assign({},s.leadMedium),{fontSize:"16px",lineHeight:"16px"});Object.assign(Object.assign({},s.tinyMedium),{fontSize:"6px",lineHeight:"7px"})},29311:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var s=i(14041),r=i(84815),n=i(43144);const a=({coordinates:e,children:t,anchor:i,onClick:a,onHover:o,onUnhover:c,zIndex:d=0,labeling:l})=>{const[u,p]=(0,s.useState)();return(0,r.e)(((t,{HtmlMarker:s},r)=>{const n=new s(r,{html:"",coordinates:e,anchor:i,interactive:!0,preventMapInteractions:!1,zIndex:d,labeling:l});p(n);let u=!1;return a&&n.getContent().addEventListener("click",a),o&&n.getContent().addEventListener("mouseenter",(e=>{u=!0,o(e)})),c&&n.getContent().addEventListener("mouseleave",(e=>{u=!1,c(e)})),()=>{n.destroy(),u&&c&&c()}}),[]),(0,s.useEffect)((()=>{null==u||u.setZIndex(d)}),[u,d]),(0,s.useEffect)((()=>{i&&(null==u||u.setAnchor(i))}),[u,i]),u?(0,n.createPortal)(t,u.getContent()):null}},47016:(e,t,i)=>{"use strict";i.d(t,{R5:()=>f,K$:()=>b.K,EJ:()=>M,zo:()=>S,uX:()=>o,Nr:()=>l});var s=i(31085),r=i(14041),n=i(84815),a=i(40931);const o=({marker:e,isHovered:t,onMouseClick:i,onMouseEnter:o,onMouseLeave:c,MarkerMarkup:d,Tooltip:l})=>{const[u,p]=(0,r.useState)(),[m,g]=(0,r.useState)();return(0,n.e)(((t,{HtmlMarker:i},s)=>{const r=new i(s,{html:"",coordinates:[e.point.lon,e.point.lat],anchor:[e.size/2,e.size/2-1],interactive:!0,preventMapInteractions:!1,zIndex:e.zIndex});return p(r),()=>{r.destroy()}}),[e.size,e.zIndex]),(0,r.useEffect)((()=>{u&&(u.setContent((0,a.qV)((0,s.jsx)(d,{marker:e,isHovered:t}))),g(u.getContent()))}),[u,e,t,d]),(0,r.useEffect)((()=>{if(!m)return;const t=()=>null==i?void 0:i(e.id),s=()=>null==o?void 0:o(e.id),r=()=>null==c?void 0:c(e.id);return m.addEventListener("click",t),m.addEventListener("mouseenter",s),m.addEventListener("mouseleave",r),()=>{m.removeEventListener("click",t),m.removeEventListener("mouseenter",s),m.removeEventListener("mouseleave",r)}}),[e,m,i,o,c]),m&&t?(0,s.jsx)(l,{marker:e,element:m.parentNode}):null};var c=i(79594),d=i(26684);const l=({markers:e,onClick:t,MarkerMarkup:i,Tooltip:n})=>{const[a,l]=(0,r.useState)(),u=(0,c.d4)((e=>(0,d.a)({state:e}))),p=(0,r.useCallback)((e=>{l(e)}),[]),m=(0,r.useCallback)((()=>{l(void 0)}),[]);return(0,s.jsx)(s.Fragment,{children:e.map((e=>{var r;return e.id===(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.id)?null:(0,s.jsx)(o,{marker:e,isHovered:a===e.id,onMouseEnter:p,onMouseLeave:m,onMouseClick:t,MarkerMarkup:i,Tooltip:n},e.id)}))})};var u=i(63109),p=i(46287),m=i(35731),g=i(63041),h=i(6098);const f=({marker:e,element:t})=>{const i=(0,c.wA)();(0,r.useEffect)((()=>{i((0,g.lQ)({id:e.id,searchId:void 0}))}),[e.id,i]);const n=(0,c.d4)((t=>(0,p.Tq)({state:t,entityId:e.id}))).data;return n?(0,s.jsx)(v,{element:t,entity:n}):null},v=({element:e,entity:t})=>{const i=(0,r.useRef)(e),{addTooltip:n}=(0,h.f)({content:(0,s.jsx)(u.T,{children:(0,s.jsx)(m.Z,{entity:t})}),to:"bottomEnd",ref:i,offset:0});return n};var b=i(29311),y=i(82316),x=i(88756),j=i(81618),w=i(90809),I=i(69158),C=i(68887),_=i(84175),k=i(99259),O=i(21644);const S=(0,r.memo)((e=>{const{labelLines:t,dbgSize:i}=e,{css:n,s:a}=(0,_.I)(T),o=(0,r.useMemo)((()=>(e,t)=>{if(t)return(0,s.jsx)("span",Object.assign({className:n(a.workingTime),style:{color:t}},{children:e}),"workingTime")}),[n,a.workingTime]),c=(0,r.useMemo)((()=>e=>(0,s.jsxs)("span",{children:[(0,s.jsx)("div",Object.assign({className:n(a.ratingStar)},{children:(0,s.jsx)(y.F,{color:"#666",size:12})})),(0,s.jsx)("div",Object.assign({className:n(a.rating)},{children:e}))]},"rating")),[]),d=(0,r.useMemo)((()=>e=>(0,s.jsx)("span",Object.assign({className:n(a.ctaButtonContainer)},{children:e.href?(0,s.jsx)("a",Object.assign({href:e.href,target:"_blank",className:n(a.ctaButton),"data-isctabutton":!0},{children:e.text})):(0,s.jsx)("span",Object.assign({className:n(a.ctaButton),"data-isctabutton":!0},{children:e.text}))}),"actionButton")),[]),l=(0,r.useMemo)((()=>(e,i)=>{const{type:r,text:l,color:u}=e;switch(r){case"name":return(0,s.jsx)("span",Object.assign({className:n(a.title)},j.dx.n("wat-marker-label-name"),{children:l}),"name");case"adsText":return(0,s.jsx)("span",Object.assign({className:n(a.ads)},j.dx.n("wat-marker-label-ads"),{children:l}),"adsText");case"rating":return c(l);case"stopFactor":return(0,s.jsx)("span",Object.assign({className:n(a.stopFactor)},{children:l}),i);case"workingTime":return o(l,u);case"link":case"order":return d(e);case"exchange":return(0,s.jsx)("span",Object.assign({className:n(a.exchange,1===t.length&&a.__onlyExchange)},j.dx.n("wat-exchange-rate-in-marker"),{children:l}),"exchange")}}),[d,c,o]),u=(0,r.useMemo)((()=>(e,t)=>{if(e[0])return"rating"===e[0].type||"stopFactor"===e[0].type?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("span",Object.assign({className:n(a.stopFactorsLine),"data-ismarkerlabel":!0},{children:(0,s.jsx)(x.u,Object.assign({inline:!0,styles:a.labelKebab,dotTheme:"dark"},{children:e.map(l)}))})),(0,s.jsx)("br",{})]},t):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("span",{children:e.map(l)},t),(0,s.jsx)("br",{})]},t)}),[l]);return t.length?(0,s.jsx)("div",Object.assign({className:n(a.wrapper,i&&a._dbgSelfOverlay)},j.dx.n("wat-marker-label"),{children:(0,s.jsxs)("span",Object.assign({className:n(a.container)},{children:[t.map(u),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",Object.assign({className:n(a.dbgSizes)},{children:`${i.width}/${i.height}`})),(0,s.jsx)("span",{className:n(a._dbgSizeOverlay),style:{width:i.width,height:i.height}})]})]}))})):null})),T=(0,_.r)({wrapper:Object.assign(Object.assign({maxWidth:w.g,userSelect:"none"},O.KJ),{fontFamily:"SBSansText, Helvetica, Arial, sans-serif",textShadow:"-1px -1px 0 #ffffff66, 1px -1px 0 #ffffff66, -1px 1px 0 #ffffff66, 1px 1px 0 #ffffff66",color:k.T.gray_4d4d4d,cursor:"pointer",position:"relative"}),_dbgSelfOverlay:{background:(0,I.m)(k.T.green_299400,.2)},_dbgSizeOverlay:{background:(0,I.m)("#94002a",.2),position:"absolute",top:0,left:0,pointerEvents:"none"},container:{pointerEvents:"auto"},title:Object.assign({color:"#262626"},O.yH),ads:{marginTop:2},stopFactorsLine:Object.assign({marginTop:2,color:"#555"},O.KJ),labelKebab:{display:"inline"},ratingStar:{display:"inline-flex",verticalAlign:"top",stroke:"#ffffffee"},rating:Object.assign({display:"inline-flex",padding:"0 1px"},O.KJ),stopFactor:Object.assign({padding:"0 1px"},O.KJ),workingTime:Object.assign({marginTop:2},O.KJ),dbgSizes:Object.assign(Object.assign({position:"absolute",color:k.T.red_fe5000,bottom:0,right:0},O.HT),{pointerEvents:"none"}),ctaButtonContainer:{paddingTop:2,display:"inline-block"},ctaButton:Object.assign(Object.assign({height:20,borderRadius:C.V.minicard,color:k.T.blue_0072ce,background:(0,I.m)(k.T.white,.8),padding:"4px 8px",boxSizing:"border-box",display:"inline-block"},O.HT),{":hover":{background:k.T.white,color:k.T.blue_028eff}}),exchange:Object.assign({marginTop:2},O.yH),__onlyExchange:{marginTop:0,color:"#262626"}});var E=i(10742);const M=(0,r.memo)((({label:e,coordinates:t,onClick:i,onHover:r,onUnhover:n})=>{const a=(0,E.D)((e=>{var t;const s=null===(t=e.target)||void 0===t?void 0:t.hasAttribute("data-isctabutton");null==i||i(e,s)}));return(0,s.jsx)(b.K,Object.assign({coordinates:t,onClick:a,zIndex:1,anchor:[-e.offset[0],-e.offset[1]],labeling:{type:"invincible",width:e.size.width,height:e.size.height},onHover:r,onUnhover:n},{children:(0,s.jsx)(S,{labelLines:e.lines})}))}));M.displayName="HtmlMarkerLabel"},46767:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var s=i(31085),r=(i(14041),i(69158)),n=i(99259),a=i(84175);const o=({children:e,isDark:t,onClick:i,contentStyles:r,position:n="center"})=>{const{s:o,css:d}=(0,a.I)(c);return(0,s.jsx)("div",Object.assign({className:d(o.overlay,t&&o._dark,"bottom"===n&&o._bottom),onClick:i},{children:(0,s.jsx)("div",Object.assign({className:d(o.content,r),onClick:e=>{e.stopPropagation()}},{children:e}))}))},c=(0,a.r)((e=>({overlay:{background:(0,r.m)(n.T.black,.6),boxSizing:"border-box",padding:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},_dark:{background:(0,r.m)(n.T.black,.8)},_bottom:{alignItems:"flex-end"},content:{flex:"1 0 auto",display:"flex",justifyContent:"center",width:e.mobile?"100%":"initial"}})))},31108:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,r:()=>o});var s=i(11388);const r=Object.assign(Object.assign({},s.z),{colors:Object.assign(Object.assign({},s.z.colors),{green_30ad00_brand:"#30ad00",green_299400_brand:"#299400",blue_0082c8_brand:"#0082c8",blue_41a5db_brand:"#41a5db"})}),n=Object.assign(Object.assign({},s.z),{colors:Object.assign(Object.assign({},s.z.colors),{green_30ad00_brand:"#ffba00",green_299400_brand:"#ffba00",blue_0082c8_brand:"#ffba00",blue_41a5db_brand:"#ffba00"})}),a={};for(const e of["dgis","urbi"])for(const t of["ltr","rtl"])for(const i of["desktop","mobile"]){const s=o(e,t,i);a[s]=Object.assign(Object.assign({},"dgis"===e?r:n),{urbi:"urbi"===e,rtl:"rtl"===t,mobile:"mobile"===i})}function o(e,t,i){return`${e}_${t}_${i}`}},98753:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});var s=i(35079);function r(e){return e?s.l[e]:s.l.default}},85356:(e,t,i)=>{"use strict";i.d(t,{O:()=>n,P:()=>a});var s=i(68819);var r=i(74006);const n=8;function a(e,t,i){const a=function(e){return e.some((e=>!!("object"===e.type&&e.entity&&e.entity.id&&["metarubric","rubric"].includes(e.entity.type))&&s.J.includes(e.entity.id)))}(e),o=[...e];return a&&o.splice(2,0,{type:"object",entity:{type:"special",id:"6"},search_attributes:{handling_type:0,suggest_parts:[{is_suggested:!1,text:t._gg("Недвижимость")}],suggested_text:t._gg("Недвижимость")}}),o.slice(0,i?r.Dc:n)}},62230:(e,t,i)=>{"use strict";function s(e,t,i="id"){return!(!e&&!t)&&(!!t&&(!e||e[i]!==t[i]))}i.d(t,{o:()=>s})},50570:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=i(88096);function r(e){const{label:t,hidden:i,pressed:r,iCanNotUseButtonSoTabIndexOnClick:a}=e,o=a?(c=a,e=>{if(e.keyCode===s.jD||e.keyCode===s.zP)return c()}):void 0;var c;return{"aria-label":t,"aria-hidden":n(i||void 0),"aria-pressed":n(r),tabIndex:o?0:void 0,onKeyDown:o}}function n(e){switch(e){case!0:return"true";case!1:return"false";default:return}}},34791:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});const s=["Премия","Премия 2ГИС","Премия 2ГИС 2025","Премия 2GIS","Премия 2025","Премия 2 ГИС","Award","2GIS Award","2GIS Award for 2025","2023 Award","Award 2025","2GIS Award 2025","2 GIS Award","сыйлығы","2ГИС сыйлығы","2ГИС сыйлығы 2025","сыйлығы 2025","2 ГИС сыйлығы","Mukofot","2GIS mukofoti","2GIS mukofoti 2025","Mukofot 2025","2 GIS mukofoti"].map((e=>e.toLowerCase())),r=e=>{const{searchType:t,awards2GisTags:i,query:r,checkAwards2GisTags:n=!0,config:a}=e;if("query"!==t)return!1;if(!a.feature2gisAwards)return!1;if(n&&!(null==i?void 0:i.length))return!1;const o=null==r?void 0:r.trim().toLowerCase();return!!o&&s.includes(o)}},7143:(e,t,i)=>{"use strict";function s(e,t){return(i,s)=>{const r=i[e],n=t(r,s);return r===n?i:Object.assign(Object.assign({},i),{[e]:n})}}i.d(t,{T:()=>s})},80482:(e,t,i)=>{"use strict";function s(e){return e&&e>=8?"high":e&&e>=5?"middle":e&&e>=1?"low":"closed"}i.d(t,{p:()=>s})},59272:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var s=i(35023),r=i(88618);const n=e=>{const{widgets:t,filterValues:i,valueTextMap:n={}}=e;if(!i||(0,s.Im)(i)||!t||!t.length)return i;const a={};t.forEach((e=>{a[e.tag]=e}));const o=Object.assign({},i);return(0,s.jJ)(i,((e,t)=>{const i=a[t],s=null==e?void 0:e.split(r.Wy),c=null==s?void 0:s.map((e=>{var t;let s=e;return i&&"checkboxlist"===i.widget&&(s=(null===(t=i.items.find((t=>t.value===e)))||void 0===t?void 0:t.text)||s),n[e]||s}));c&&(o[t]=c.join(r.Wy))})),o}},53091:(e,t,i)=>{"use strict";i.d(t,{d:()=>n});var s=i(18310),r=i(35023);function n(e){if("realty"===e.type){const t=e.entity&&"building"!==e.entity.type?{links:e.entity.id}:void 0;return e.filterValues||e.categoryId?(0,s.O)(Object.assign(Object.assign(Object.assign({},e.filterValues),{category_ids:e.categoryId}),t)):void 0}if("entity"===e.type&&e.tabRealty){const t=e.entityId&&"building"!==e.entityType?{links:e.entityId}:void 0;return!(0,r.Im)(e.tabRealty.currentFiltersValues)||e.tabRealty.currentCategoryValue?(0,s.O)(Object.assign(Object.assign(Object.assign({},e.tabRealty.currentFiltersValues),{category_ids:e.tabRealty.currentCategoryValue}),t)):void 0}}},58037:(e,t,i)=>{"use strict";function s(e,t,i){return{id:i,tag:t,name:e,caption:e,search_query:e,icon_url:`/public/dashboard/${t}.svg`,type:"metarubric"}}i.d(t,{P:()=>s})},66900:(e,t,i)=>{"use strict";function s(e){return e*Math.PI/180}function r(e,t){const i=s(e.lat),r=s(t.lat),n=s(t.lat-e.lat),a=s(t.lon-e.lon),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(i)*Math.cos(r)*Math.sin(a/2)*Math.sin(a/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Math.trunc(6371e3*c)}i.d(t,{g:()=>r})},47054:(e,t,i)=>{"use strict";function s(e){return!!e&&"metro_moscow_mcc"===e}i.d(t,{C:()=>s})},62279:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});const s=["metro_moscow_D1","metro_moscow_D2","metro_moscow_D3","metro_moscow_D4","metro_moscow_D4A","metro_moscow_D4a","metro_moscow_D5"];function r(e){return!!e&&-1!==s.indexOf(e)}},1269:(e,t,i)=>{"use strict";function s(e,...t){return i=>({type:e,payload:i,reducers:t.map((e=>(t,i)=>e(t,i.payload)))})}i.d(t,{V:()=>s})},47856:(e,t,i)=>{"use strict";i.d(t,{S:()=>n,c:()=>r});var s=i(95885);const r=i(94787).mo;function n(e,t){const i=t||r;if(e)return{fullUrl:(0,s.m)(e,`${i}x${i}`),baseUrl:e,width:i,height:i}}},39064:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var s=i(78069);function r(e){return(t,i)=>(0,s.oy)(t,(t=>e(t)?i(t):void 0))}},84642:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});var s=i(12017);function r(e){return t=>(0,s.Q2)((i=>{const s=i.appContext.frames.find(e);return t(s)}))}},41570:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(10330);function r(e,t){const i=(0,s.F)(e,t);return{localDay:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(i).toLowerCase(),localHour:i.getHours()}}},88703:(e,t,i)=>{"use strict";function s(e){var t,i,s,r;return"has_discount"in e?!(!e.has_discount||!(null===(i=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.discount)):!!(null===(r=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.discount)}i.d(t,{H:()=>s})},56624:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});var s=i(7143),r=i(66003);const n=(e,t)=>(0,s.T)("data",(0,s.T)(e,(0,r.mU)(t)))},50275:(e,t,i)=>{"use strict";i.d(t,{$W:()=>n,By:()=>o,rn:()=>a});const s=i(8319).u,r=e=>t=>{const{necessaryRubricList:i=[],sufficientRubricList:s=[]}=e;if(!t||"branch"!==t.type||!t.rubrics||!t.rubrics.length)return!1;const r=t.rubrics.map((e=>e.id));return i.length?r.every((e=>i.includes(e))):!!s.length&&r.some((e=>s.includes(e)))},n=r({sufficientRubricList:["492"]}),a=r({necessaryRubricList:s}),o=r({sufficientRubricList:s})},81339:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=e=>{switch(e){case"branch":return"firm";case"station":return"station";case"station_platform":return"platform";case"station_entrance":return"stationEntrance";case"route":return"route";default:return"geo"}}},47948:(e,t,i)=>{"use strict";i.d(t,{D:()=>s});const s=e=>{if("search"===(null==e?void 0:e.type)&&("buyHere"===e.searchType||"fmcg"===e.searchType))return e.adsIds}},14839:(e,t,i)=>{"use strict";function s(e){return(null==e?void 0:e.fixed)?{currency:e.fixed.currency,min:e.fixed.value,max:e.fixed.value}:(null==e?void 0:e.range)?{currency:e.range.currency,min:e.range.min,max:e.range.max}:(null==e?void 0:e.from)?{currency:e.from.currency,min:e.from.value,max:e.from.value}:void 0}i.d(t,{B:()=>s})},76298:(e,t,i)=>{"use strict";function s(e){if(e&&e.data)switch(e.data.source){case"favorites":case"catalog":case"tUgc":case"realty":case"exchange":case"infrastructure":return e.data;default:return}}i.d(t,{w:()=>s})},21927:(e,t,i)=>{"use strict";function s([e,t],i){return i.length?(e<i[0][0]&&(i[0][0]=e),e>i[1][0]&&(i[1][0]=e),t>i[0][1]&&(i[0][1]=t),t<i[1][1]&&(i[1][1]=t)):(i[0]=[e,t],i[1]=[e,t]),i}i.d(t,{l:()=>s})},18493:(e,t,i)=>{"use strict";i.d(t,{C:()=>c});var s=i(37234),r=i(80445),n=i(43915),a=i(91595),o=i(65328);const c=(e,t)=>{if(!t)return;const i=(0,s.A)(new Date),c=(0,s.A)((0,r.A)(i,e));return t.filter((({date:e})=>{const t=(0,n.A)(e);return((0,a.A)(t,i)||t.getTime()===i.getTime())&&(0,o.A)(t,c)}))}},95455:(e,t,i)=>{"use strict";function s(e){var t;return e&&"group"in e?null===(t=e.group)||void 0===t?void 0:t.find((e=>!!e.is_main_in_group)):void 0}i.d(t,{z:()=>s})},28356:(e,t,i)=>{"use strict";function s(e,t){return e.find((e=>e.orgId===t))}i.d(t,{K:()=>s})},66748:(e,t,i)=>{"use strict";i.d(t,{F3:()=>p,OC:()=>g,f:()=>m});var s=i(95885),r=i(37397),n=i(35277),a=i(35023);const o={id:(0,a.W7)(),media_type:"photo",real_object_type:"branch",photo:{url:"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b.jpg",preview_urls:{"88x88":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_88x88.jpg","116x116":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_116x116.jpg","176x176":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_176x176.jpg","232x232":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_232x232.jpg","328x170":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_328x170.jpg","656x340":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_656x340.jpg"},height:600,width:800},owner:{id:"123123",name:"Иван Иванов",avatar:"https://example.com/avatar.jpg"},creation_time:(new Date).toISOString(),modification_time:(new Date).toISOString(),copyright:{code:"2gis_owner",title:"Фотография от владельца",type:"text",icon:"https://i.photo.2gis.com/logo/owner.svg",provider_icon:"https://cachizer3.2gis.com/photo-providers/8277b861-94b5-4745-8909-3ee24cd7ca8d.png?w=36&h=36",value:"Фотография от владельца",url:null},is_visible:!0,comment:"Фотография от владельца",is_pinned:!0,pinned_position:3,status:"active"},c={id:(0,a.W7)(),media_type:"video",real_object_type:"branch",video:{urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],preview_urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],cover_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}},copyright:{code:"user",title:"my_nlo Nlo",type:"text",icon:"https://i.photo.2gis.com/logo/2gis.svg",provider_icon:"https://cachizer1.2gis.com/photo-providers/c4728d87-8e84-4621-b27a-e91b4f530ae3.png?w={width}&h={height}",value:"Видео от пользователя",url:null},owner:{id:"9223242625195225638",name:"my_nlo Nlo",avatar:"https://photo-resizer.web-staging.2gis.ru/images/profile/27584547741597131_7ad1.jpg",public_id:"217d2b1cc2f0439588b4b7e1aa53e57b"},creation_time:"2024-08-01T14:22:15.123Z",modification_time:"2024-08-02T10:45:30.456Z",is_visible:!0,comment:"Видео от пользователя",is_pinned:!0,pinned_position:2,status:"active"},d={id:(0,a.W7)(),media_type:"photo",photo:{preview_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}}},l={id:(0,a.W7)(),media_type:"video",video:{preview_urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],cover_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}}},u=(0,n.R)(o),p=((0,n.R)(c),(0,n.R)(d),(0,n.R)(l),"adsImage");function m(e,t){return{id:p,url:(0,s.m)(e.url,"original"),preview_urls:r.$.reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:(0,s.m)(e.url,i)})),{}),modification_time:"",creation_time:"",real_object_type:t,height:0,width:0,copyright:{},owner:{id:"",name:"",avatar:null}}}function g(e,t){return u({id:p,photo:{url:(0,s.m)(e.url,"original"),preview_urls:r.$.reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:(0,s.m)(e.url,i)})),{}),height:0,width:0},real_object_type:t})}},67461:(e,t,i)=>{"use strict";function s(e){const t=e.replace("T","-").split(":")[0];return t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}$/)?t:"unknown_version"}i.d(t,{v:()=>s})},74887:(e,t,i)=>{"use strict";function s(e,t){const{tp:i}=t;return e.is_default?e.title||i._t("Избранное"):e.title||i._t("Подборка без названия")}i.d(t,{j:()=>s})},87239:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(35023),r=i(88618);function n(e,t){if(!e||0===Object.keys(e).length)return;const i=[];return(0,s.jJ)(e,((e,s)=>{if("sort"!==s&&void 0!==e)switch(s){case"category_ids":i.push({entity:{id:e,type:"productCategory"}});break;case"rubric_id":i.push({entity:{id:e,type:"rubric"}});break;case"subway":i.push({entity:{id:e,type:"station"}});break;case"district_id":i.push({entity:{id:e,type:"adm_div",subtype:"district"}});break;case"price":const n=e.split(","),a=n[0];if(!a)break;i.push({name:s,min:+a,max:n[1]?+n[1]:void 0});break;case"transport":const o=e.split(",");for(const e of o)i.push({name:e,value:"true"});break;default:s.split(r.xt).forEach((s=>{i.push(function({value:e,name:t,filtersAttributes:i}){const s=i&&i.find((e=>e.tag===t));if("range"===(s&&s.type)){const[i,s]=e.split(",").map((e=>+e));return{name:t,max:s,min:i}}return{name:t,value:e}}({value:e,name:s,filtersAttributes:t}))}))}})),i.length?i:void 0}},29751:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var s=i(74774);function r(e,t){const{price:i,isInteger:r=!1}=e,{tp:n,config:a}=t;return i.empty?{type:"label",label:n._t("Цена не указана")}:i.from?{type:"from",value:(0,s.S)(i.from.value,{isInteger:r}),currency:a.currencies[i.from.currency]||i.from.currency}:i.range?i.range.min===i.range.max?{type:"fixed",value:(0,s.S)(i.range.min,{isInteger:r}),currency:a.currencies[i.range.currency]||i.range.currency}:-1!==i.range.max&&Number.isFinite(i.range.max)?{type:"range",min:(0,s.S)(i.range.min,{isInteger:r}),max:(0,s.S)(i.range.max,{isInteger:r}),currency:a.currencies[i.range.currency]||i.range.currency}:{type:"fixed",value:n._t("от %1",[(0,s.S)(i.range.min,{isInteger:r})]),currency:a.currencies[i.range.currency]||i.range.currency}:i.free?{type:"label",label:n._t("Бесплатно")}:i.fixed?{type:"fixed",value:(0,s.S)(i.fixed.value,{isInteger:r}),currency:a.currencies[i.fixed.currency]||i.fixed.currency,unit:e.period||i.fixed.unit}:void 0}},74774:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var s=i(73861);function r(e,t){const i=(null==t?void 0:t.isInteger)?0:100*e%100;return(0,s.B)(e.toFixed(i>0?2:0))}},80333:(e,t,i)=>{"use strict";function s(e){if("reviews"in e&&e.reviews&&e.reviews.general_rating)return{stars:e.reviews.is_org_reviews&&e.reviews.org_rating?Math.round(10*e.reviews.org_rating)/10:Math.round(10*e.reviews.general_rating)/10,count:e.reviews.is_org_reviews&&e.reviews.org_review_count_with_stars?e.reviews.org_review_count_with_stars:e.reviews.general_review_count_with_stars||e.reviews.general_review_count}}i.d(t,{X:()=>s})},11528:(e,t,i)=>{"use strict";function s(e){if(e&&0!==Object.keys(e).length&&e.sort)return{name:e.sort}}i.d(t,{g:()=>s})},41411:(e,t,i)=>{"use strict";i.d(t,{l:()=>s});const s=(e,t)=>{const{isoDate:i,currentDate:s,onlyDate:r=!1}=e,{tp:n,dateFns:a}=t;if(!Date.parse(i))return;return i.split("T")[0]===s.toISOString().split("T")[0]&&!r?n._t("сегодня"):a.format(new Date(i),"d MMMM yyyy")}},40415:(e,t,i)=>{"use strict";function s(e){if(void 0===e)return;const t=-e,i=Math.round(t),s=i<0?"-":"+",r=Math.abs(i);return`${s}${r<10?`0${r}`:r}:00`}i.d(t,{t:()=>s})},80905:(e,t,i)=>{"use strict";i.d(t,{K$:()=>c,Rh:()=>u,Su:()=>h,Xk:()=>l,Y4:()=>f,al:()=>p,bB:()=>o,f_:()=>g,lX:()=>v,n:()=>b,pS:()=>m,un:()=>d,w1:()=>a});var s=i(13251),r=i(74182),n=i(92585);function a(e,t){return e.find((e=>e.id===t))}function o(e,t){return e.find(function(e){return t=>!!t&&t.type===e}(t))}function c(e,t){return e.find((e=>t.includes(e.type)))}function d(e){if("offers"===e.searchType)return e.searchId}function l(e,t){const i="actual"===t?r.HX:r.At;switch(e.searchType){case"query":return i(e.tabCatalog.searchId);case"buyHere":case"fmcg":case"inside":case"filials":case"brand":return i(e.searchId)}}function u(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.parentSearchId||(0,r.HX)(e.tabCatalog.searchId):(0,r.HX)(e.searchId);case"entity":return"inside"===e.tab&&e.tabInside?(0,r.HX)(e.tabInside.searchId):""}}function p(e){const t=(0,s.v)(e);return t?t.rubric_id:void 0}function m(e,t){var i,s;const r=o(e,"entity");if(r&&"entity"===r.type)return r;if(t&&"pending"===(null===(i=e[0])||void 0===i?void 0:i.type)){return null===(s=t[t.length-1])||void 0===s?void 0:s.find(n.n)}}function g(e,t){return e.find((e=>"entity"===e.type&&e.entityId===t))}function h(e){const t=o(e,"search");if(t&&"search"===t.type)return t}function f(e){const t=o(e,"pending");if(t&&"pending"===t.type&&"entity"===t.subtype)return t}function v(e,t){const i=e[0],s=a(e,t);return!(!i||!s)&&("search"===i.type&&"offers"===i.searchType&&2===e.length?"entity"===s.type:i===s)}function b(e,t,i,s){return"tab"in e&&"reviews"===e.tab&&i?t._t("Отзывы о %1",[s]):s}},76105:(e,t,i)=>{"use strict";function s(e){switch(e.type){case"link":return e.value;case"phone":return`tel:${e.value}`;default:return}}i.d(t,{j:()=>s})},34533:(e,t,i)=>{"use strict";function s(e,t){return e||(t[0]?t[0].id:void 0)}i.d(t,{r:()=>s})},38385:(e,t,i)=>{"use strict";function s(e){if(!e)return;const{regionId:t,overlapRegionId:i,baseOverlapRegionId:s}=e;return t&&"0"!==t?t:i&&"0"!==i?i:s&&"0"!==s?s:void 0}i.d(t,{t:()=>s})},90024:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(35023);const r=e=>(0,s.Bq)(e.orders.map((e=>e.items)))},55027:(e,t,i)=>{"use strict";i.d(t,{i$:()=>b,zP:()=>v});var s=i(46579),r=i(14041),n=i(50432);const a="https://2gis.onelink.me/oJqA",o="https://2gis.onelink.me/IEzw",c="https://2gis.onelink.me/65w0",d={ru:"https://2gis.onelink.me/oJqA",com:"https://2gis.onelink.me/cCeS"},l={desktop:"https://delo.onelink.me/rIc4/m8etlv8q",mobile:"https://delo.onelink.me/rIc4/ie93s8xd"},u={desktop:"https://2gis.onelink.me/nw2S/u1mob236",mobile:"https://2gis.onelink.me/nw2S/i2s0ehbk"},p="https://urbi.onelink.me/WGuZ",m="https://urbi.onelink.me/UbXx",g="https://urbi.onelink.me/HoaG",h="https://urbi.onelink.me/WGuZ",f=e=>{const{type:t,lang:i,isMobileDevice:s,isUrbi:r,isPromoShown:n,promoType:f,deepLink:v,withoutQuery:b}=e;if(!n)return;if(r&&"fullscreenFriendsPopup"!==f)return;const y="deloPromo"===f?s?l.mobile:l.desktop:"storiesDiscountsPopup"===f?s?u.mobile:u.desktop:r?"qrCode"===t?p:s?h:"ios"===t?m:g:"qrCode"===t?a:s?o:"ios"===t?c:"ru"===i?d.ru:d.com,x=s?"monline":"online",j={keys:["utm_source","media_source","source","pid","origin_pid","source_pid","media"],defaultValue:x},w={keys:["utm_campaign","campaign","c"],defaultValue:f},I={keys:["af_sub4"],defaultValue:x},C={keys:[],defaultValue:f},_="undefined"!=typeof window?{keys:["deep_link_value"],defaultValue:v||`dgis://${window.location.host}${window.location.pathname}`}:{};return("undefined"!=typeof window&&window.AF_SMART_SCRIPT?window.AF_SMART_SCRIPT.generateOneLinkURL({oneLinkURL:y,afParameters:b?{}:Object.assign({deepLinkValue:_,mediaSource:j,campaign:w,afCustom:[{paramKey:"utm_source",keys:["utm_source","media_source","source"]},{paramKey:"utm_medium",keys:["utm_medium","medium"]},{paramKey:"utm_campaign",keys:["utm_campaign","campaign"]},{paramKey:"af_ss_ui",defaultValue:"true"},{paramKey:"af_dp",defaultValue:"https://"}],afSub4:I},f?{afSub5:C}:{})}):{clickURL:y}).clickURL},v=e=>{const{platform:t,type:i,deepLink:n,enabled:a=!0,withoutQuery:o=!1}=e,{isMobileDevice:c,lang:d,appsFlyerBaseLinksEnabled:l,isPwa:u,brandCode:p}=(0,s.U)(),m=l&&!u,g="urbi"===p,[h,v]=(0,r.useState)("undefined"==typeof window?f({type:t,lang:d,isMobileDevice:c,isUrbi:g,isPromoShown:m,promoType:i,deepLink:n,withoutQuery:o}):window.location.href);return(0,r.useEffect)((()=>{a&&v(f({type:t,lang:d,isMobileDevice:c,isUrbi:g,isPromoShown:m,promoType:i,deepLink:n,withoutQuery:o}))}),[c,g,t,d,i,m,n,a,o]),h},b=e=>{const{elementId:t,type:i,deepLink:s,enabled:a=!0,withoutQuery:o=!1}=e;v({type:i,platform:"qrCode",deepLink:s,withoutQuery:o}),(0,r.useEffect)((()=>{var e;if("undefined"!=typeof window){if(!window.AF_SMART_SCRIPT)return void(0,n.vV)({id:"kspr8",message:"Отсутствует window.AF_SMART_SCRIPT. Не получилось сгенерить QR-код",level:"error",payload:{type:"exception",subtype:"AppsFlyerLink"}});a&&(null===(e=window.AF_SMART_SCRIPT)||void 0===e||e.displayQrCode(t))}}),[t,a])}},40819:(e,t,i)=>{"use strict";function s({first_name:e,last_name:t,display_name:i},s){const r=e?e[0]:"",n=t?t[0]:"",a=r&&n?`${r[0]}${n[0]}`:"",o=i?i[0]:"",c=s._t("Я");return a||o||c}i.d(t,{Z:()=>s})},51746:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(34764);const r=e=>{if(!e)return;return Object.keys(s.MN).find((t=>Object.values(s.MN[t]).includes(e.tag)))}},39954:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n,a:()=>a});var s=i(34764),r=i(51746);const n="https://awards.2gis.ru/",a=({entity:e,feature2gisAwards:t,isMinicard:i,baseDomain:a,locale:o})=>{if(!e)return;const c="branch"===e.type?e.attribute_groups:void 0;if(!c)return;let d;const l=Object.values(s.mN).find((e=>null==c?void 0:c.some((t=>t.attributes.some((t=>{const s=(0,r.O)(t),n=i?s===e&&t.is_award:s===e;return n&&(d=t),n})))))),u=l===s.mN.Award2GIS?n:void 0,p="2gis.ru"===a&&"ru_RU"===o?"Премия 2ГИС":"2GIS Awards",m=l===s.mN.Award2GIS?p:null==d?void 0:d.name;return l!==s.mN.Award2GIS||t?{hasAward:!!l,awardName:m,awardType:l,awardIconUrl:null==d?void 0:d.icon_url,awardTag:null==d?void 0:d.tag,awardLabelLink:u}:void 0}},52840:(e,t,i)=>{"use strict";i.d(t,{S:()=>o});var s=i(61200),r=i(19945),n=i(55467),a=i(47422);function o({entity:e,searchSourceType:t,notShowDrilldown:i,config:o}){if("firmsInBuilding"===t||"firmsOnTerritory"===t)return"address_comment"in e&&e.address_comment?e.address_comment:"";const c=o.addressSeparator+" ",d=(0,r.M0)(e,{useSingleComponentForBranch:!0,config:o});if(i||(0,a.m)(e))return d.join(c);const l=(0,s.Uk)(e,{separator:c,alwaysIncludeDivision:o.alwaysIncludeDivisionInDrilldown,shortenForBranches:!o.alwaysIncludeDivisionInDrilldown});return(0,n.v)(d,l).join(c)}},42625:(e,t,i)=>{"use strict";i.d(t,{v:()=>a});var s=i(46645),r=i(98379),n=i(65290);function a(e){const{frameUuid:t,ownerName:i,state:a}=e;if(!i)return{};switch(i){case"placeCardFull":case"cardRealty":return{placeItem:(0,r.t)({state:a,entityFrameId:t})};case"dashboardFrame":return{};default:return{searchResultsList:(0,n.tp)({state:a,searchFrameId:t}),promoItem:(0,s.j)({state:a,frameId:t})}}}},31203:(e,t,i)=>{"use strict";i.d(t,{V:()=>n});var s=i(7540),r=i(57744);function n(e){var t;const{banner:i,position:n,state:a}=e;return{entity:{id:i.ad_attributes.branch_id,type:"branch",segmentInfo:(0,s.o)({locale:(0,r.u)(a),region_id:i.ad_attributes.project_id?i.ad_attributes.project_id.toString():void 0})},mainRubric:void 0!==i.main_rubric_id?i.main_rubric_id.toString():void 0,adsId:i.ad_attributes.ads_id,org:i.org.id,adsAlgorithm:i.ad_attributes.algorithm_id,auctionId:i.ad_attributes.auction_id,contextRubric:i.ad_attributes.rubric_id?String(i.ad_attributes.rubric_id):void 0,adsMaterialVersionId:i.ad_attributes.banner_id,position:n,adsHighlight:null===(t=i.ad_attributes.is_ads)||void 0===t||t}}},60695:(e,t,i)=>{"use strict";i.d(t,{$:()=>s});const s=(e,t)=>{const i=r(e,t);return{size:null==t?void 0:t.total,uiFilters:i}},r=(e,t)=>{var i;const s=[];e.action&&s.push({name:"buy"===e.action?"exchangeBuy":"exchangeSell",value:String(e.volume||!0)});const r=e.currencyCode||(null===(i=null==t?void 0:t.currencies[0])||void 0===i?void 0:i.code);return r&&s.push({name:"exchangeToCurrency",value:r}),s}},84103:(e,t,i)=>{"use strict";i.d(t,{d:()=>s});const s=({ownerName:e,entity:t,validOwnerName:i})=>{var s,r;return e===i&&"branch"===t.type?Object.assign({org:t.org.id},(null===(s=t.brand)||void 0===s?void 0:s.id)?{brand:null===(r=t.brand)||void 0===r?void 0:r.id}:{}):void 0}},83812:(e,t,i)=>{"use strict";i.d(t,{G:()=>s.G});var s=i(67046)},45863:(e,t,i)=>{"use strict";i.d(t,{p:()=>a});var s=i(110),r=i(19400),n=i(53930);const a=e=>{var t,i,a,o,c,d;const{media:l,orgId:u,tag:p,entityId:m,entityType:g,isVideo:h,loadingTime:f}=e;if((0,r.XS)(l)&&(null==l?void 0:l.temporary)||!l||!l.creation_time)return;const v=(0,s.o)(l.creation_time),b=+new Date(l.creation_time),y=g||((0,r.XS)(l)||(0,n.xz)(l)?null===(t=l.object)||void 0===t?void 0:t.type:l.real_object_type),x=m||((0,r.XS)(l)?null===(i=l.object)||void 0===i?void 0:i.id:void 0);return h?{videoId:l.id,entity:{type:y,id:x},org:u,tag:p,createdAt:{timestamp:b,utcOffset:v},provider:(0,n.xz)(l)?"user":(null===(a=l.copyright)||void 0===a?void 0:a.code)||"user",author:(0,n.xz)(l)||null===(o=l.owner)||void 0===o?void 0:o.id,loadingTime:f}:{photoId:l.id,owner:{entity:{type:y,id:x},org:u},tag:p,createdAt:{timestamp:b,utcOffset:v},provider:(0,n.xz)(l)?"user":(null===(c=l.copyright)||void 0===c?void 0:c.code)||"user",author:(0,n.xz)(l)||null===(d=l.owner)||void 0===d?void 0:d.id}}},98379:(e,t,i)=>{"use strict";i.d(t,{t:()=>a});var s=i(46287),r=i(32288),n=i(80905);function a(e){const{state:t,entityFrameId:i,currentCongestion:a,position:o,withBrand:c}=e,d=(0,n.w1)(t.appContext.frames,i);if(!d||"entity"!==d.type)return;const l=(0,s.Tq)({state:t,entityId:d.entityId,searchId:d.searchId}).data;return l?(0,r.ij)({entity:l,currentCongestion:a,position:o,withBrand:c}):void 0}},32288:(e,t,i)=>{"use strict";i.d(t,{eH:()=>s.eH,ij:()=>s.ij});var s=i(7818)},26423:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var s=i(14839);const r=e=>{const{branch:t,offer:i,product:r}=e;return{hasToTheShopButton:!!i.url&&!!i.button_name,product:{entity:{id:r.id,type:"orgProduct"},name:r.name,categories:r.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:t.id,type:"branch"},org:t.org.id},price:(0,s.B)(i.price_value)}}}},41511:(e,t,i)=>{"use strict";i.d(t,{h:()=>n});var s=i(14839);const r=({ads:e,offer:t},i)=>{const s=[...(null==e?void 0:e.mini_card_label)?[{actionType:"expandLabel",value:e.mini_card_label.text,contentOwner:{org:e.mini_card_label.org_id,adsId:e.mini_card_label.order_position_id}}]:[],...t.market_price&&i?[{actionType:"expandLabel",value:i}]:[]];return s.length?s:void 0};function n({realtyItem:e,marketPriceLabel:t}){if(!e)return;const{product:i,offer:n,branch:a}=e;return{product:{entity:{id:i.id,type:"orgProduct"},name:i.name,categories:i.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:a.id,type:"branch"},org:a.org.id},price:(0,s.B)(n.price_value)},hasToTheShopButton:!!n.url,callToActions:r(e,t)}}},81462:(e,t,i)=>{"use strict";i.d(t,{i:()=>l});var s=i(11528),r=i(80905),n=i(87239),a=i(82393),o=i(53091),c=i(59272),d=i(92448);function l({state:e,isSuccess:t,search:i}){var l,u;const p=(0,r.bB)(e.appContext.frames,"realty");if(t&&p){const t=(0,a.MJ)(e),r=p.entity&&"building"===p.entity.type?{type:p.entity.type,id:p.entity.id}:{type:"project",id:t};if(!r)return;const u=(0,o.d)(p);return{size:(null==i?void 0:i.total)||0,entity:r,searchParameters:void 0,auctionId:void 0,uiFilters:(0,n.R)((0,c.D)({widgets:null===(l=null==i?void 0:i.filters)||void 0===l?void 0:l.main,filterValues:u,valueTextMap:d.GB}),void 0),sort:(0,s.g)(p.filterValues)}}const m=(0,r.bB)(e.appContext.frames,"entity");if(t&&m){const e={type:"branch"===m.entityType?"branch":"building",id:m.entityId};if(!e)return;const t=(0,o.d)(m);return{size:(null==i?void 0:i.total)||0,entity:e,searchParameters:void 0,auctionId:void 0,uiFilters:(0,n.R)((0,c.D)({widgets:null===(u=null==i?void 0:i.filters)||void 0===u?void 0:u.main,filterValues:t,valueTextMap:d.GB}),void 0)}}}},34438:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var s=i(110);function r(e){var t,i;const{review:r,orgId:n}=e,a=(0,s.o)(r.date_created),o=+new Date(r.date_created);if(!Number.isNaN(o))return{reviewId:r.id,source:r.provider,rating:r.rating,rateOnly:0===(null===(t=r.text)||void 0===t?void 0:t.length),author:r.user.id,createdAt:{timestamp:o,utcOffset:a},owner:{entity:{type:r.object.type,id:r.object.id},org:n},gallerySize:(null===(i=r.photos)||void 0===i?void 0:i.length)||0,status:void 0}}},65290:(e,t,i)=>{"use strict";i.d(t,{tp:()=>b,Mj:()=>f});var s=i(43793),r=i(56803),n=i(26289),a=i(30066),o=i(11528);function c(e){if(e&&4===e.length)return e.map((e=>({lat:e.latitude,lon:e.longitude})))}var d=i(80905),l=i(83878),u=i(87239),p=i(66089),m=i(42451),g=i(18396),h=i(74182);const f=()=>(0,l.Mz)([({state:e,frame:t})=>(0,r.s8)({state:e,searchId:(0,s.X)(t)||""}),({state:e,frame:t})=>(0,n.o)({state:e,filtersId:(0,a.Y)(t)}),({state:e,frame:t,checkStories:i})=>{var s;if(!i)return;const r=(0,m.j)(t);return r?!!(null===(s=e.data.gta[r])||void 0===s?void 0:s.stories):null},({frame:e})=>{if((0,g.O)(e))return(0,h.HX)(e.tabCatalog.searchId)}],((e,t,i,s)=>{var r;if(!e.meta||!e.data||"loading"===e.meta.status)return;const{total:n,searchType:a,buildingId:d,placeId:l,searchAttributes:m,filters:g}=e.data,h=(0,o.g)(g),f=null===(r=null==m?void 0:m.query_context)||void 0===r?void 0:r.reduce(((e,t)=>("attribute"===t.table_name&&e.push(t.record_id),e)),[]);return Object.assign(Object.assign({uiFilters:(0,u.R)(g,t&&t.filters&&t.filters.attributes)},void 0!==i?{template:i?"stories_on_position_4":"without_stories"}:{}),{sort:h,size:n||0,searchHash:s,typoCorrected:!!(null==m?void 0:m.query_fix)||void 0,searchType:a,firstResultClass:a,contextRubrics:(0,p.l)(null==m?void 0:m.query_context),contextAttributes:(null==f?void 0:f.length)?f:void 0,hasGeoRestriction:!!m&&!!m.geo_restriction,partialResult:!!m&&m.is_partial,advertisers:m&&m.advertisers?m.advertisers.map((({org:e,rubr:t})=>({org:e,contextRubric:t}))):void 0,searchStatisticsTags:(null==m?void 0:m.statistic_tags)||void 0,outviewport:m?c(m.out_viewport):void 0,building:d,territory:l,searchSegmentId:m&&m.dgis_project_id,rtwVersion:null==m?void 0:m.rtw_version})})),v=f();function b(e){const{state:t,searchFrameId:i,checkStories:s}=e,r=(0,d.w1)(t.appContext.frames,i);if(r&&("search"!==r.type||"filials"!==r.searchType))return v({state:t,frame:r,checkStories:s})}},86664:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});var s=i(14880);const r=({story:e})=>({id:e.orgId,type:"org"});function n(e){const{story:t,position:i}=e,n=s.YH.isAdStory(t);return Object.assign(Object.assign(Object.assign({id:t.id,entity:r({story:t}),size:s.YH.getStorySlides(t).length,name:s.YH.getStoryPreview(t).text,adsAlg:"string"==typeof t.algorithmId?+t.algorithmId:t.algorithmId},n&&t.rubricId?{rubric:`${t.rubricId}`}:{}),"discovery"===t.source?{carouselPosition:4}:{}),i?{position:i}:{})}},26185:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var s=i(14880);const r=e=>{const t=s.YH.getSlideTextPosition(e);return e.template?{template:"left_bottom"===t?"LeftBottom":"LeftTop"}:{}};function n(e){const{slide:t}=e;return Object.assign({id:t.id,title:t.title},r(t))}},99906:(e,t,i)=>{"use strict";function s(e){const t="frame"in e?n(e.frame):e.name;if(t)return{uiElement:{type:"frame",uuid:"frame"in e?e.frame.id:e.uuid,name:t,framesLayout:{dataViewer:r(e.state)}}}}function r(e){return e.appContext.frames.length?e.appContext.frames.map((e=>({uuid:e.id,name:n(e)}))).reverse():[{name:"dashboardFrame",uuid:e.appContext.staticFrames.dashboard.id}]}function n(e){switch(e.type){case"dashboard":return"dashboardFrame";case"search":return"offers"===e.searchType?"branchMarketSearchResultsFrame":"directorySearchResultsFrame";case"prices":return"pricesFrame";case"collection":switch(e.subtype){case"private":return"userCollectionFrame";case"guide":return"collectionCardFrame";default:return"specialProjectCollectionFrame"}case"userProfile":return"userProfileFrame";case"gallery":return"galleryFrame";case"entity":return"directoryObjectCardFrame";case"offer":return"branchMarketProductOfferFrame";case"direction":return"directionFrame";case"directions":return"routeSearchFrame";case"rubric":return"rubricatorSubrubricsFrame";case"rubricator":return"rubricatorFirstLevelFrame";case"pending":return"directoryObjectCardFrame";case"product":return"productFrame";case"publicFavorites":switch(e.subtype){case"guidebook":return"guidebookFrame";case"award2019":return"award2gisFrame";default:return"interestingFrame"}case"unconfirmedReviews":return"unconfirmedReviewsFrame";case"achievements":return"achievementsFrame";case"currentReview":return"currentReviewFrame";case"tUgc":return"tUGCCardFrame";case"userFriendsActivity":return"friendsActivitiesHereFrame";case"realty":return"realtyLayerFrame";case"realtyCard":return"realtyLayerProductOfferFrame";case"error":return"errorFrame";case"exchange":return"exchangeCurrencyFrame";case"friendsList":return"friendsLayerFrame";case"userPublicProfile":return"profileCardFrame";case"sharingGeo":return"geoSharingCardFrame";case"advice":return"adviceFrame";case"guide":return"guideFrame"}}i.d(t,{DR:()=>n,f_:()=>s})},28076:(e,t,i)=>{"use strict";function s(e){switch(e.searchType){case"filials":case"brand":return"filialsList";case"inside":return"onterritory"===e.contentType?"territoryOrgsList":"buildingOrgsList";case"offers":return"productOffersList";case"buyHere":return"buyHerePartnersList";case"fmcg":return"fmcgPartnersList";case"query":return e.tabCatalog.isBuyHereRubric?"buyHerePartnersList":"searchResultsList"}}i.d(t,{e:()=>s})},76125:(e,t,i)=>{"use strict";function s(e){return"building"===e.type?e.id:"branch"===e.type||"station_entrance"===e.type?e.address&&e.address.building_id:void 0}i.d(t,{$:()=>s})},51143:(e,t,i)=>{"use strict";i.d(t,{du:()=>d,vm:()=>c});var s=i(23020),r=i(6514),n=i(9729),a=i(49039),o=i(66333);const c=()=>(0,o.Mz)([({state:e})=>(0,s.kD)(e),({state:e})=>e.session.screen,({state:e})=>e.appContext.rotation,({points:e})=>e,({offset:e})=>e],((e,t,i,s,a)=>{const o=(0,r.Y)(t,a?{topLeft:[e.topLeft[0]+a.topLeft[0],e.topLeft[1]+a.topLeft[1]],bottomRight:[e.bottomRight[0]+a.bottomRight[0],e.bottomRight[1]+a.bottomRight[1]]}:e),c=(0,n.getCenterZoomByPoints)(s,i,[o.width,o.height]);if(c)return{lon:c.center[0],lat:c.center[1],zoom:Math.min(c.zoom-.1,16)}})),d=(c(),(()=>{const e=(0,a.N)(),t=c();return({state:i,entity:s,offset:r})=>{const n=e({state:i,entity:s});if(n)return t({state:i,points:n,offset:r})}})())},4986:(e,t,i)=>{"use strict";function s(e){return Object.assign({top:e.top,left:e.left,bottom:e.top,right:e.left,x:e.left,y:e.top,height:0,width:0})}i.d(t,{K:()=>s})},82082:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});var s=i(95885),r=i(94787);const n=e=>{var t,i,n,a,o,c,d,l;return(null===(n=null===(i=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.marker_logo)||void 0===n?void 0:n.url)&&-1!==(null===(o=null===(a=e.ads)||void 0===a?void 0:a.options)||void 0===o?void 0:o.marker_logo.url.indexOf(".png"))?(0,s.m)(e.ads.options.marker_logo.url,`${r.mo}x${r.mo}`):null===(l=null===(d=null===(c=e.ads)||void 0===c?void 0:c.options)||void 0===d?void 0:d.marker_logo)||void 0===l?void 0:l.url}},33224:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});var s=i(652),r=i(73620);function n(e,t,i){if("AE"===t&&"branch"!==e.type&&"kilometer_road_sign"!==e.type)return(0,r.C)({entity:e});const n="attraction"===e.type||"kilometer_road_sign"===e.type?i||e.point:i;return n&&"station"!==e.type&&"branch"!==e.type&&"station_platform"!==e.type&&"station_entrance"!==e.type&&"point"!==e.type?(0,s.c)({point:n}):void 0}},94887:(e,t,i)=>{"use strict";function s(e){var t,i;return"links"in e&&(null===(i=null===(t=e.links)||void 0===t?void 0:t.branches)||void 0===i?void 0:i.count)||0}i.d(t,{x:()=>s})},73428:(e,t,i)=>{"use strict";function s(e){const t="links"in e&&e.links;return t&&t.servicing&&t.servicing.count||0}i.d(t,{o:()=>s})},18472:(e,t,i)=>{"use strict";function s(e){var t,i;return"links"in e&&(null===(i=null===(t=e.links)||void 0===t?void 0:t.on_territory)||void 0===i?void 0:i.count)||0}i.d(t,{i:()=>s})},41013:(e,t,i)=>{"use strict";function s(e){const t="links"in e&&e.links;return t&&t.providers&&t.providers.count||0}i.d(t,{p:()=>s})},3726:(e,t,i)=>{"use strict";function s(e,t){return t&&e.some((e=>e.tab===t))?t:e[0].tab}i.d(t,{c:()=>s})},63168:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var s=i(99259),r=i(9154);function n(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function a(e){if(!/^#[0-9a-f]{3,6}$/i.test(e))return s.T.gray_262626;const[t,i,a]=(0,r.E)(e),o=function(e){const t=e[0]/255,i=e[1]/255,s=e[2]/255;return.2126*n(t)+.7152*n(i)+.0722*n(s)}([t,i,a]);return o>.5?s.T.gray_262626:s.T.white}},55143:(e,t,i)=>{"use strict";function s(e){var t,i;return e.city_alias?e.city_alias:"adm_div"in e?null===(i=null===(t=e.adm_div)||void 0===t?void 0:t.find((e=>("city"===e.type||"settlement"===e.type)&&e.city_alias)))||void 0===i?void 0:i.city_alias:void 0}i.d(t,{f:()=>s})},71781:(e,t,i)=>{"use strict";i.d(t,{b:()=>c});var s=i(6458);function r(e,t){if((0,s.m)(e.subtype,e.route_logo))return;const i=e.routes&&e.routes.length||0;return 0!==i?t._nt(["%% маршрут","%% маршрута","%% маршрутов"],i):void 0}var n=i(34070),a=i(35023);const o=(e,t)=>e.name||e.name_back?t._t("Километровый знак"):void 0;function c(e,t,{withFloors:i,withRoutesCount:s}={}){return function(e,t,{withFloors:i,withRoutesCount:s}={}){switch(e.type){case"branch":return(0,n.hx)(e);case"building":return(0,n.i$)(e,t,{withFloors:i});case"route":return(0,n.q6)(e,t);case"station":case"station_platform":return(0,a.oE)([...(0,n.FP)(e,t),!!s&&r(e,t)]);case"station_entrance":return(0,n.FP)(e,t);case"point":return(0,n.Yl)(e);case"kilometer_road_sign":return(0,a.oE)([o(e,t)]);default:return(0,n.eu)(e,t)}}(e,t,{withFloors:i,withRoutesCount:s}).map((e=>(0,a.ND)(e)))}},62260:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});var s=i(59954),r=i(73865);function n(e,t){var i,n;switch(e.type){case"entity":case"pending":case"gallery":return{entityId:e.entityId,searchId:e.searchId};case"prices":return{entityId:e.entityId,searchId:e.entitySearchId};case"realtyCard":return{entityId:(0,r.X)(t)};case"realty":return"building"===(null===(i=e.entity)||void 0===i?void 0:i.type)?{entityId:null===(n=e.entity)||void 0===n?void 0:n.id,searchId:e.searchId}:s.t0;case"product":return{entityId:e.buildingId};case"search":switch(e.searchType){case"inside":return{entityId:e.objectId};case"offers":return{entityId:e.branchId,searchId:e.branchSearchId}}return{}}return{}}},73620:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var s=i(652);function r({entity:e,withDegreeSymbol:t}){var i;return"address"in e&&(null===(i=e.address)||void 0===i?void 0:i.makani)?e.address.makani:"point"in e&&e.point?(0,s.c)({point:e.point,withDegreeSymbol:t}):void 0}},49039:(e,t,i)=>{"use strict";i.d(t,{L:()=>c,N:()=>o});var s=i(19263),r=i(35023),n=i(66333),a=i(21927);const o=()=>(0,n.Mz)([({entity:e})=>e,({state:e,entity:t})=>{var i,s;const r="group"in t?null===(s=null===(i=t.group)||void 0===i?void 0:i.find((({type:e})=>"adm_div"===e)))||void 0===s?void 0:s.id:void 0;return r?null==e?void 0:e.data.entity.profile[r]:void 0}],((e,t)=>{var i;if("route"===e.type)return e.directions&&(0,r.Bq)(e.directions.map((e=>e.geometry.selection?(0,s.sX)(e.geometry.selection):void 0))).reduce(((e,t)=>t?(0,a.l)([t.lon,t.lat],e):e),[]);const n="adm_div"===(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.type)?t.data.geometry:e.geometry,o=n&&n.selection&&(0,s.lj)(n.selection);return o&&o.geometry?Array.isArray(o.geometry)?(0,r.Bq)(o.geometry).reduce(((e,t)=>t?(0,a.l)([t.lon,t.lat],e):e),[]):[[o.geometry.lon,o.geometry.lat]]:"point"in e&&e.point?[[e.point.lon,e.point.lat]]:void 0})),c=o()},31222:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var s=i(6276),r=i(95455),n=i(53790);function a(e){const t=(0,r.z)(e);switch(t?t.type:e.type){case"branch":return(0,s.E)(e)?["contacts","inside","reviews","prices","photos","realty","services","providers","discounts"]:["contacts","info","inside","reviews","menu","prices","photos","realty","services","providers","discounts"];case"building":return["info","inside","realty","reviews","photos","services","providers"];case"station_entrance":return["info","inside","realty","reviews","photos"];case"station":case"station_platform":case"route":return["info","photos"];case"street":case"adm_div":return(0,n._)(e)?["info","inside","reviews","photos","realty"]:["info","inside","reviews","photos"];default:return["info","reviews","photos"]}}},85566:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(44293);function r(){return{hardwareInfo:(0,s.Z)(),sourceUrl:window.location.href.split("://")[1]}}},73516:(e,t,i)=>{"use strict";function s(e){const t=Math.max(0,...e.map((e=>e.length)));if(0===t)return;const i=e.map(((e,t)=>({markers:e,floorIndex:t}))).filter((e=>e.markers.length===t));if(i.length>1){const e=i.map((e=>Math.min(...e.markers.map((e=>e.index))))),t=Math.min(...e);return i[e.indexOf(t)].floorIndex}return i[0].floorIndex}i.d(t,{_:()=>s})},43793:(e,t,i)=>{"use strict";i.d(t,{X:()=>n});var s=i(74182),r=i(36539);function n(e,t){const i="actual"===t?s.HX:s.At;switch(e.type){case"search":switch(e.searchType){case"query":return i(e.tabCatalog.searchId);case"inside":case"filials":case"brand":case"buyHere":case"fmcg":return i(e.searchId);default:return e.searchId}case"entity":return(0,r.z)(e,e.tab,t);case"gallery":return e.searchId;case"prices":return e.offersSearchId;case"directions":return i(e.searchId)}}},20919:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(74182);function r(e){if("search"===e.type)switch(e.searchType){case"query":return(0,s.HX)(e.tabCatalog.page);case"offers":case"filials":case"brand":case"buyHere":case"fmcg":return(0,s.HX)(e.page)}return 1}},13251:(e,t,i)=>{"use strict";function s(e){switch(e.type){case"search":return"query"===e.searchType?"catalog"===e.tab?e.tabCatalog.filterValues:void 0:e.filterValues;case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}i.d(t,{v:()=>s})},36539:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(74182);function r(e,t,i){const r="actual"===i?s.HX:s.At;switch(t){case"inside":return e.tabInside?r(e.tabInside.searchId):void 0;case"providers":return e.tabProviders?e.tabProviders.searchId:void 0;case"services":return e.tabServices?e.tabServices.searchId:void 0;case"prices":return e.tabPrices?e.tabPrices.searchId:void 0;case"reviews":if(!e.tabReviews)return;return e.tabReviews.isOrg?r(e.tabReviews.orgReviewsSearchId):r(e.tabReviews.entityReviewsSearchId);default:return}}},98638:(e,t,i)=>{"use strict";function s(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.filterValues:"filterValues"in e?e.filterValues:void 0;case"product":return e.filterValues;case"directions":return e.filterValuesByTab[e.tab];case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0;default:return}}i.d(t,{G:()=>s})},30066:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var s=i(74182);function r(e,t){const i="actual"===t?s.HX:s.At;switch(e.type){case"search":switch(e.searchType){case"query":return i(e.tabCatalog.filtersId);case"offers":return i(e.filtersId);case"buyHere":case"fmcg":case"filials":case"brand":case"inside":return e.filtersId||"";default:return""}case"entity":return"";case"product":return e.filtersId}return""}},42451:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var s=i(74182);function r(e,t){const i="actual"===t?s.HX:s.At;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?i(e.tabCatalog.gtaId):void 0;case"filials":case"brand":case"inside":return e.gtaId;default:return}case"entity":switch(e.tab){case"inside":return e.tabInside?e.tabInside.gtaId:void 0;case"services":return e.tabServices?e.tabServices.gtaId:void 0;case"providers":return e.tabProviders?e.tabProviders.gtaId:void 0;default:return}default:return"gtaId"in e?e.gtaId:void 0}}},54694:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var s=i(74182);function r(e){switch(e.type){case"search":switch(e.searchType){case"query":return(0,s.At)(e.tabCatalog.page);case"offers":case"inside":case"filials":case"brand":case"buyHere":case"fmcg":return(0,s.At)(e.page);default:return 1}case"realty":case"exchange":case"product":return e.page;case"entity":switch(e.tab){case"inside":return e.tabInside?(0,s.At)(e.tabInside.page):1;case"services":return e.tabServices?e.tabServices.page:1;case"providers":return e.tabProviders?e.tabProviders.page:1;default:return 1}default:return 1}}},18322:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var s=i(43793),r=i(35023),n=i(20919);function a(e){const t=[e.id];switch(e.type){case"search":switch(t.push((0,s.X)(e,"actual")),"query"===e.searchType&&t.push(e.tab),e.searchType){case"query":t.push((0,n.t)(e).toString()),t.push(o(e));break;case"buyHere":case"fmcg":case"offers":t.push(o(e))}break;case"entity":t.push(e.tab);break;case"directions":t.push((0,s.X)(e,"actual")),t.push(e.tab)}return(0,r.oE)(t).join("_")}function o(e){if("search"!==e.type)return"";switch(e.searchType){case"query":return e.tabCatalog.scrollIdHash;case"offers":case"buyHere":case"fmcg":return e.scrollIdHash}}},67013:(e,t,i)=>{"use strict";function s(e){return"product"===e.type?e.viewpoint:e.tabCatalog.viewpoint}i.d(t,{b:()=>s})},44293:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=(0,i(66333).Bj)((function(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas").getContext("webgl",e);if(t){const e=function(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(t);return/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|mali-4|mali-3|mali-2)/.test(e)?`${e} - GPU из блэклиста`:e}}}catch(e){}return}))},12222:(e,t,i)=>{"use strict";i.d(t,{H:()=>c});var s=i(61200),r=i(58147),n=i(71781),a=i(35023),o=i(56009);function c(e){const{entity:t,config:i,tp:s}=e;return(0,a.oE)([...d(t,s),p(t,i),u(t),l(t,s)])}function d(e,t){return"building"===e.type?[]:(0,n.b)(e,t)}function l(e,t){if("station_entrance"===e.type&&e.comment)return t._t("Выход %1",[e.comment])}function u(e){return(0,o.B)(e)&&"parking"!==e.type&&"address"in e&&e.address?(0,r.T)(e):void 0}function p(e,t){if("parking"!==e.type&&(0,o.B)(e))return(0,s.tB)(e,{config:t})}},67046:(e,t,i)=>{"use strict";i.d(t,{G:()=>s});function s(e){return e&&"group"in e?r(e.group):void 0}function r(e){if(e&&e.length)return e.map((e=>({id:e.id,type:e.type,subtype:e.subtype})))}},95885:(e,t,i)=>{"use strict";function s(e,t){if(e&&!e.use_default_value&&e.img_url)return r(e.img_url,t)}function r(e,t){if("original"===t)return e.replace("/previews/","/raws/");const i="?api-version=2.0";return e.endsWith("/")?`${e}${t}${i}`:`${e.replace(/image.([a-zA-Z0-9]+)$/,`image_${t}.$1`)}${i}`}i.d(t,{Y:()=>s,m:()=>r})},53790:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});const s=e=>!!e&&("street"===e.type||"adm_div"===e.type&&("district"===e.subtype||"living_area"===e.subtype||"division"===e.subtype||"region"===e.subtype||"settlement"===e.subtype))},6276:(e,t,i)=>{"use strict";function s(e){var t;return"parking"===e.type||!(!("group"in e)||!(null===(t=e.group)||void 0===t?void 0:t.find((e=>"parking"===e.type))))}i.d(t,{E:()=>s})},24880:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var s=i(35023);const r=(e,t)=>[e.name,e.name_back].filter(s.t2).join(" / ")||t._t("Километровый знак")},87712:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var s=i(95885);function r(e,t){if("branch"!==e.type||!e.ads)return;if(e.ads.is_social)return{image:void 0};const i=e.ads.options&&e.ads.options.logo;return i?{image:(0,s.Y)(i,t)}:void 0}},54071:(e,t,i)=>{"use strict";function s(e){const t=e.find((e=>"primary"===e.kind))||e[0];return t?t.id:void 0}i.d(t,{Z:()=>s})},30158:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var s=i(35023);function r(e){let t;switch(e.origin){case"adsIconForPoi":t=e.markerData.position;break;case"marker":t=e.marker.lonLat;break;case"poi":case"map":case"model":case"ppna":case"ppnot":case"geometry":t=e.lngLat;break;case"etaMarker":case"photo":t=e.point}if(t)return{lon:(0,s.jF)(t[0]),lat:(0,s.jF)(t[1])}}},6514:(e,t,i)=>{"use strict";function s(e,t){if(!t)return e;const i=t.topLeft[0]+t.bottomRight[0],s=t.topLeft[1]+t.bottomRight[1];return{width:Math.max(e.width-i,0),height:Math.max(e.height-s,0)}}i.d(t,{Y:()=>s})},19519:(e,t,i)=>{"use strict";function s(e){switch(e){case"bigbullet":case"commercial":return"large";case"middlebullet":return"medium";case"smallbullet":return"small"}return"small"}i.d(t,{j:()=>s})},83500:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});var s=i(50432);function r(e){switch(e){case"adm_div.district_area":case"adm_div.settlement":case"adm_div.division":case"adm_div.city":case"adm_div.district":case"adm_div.place":case"adm_div.country":case"adm_div.region":case"adm_div.living_area":return"adm_div";case"branch":case"branch.deleted":return"branch";case"building":return"building";case"attraction":return"attraction";case"crossroad":return"crossroad";case"street":return"street";case"route":return"route";case"parking":return"parking";case"road":return"road";case"station.metro":case"station.entrance":case"station":return"station_platform";case"coordinates":case"coordinates_additional":return"point";case"kilometer_road_sign":return"kilometer_road_sign";default:return(0,s.vV)({message:"Неожиданный тип маркера",level:"error",id:"3smuq",payload:{type:"debug",subtype:"UnexpectedMarkerType",data:e}}),e}}},36958:(e,t,i)=>{"use strict";i.d(t,{E:()=>a});var s=i(31085);const r=({width:e=24,height:t=24,background:i="#5FAE86"})=>(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77170)"},{children:[(0,s.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:i}),(0,s.jsx)("path",{d:"M3.4201 15.5432V9.78785H2L2.98066 8.45284H5.72671C6.77881 8.45284 7.74648 8.68644 8.53579 9.56302C9.19512 10.2953 9.4058 11.2209 9.4058 11.9314C9.4058 12.6419 9.24232 13.6935 8.53579 14.465C7.75845 15.3138 6.84496 15.5432 5.79286 15.5432H3.4201ZM4.86481 14.235C4.86481 14.235 5.33053 14.235 5.64637 14.235C6.08452 14.235 6.7775 14.1577 7.26871 13.7077C7.81348 13.2086 7.90817 12.6808 7.90817 11.9314C7.90817 11.259 7.72861 10.7422 7.26871 10.3327C6.81511 9.91694 6.28996 9.78785 5.6497 9.78785C5.29978 9.78785 4.86481 9.78785 4.86481 9.78785V14.235Z",fill:"white"}),(0,s.jsx)("path",{d:"M12.9052 15.5432V14.0629H9.71973L9.71978 13.08L11.6855 8.44995H13.2013L11.3471 12.7603H12.9052V10.7709H14.3263V12.7603H15.5341L15.0486 14.0629H14.3263V15.5432H12.9052Z",fill:"white"}),(0,s.jsx)("path",{d:"M17.7073 12.5827H19.5004L18.6132 10.4701L17.7073 12.5827ZM16.6262 15.5432H15.262L18.0448 8.46172H19.229L22 15.5432H20.6046L19.9889 13.8853H17.2376L16.6262 15.5432Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_14899_77170"},{children:(0,s.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),n={metro_moscow_D1:function({width:e=24,height:t=24,background:i="#ED9F2E"}){return(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77150)"},{children:[(0,s.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8.69335L4.36377 6.80005L8.31634 6.80514C9.74699 6.80516 11.0744 7.24182 12.0995 8.25359C13.022 9.22031 13.4757 10.4516 13.4757 11.9204C13.4757 13.3891 13.0219 14.6203 12.0994 15.587C11.168 16.5631 9.89303 17.0356 8.31634 17.0356H4.93314L4.93233 8.69207L3 8.69335ZM6.96767 8.69018V15.1779H8.22141C9.15631 15.1779 9.9055 14.9014 10.4943 14.3638C11.0631 13.8443 11.3734 13.0501 11.3734 11.9204C11.3734 10.8107 11.0641 10.0246 10.4943 9.50431C9.9055 8.96669 9.15631 8.69018 8.22141 8.69018H6.96767ZM14 14.9836V17.04H19.8336L20.696 14.9836H18.272V6.80005H14.154V8.85995H16.072V14.9836H14Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_14899_77150"},{children:(0,s.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},metro_moscow_D2:function({width:e=24,height:t=24,background:i="#E94282"}){return(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77154)"},{children:[(0,s.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6918 17.1H20.4754L21.2002 15.1028H16.8969L18.1702 13.8709C18.9112 13.1566 19.4933 12.5094 19.909 11.9304L19.9106 11.9281C20.3502 11.306 20.5765 10.6277 20.5765 9.90114C20.5765 9.09503 20.2588 8.37772 19.6558 7.76136C19.0207 7.10294 18.1253 6.80005 17.0325 6.80005C16.2696 6.80005 15.5616 6.96496 14.9156 7.29894C14.3058 7.61423 13.8144 7.95445 13.4589 8.32584L13.2002 8.59619L14.6073 9.98692L14.8803 9.74316C15.131 9.5194 15.4501 9.30486 15.8432 9.10213C16.2094 8.90542 16.6176 8.81069 17.0325 8.81069C17.4487 8.81069 17.7707 8.92798 18.0258 9.146C18.2673 9.35243 18.3932 9.62234 18.3932 9.99488C18.3932 10.3231 18.2696 10.6839 17.9784 11.0837C17.513 11.7408 16.9246 12.3208 16.3508 12.8865C16.3015 12.9351 16.2523 12.9836 16.2033 13.032L13.6918 15.5004V17.1ZM2.6001 8.74339L3.96387 6.8501L7.91644 6.85519C9.34709 6.85521 10.6745 7.29187 11.6996 8.30364C12.6221 9.27036 13.0758 10.5016 13.0758 11.9704C13.0758 13.4392 12.622 14.6704 11.6995 15.6371C10.7681 16.6132 9.49312 17.0856 7.91644 17.0856H4.53324L4.53243 8.74212L2.6001 8.74339ZM6.56777 8.74023V15.228H7.82151C8.75641 15.228 9.5056 14.9514 10.0944 14.4138C10.6632 13.8944 10.9735 13.1001 10.9735 11.9704C10.9735 10.8607 10.6642 10.0747 10.0944 9.55436C9.5056 9.01674 8.75641 8.74023 7.82151 8.74023H6.56777Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_14899_77154"},{children:(0,s.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},metro_moscow_D3:({width:e=24,height:t=24,background:i="#D26439"})=>(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77158)"},{children:[(0,s.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06397 6.80005L2.7002 8.69335L4.63253 8.69207L4.63334 17.0356H8.01653C9.59322 17.0356 10.8682 16.5631 11.7996 15.587C12.7221 14.6203 13.1759 13.3891 13.1759 11.9204C13.1759 10.4516 12.7222 9.22031 11.7997 8.25359C10.7746 7.24182 9.44719 6.80516 8.01653 6.80514L4.06397 6.80005ZM6.66787 15.1779V8.69018H7.92161C8.85651 8.69018 9.60569 8.96669 10.1945 9.50431C10.7643 10.0246 11.0736 10.8107 11.0736 11.9204C11.0736 13.0501 10.7633 13.8443 10.1945 14.3638C9.60569 14.9014 8.85651 15.1779 7.92161 15.1779H6.66787Z",fill:"white"}),(0,s.jsx)("path",{d:"M20.6533 6.80514H13.9682V8.7039H17.97L15.6766 11.0218V12.3888C16.0308 12.3337 16.3816 12.2805 16.7413 12.2805C17.6773 12.2805 18.7815 12.6981 18.7815 13.784C18.7815 14.7448 17.9036 15.3013 17.0125 15.3013C16.5715 15.3013 16.1817 15.2236 15.8381 15.0742C15.3729 14.872 14.9976 14.5577 14.6301 14.2172L13.269 15.5929L13.491 15.8172C13.9136 16.2443 14.4326 16.5799 15.0418 16.8272C15.6573 17.077 16.3245 17.2 17.0396 17.2C18.0957 17.2 19.0012 16.8745 19.7344 16.2135C20.4675 15.5527 20.8432 14.7323 20.8432 13.7703C20.8432 12.8985 20.555 12.1522 19.9732 11.5541C19.5356 11.1041 19.012 10.7976 18.4094 10.6332L20.6533 8.36529V6.80514Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_14899_77158"},{children:(0,s.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),metro_moscow_D4:({width:e=24,height:t=24,background:i="#5FAE86"})=>(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77162)"},{children:[(0,s.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.49742 6.80005L2.1001 8.72376L4.09899 8.72247L4.09945 17.2H7.56319C9.17729 17.2 10.4826 16.7205 11.4365 15.7292C12.3815 14.7471 12.8468 13.4958 12.8468 12.0026C12.8468 10.5095 12.3816 9.25808 11.4366 8.27597C10.3933 7.25261 9.01202 6.80524 7.56319 6.80523L3.49742 6.80005ZM6.17862 15.3125V8.72055H7.46595C8.42518 8.72055 9.19382 9.00198 9.79756 9.54867C10.3816 10.0776 10.6982 10.8759 10.6982 12.0026C10.6982 13.1497 10.3806 13.9564 9.79756 14.4844C9.19382 15.0311 8.42518 15.3125 7.46595 15.3125H6.17862Z",fill:"white"}),(0,s.jsx)("path",{d:"M18.5026 6.80523H16.3229L13.4488 13.5797V15.0141H18.1304V17.2H20.1679V15.0141H21.237L21.9195 13.1544H20.1679V10.2165H18.1304V13.1544H15.7677L18.5026 6.80523Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_14899_77162"},{children:(0,s.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),metro_moscow_D4a:r,metro_moscow_D4A:r,metro_moscow_D5:({width:e=24,height:t=24,background:i="#141414"})=>(0,s.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77166)"},{children:[(0,s.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:i}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.33369 6.80005H7.72521C9.32232 6.80005 10.6064 7.27298 11.5435 8.24463C12.4736 9.20902 12.9329 10.4383 12.9329 11.9107C12.9329 13.3832 12.4736 14.6124 11.5435 15.5768C10.6064 16.5485 9.32232 17.0214 7.72521 17.0214H4.33369V8.49091H2.6001L3.52437 6.82722H4.33369V6.80005ZM6.27817 8.57816V15.271H7.62816C8.59947 15.271 9.38297 14.9862 9.99911 14.4295C10.5987 13.8879 10.9191 13.0646 10.9191 11.9107C10.9191 10.7768 10.5995 9.96205 9.99911 9.41964C9.38297 8.86299 8.59947 8.57816 7.62816 8.57816H6.27817Z",fill:"white"}),(0,s.jsx)("path",{d:"M14.5204 6.81234H21.0799L20.4371 8.60431H16.1739L16.0581 10.6687C16.4618 10.477 16.9958 10.3754 17.6351 10.3754C18.862 10.3754 20.1676 11.0706 20.8554 12.2891C21.3907 13.6062 21.0272 15.2041 20.0709 16.188C19.2407 16.8682 18.3007 17.2 17.2746 17.2C16.3898 17.2 15.6912 17.0757 15.1846 16.8192C14.4272 16.5413 13.8756 16.1356 13.4689 15.6408L14.7852 14.3245C15.0518 14.6606 15.4629 14.9456 15.9962 15.1583C16.4677 15.3464 16.7679 15.4249 17.2746 15.3942C17.8511 15.3593 18.2599 15.3107 18.67 14.904C19.0226 14.5545 19.1783 14.2356 19.1792 13.7392C19.18 13.2623 19.0479 12.95 18.7129 12.6105C18.3231 12.2153 17.926 12.1692 17.3717 12.1397C16.7029 12.104 16.1179 12.3203 15.7293 12.633L14.2169 12.4729L14.5204 6.81234Z",fill:"white"})]})),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",Object.assign({id:"clip0_14899_77166"},{children:(0,s.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},a=e=>n[e]},77017:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var s=i(8319);function r(e){if(e.length)return e.every((e=>s.u.includes(e.id)))?"menu":e.every((e=>s.f.includes(e.id)))?"prices":void 0}},7098:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var s=i(5836);const r=e=>{switch(e){case"android":case"ios":return s.x[e];case"online":return s.x.android}}},20371:(e,t,i)=>{"use strict";i.d(t,{T:()=>s});const s=e=>({category:e.sysCode?{id:e.sysCode}:void 0,adsHighlight:e.isCommercial||!1,isPersonal:e.isPersonal,adsPriority:e.isCityCommercial?"city":e.isPremiumCommercial?"premium":void 0,isContext:e.isContext})},17525:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});var s=i(18472);function r(e){var t;if("group"in e&&(0,s.i)(e)){const i=null===(t=e.group)||void 0===t?void 0:t.find((e=>"adm_div"===e.type&&"place"===e.subtype));return null==i?void 0:i.id}}},7818:(e,t,i)=>{"use strict";i.d(t,{U:()=>p,eH:()=>d,ij:()=>l});var s=i(35023),r=i(7540),n=i(59954),a=i(83878),o=i(67046),c=i(54071);c.Z;const d=()=>(0,a.Mz)([({entity:e})=>e,({position:e})=>e,({currentCongestion:e})=>e,({withBrand:e})=>e],((e,t,i,a)=>{var d;return(0,s.kk)(Object.assign(Object.assign(Object.assign({adsId:u(e),entity:{id:e.id===n.K0?void 0:e.id,type:e.id===n.K0?"point":e.type,subtype:"subtype"in e?e.subtype:void 0,segmentInfo:(0,r.o)(e)},bestKeyword:null===(d=e.search_attributes)||void 0===d?void 0:d.best_keyword,geoPosition:"point"in e&&e.point?p(e.point):void 0,hybridEntities:(0,o.G)(e)},function(e){if("branch"!==e.type)return;return{adsSearch:e.stat&&e.stat.is_advertised,mainRubric:e.rubrics?(0,c.Z)(e.rubrics):void 0,isDeleted:!!e.is_deleted,org:e.org&&e.org.id,contextRubric:e.stat&&e.stat.rubr,hasModel:e.has_ads_model}}(e)),a&&"branch"===e.type&&e.brand?{brand:e.brand.id}:{}),{resultClass:e.stat&&e.stat.source_type,personalPriority:e.stat&&e.stat.personal_priority,position:t,currentCongestion:i}))})),l=d();function u(e){var t,i,s,r,n,a,o,c,d,l,u,p;if("branch"!==e.type)return;const m=null===(s=null===(i=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.buy_here_owner)||void 0===s?void 0:s.find((e=>!!e.ads_id)),g=null===(a=null===(n=null===(r=e.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.buy_here)||void 0===a?void 0:a.find((e=>!!e.ads_id)),h=null===(d=null===(c=null===(o=e.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.fmcg)||void 0===d?void 0:d.find((e=>!!e.ads_id)),f=null===(p=null===(u=null===(l=e.ads)||void 0===l?void 0:l.options)||void 0===u?void 0:u.fmcg_owner)||void 0===p?void 0:p.find((e=>!!e.ads_id));return g?g.ads_id:m?m.ads_id:h?h.ads_id:f?f.ads_id:void 0}function p(e){let t=e.lon%360,i=e.lat%180;return t<-180?t+=360:t>180&&(t-=360),i<-90?i+=180:i>90&&(i-=180),{lon:t,lat:i}}},58171:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});const s=["#007AFF","#388C4D","#A84CA8","#BA5D00","#F23037"];function r(e=function(){return Math.random()*s.length}()){return s[Math.floor(e)%s.length]}},69935:(e,t,i)=>{"use strict";function s(e){var t,i,s;if("branch"!==e.type)return;const r=null===(s=null===(i=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.buy_here)||void 0===s?void 0:s.find((e=>!!e.is_primary&&!e.videos&&!e.images));return r?{adsBuyHere:r,adsPosition:"buyHere"}:void 0}i.d(t,{d:()=>s})},50951:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var s=i(59954);function r(e,t){return e&&"0"!==e?e:t&&"0"!==t?t:s.T_}},71483:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var s=i(82393);function r(e){return function(e){var t,i,r,n;const a=null===(i=null===(t=e.data.region.detector.default)||void 0===t?void 0:t.data)||void 0===i?void 0:i.id,o=a?null===(n=null===(r=e.data.settlements.default)||void 0===r?void 0:r.data)||void 0===n?void 0:n[a]:void 0;if(!o)return;const c=(0,s.n$)(e);return c&&function(e,t){return e.alias===t.uri_code||e.alias===t.code}(o,c)?void 0:o.id}(e)?void 0:(0,s.MJ)(e)}},46645:(e,t,i)=>{"use strict";i.d(t,{j:()=>a});var s=i(15341),r=i(80905);const n={name:"Премия 2ГИС 2025"};function a({state:e,frameId:t}){const i=(0,r.w1)(e.appContext.frames,t);if(i&&(0,s.C)({state:e,frame:i}))return n}},73865:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(80905);function r(e){var t;return null===(t=(0,s.bB)(e.appContext.frames,"realtyCard"))||void 0===t?void 0:t.buildingId}},47128:(e,t,i)=>{"use strict";function s(e,t){var i;return!!e&&(!!t.has(e.name)||!!(null===(i=e.admDiv)||void 0===i?void 0:i.some((({name:e})=>t.has(e)))))}i.d(t,{a:()=>s})},83639:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});var s=i(9126);function r(e){return e&&e.color||(0,s.O)(e&&e.subtype)}},9126:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});const s="#3E7C17",r={suburban_train:s,tram:s,trolleybus:s,metro:s,mcc:s,mcd:s,funicular_railway:s,monorail:s,river_transport:s,cable_car:s,light_rail:s,premetro:s,light_metro:s,bus:"#5D86DD",aeroexpress:"#EB212D",shuttle_bus:"#f2990c"};function n(e){return e?r[e]:s}},45641:(e,t,i)=>{"use strict";function s(e){if(e.from_name&&e.to_name)return`${e.from_name} → ${e.to_name}`}i.d(t,{J:()=>s})},1371:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(99259);function r(e){switch(e){case"almostClosed":return s.T.orange_ff8800;case"open":return s.T.green_30ad00;case"closed":return s.T.red_fe5000}}},33414:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});const s=()=>({orientation:r(),screenResolution:{width:window.screen.width,height:window.screen.height},windowResolution:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),r=()=>{var e;switch(null===(e=window.screen.orientation)||void 0===e?void 0:e.type){case"landscape-primary":case"landscape-secondary":return"horizontal";case"portrait-secondary":case"portrait-primary":return"vertical";default:return window.screen.height>window.screen.width?"vertical":"horizontal"}}},38900:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});var s=i(64099),r=i(8951);function n(e,t,i){if(!(0,r.F)(e,t,i))return;let n=s.Ej.searchBarWrapperHeight;switch(e.type){case"search":"inside"===e.searchType&&(n+=16);break;case"product":n+=16}return n}},74786:(e,t,i)=>{"use strict";i.d(t,{MV:()=>r});const s=["rubric","meta_rubric","attribute","attribute.synthetic"],r=e=>{if(!e||!e.length)return;const t=e.filter((e=>s.includes(e.table_name)));let i,r,n="";const a=(e=>{if(e.length<=10)return e.length;const t=e.slice(10,e.length>20?20:e.length).findIndex(((t,i)=>t.group!==e[10+i-1].group));return-1!==t?t+10:20})(t);return t.slice(0,a).forEach(((e,t)=>{n+=((e,t,i)=>void 0!==e.group&&e.group!==i?`${0!==t?";":""}${e.group}:`:"")(e,t,i),i!==e.group&&(i=e.group,r=void 0),n+=((e,t)=>{if(t&&e.table_name&&e.table_name===t)return",";let i="";switch(e.table_name){case"meta_rubric":i="m";break;case"attribute":i="a";break;case"attribute.synthetic":i="sa";break;default:i="r"}return`${t?"&":""}${i}=`})(e,r),r=e.table_name,n+=e.record_id})),n}},73035:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(53157),r=i(31098);function n(e,{tp:t,config:i}){if("market"===e.type)return(0,r.s)({tp:t,config:i},e);return"attribute"===(e.entity&&e.entity.type)?function(e){var t;const i=(("object"===e.type?null===(t=null==e?void 0:e.search_attributes)||void 0===t?void 0:t.suggested_text:e.text)||"").toLowerCase(),r=(e.entity&&"attribute"===e.entity.type&&e.entity.extend&&e.entity.extend.search_name||"").toLowerCase();if(i.includes(r))return(0,s.ND)(i);if(r.includes(i))return(0,s.ND)(r);return(0,s.ND)(`${i} (${r})`)}(e):(0,r.s)({tp:t,config:i},e)}},7540:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});const s=e=>{const{locale:t,region_id:i,segment_id:s}=e;if(!t)return;if(!i&&!s)return;const r="0"===i?s:i;return r?{baseLocale:t,segmentId:r}:void 0}},27209:(e,t,i)=>{"use strict";function s(e){var t;const{isSearchBot:i,tp:s,entity:r}=e,n=s._nt(["%%&nbsp;филиал","%%&nbsp;филиала","%%&nbsp;филиалов"],null===(t=r.org)||void 0===t?void 0:t.branch_count),a=r.name_ex.short_name||r.name_ex.primary;return i&&a?`${a} (${n})`:n}i.d(t,{F:()=>s})},79274:(e,t,i)=>{"use strict";function s(e){var t;const{isSearchBot:i,tp:s,entity:r}=e;if(!r.brand)return;const n=s._nt(["%%&nbsp;филиал","%%&nbsp;филиала","%%&nbsp;филиалов"],(null===(t=r.brand)||void 0===t?void 0:t.branch_count)||0),a=r.brand.name||r.name_ex.short_name||r.name_ex.primary;return i&&a?`${a} (${n})`:n}i.d(t,{I:()=>s})},15937:(e,t,i)=>{"use strict";function s(e){return e<=0?0:"undefined"!=typeof window?Math.ceil(window.screen.height/e):0}i.d(t,{H:()=>s})},823:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var s=i(49109);function r(e){const t=(0,s.yj)(e);switch(t&&t.tab){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian"}return"default"}},34406:(e,t,i)=>{"use strict";function s(e,t,i){var s,r;switch(e.type){case"crash":if(!e.lanes)return;return e.lanes.map((e=>{switch(e){case"center":return t._t("Средний ряд.");case"left":return t._t("Левый ряд.");case"right":return t._t("Правый ряд.")}})).join(" ");case"camera":{const n=null===(s=e.data)||void 0===s?void 0:s.speed,a=new Set(null===(r=e.data)||void 0===r?void 0:r.violation);if(!a||a.size<2)return;const o=[1,9,10,11,4,2].reduce(((e,i)=>{if(!a.has(i))return e;switch(i){case 1:return n?[...e,t._t("%1 км/ч",[n])]:e;case 9:return n?[...e,t._t("среднюю скорость %1 км/ч",[n])]:e;case 10:return[...e,t._t("остановку")];case 11:return[...e,t._t("разметку")];case 4:return[...e,t._t("полосу ОТ")];case 2:return[...e,t._t("перекресток")];default:return e}}),[]);if(0===o.length)return;return t._t("Камера на %1",[o.join(i.comma+" ")])}}}i.d(t,{a:()=>s})},47425:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(74867);function r(e,t){switch(e.type){case"crash":return t._pt("tUgcType","ДТП");case"camera":return function(e,t){var i,r,n;const a=1===new Set(null===(i=e.data)||void 0===i?void 0:i.violation).size?(0,s.e)(e):"camera",o=null===(r=e.data)||void 0===r?void 0:r.speed,c=null===(n=e.data)||void 0===n?void 0:n.violation;if(a===`camera-${o}`&&(null==c?void 0:c.includes(1)))return t._t("Камера на %1 км/ч",[o]);if(a===`camera-${o}`&&(null==c?void 0:c.includes(9)))return t._t("Камера средней скорости на %1 км/ч",[o]);if("camera-parking"===a)return t._t("Камера контроля остановки");if("camera-line"===a)return t._t("Камера контроля разметки");if("camera-bus"===a)return t._t("Камера контроля полосы общественного транспорта");if("camera-tl"===a)return t._t("Камера контроля перекрестка");return t._pt("tUgcType","Камера")}(e,t);case"roadwork":return t._pt("tUgcType","Дорожные работы");case"restriction":return t._pt("tUgcType","Перекрытие");case"comment":return t._pt("tUgcType","Сообщение на карте");case"other":return t._pt("tUgcType","Прочее")}}},20487:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});var s=i(41411),r=i(59620);function n(e){var t,i,n;const{entity:a,format:o,ctx:{tp:c,dateFns:d}}=e;if(!(0,r.a)(a))return;if((0,r.k)(a))return"long"===o?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании."):c._t("Филиал временно не работает");const l=null===(i=null===(t=a.flags)||void 0===t?void 0:t.temporary_closed_parameters)||void 0===i?void 0:i.value,u=l?(0,s.l)({isoDate:l,currentDate:new Date,onlyDate:!0},{tp:c,dateFns:d}):void 0;switch(null===(n=a.flags)||void 0===n?void 0:n.temporary_closed){case"unknown":return"short"===o?c._t("Филиал временно не работает"):u?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе %1",[u]):c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании.");case"opening_soon":return"short"===o?c._t("Скоро открытие"):u?c._t("Компания откроет здесь новый офис %1",[u]):c._t("Компания скоро откроет здесь новый офис. Уточняйте информацию у компании.");default:return"short"===o?c._t("Филиал закрыт для посещения"):c._t("Компания закрыла свой офис, но, возможно, предоставляет услуги онлайн или через доставку. Уточните по телефону")}}},49157:(e,t,i)=>{"use strict";function s(e){return"timezone_offset"in e&&e.timezone_offset||0}i.d(t,{T:()=>s})},74639:(e,t,i)=>{"use strict";function s(e){return e.slice(-1).charCodeAt(0)||0}i.d(t,{F:()=>s})},43224:(e,t,i)=>{"use strict";function s(e){const[t,i]=e.split(" ");return t&&i?`${t[0]}${i[0]}`:e[0]}i.d(t,{Y:()=>s})},110:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});const s=e=>{const t=e.match(/(\+|-)?\d\d:\d\d$/);return(null==t?void 0:t[0])||"+00:00"}},15387:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});const s=["open_card","search_by_org","search_by_query","search_by_rubric","phone","order","link","search_buy_here"];function r(e,t,i=s){const r=e.filter((e=>-1!==i.indexOf(e.type)));return r.find((e=>{const i=!!e.platforms&&-1!==e.platforms.indexOf(t),s=!e.platforms||!e.platforms.length;return i||s}))||r[0]}},90408:(e,t,i)=>{"use strict";i.d(t,{m:()=>c});const s=["ae","cl","cz","cy","it"],r={min:2,max:20},n={min:2,max:16},a={min:9,max:20},o={min:9,max:16};function c(e){const{project:t,is3d:i,hasTmpZoomLimits:c}=e;let d=i?r:n,l=0;return c?i?a:o:(t&&(s.includes(t.country_code)&&(d=i?a:o),l=t.zoom_level.max),{min:d.min,max:Math.max(l,d.max)})}},54684:(e,t,i)=>{"use strict";function s(e){return"branch"===e.type&&!(!e.has_goods&&!e.is_promoted)}i.d(t,{Q:()=>s})},61405:(e,t,i)=>{"use strict";function s(e){return e.replace("http://","https://")}i.d(t,{L:()=>s})},93067:(e,t,i)=>{"use strict";function s(e){return e>25}i.d(t,{d:()=>s})},80473:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var s=i(35023);function r(e){if(!e)return!1;const t=(0,s.cJ)(e,["options"]);return!(0,s.Im)(t)}},46516:(e,t,i)=>{"use strict";function s(e){return"branch"===e.type}i.d(t,{O:()=>s})},9763:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});const s=e=>"building"===e.type},63312:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=e=>"adm_div"===e.type&&"city"===e.subtype},95530:(e,t,i)=>{"use strict";function s(e){return"branch"===e.type&&(!(!e.dates||!e.dates.deleted_at)||!!e.is_deleted)}i.d(t,{k:()=>s})},56688:(e,t,i)=>{"use strict";function s(e){const t="reviews"in e?e.reviews:void 0;return!!t&&!!t.items&&t.items.some((e=>e.is_reviewable))}i.d(t,{E:()=>s})},57838:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});const s=["open_card","search_by_org","search_by_query","search_by_rubric","order","search_buy_here"];function r(e){return-1===s.indexOf(e)}},92585:(e,t,i)=>{"use strict";function s(e){return"entity"===e.type}i.d(t,{n:()=>s})},8951:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});const s=["offer","directions","prices","realty","realtyCard","exchange","friendsList","userPublicProfile","sharingGeo","advice","guide"];function r(e,t,i){if(s.includes(e.type))return!1;if("collection"===e.type&&"guide"===e.subtype)return!1;if("search"===e.type&&"offers"===e.searchType)return!1;if(!t.isLeftMost)return!1;const{isMobileDevice:r}=i;if(r){if(t.areFiltersOpened)return!1;if("gallery"===e.type)return!1;if("direction"===e.type)return!1}return!0}},81625:(e,t,i)=>{"use strict";function s(e){return"search"===e.type&&"offers"===e.searchType}i.d(t,{D:()=>s})},25545:(e,t,i)=>{"use strict";function s(e){return!!e&&"search"===e.type&&"brand"===e.searchType}i.d(t,{F:()=>s})},76666:(e,t,i)=>{"use strict";function s(e){return"search"===e.type&&("buyHere"===e.searchType||"fmcg"===e.searchType)}i.d(t,{A:()=>s})},33920:(e,t,i)=>{"use strict";function s(e){return!!e&&"search"===e.type&&"filials"===e.searchType}i.d(t,{a:()=>s})},49206:(e,t,i)=>{"use strict";function s(e){return!!e&&"search"===e.type&&"inside"===e.searchType}i.d(t,{q:()=>s})},18396:(e,t,i)=>{"use strict";function s(e){return!!e&&"search"===e.type&&"query"===e.searchType}i.d(t,{O:()=>s})},24325:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});var s=i(98638);function r(e){const t=(0,s.G)(e);return t&&"true"===t.friends_were_here}},56009:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(86542);function r(e){return(0,s.a)(e.type)}},86542:(e,t,i)=>{"use strict";function s(e){switch(e){case"branch":case"station":case"station_entrance":case"station_platform":case"route":return!1;default:return!0}}i.d(t,{a:()=>s})},27783:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});const s=6;function r(e){return e<s}},47422:(e,t,i)=>{"use strict";function s(e){return"address"in e&&(!!e.address&&!!e.address.components&&1===e.address.components.length&&"location"===e.address.components[0].type)}i.d(t,{m:()=>s})},6458:(e,t,i)=>{"use strict";i.d(t,{m:()=>n});var s=i(47054),r=i(62279);function n(e,t){switch(e){case"mcc":case"mcd":case"metro":case"premetro":case"light_metro":return!0;default:return(0,s.C)(t)||(0,r.v)(t)}}},25415:(e,t,i)=>{"use strict";function s(e){return"group"in e&&!!e.group&&!!e.group.length}i.d(t,{v:()=>s})},22853:(e,t,i)=>{"use strict";function s(e){if(e)return"search"===e.type&&"inside"===e.searchType&&"onterritory"===e.contentType}i.d(t,{t:()=>s})},52655:(e,t,i)=>{"use strict";function s(e){var t;if(e)return"tabInside"in e&&"onterritory"===(null===(t=e.tabInside)||void 0===t?void 0:t.contentType)}i.d(t,{T:()=>s})},29203:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});const s=({point:e,viewpoint:t,margin:i})=>{const[s,r]=t,n=(r.lon-s.lon)*(i/100),a=(s.lat-r.lat)*(i/100),o=e.lon>s.lon+n&&e.lon<r.lon-n,c=e.lat<s.lat-a&&e.lat>r.lat+a;return o&&c}},68871:(e,t,i)=>{"use strict";i.d(t,{N:()=>s});const s=e=>!(!e||e.temporary)},38024:(e,t,i)=>{"use strict";function s(e){switch(e.type){case"station":case"station_entrance":case"station_platform":return!0;default:return!1}}i.d(t,{g:()=>s})},59620:(e,t,i)=>{"use strict";function s(e){var t;return!!r(e)||!!(null===(t=e.flags)||void 0===t?void 0:t.temporary_closed)}function r(e){return"temporary_unavailable_atm_services"in e&&!!e.temporary_unavailable_atm_services}i.d(t,{a:()=>s,k:()=>r})},56841:(e,t,i)=>{"use strict";function s(e){return!!e&&/\S+@\S+\.\S+/.test(e)}i.d(t,{B:()=>s})},29711:(e,t,i)=>{"use strict";i.d(t,{p:()=>r});var s=i(98638);function r(e){const t=(0,s.G)(e);return!(!(null==t?void 0:t.work_time)&&"firm_is_open"!==(null==t?void 0:t.options))}},82664:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});const s={az:"2GIS",uz:"2GIS",am:"2GIS",ru:"2ГИС"};function r(e,t,i){if("urbi"===i)return"Urbi";switch(e){case"AE":case"SA":case"IQ":case"EG":case"OM":case"BH":case"QA":case"KW":return"Urbi";case"CL":case"CY":case"CZ":case"IT":return"2GIS Local Search Limited";default:return s[t]||s.ru}}},47070:(e,t,i)=>{"use strict";i.d(t,{K:()=>r,y:()=>s});const s=" · ";function r(e){return e.join(s)}},29908:(e,t,i)=>{"use strict";function s(e,t){if(!e||!t)return;const{floorNames:i,firmsToFloorIndexMap:s}=e,r=i.map((()=>[]));return Object.keys(s).forEach((e=>{const i=t.indexHashMap[e];if(void 0!==i){const n=s[e];r[n].push({index:i,point:t.markers[i].lonLat})}})),r}i.d(t,{k:()=>s})},17426:(e,t,i)=>{"use strict";i.d(t,{J:()=>s});const s=(e,t)=>{const i=e.lat*Math.PI/180,s=t.lat*Math.PI/180,r=(t.lon-e.lon)*Math.PI/180;return 6371e3*Math.acos(Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(r))}},22758:(e,t,i)=>{"use strict";i.d(t,{k:()=>d});var s=i(90809),r=i(36586);const n={name:16,default:13,button:22,exchange:16},a=12,o=14,c=8;function d(e){let t=0,i=0;for(const s of e){const e=l(s);t=Math.max(t,e.width),i+=e.height}return{width:t,height:i}}function l(e){const{width:t,lineCount:i}=p(e),r=u(e)*i;return{width:i>1?s.g:t,height:r}}const u=e=>{var t;switch(null===(t=e[0])||void 0===t?void 0:t.type){case"name":return n.name;case"exchange":return n.exchange;case"link":case"order":return n.button;default:return n.default}},p=e=>{let t=0,i=1;for(const n of e){const d="name"===n.type||"exchange"===n.type?"font13":"font11",l=(0,r.Q)(n.text,d);let u=l.width;if("rating"===n.type&&(u+=a),"link"!==n.type&&"order"!==n.type||(u+=2*c),1===e.length){t=u,i=l.lines;break}t>0&&(u+=o),t+=u,t>s.g&&(t=u,i++)}return{width:t,lineCount:i}}},36586:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a});var s=i(90809);const r=5,n={font10:{2:" ij",3:":,.!lI",4:"-гтfrtJ",5:"₽«»авеёзксухчьэяГЗТaceksvxyzFLST",6:"бдийлнопрцъАБВЕЁКРСУХЧЬЭЯbdghnopquABCEKPRVXYZ0123456789",7:"мфыДИЙЛНОПЦЪDGHNOQU",8:"&amp;—жшщюЫw",9:"%ЖМФШmMW",10:"ЩЮ"},font11:{3:" :,.ijlI",4:"!frJ",5:"-гзстухcstxyz",6:"₽«»абвдеёклнопчъьэяГЕЁЗТaehknouvEFLSTYZ0123456789",7:"ийрцАБВДКЛРСУХЧЪЬЭЯbdgpqABCGKPRVX",8:"жмфыИЙНОПЦDHNOQU",9:"&amp;—шщюМЫwM",10:"%ЖФШmW",11:"ЩЮ"},font13:{3:" ij",4:":,.!lI",5:"frJ",6:"-гзстcstz",7:"₽«»авеёклухчьэяГЕЁЗТaekvxyEFLSTZ0123456789",8:"бдийнопрцъАБВРСУХЧЬЭЯbdghnopquABCPRVXY",9:"мыДКЛЪDGKU",10:"жфИЙНОПЦwHNOQ",11:"&amp;—шщюМФЫmM",12:"%ЖШW",13:"ЩЮ"},font13b:{3:" ",4:":.ijlI",5:",!fJ",6:"-гrt",7:"зстухьэГcsvxyzL",8:"₽«»абвдеёийклнопрцчъяБЕЁЗРСТЬabdeghknopquCEFPSTYZ0123456789",9:"АВКЛУХЧЪЭЯABGKRVX",10:"мфыДИЙНОПЦDHNOQU",11:"&amp;—жшюw",12:"%щЖМФЫmM",13:"ШЩW",14:"Ю"}};function a(e,t,i=s.g){const a=function(e){const t={};for(const i in e){if(!e.hasOwnProperty(i))continue;const s=e[i];for(const e of s)t[e]=+i}return t}(n[t]);let o=1,c=0;const d=e.split(" ");return d.forEach(((e,t)=>{t>0&&t!==d.length-1&&(c+=a[" "]);let s=0;for(const t of e)s+=a[t]||r;c+=s,c>i&&(o++,c=s)})),{width:o>1?i:c,lines:o}}},42494:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var s=i(99259);function r(e){switch(e){case"almostClosed":return s.T.orange_ff8800;case"closed":return"#B61919"}return s.T.green_299400}},90809:(e,t,i)=>{"use strict";i.d(t,{g:()=>s});const s=190},35079:(e,t,i)=>{"use strict";i.d(t,{F:()=>d,l:()=>n});var s=i(40301),r=i(99259);const n={passage:"#0f6ec1",walkway:"#626262",crossing:"#626262",default:"#0f6ec1",inactive:"#99aabb",border:"#ffffff",border2:(0,s.F)(r.T.gray_141414,1),"pedestrian-underground":"#626262"},a={img:i(44258).A,size:[22,22],offset:[11,11]},o={img:i(49185).A,size:[18,18],offset:[9,9]},c=(e,t)=>({color:t[e],hoveredColor:(0,s.F)(t[e],.8),borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),d=e=>({lineStylesByZoom:{14:{passage:{width:5.73,borderWidth:3,border2Width:.5},walkway:{width:4,borderWidth:2,border2Width:.5},crossing:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5},"pedestrian-underground":{width:4,borderWidth:2,border2Width:.5}},20:{passage:{width:10.5,borderWidth:5.5,border2Width:.8},walkway:{width:5.5,borderWidth:3,border2Width:.5},crossing:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5},"pedestrian-underground":{width:5.5,borderWidth:3,border2Width:.5}}},lineStyles:{passage:c("passage",e),walkway:c("walkway",e),crossing:c("crossing",e),inactive:c("inactive",e),"pedestrian-underground":c("pedestrian-underground",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}},waypointStyles:{start:a,finish:a,pedestrian:o,bus:a,trolleybus:a,tram:a,shuttle_bus:a,metro:a,suburban_train:a,funicular_railway:a,monorail:a,river_transport:a,cable_car:a,light_rail:a,premetro:a,light_metro:a,aeroexpress:a,mcd:a,mcc:a}})},81338:(e,t,i)=>{"use strict";function s(e,t,i={}){if(e)return!t||!t.result||i.more&&"error"===t.result.meta.status?e:"success"===t.result.meta.status||"error"===t.result.meta.status?t:Object.assign(Object.assign({},e),{result:Object.assign(Object.assign({},e.result),{meta:t.result.meta})})}i.d(t,{u:()=>s})},52973:(e,t,i)=>{"use strict";i.d(t,{p:()=>a});var s=i(24855);function r(e,t){if(0===e.length)return[t];const i=e.findIndex((e=>e.orgId===t.orgId));return-1===i?[...e,t]:(0,s.H)(e,t,i)}var n=i(28356);function a(e,t,i){const s=(0,n.K)(e.orders,t)||{orgId:t,items:[],createdDate:(new Date).getTime()};return Object.assign(Object.assign({},e),{orders:r(e.orders,i(s))})}},6465:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(35023);const r=(e,t)=>{var i,r,n,a,o,c,d,l,u,p,m,g,h,f;if(200===e.code)return{id:e.id,url:e.url,real_object_type:t.objectType,height:0,width:0,preview_urls:e.preview_urls,copyright:{type:"image",value:"",url:null!==(r=null===(i=e.copyright)||void 0===i?void 0:i.url)&&void 0!==r?r:void 0,code:null!==(a=null===(n=e.copyright)||void 0===n?void 0:n.code)&&void 0!==a?a:"user",icon:null!==(c=null===(o=e.copyright)||void 0===o?void 0:o.icon)&&void 0!==c?c:"",title:(null===(d=e.copyright)||void 0===d?void 0:d.title)||(null===(l=t.user)||void 0===l?void 0:l.display_name)||""},owner:{id:(null===(u=t.user)||void 0===u?void 0:u.user_id)||(null===(p=e.owner)||void 0===p?void 0:p.id)||(0,s.W7)(),name:(null===(m=t.user)||void 0===m?void 0:m.display_name)||(null===(g=e.owner)||void 0===g?void 0:g.name)||"",avatar:(null===(h=t.user)||void 0===h?void 0:h.avatar)||(null===(f=e.owner)||void 0===f?void 0:f.avatar)||""},creation_time:e.creation_time||(new Date).toISOString(),modification_time:e.modification_time||(new Date).toISOString()}}},92448:(e,t,i)=>{"use strict";i.d(t,{$s:()=>a,GB:()=>n,gI:()=>r});var s=i(32065);const r={sale:{categoryId:"70241201812761646",defaultTypeId:"1067258717690367200"},saleCommercial:{categoryId:"70241201812768717"},rent:{categoryId:"70241201812768719",defaultTypeId:"5049376148110570281"},rentCommercial:{categoryId:"70241201812768720"},rentDaily:{categoryId:"70241201813054308"}},n={[r.sale.defaultTypeId]:"Квартира",[r.rent.defaultTypeId]:"Квартира"};function a(e){return(0,s.YD)(r).find((t=>r[t].categoryId===e))}},59321:(e,t,i)=>{"use strict";i.d(t,{y:()=>n});var s=i(94521);const r=e=>[...Object.values(s.f).filter((t=>e.test(`image/${t}`))),...Object.values(s.N).filter((t=>e.test(`video/${t}`)))].join(", ");function n(e,t,i){switch(e){case"failRead":return i._t("Ошибка при чтении файла");case"failSize":return i._t("Размер файла слишком большой");case"failMinVideoSize":const e=t.videoSizeMinLimit?Math.floor(t.videoSizeMinLimit/1024):100;return i._t("Размер видео должен быть не менее %1 кБ",[e]);case"failFormat":case"failFormatHEIF":const s=r(t.approvedMIMERegExpr);return i._t("Неправильный формат. Мы поддерживаем %1.",[s]);case"failLimit":return i._t("Можно прикрепить не более %1 фотографий",[t.photoCount]);case"smallWidth":return i._t("Ширина фото должна быть не менее %1 px",[t.minWidth]);case"smallHeight":return i._t("Высота фото должна быть не менее %1 px",[t.minHeight]);case"largeWidth":return i._t("Ширина фото должна быть не более %1 px",[t.maxWidth]);case"largeHeight":return i._t("Высота фото должна быть не более %1 px",[t.maxHeight]);case"wide":return i._t("Фото слишком широкое");case"narrow":return i._t("Фото слишком узкое");case"deletedError":return i._t("Ошибка при удалении. Попробуйте снова");case"maxDuration":const n=t.maxDuration?t.maxDuration/60:1;return i._t("Максимальная длительность видео %1 мин",[n]);case"minDuration":const a=t.minDuration?Math.ceil(t.minDuration):4;return i._t("Минимальная длительность видео %1 сек",[a]);case"failServerLimit":return i._t("Вы можете загрузить не более %1 фото или видео в карточку",[t.maxDailyPhotoCount]);default:return i._t("Ошибка при загрузке")}}},79490:(e,t,i)=>{"use strict";function s(e,t){switch("access"in e&&e.access){case"public":return t._t("общедоступная");case"handicapped_only":return t._t("только для инвалидов");case"customers_only":return t._t("только для клиентов");case"residents_only":return t._t("Только для резидентов");case"taxi_only":return t._t("Только для такси");default:return}}i.d(t,{c:()=>s})},63825:(e,t,i)=>{"use strict";function s(e,t){switch("paving_type"in e&&e.paving_type){case"unpaved":return t._t("без покрытия");case"concrete":return t._t("бетон");case"asphalt":return t._t("асфальт");case"gravel":return t._t("гравий");default:return}}i.d(t,{R:()=>s})},50934:(e,t,i)=>{"use strict";function s(e,t){switch("subtype"in e&&e.subtype){case"ground":return t._t("наземная");case"underground":return t._t("подземная");case"multilevel":return t._t("многоуровневая");default:return}}i.d(t,{g:()=>s})},53769:(e,t,i)=>{"use strict";i.d(t,{V:()=>n});var s=i(98753),r=i(35079);function n(e,t,i){return i?(0,s.H)("pedestrian-underground"):t?r.l.border:e&&"passage"===e.type&&e.outcoming_line&&e.outcoming_line.color?e.outcoming_line.color:(0,s.H)(e&&e.type)}},38695:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(98753);function r(e){const t=(0,s.H)(e.type);return"walkway"===e.type||"crossing"===e.type?e.incoming_line&&e.incoming_line.color||t:"passage"!==e.type?t:e.outcoming_line&&e.outcoming_line.color||t}},16884:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});var s=i(4340),r=i(48304);function n(){s.IG.local.removeItem(r.R)}},48304:(e,t,i)=>{"use strict";i.d(t,{R:()=>r,a:()=>n});var s=i(4340);const r="savedReview";function n(e){s.IG.local.setItem(r,JSON.stringify(e))}},18006:(e,t,i)=>{"use strict";i.d(t,{f:()=>n});var s=i(57786),r=i(99471);function n(e,t){const i=(0,r.BS)(e,(0,r.lN)(t));return i?i.type===s.XU.opened||i.type===s.XU.aroundTheClock?"open":i.type===s.XU.willCloseInMinute||i.type===s.XU.willCloseInMinuteForBreak||i.type===s.XU.willCloseInTime||i.type===s.XU.willCloseInTimeForBreak?"almostClosed":"closed":"closed"}},46863:(e,t,i)=>{"use strict";function s(e,t,i){if(!e||!t)return;const s="vertical"===i?e.offsetTop+e.clientHeight>=t.scrollTop&&t.scrollTop+t.clientHeight>=e.offsetTop:"horizontal"===i&&(e.offsetLeft+e.clientWidth>=t.scrollLeft&&t.scrollLeft+t.clientWidth>=e.offsetLeft);return t.scrollTo({top:"vertical"===i?e.offsetTop-(t.clientHeight-e.clientHeight)/2:void 0,left:"horizontal"===i?e.offsetLeft-(t.clientWidth-e.clientWidth)/2:void 0,behavior:s?"smooth":"instant"})}i.d(t,{o:()=>s})},25877:(e,t,i)=>{"use strict";function s(e,t){return void 0===t.width&&void 0!==t.height?e.replace("{height}",t.height.toString()).replace("w={width}","").replace("&",""):void 0!==t.width&&void 0===t.height?e.replace("{width}",t.width.toString()).replace("h={height}","").replace("&",""):void 0!==t.width&&void 0!==t.height?e.replace("{width}",t.width.toString()).replace("{height}",t.height.toString()):e.replace("h={height}","").replace("w={width}","").replace("&","").replace("?","")}i.d(t,{$:()=>s})},26428:(e,t,i)=>{"use strict";function s(e){var t,i;return!!(null===(i=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.branded_advertiser)}i.d(t,{S:()=>s})},73861:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(80690);function r(e,t){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,`$1${t&&t.isBreakable?" ":s.aY}`)}s.aY},67806:(e,t,i)=>{"use strict";i.d(t,{W:()=>n});var s=i(19945),r=i(56964);function n(e,t){const i=t.addressSeparator+" ";switch(e.type){case"branch":case"building":if(e.address){return(0,s.U6)(e.type,e.address,{order:(0,r.t)(t),separator:t.addressSeparator,useSingleComponentForBranch:!1,useBuildingNameForBranch:"branch"===e.type&&!e.group}).map((e=>e.value)).join(i)}}}},36366:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var s=i(35023),r=i(31098);function n(e,t,i){var n,a;const o=null===(n=e.name_ex)||void 0===n?void 0:n.extension;return[e.name_ex&&o?(null===(a=e.name_ex)||void 0===a?void 0:a.primary)+t+o:e.name,(0,r.U)(i,e)].filter(s.t2).join(t)}},86824:(e,t,i)=>{"use strict";i.d(t,{M:()=>g,W:()=>f});var s=i(31098),r=i(36366),n=i(61200),a=i(67806),o=i(45801),c=i(47422),d=i(34070),l=i(24880),u=i(35023),p=i(80690),m=i(652);function g(e,t,i){const{includeRegion:s=!0,alwaysIncludeDivision:r,separator:a}=t,o="adm_div"===e.type&&"city"===e.subtype,c="adm_div"===e.type||r;let l=e.adm_div&&(0,n.ue)(e.adm_div,{includeDivision:c,includeRegion:s,excludeLivingAreaAndDistrict:!0,separator:a,entityFlags:"flags"in e?e.flags:void 0});if(!o||!l||e.name!==l){if("subtype"in e&&"settlement"===e.subtype&&i){const t=(0,d.Mk)(e,i)[0];l=t?`${t}${a}${l}`:l}return l||void 0}}function h(e,t){var i,s,d,h;const{config:f,tp:v,showDrilldown:b}=t,y=f.addressSeparator+" ";if("market"===e.type)return;if(!e.entity)return;const x={alwaysIncludeDivision:f.alwaysIncludeDivisionInDrilldown,separator:y},j="search_attributes"in e&&!!(null===(i=e.search_attributes)||void 0===i?void 0:i.dgis_found_by_address),{entity:w}=e;switch(w.type){case"street":case"adm_div":return g(w,x,v);case"attraction":return w.adm_div?(0,n.OM)(w.adm_div)[0].name:void 0;case"branch":return j?(0,r.A)(w,y,v):[(0,a.W)(w,f),b&&!(0,c.m)(w)&&g(w,Object.assign(Object.assign({},x),{includeRegion:!1}))].filter((e=>!!e)).join(y);case"building":return j?w.building_name||[(0,a.W)(w,f),g(w,x)].filter((e=>!!e)).join(y)||w.name:w.building_name?[(0,a.W)(w,f),g(w,x)].filter((e=>!!e)).join(y):g(w,x);case"station":return"metro"===w.subtype?w.routes&&w.routes[0]&&w.routes[0].name:g(w,x);case"route":const t=(null===(s=w.adm_div)||void 0===s?void 0:s.length)?w.adm_div[0].name:void 0;return w.from_name&&w.to_name?t?`${w.from_name} – ${w.to_name} • ${t}`:`${w.from_name} – ${w.to_name}`:t;case"rubric":case"metarubric":const i=(0,o.x)(e),I=w.name,C=(null!==(d=w.branch_count)&&void 0!==d?d:0)+(null!==(h=w.geo_count)&&void 0!==h?h:0),_=C?v._nt(["%% филиал","%% филиала","%% филиалов"],C):void 0,k=(C&&w.geo_count?v._nt(["%% место","%% места","%% мест"],C):void 0)||_,O=i&&I.toLowerCase()!==i.toLowerCase()?I:void 0,S=p.aY+"•"+p.aY;return k||O?`${null!=k?k:""}${k&&O?S:""}${null!=O?O:""}`:void 0;case"attribute":const{subcode_label:T,category_label:E}=w.extend||{},{suggested_text:M}="object"===e.type&&e.search_attributes||{};return T&&M&&!T.toLowerCase().includes(M.toLowerCase())&&!M.toLowerCase().includes(T.toLowerCase())?M:E;case"org":const N=b?g(w,Object.assign(Object.assign({},x),{includeRegion:!1})):void 0;return[w.org&&w.org.branch_count>1?v._nt(["%% филиал","%% филиала","%% филиалов"],w.org&&w.org.branch_count||0):void 0,N].filter(u.t2).join(y);case"brand":return[w.brand&&w.brand.branch_count>1?v._nt(["%% филиал","%% филиала","%% филиалов"],w.brand&&w.brand.branch_count||0):void 0].filter(u.t2).join(y);case"road":return;case"kilometer_road_sign":return(0,l.m)(w,v);case"point":return w.point?(0,m.c)({point:w.point,withDegreeSymbol:!0}):void 0}}function f({tp:e,config:t,showDrilldown:i=!0},r){return{name:(0,s.s)({tp:e,config:t},r),hint:h(r,{tp:e,config:t,showDrilldown:i})}}},45801:(e,t,i)=>{"use strict";function s(e){var t,i;return"search_attributes"in e&&(null===(t=e.search_attributes)||void 0===t?void 0:t.suggested_text)?null===(i=e.search_attributes)||void 0===i?void 0:i.suggested_text:void 0}i.d(t,{x:()=>s})},31098:(e,t,i)=>{"use strict";i.d(t,{U:()=>l,s:()=>u});var s=i(35023),r=i(53157),n=i(45801),a=i(67806),o=i(36366),c=i(24880),d=i(79658);function l(e,t){switch(t.type){case"street":return e._t("улица");case"road":return e._t("дорога");case"station":if(!t.route_type)switch(t.subtype){case"railway":return e._t("станция");case"metro":return"";default:return e._t("остановка")}if("premetro"===t.subtype&&"premetro"===t.route_type)return e._t("станция метротрама");switch(t.route_type){case"light_rail":return e._t("остановка скоростного трамвая");case"tram":return e._t("остановка трамвая");case"metro":case"premetro":return e._t("станция метро");case"light_metro":return e._t("станция лёгкого метро");case"aeroexpress":case"suburban_train":return e._t("железнодорожная станция");case"mcd":return e._t("станция МЦД");case"mcc":return e._t("станция МЦК");case"monorail":return e._t("станция монорельса");case"funicular_railway":return e._t("остановка фуникулёра");case"cable_car":return e._t("станция канатной дороги");case"river_transport":return e._t("причал");default:return e._t("остановка")}case"route":return function(e,t){if("metro"===t)return"";const i={bus:e._t("автобус"),trolleybus:e._t("троллейбус"),tram:e._t("трамвай"),shuttle_bus:e._t("маршрутное такси"),suburban_train:e._t("электричка"),funicular_railway:e._t("фуникулер"),monorail:e._t("монорельсовая дорога"),river_transport:e._t("водный транспорт"),cable_car:e._t("канатная дорога"),light_rail:e._t("скоростной трамвай"),premetro:e._t("метротрам"),light_metro:e._t("лёгкое метро")};return t&&i[t]||e._t("маршрут")}(e,t.subtype)}return"adm_div"===t.type&&"district"===t.subtype?e._t("район"):""}function u({tp:e,config:t},i){var u;if("history"===i.type&&i.text)return i.text;const m=(0,n.x)(i)||"";if("market"===i.type)return i.name||m;const{entity:g}=i;if(!g)return m;const h="search_attributes"in i&&!!(null===(u=i.search_attributes)||void 0===u?void 0:u.dgis_found_by_address),f=t.comma+" ";let v;switch(g.type){case"adm_div":case"station":v=[g.name,l(e,g)].filter(s.t2).join(f);break;case"parking":v=g.name;break;case"branch":v=h&&(0,a.W)(g,t)||(0,o.A)(g,f,e);break;case"rubric":case"street":v=g.name&&m&&m.toLowerCase()!==g.name.toLowerCase()?m:g.name;break;case"attraction":v=(0,d.q)(g.name,g.subtype_name);break;case"building":v=h?(0,a.W)(g,t)||g.name:g.building_name||(0,a.W)(g,t)||g.name;break;case"road":case"route":v=[(0,r.ND)(l(e,g)),g.name].filter(s.t2).join(" ");break;case"attribute":v=g.extend&&g.extend.search_name&&!m.toLowerCase().includes(g.extend.search_name.toLowerCase())?g.extend.search_name:void 0;break;case"directory":v=(0,r.ND)(m);break;case"org":v=p(g,f);break;case"brand":v=function(e,t){var i;if(e.brand.name){const s=e.rubrics&&e.rubrics[0]&&e.rubrics[0].name?(0,r.wz)(e.rubrics[0].name):void 0,n=e.brand.extension||(null===(i=e.name_ex)||void 0===i?void 0:i.extension)||s;return e.brand.name&&n?[e.brand.name,n].join(t):e.brand.name}return p(e,t)}(g,f);break;case"kilometer_road_sign":v=(0,c.m)(g,e);break;case"point":return e._t("Какое-то местечко")}return v||m}function p(e,t){var i,s,n,a;const o=(null===(i=e.org)||void 0===i?void 0:i.primary)||(null===(s=e.name_ex)||void 0===s?void 0:s.primary)||e.name,c=e.rubrics&&e.rubrics[0]&&e.rubrics[0].name?(0,r.wz)(e.rubrics[0].name):void 0,d=(null===(n=e.org)||void 0===n?void 0:n.extension)||(null===(a=e.name_ex)||void 0===a?void 0:a.extension)||c;return o&&d?[o,d].join(t):o}},64425:(e,t,i)=>{"use strict";function s(e){return!("object"!==e.type||!e.search_attributes)&&3===e.search_attributes.handling_type}i.d(t,{p:()=>s})},16510:(e,t,i)=>{"use strict";function s(e,t){const i=e.floors&&e.floors.ground_count;if(i)return t._nt(["%%&nbsp;этаж","%%&nbsp;этажа","%%&nbsp;этажей"],i)}i.d(t,{i:()=>s})},91684:(e,t,i)=>{"use strict";function s(e,t){switch(e){case"bus":return t._t("Автобус");case"suburban_train":return t._t("Электричка");case"trolleybus":return t._t("Троллейбус");case"tram":return t._t("Трамвай");case"shuttle_bus":return t._t("Маршрутка");case"metro":return t._t("Метро");case"river_transport":return t._t("Водный транспорт");case"funicular_railway":return t._t("Фуникулер");case"monorail":return t._t("Монорельс");case"cable_car":return t._t("Канатная дорога");case"light_rail":return t._t("Скоростной трамвай");case"premetro":return t._t("Метротрам");case"light_metro":return t._t("Лёгкое метро");case"aeroexpress":return t._t("Аэроэкспресс");case"mcc":return t._gg("МЦК");case"mcd":return t._gg("Московский центральный диаметр");default:return t._t("Транспорт")}}i.d(t,{w:()=>s})},79495:(e,t,i)=>{"use strict";i.d(t,{$:()=>c});var s=i(96342);const r=e=>{const{dayItem:t,tp:i,dateFns:r,is12h:n}=e,{start_hour:a,start_minute:o,finish_hour:c,finish_minute:d}=t,l=(0,s.u2)(a),u=(0,s.u2)(o),p=(0,s.u2)(c),m=(0,s.u2)(d),g=new Date(0,0,0,Number(l),Number(u),0,0),h=new Date(0,0,0,Number(p),Number(m),0,0),f=r.format(g,n?"hh:mm aaaa":"HH:mm"),v=r.format(h,n?"hh:mm aaaa":"HH:mm");return i._pt("Временной период","%1 - %2",[f,v])},n=e=>{const{wdays:t,tp:i,dateFns:s,is12h:n}=e,a=[],o=(e=>{for(let t=1;t<e.length;t++)if(e[t].start_hour!==e[t-1].start_hour||e[t].start_minute!==e[t-1].start_minute||e[t].finish_hour!==e[t-1].finish_hour||e[t].finish_minute!==e[t-1].finish_minute)return!1;return!0})(t);return o?r({dayItem:t[0],tp:i,dateFns:s,is12h:n}):(t.forEach((e=>{const t=((e,t,i,s)=>{const n=r({dayItem:e,tp:t,dateFns:i,is12h:s}),a=(e=>{const{day:t,tp:i}=e;switch(t){case"sun":return i._t("Вс");case"mon":return i._t("Пн");case"tue":return i._t("Вт");case"wed":return i._t("Ср");case"thu":return i._t("Чт");case"fri":return i._t("Пт");case"sat":return i._t("Сб");default:return}})({day:e.day,tp:t});return t._pt("Временной период","%1. - %2",[a,n])})(e,i,s,n);a.push(t)})),a.join("; "))};var a=i(10330);const o=e=>{var t,i,s;const{event:r,dateFns:o,tp:c,is12h:d,offset:l}=e;if("restriction"===r.type){return(e=>{const{startTime:t,finishTime:i,dateFns:s,wdays:r,tp:o,is12h:c,offset:d}=e;let l;const u=(e,t)=>s.format((0,a.F)(1e3*e,t),"d MMMM yyyy HH:mm");if(t&&i){const e=u(t,d),s=u(i,d);l=o._t("%1 – %2",[e,s])}if(t&&!i){const e=u(t,d);l=o._t("С %1",[e])}if(!t&&i){const e=u(i,d);l=o._t("По %1",[e])}const p=(null==r?void 0:r.length)?n({wdays:r,tp:o,dateFns:s,is12h:c}):void 0;return p&&l?o._pt("Временной период","%1: %2",[l,p]):p||l})({startTime:null===(t=r.data)||void 0===t?void 0:t.start_time,finishTime:null===(i=r.data)||void 0===i?void 0:i.finish_time,wdays:null===(s=r.data)||void 0===s?void 0:s.wdays,dateFns:o,tp:c,is12h:d,offset:l})}return function(e,t){const i=new Date,s=new Date(e);return+i-e<864e5?t.formatDistanceStrict(s,i,{addSuffix:!0}):t.format(s,"d MMMM yyyy")}(1e3*r.timestamp,o)};function c(e,t,i,s,r){const n="2gis"===e.user.id?s.brandName:e.user.name,a=[],c=o({event:e,dateFns:i,tp:t,is12h:s.is12h,offset:r});return c&&a.push(c),n&&a.push(n),a.join(`${s.comma} `)}},63854:(e,t,i)=>{"use strict";function s(e,t="2gis"){if("urbi"===t)switch(e){case"com":case"sa":return"urbi-sa.com";case"iq":return"urbi-iq.com";case"eg":return"urbi-eg.com";case"om":return"urbi-om.com";case"qa":return"urbi.qa";case"bh":return"urbi.bh";case"kw":return"urbi-kw.com";case"ma":return"urbi.ma";case"ae":return"maps.urbi.ae";default:return`2gis.${e}`}return`2gis.${e}`}i.d(t,{e:()=>s})},60663:(e,t,i)=>{"use strict";i.d(t,{S:()=>o,p:()=>c});var s=i(19071),r=i(81339),n=i(63854),a=i(35023);const o=["branch","branchMenu","branchPrices","branchPricesMenu","firm","geo","building","attraction","gate","street","road","crossroad","place","region","district","districtArea","district_area","livingArea","living_area","division","city","settlement","country","adm_div","parking","station","stationPlatform","station_platform","stationEntrance","station_entrance","stop","metro","route","exchange","kilometer_road_sign","geolocation"];function c(e){if("custom"===e.type)return e.url;const t=function(e){switch(e.type){case"branch":return[{type:"firm",entityId:e.id,tab:e.tab}];case"branchPrices":case"branchPricesMenu":return[{type:"firm",entityId:e.id,tab:"prices"}];case"geo":case"building":case"attraction":case"gate":case"street":case"road":case"crossroad":case"place":case"region":case"district":case"districtArea":case"district_area":case"livingArea":case"living_area":case"division":case"city":case"adm_div":case"parking":return[{type:"geo",entityId:e.id,tab:e.tab}];case"point":return[{type:"geo",point:e.point}];case"station":case"stop":case"metro":return[{type:"station",entityId:e.id,tab:e.tab}];case"stationEntrance":case"station_entrance":return[{type:"stationEntrance",entityId:e.id,tab:e.tab}];case"stationPlatform":case"station_platform":return[{type:"platform",entityId:e.id,tab:e.tab}];case"route":return[{type:"route",entityId:e.id,tab:e.tab}];case"buildingServices":return[{type:e.slugType,entityId:e.id,tab:"services"}];case"buildingProviders":return[{type:e.slugType,entityId:e.id,tab:"providers"}];case"inBuildingBranches":return[{type:e.slugType,entityId:e.id,tab:"inside"}];case"organizationBranches":return[{type:"branches",orgId:e.id,filters:"filters"in e?e.filters:void 0}];case"product":return[{type:"product",productId:e.id}];case"catalogSearch":case"awards2gis":return[{type:"search",query:e.query,rubricId:e.rubricId,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"branchOffers":return[{type:"prices",branchId:e.branchId,categoryId:e.categoryId},{type:"offers",query:e.query,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"directions":return[{type:"directions",tab:e.tab,points:e.points}];case"metroLayer":case"metroLayerMoscow":case"metroScheme":return[{type:"metroScheme",stub:"metro"}];case"gallery":return[{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,r.Z)(e.entityType),entityId:e.entityId,photoId:e.photoId}];case"realty":return[{type:"realty",category:e.category,filters:e.filters,at:e.linkedEntityId?void 0:e.entityId,rc:e.linkedEntityId}];case"realtyRent":return[{type:"realty",category:"rent",filters:e.filters,at:e.linkedEntityId?void 0:e.entityId,rc:e.linkedEntityId}];case"realtyDaily":return[{type:"realty",category:"rentDaily",filters:e.filters,at:e.linkedEntityId?void 0:e.entityId,rc:e.linkedEntityId}];case"realtySaleCommercial":return[{type:"realty",category:"saleCommercial",filters:e.filters,at:e.linkedEntityId?void 0:e.entityId,rc:e.linkedEntityId}];case"realtySales":return[{type:"realty",category:"sale",filters:e.filters,at:e.linkedEntityId?void 0:e.entityId,rc:e.linkedEntityId}];case"realtyAd":return(0,a.oE)([e.category&&{type:"realty",category:e.category,rc:e.linkedEntityId?void 0:e.entityId,at:e.entityId},{type:"realtyAd",id:e.id,tab:e.tab}]);case"collection":return[{type:"collection",collectionId:e.id}];case"guidebook":return[{type:"guidebook"}];case"interesting":return[{type:"interesting"}];case"meet":return[{type:"meet",meetId:e.meetId}];case"award2019":return[{type:"award2019"}];case"project":case"root":return[];case"rubrics":return[{type:"rubrics"}];case"subrubrics":return[{type:"rubrics"},{type:"subrubrics",parentId:e.id}];case"favorites":return[{type:"favorites"}];case"defaultEntity":return e.id?[{type:"geo",entityId:e.id}]:void 0;case"traffic":return[{type:"traffic"}];case"user":return[{type:"user",userId:e.userId}];case"mapfriends":return[{type:"mapfriends",page:e.page,userId:e.userId}];case"tabReviews":return[{type:e.slugType,entityId:e.id,tab:e.tab}];case"friends":return[{type:"friendsList"}];case"immersivePromo":return[{type:"immersivePromo"}];case"directionsRoot":return[{type:"directions"}];case"advice":return[{type:"advice"}];case"guide":return[{type:"guide",scenarioId:e.scenarioId,rubricId:e.rubricId,entityId:e.entityId}];default:return}}(e);return t?function(e,t){const{cityAlias:i,lang:r,domain:a,brandCode:o}=e;i&&t.unshift({type:"region",code:i});r&&t.unshift({type:"lang",lang:r});const c=(0,s.w)(t);if(!c)return"";if(a){return`${`https://${(0,n.e)(a,o)}`}${c}`}return c}(e,t):void 0}},3135:(e,t,i)=>{"use strict";i.d(t,{R:()=>x,m:()=>j});var s=i(31085),r=i(14041),n=i(14193),a=i(35606),o=i(74182),c=i(35023),d=i(46287),l=i(79594),u=i(80905),p=i(84175),m=i(29094),g=i(536),h=i(82781),f=i(75433),v=i(39123),b=i(88942),y=i(43793);function x(e){const t=function(e){return(0,r.useMemo)((()=>{if((null==e?void 0:e.erid)||(null==e?void 0:e.legalName))return{warning:e.warning,description:e.description,blocks:[{erid:e.erid,legalName:e.legalName}]}}),[null==e?void 0:e.erid,null==e?void 0:e.legalName,null==e?void 0:e.warning,null==e?void 0:e.description])}("banner"===(null==e?void 0:e.source)?e:void 0),i=function(e){const t=(0,v.U)("entity"),i=e?e.entityId||(null==t?void 0:t.entityId):void 0,s=(0,l.d4)((e=>{if(t&&(null==t?void 0:t.entityId)===i)return t.searchId;const s=(0,u.bB)(e.appContext.frames,"gallery");if(s&&s.entityId===i)return s.searchId;const r=(0,u.bB)(e.appContext.frames,"offer")||(0,u.bB)(e.appContext.frames,"prices");if(r&&r.entityId===i)return r.entitySearchId;const n=(0,u.bB)(e.appContext.frames,"search");return n?(0,y.X)(n):void 0})),n=(0,b.t)(i,s),a=(0,l.d4)((e=>(0,f.l)({state:e,dashboardId:(0,o.HX)(e.appContext.weak.dashboard.transitions.rubricsId)}).data));return(0,r.useMemo)((()=>{var e,t,i,s,r,o,c,d,l,u,p,m,g,h;if("branch"!==(null==n?void 0:n.type))return;const f=[],v=({erid:e,legalName:t})=>{const i=f.find((e=>e.legalName===t));i?e&&(i.erid=[...i.erid||[],...e]):f.push({erid:e,legalName:t})};((null===(t=null===(e=null==n?void 0:n.ads)||void 0===e?void 0:e.options)||void 0===t?void 0:t.erid)||(null===(s=null===(i=null==n?void 0:n.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.legal_name))&&v({erid:n.ads.options.erid,legalName:n.ads.options.legal_name}),((null===(c=null===(o=null===(r=null==n?void 0:n.ads)||void 0===r?void 0:r.options)||void 0===o?void 0:o.poi)||void 0===c?void 0:c.erid)||(null===(u=null===(l=null===(d=null==n?void 0:n.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.poi)||void 0===u?void 0:u.legal_name))&&v({erid:n.ads.options.poi.erid,legalName:null===(p=n.ads.options.poi)||void 0===p?void 0:p.legal_name}),(null===(h=null===(g=null===(m=null==n?void 0:n.ads)||void 0===m?void 0:m.options)||void 0===g?void 0:g.fmcg_owner)||void 0===h?void 0:h[0])&&v({erid:n.ads.options.fmcg_owner[0].erid,legalName:n.ads.options.fmcg_owner[0].legal_name});const b=null==a?void 0:a.find((e=>"pseudorubric"===e.type&&(e.owner_id===n.id||e.owner_id===n.org.id)));return"pseudorubric"===(null==b?void 0:b.type)&&((null==b?void 0:b.erid)||(null==b?void 0:b.legal_name))&&v({erid:b.erid,legalName:b.legal_name}),{blocks:f}}),[n,a])}("card"===(null==e?void 0:e.source)?e:void 0),s=function(e){var t,i,s,p,m,g,h,f,b,y,x;const j=e?e.entityId:void 0,w=(0,v.U)("entity"),I=(0,l.d4)((e=>{var t,i,s;const r=w&&(0,d.Tq)({state:e,entityId:w.entityId,searchId:w.searchId}).data;if(w&&r&&j&&(r.id===j||[...(0,n.l)(r),...null!==(s=null===(i=null===(t=r.ads)||void 0===t?void 0:t.options)||void 0===i?void 0:i.fmcg)&&void 0!==s?s:[]].some((e=>e.branch_id===j))))return w.searchId;const a=(0,u.bB)(e.appContext.frames,"search");switch(null==a?void 0:a.searchType){case"query":return(0,o.HX)(a.tabCatalog.searchId);case"filials":case"brand":case"buyHere":return(0,o.HX)(a.searchId)}})),C=(0,r.useMemo)((()=>I||(0,c.W7)()),[I]),_=(0,l.d4)((e=>j?(0,d.Tq)({state:e,entityId:j,searchId:C}):void 0)),k=null==_?void 0:_.data,O=(0,l.wA)();(0,r.useEffect)((()=>{var e;j&&!(null===(e=null==_?void 0:_.data)||void 0===e?void 0:e.ads)&&O((0,a.it)({id:j,searchId:C}))}),[O,null===(t=null==_?void 0:_.data)||void 0===t?void 0:t.ads,j,C]);const S=(null==w?void 0:w.entityId)===(null==e?void 0:e.frameEntityId)&&(null==w?void 0:w.isOpenedFromMap)&&(null===(s=null===(i=null==k?void 0:k.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.map_buy_here_owner)?null===(p=k.ads.options.map_buy_here_owner)||void 0===p?void 0:p[0]:(null===(h=null===(g=null===(m=null==k?void 0:k.ads)||void 0===m?void 0:m.options)||void 0===g?void 0:g.buy_here_owner)||void 0===h?void 0:h[0])||(null===(y=null===(b=null===(f=null==k?void 0:k.ads)||void 0===f?void 0:f.options)||void 0===b?void 0:b.fmcg_owner)||void 0===y?void 0:y[0]),T=e?!(null===(x=null==_?void 0:_.meta)||void 0===x?void 0:x.status)||"loading"===_.meta.status:void 0,E=(0,r.useMemo)((()=>T),[]);return(0,r.useMemo)((()=>(null==S?void 0:S.erid)||(null==S?void 0:S.legal_name)?{isLoading:T,wasLoading:E,blocks:[{erid:S.erid,legalName:S.legal_name}]}:{isLoading:T,wasLoading:E}),[T,E,null==S?void 0:S.erid,null==S?void 0:S.legal_name])}("buyHere"===(null==e?void 0:e.source)?e:void 0),p=t||i||s;return(0,r.useMemo)((()=>{var e;const t=null===(e=null==p?void 0:p.blocks)||void 0===e?void 0:e.map((e=>{var t;return Object.assign(Object.assign({},e),{erid:(null===(t=e.erid)||void 0===t?void 0:t.join(", "))||void 0})}));return Object.assign(Object.assign({},p),{erid:null==t?void 0:t.filter((({erid:e})=>!!e)).map((({erid:e})=>e)).join(", "),blocks:t})}),[p])}function j(){const{css:e,s:t}=(0,p.I)(w),i=(0,h.c)(),n=(0,r.createRef)(),a=(0,l.wA)();return{onCopy:(0,r.useCallback)((e=>{if(e.stopPropagation(),e.preventDefault(),!n.current)return;n.current.select(),document.execCommand("copy"),n.current.blur();const t=document.getSelection();t&&t.empty(),a((0,m.D)((0,g.k)({title:i._gg("Скопировано"),message:i._gg("ID скопирован в буфер обмена!")})))}),[]),renderIdInput:(0,r.useCallback)((i=>(0,s.jsx)("input",{ref:n,readOnly:!0,value:i,className:e(t.idInput)})),[])}}const w=(0,p.r)({idInput:{opacity:0,position:"absolute",top:0,start:0,cursor:"default"}})},24257:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var s=i(79594),r=i(1321),n=i(10742);function a(){const e=(0,s.wA)();return{hoveredId:(0,s.d4)((e=>e.appContext.weak.hoveredId)),onHover:(0,n.D)((({id:t})=>{e((0,r.Ip)({hoveredId:t}))})),onUnhover:(0,n.D)((()=>{e((0,r.Ip)({hoveredId:void 0}))}))}}},64631:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var s=i(14041);function r({delay:e,onChange:t}={}){const[i,r]=(0,s.useState)("undefined"==typeof window||!document.hidden);return(0,s.useEffect)((()=>{let i;const s=void 0!==e?()=>{document.hidden?i=setTimeout((()=>{i=void 0,null==t||t(),r(!1)}),e):i?clearTimeout(i):(null==t||t(),r(!0))}:()=>{null==t||t(),r(!document.hidden)};return document.addEventListener("visibilitychange",s),()=>{document.removeEventListener("visibilitychange",s)}}),[e,t]),i}},27485:(e,t,i)=>{"use strict";i.d(t,{B:()=>a});var s=i(14041),r=i(79594),n=i(1321);function a(e){const t=(0,r.wA)();return{isHovered:(0,r.d4)((t=>!!e&&t.appContext.weak.hoveredId===e)),onHover:(0,s.useCallback)((()=>{e&&t((0,n.Ip)({hoveredId:e}))}),[t,e]),onUnhover:(0,s.useCallback)((()=>{e&&t((0,n.Ip)({hoveredId:void 0}))}),[t,e])}}},67143:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var s=i(79594);function r(e){const t=(0,s.d4)((e=>e.appContext.activeLayer));return"building"===(null==e?void 0:e.type)&&(!!e.has_realty&&"realty"!==t)}},42735:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});var s=i(79594),r=i(82393);function n(){return(0,s.d4)(r.MJ)}},18887:(e,t,i)=>{"use strict";i.d(t,{P:()=>c});var s=i(60663),r=i(55143),n=i(46287),a=i(52160),o=i(79594);function c(e){const t=(0,o.d4)((t=>{var i,o;const c=e&&s.S.includes(e.type)&&"id"in e?e.id:void 0,d=c?(0,n.DE)({state:t,entityId:c}).data:void 0;return d?(0,r.f)(d)||(null===(o=null===(i=(0,a.b7)({state:t,id:d.region_id}))||void 0===i?void 0:i.data)||void 0===o?void 0:o.uri_code):(0,a.kB)(t)})),i=(0,o.d4)((e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0));return e?(0,s.p)(Object.assign({cityAlias:t,lang:i},e)):void 0}},60822:(e,t,i)=>{"use strict";function s(e){return!e.new_email&&(!!e.email&&!e.email_confirmed)}function r(e){return!(!e.email&&!e.new_email)&&(!!e.new_email&&e.new_email!==e.email)}i.d(t,{J:()=>r,m:()=>s})},45396:(e,t,i)=>{"use strict";function s(e){var t;return(null===(t=e.match(/(\d+(?:\.\d+)? \d+(?:\.\d+)?)/g))||void 0===t?void 0:t.map((e=>e.split(" ").map(parseFloat))))||[]}i.d(t,{s:()=>s})},56475:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>a,gv:()=>l});var s={};i.r(s),i.d(s,{authorizationButtonElementName:()=>f,notAuthorizedPromoFriendsElementName:()=>g,promoBlockFrameElementName:()=>p,showNotAuthorizedPromoFriends:()=>h,showPromoBlockFrame:()=>m,tapAuthorizationButton:()=>v,tapCloseButton:()=>b});var r={};i.r(r),i.d(r,{authorizedPromoFriendsElementName:()=>j,promoBlockFrameElementName:()=>y,showAuthorizedPromoFriends:()=>w,showPromoBlockFrame:()=>x,tapCloseButton:()=>I});var n={};i.r(n),i.d(n,{actionOnMobilePromoFriends:()=>E,promoBlockElementName:()=>O,promoBlockFrameElementName:()=>_,promoBlockOwnerElementName:()=>S,showMobilePromoFriends:()=>T,showPromoBlockFrame:()=>k});var a={};i.r(a),i.d(a,{PU:()=>s,Xe:()=>r,TS:()=>n});var o=i(27892),c=i(12017),d=i(77847);const l=(0,c.n5)("closeOnboardingPopup",(({withLayer:e})=>(0,c._7)(e&&(0,d.po)({newLayer:void 0}),(0,o.fs)())));var u=i(99906);const p="promoBlockFrame",m=()=>({frameId:e},t)=>(0,u.f_)({state:t,uuid:e,name:p}),g="notAuthorizedPromoFriends",h=()=>({frameId:e})=>({uiElement:{name:g,ownerName:p,frameUuid:e}}),f="authorizationButton",v=()=>({frameId:e})=>({uiElement:{name:f,ownerName:g,frameUuid:e},action:"tap"}),b=()=>({frameId:e})=>({uiElement:{name:g,ownerName:p,frameUuid:e},action:"close"}),y="promoBlockFrame",x=()=>({frameId:e},t)=>(0,u.f_)({state:t,uuid:e,name:y}),j="authorizedPromoFriends",w=()=>({frameId:e})=>({uiElement:{name:j,ownerName:y,frameUuid:e}}),I=()=>({frameId:e})=>({uiElement:{name:j,ownerName:y,frameUuid:e},action:"close"}),C="fullscreenFriendsPopup",_="promoBlockFrame",k=()=>({frameId:e},t)=>(0,u.f_)({state:t,uuid:e,name:_}),O="promoBlock",S="fullScreenBanner",T=()=>({frameId:e})=>({uiElement:{name:O,ownerName:S,frameUuid:e},payload:{promoItem:{id:C,name:"mobilePromoFriends"}}}),E=()=>({frameId:e},t,i)=>{if(null==i?void 0:i.action)return{action:"tap",uiElement:{name:i.action,ownerName:O,frameUuid:e},payload:{promoItem:{id:C,name:"mobilePromoFriends",link:i.link}}}}},38851:(e,t,i)=>{"use strict";i.d(t,{K:()=>b});var s=i(31085),r=i(14041),n=i(79594),a=i(84593),o=i(44920),c=i(98827),d=i(94447),l=i(29787),u=i(51883),p=i(7335);function m(){const e=(0,n.wA)();return(0,r.useCallback)((()=>{e((0,l.PC)((0,p.eU)((e=>e.appContext.frames[0]),(e=>"guide"===(null==e?void 0:e.type)&&e.scenarioId?(0,d.d6)():(0,u.kD)()))))}),[e])}const g=()=>{const e=[(0,o.A)({onClick:m(),isLabelShown:!0}),(0,c.n)({isLabelShown:!0})];return(0,s.jsx)(a.L,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,s.jsx)(a.j,Object.assign({icon:e.icon,type:"whiteWithShadow",grow:"maximize"===e.type,onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var h=i(33489);const f=()=>{const e=[(0,o.A)({onClick:m(),isLabelShown:!0}),(0,h.j)({isLabelShown:!0})];return(0,s.jsx)(a.L,{children:e.map(((e,t)=>e&&(0,s.jsx)(a.j,Object.assign({icon:e.icon,grow:"map"===e.type,type:"gray",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})},v=e=>Boolean(e.appContext.isDataViewerMinimized),b=(0,r.memo)((()=>(0,n.d4)(v)?(0,s.jsx)(g,{}):(0,s.jsx)(f,{})))},51214:(e,t,i)=>{"use strict";i.d(t,{H:()=>c,U:()=>s});var s=i(83875),r=i(31085),n=i(10048),a=i(58471),o=i(40837);const c=e=>(0,r.jsx)(n.w,{loader:a.b.mediaViewer,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:o.N})},83875:(e,t,i)=>{"use strict";i.d(t,{N:()=>s});var s={};i.r(s),i.d(s,{showMediaProviderTitle:()=>d,tapDeleteMedia:()=>o,tapMediaProviderTitle:()=>c});var r=i(53930),n=i(9420),a=i(50432);const o=()=>({frameId:e},t,i)=>{const{media:s}=i||{};if(!s)return;const a=(0,r.Xr)(s)||(0,r.kt)(s),{mediaPayload:o}=(0,n.PQ)({state:t,frameId:e,media:s,isVideo:a});return{uiElement:{name:a?"deleteVideo":"deletePhoto",ownerName:a?"videoCardFull":"photoCardFull",frameUuid:e},payload:Object.assign({},a?{video:o}:{photo:o}),action:"tap"}},c=()=>({frameId:e},t,i)=>{if(!i)return;const{media:s,copyrightLink:o}=i,c=(0,r.Xr)(s)||(0,r.kt)(s),{mediaPayload:d}=(0,n.PQ)({state:t,frameId:e,media:s,isVideo:c});return d||(0,a.vV)({message:"Не удалось сформировать payload для события a-x7hjx / a-hh9vp / a-fpqkp",level:"error",id:"nposf",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:o?"callToActionButton":"placeCardLink",ownerName:c?"videoCardFull":"photoCardFull",frameUuid:e},payload:Object.assign(Object.assign({},c?{video:d}:{photo:d}),o?{callToAction:{actionType:"link",value:o}}:{}),action:"tap"}},d=e=>({frameId:t},i)=>{if(!e)return;const{media:s,copyrightLink:o}=e,c=(0,r.Xr)(s)||(0,r.kt)(s),{mediaPayload:d}=(0,n.PQ)({state:i,frameId:t,media:s,isVideo:c});return d||(0,a.vV)({message:"Не удалось сформировать payload для события v-kpuq7",level:"error",id:"kpuq7",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:o?"callToActionButton":"placeCardLink",ownerName:c?"videoCardFull":"photoCardFull",frameUuid:t},payload:Object.assign(Object.assign({},c?{video:d}:{photo:d}),o?{callToAction:{actionType:"link",value:o}}:{})}};i(60545)},25034:(e,t,i)=>{"use strict";i.d(t,{F:()=>ke,e:()=>n});var s={};i.r(s);var r={};i.r(r),i.d(r,{generators:()=>F,showUserProfileFeedMediaItem:()=>T,showUserProfileFeedPhoto:()=>P,showUserProfileFeedReviewItem:()=>M,tapUserProfileFeedItemHeader:()=>B,tapUserProfileFeedLikeButton:()=>A,tapUserProfileFeedPhoto:()=>R});var n={};i.r(n),i.d(n,{Types:()=>s,bss:()=>r,changeEmojis:()=>O,changeReviewLike:()=>I,invalidateUserProfileFeedQuery:()=>b,updatePublicProfileFeedCacheAfterChangeEmojis:()=>k,updatePublicProfileFeedCacheAfterLike:()=>w,useUserProfileFeed:()=>v,useUserProfileFeedQuery:()=>c});var a=i(85608),o=i(78170);const{use:c,setQueryData:d,withQueryData:l,invalidate:u}=(0,o.r8)("userProfileFeed",(e=>[[e.id,e.page_size,e.locale,e.preview_sizes],({services:t,context:i,config:s})=>(0,a.sH)(void 0,void 0,void 0,(function*(){const r=s.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;return yield t.publicProfileApi.getContentFeed(Object.assign(Object.assign({},e),{accessToken:r,page_token:i.pageParam?`${i.pageParam}`:void 0}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>e.next_page_token});var p=i(79594),m=i(57744),g=i(7335),h=i(33592);const f=[...i(37397).$,"64x64"].join(","),v=e=>{const t=(0,p.d4)(m.u);return c({id:e,locale:t,page_size:h.DR,preview_sizes:f},{enabled:!!e})},b=e=>(0,g.eU)(m.u,(t=>u({id:e,locale:t,page_size:h.DR,preview_sizes:f})));var y=i(12017),x=i(32380),j=i(35023);const w=(0,y.n5)("updatePublicProfileFeedCacheAfterLike",(({isLiked:e,publicUserId:t,reviewId:i})=>(0,g.eU)(m.u,(s=>l({page_size:h.DR,preview_sizes:f,id:t,locale:s},(r=>{var n;if(!r)return(0,y.lQ)();const a=null==r?void 0:r.pages.findIndex((e=>e.content_feed.find((e=>{var t;return(null===(t=e.review)||void 0===t?void 0:t.id)===i})))),o=null!==(n=r.pages.map(((t,s)=>s!==a?t:Object.assign(Object.assign({},t),{content_feed:t.content_feed.map((t=>{var s,r,n;return(null===(s=t.review)||void 0===s?void 0:s.id)!==i?t:Object.assign(Object.assign({},t),{review:Object.assign(Object.assign({},t.review),{likes_count:(r=t.review.likes_count,n=!e,n?r+1:r>0?r-1:0),additional_data:Object.assign(Object.assign({},t.review.additional_data),{is_liked:!e})})})}))}))))&&void 0!==n?n:[];return d({page_size:h.DR,preview_sizes:f,id:t,locale:s},{pages:o,pageParams:r.pageParams})})))))),I=(0,y.n5)("changeReviewLike",(({reviewId:e,isLiked:t,publicUserId:i})=>{const s=(0,j.W7)();return(0,y.K2)(w({reviewId:e,isLiked:t,publicUserId:i}),(0,x.u)({id:e,value:!t,statusId:s}))}));var C=i(49741),_=i(44126);const k=(0,y.n5)("updatePublicProfileFeedCacheAfterChangeEmojis",(({isLike:e,emojiId:t,publicUserId:i,reviewId:s})=>(0,g.eU)(m.u,(r=>l({page_size:h.DR,preview_sizes:f,id:i,locale:r},(n=>{var a;if(!n)return(0,y.lQ)();const o=null==n?void 0:n.pages.findIndex((e=>e.content_feed.find((e=>{var t;return(null===(t=e.review)||void 0===t?void 0:t.id)===s})))),c=null!==(a=n.pages.map(((i,r)=>r!==o?i:Object.assign(Object.assign({},i),{content_feed:i.content_feed.map((i=>{var r;if((null===(r=i.review)||void 0===r?void 0:r.id)!==s)return i;const n=C.j.mutateEmojis(i.review.emojis||[],t,e);return Object.assign(Object.assign({},i),{review:Object.assign(Object.assign({},i.review),{emojis:[...n]})})}))}))))&&void 0!==a?a:[];return d({page_size:h.DR,preview_sizes:f,id:i,locale:r},{pages:c,pageParams:n.pageParams})})))))),O=(0,y.n5)("changeEmojis",(({reviewId:e,emojiId:t,publicUserId:i,isLike:s})=>(0,y.K2)(k({reviewId:e,emojiId:t,publicUserId:i,isLike:s}),(0,_.z)({reviewId:e,emojiId:t,value:s}))));var S=i(34438);const T=({userId:e,isFriend:t,item:i,position:s})=>({frameId:r})=>({uiElement:{name:t?"friendCardActivity":"profileCardActivity",frameUuid:r,ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",position:s},payload:{activityItem:{authUser:e.toString(),entity:{id:i.object.id,type:i.object.type}}}}),E=({showReviewCardMini:e,isFriend:t})=>e?t?"friendCardActivity":"profileCardActivity":"reviewCardFull",M=({userId:e,isFriend:t,item:i,showReviewCardMini:s,position:r})=>({frameId:n})=>({uiElement:{name:E({showReviewCardMini:s,isFriend:t}),frameUuid:n,ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",position:r},payload:{reviewItem:(0,S.o)({review:i}),activityItem:{authUser:e.toString(),entity:{id:i.object.id,type:i.object.type}}}}),N=e=>({name:e.isVideo?"videoCardMini":"photoCardMini",frameUuid:e.frameId,position:e.position,ownerName:e.isFriend?"friendCardActivity":"profileCardActivity"}),L=(e,t)=>{const{type:i,item:s,media:r,userId:n}=e,a={photoId:r.id},o={videoId:r.id},c={authUser:n.toString(),entity:{id:s.object.id,type:s.object.type}};return"review"===i?{uiElement:N(Object.assign(Object.assign({},e),{frameId:t})),payload:{activityItem:c,reviewItem:(0,S.o)({review:s}),photo:a}}:{uiElement:N(Object.assign(Object.assign({},e),{frameId:t})),payload:Object.assign({activityItem:c},e.isVideo?{video:o}:{photo:a})}},P=e=>({frameId:t})=>L(e,t),R=e=>({frameId:t})=>{const i=L(e,t);return Object.assign({action:"tap"},i)},A=({position:e,ownerName:t})=>({frameId:i},s,r)=>{if(!r)return;const{item:n}=r,a=(0,S.o)({review:n});return a?{uiElement:{name:n.additional_data.is_liked?"unlikeButton":"likeButton",frameUuid:i,ownerName:t,position:e},action:"tap",payload:{reviewItem:a,activityItem:{authUser:n.user.id.toString(),entity:{id:n.object.id,type:n.object.type}}}}:void 0},B=({position:e,isFriend:t,userId:i})=>({frameId:s},r,n)=>{if(!n)return;const{item:a}=n;return{uiElement:{position:e,name:"placeCardLink",ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:s},action:"tap",payload:{activityItem:{authUser:i.toString(),entity:{id:a.object.id,type:a.object.type}}}}};var z=i(60545);const F={actions:{userProfileFeedMedia:({isFriend:e,position:t,mediaId:i,isVideo:s})=>(0,z.gD)({uiElement:{name:s?"videoCardMini":"photoCardMini",ownerName:e?"friendCardActivity":"profileCardActivity",position:t||expect.any(Number)},payload:Object.assign({activityItem:{authUser:expect.any(String),entity:expect.any(Object)}},s?{video:{videoId:i}}:{photo:{photoId:i}})})(),userProfileFeedItemHeader:e=>(0,z.gD)({uiElement:{name:"placeCardLink",ownerName:"friendCardActivitiesList",frameUuid:expect.any(String),position:expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(e),likeReview:e=>(0,z.gD)({uiElement:{name:"likeButton",ownerName:"profileCardActivity",frameUuid:expect.any(String),position:expect.any(Number)},payload:{reviewItem:expect.any(Object),activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(e)},views:{userProfileFeedReviewItem:({isFriend:e,reviewId:t,position:i})=>(0,z.m3)({uiElement:{name:e?"friendCardActivity":"profileCardActivity",ownerName:e?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:expect.any(String),position:i||expect.any(Number)},payload:{reviewItem:{reviewId:t||expect.any(String),source:expect.stringMatching(/^(flamp|4sq|2gis)$/),rating:expect.any(Number),author:expect.any(String),rateOnly:expect.any(Boolean),createdAt:{timestamp:expect.any(Number),utcOffset:expect.stringMatching(/^(\+|-)\d\d:\d\d$/)},owner:{entity:{type:expect.any(String),id:expect.any(String)}},gallerySize:expect.any(Number)},activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(),userProfileFeedMediaItem:({isFriend:e,position:t})=>(0,z.m3)({uiElement:{name:e?"friendCardActivity":"profileCardActivity",ownerName:e?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:expect.any(String),position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(),userProfileFeedMedia:({isFriend:e,position:t,mediaId:i,isVideo:s})=>(0,z.m3)({uiElement:{name:s?"videoCardMini":"photoCardMini",ownerName:e?"friendCardActivity":"profileCardActivity",position:t||expect.any(Number)},payload:Object.assign({activityItem:{authUser:expect.any(String),entity:expect.any(Object)}},s?{video:{videoId:i}}:{photo:{photoId:i}})})()}};var H=i(31085),U=i(71832),D=i(51029),V=i(82882),$=i(14041),W=i(21959),q=i(70143),Z=i(62378),Q=i(46579),G=i(64433),K=i(9482),Y=i(8365);const X=({item:e,onLikeClick:t,publicUserId:i,isFriendProfile:s,onHeaderClick:r,position:n,toggleEmojiUserProfile:a})=>{var o;const{isSearchBot:c}=(0,Q.U)(),d=null===(o=(0,p.d4)(W.ug).data)||void 0===o?void 0:o.user_id,l=(0,G.I)(q.t,{reviewId:e.id,publicUserId:i}),u=(0,G.I)(K.C,e.id),{useBssHandler:m}=(0,Y.E)(),g=m(A,{ownerName:s?"friendCardActivity":"profileCardActivity",position:n});return(0,H.jsx)(Z.a,{onHeaderClick:r,isSearchBot:c,isPublicProfile:!0,showObjectInsteadUser:!0,review:e,onComplainClick:u,bssShowFunction:({showReviewCardMini:t})=>M({userId:e.user.id,isFriend:s,item:e,showReviewCardMini:t,position:n}),bssShowPhotoItemFunction:t=>P({position:t.position,media:t.image,item:e,type:"review",isFriend:s,userId:e.user.id}),bssTapPhotoItemFunction:t=>R({position:t.position,media:t.image,item:e,type:"review",isFriend:s,userId:e.user.id}),onLikeClick:()=>{var i;g({item:e}),t(e.id,null!==(i=e.additional_data.is_liked)&&void 0!==i&&i)},onAllCommentsClick:l,userId:d,isFriendProfile:s,toggleEmojiUserProfile:a})};var J=i(23098),ee=i(4),te=i(99259),ie=i(70498),se=i(89268),re=i(84175),ne=i(82781),ae=i(80552),oe=i(41411);const ce=e=>{if(e.object.logo_urls)return e.object.logo_urls["64x64"]};var de=i(53930),le=i(98159);const ue=e=>{var t,i;return{id:e.id,media_type:(0,de.zf)(e)?"photo":"video",real_object_type:e.real_object_type,photo:(0,de.zf)(e)?{url:e.url,preview_urls:e.preview_urls,height:null===(t=e.file_info)||void 0===t?void 0:t.height,width:null===(i=e.file_info)||void 0===i?void 0:i.width}:void 0,video:(0,de.zf)(e)?void 0:{urls:e.urls,preview_urls:e.preview_urls,cover_urls:e.cover_urls,processing_status:e.processing_status},copyright:Object.assign(Object.assign({},e.copyright),{code:"user",type:"text",value:""}),owner:e.owner,creation_time:e.creation_time,modification_time:e.modification_time,is_pinned:!1,is_visible:!0,status:"active",pinned_position:0}};var pe=i(93282),me=i(20749),ge=i(63041),he=i(24872),fe=i(77211),ve=i(78069),be=i(80905),ye=i(39123);const xe=({item:e,userId:t,isFriendProfile:i,onHeaderClick:s,position:r})=>{const n=(e=>[...e.items].reduce(((t,i,s)=>{const r=i.photo?[ue(i.photo)]:i.video?[ue(i.video)]:[],n=i.photo?[(0,le.ln)(e.items.length)(i.photo,s)]:i.video?[(a=i.video,o=e.items.length,c=s,{id:a.id,url:1===o?a.cover_urls["656x340"]:a.cover_urls["176x176"],counter:o>3&&2===c?o:void 0,type:"video",video:a})]:[];var a,o,c;return{mediaForGallery:[...t.mediaForGallery,...r],mediaForPreview:[...t.mediaForPreview,...n]}}),{mediaForGallery:[],mediaForPreview:[]}))(e),{css:a,s:o}=(0,re.I)(je),c=(0,ye.U)(i?"userFriendsActivity":"userPublicProfile"),d=(0,p.d4)((e=>(0,be.bB)(e.appContext.frames,"entity"))),{activePublicProfileFeedId:l,setActivePublicProfileFeedId:u}=(0,fe._)(),m=null===l||l===`${e.object.id}_${e.date}`,g=(0,se.F)(),h=(0,ne.c)(),f=(0,p.wA)(),{bssRef:v}=(0,Y.E)(T({userId:t,item:e,isFriend:i,position:r})),b=(0,G.I)((t=>(0,pe.g)(t,{objectId:e.object.id,objectType:e.object.type})));return(0,H.jsxs)("div",Object.assign({ref:v,className:a(o.container)},{children:[(0,H.jsxs)("div",Object.assign({onClick:()=>{s(),f((0,y.K2)((0,ge.UP)({id:e.object.id,type:e.object.type}),(0,he.TE)({entityId:e.object.id,onlyIfOutOfViewpoint:!0}))),u("")},className:a(o.header)},{children:[(0,H.jsx)("div",Object.assign({className:a(o.avatar)},{children:(0,H.jsx)(J.e,{src:ce(e),initials:()=>(0,H.jsx)(ee.U,{backgroundSeed:e.object.id,userName:e.object.name.toUpperCase()})})})),(0,H.jsxs)("div",Object.assign({className:a(o.title)},{children:[(0,H.jsx)("span",Object.assign({className:a(o.name)},{children:e.object.name})),!!e.date&&(0,H.jsx)("div",Object.assign({className:a(o.dateAndPlace)},{children:(0,oe.l)({isoDate:e.date,currentDate:new Date},{tp:h,dateFns:g})}))]}))]})),(0,H.jsx)("div",Object.assign({className:a(o.slider)},{children:n&&(0,H.jsx)(me.M,{isActiveItem:m,trackBSSSource:"profileFeed",onComplain:b,photoItemStyles:o.photo,galleryMedia:n.mediaForGallery,previews:n.mediaForPreview,object:e.object,onChange:()=>{u(`${e.object.id}_${e.date}`),d&&d.id!==(null==c?void 0:c.id)&&f((0,ve.wU)({id:d.id}))},bssActionItemFunction:s=>R({position:s.position,media:s.image,item:e,type:"media",isFriend:i,userId:t,isVideo:"video"===s.image.type}),bssShowItemFunction:s=>P({position:s.position,media:s.image,item:e,type:"media",isFriend:i,userId:t,isVideo:"video"===s.image.type}),entityId:e.object.id})}))]}))},je=(0,re.r)((({mobile:e})=>({container:{padding:"12px 0",boxShadow:ie.E.innerBorderBottomBase,"&:last-child":{boxShadow:"none",paddingBottom:24}},avatar:{width:"24px",height:"24px",borderRadius:"50%",marginEnd:"8px",overflow:"hidden",display:"inline-block",verticalAlign:"top"},header:{padding:e?"0 8px":"0 24px"},name:{textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",maxWidth:264},title:Object.assign({display:"inline-block",whiteSpace:"normal",cursor:"pointer",maxWidth:264},ae.regularMedium),dateAndPlace:Object.assign(Object.assign({},ae.small),{color:te.T.gray_929292}),slider:{marginTop:12},counter:{color:te.T.black},photo:{borderRadius:6}}))),we=({item:e,onLikeClick:t,publicUserId:i,isFriendProfile:s,userId:r,position:n,toggleEmojiUserProfile:a})=>{const{useBssHandler:o}=(0,Y.E)(),c=o(B,{position:n,userId:r,isFriend:s}),{setActivePublicProfileFeedId:d}=(0,fe._)(),l=()=>{e.review&&c({item:e.review}),e.media&&c({item:e.media}),d(null)};return e.review?(0,H.jsx)(X,{onHeaderClick:l,isFriendProfile:s,publicUserId:i,onLikeClick:t,item:e.review,position:n,toggleEmojiUserProfile:a}):e.media?(0,H.jsx)(xe,{onHeaderClick:l,userId:r,isFriendProfile:s,item:e.media,position:n}):null};var Ie=i(35774),Ce=i(31106),_e=i(91818);const ke=({publicUserId:e,userId:t,isFriendProfile:i})=>{const[s,r]=(0,$.useState)(null),{data:n,isLoading:a,isSuccess:o,fetchNextPage:c,isFetchingNextPage:d,hasNextPage:l}=v(e),{s:u}=(0,re.I)(Oe),m=null==n?void 0:n.pages.reduce(((e,t)=>[...e,...t.content_feed]),[]),g=(0,p.d4)(W.x3),h=(0,ne.c)(),f=(0,p.wA)();(0,$.useEffect)((()=>{var e,t;("handlePublicProfileReviewLike"===(null===(e=(0,_e.G7)())||void 0===e?void 0:e.key)||"handlePublicProfileToggleEmoji"===(null===(t=(0,_e.G7)())||void 0===t?void 0:t.key))&&o&&g&&f((0,_e.cZ)())}),[n,f,g,o,e]);const b=(t,i)=>{f((0,_e.oC)("handlePublicProfileReviewLike",{reviewId:t,isLiked:i,userId:e},"manual"))},y=(t,i,s)=>{f((0,_e.oC)("handlePublicProfileToggleEmoji",{reviewId:t,userId:e,emojiId:i,isLike:!s},"manual"))};return o&&0===n.pages[0].content_feed.length?(0,H.jsx)(Ie.d,{image:(0,H.jsx)(Ce.P,{}),title:h._t("Пользователь пока не добавил фото и отзывы"),styles:u.emptyFeed,titleStyle:u.emptyFeedTitle,imageStyle:u.emptyFeedImage}):(0,H.jsx)(fe.D.Provider,Object.assign({value:{activePublicProfileFeedId:s,setActivePublicProfileFeedId:r}},{children:(0,H.jsx)(U.O,{data:m,isLoading:a,fetchNextPage:c,hasNextPage:!!l,isFetchingNextPage:d,renderItem:(s,r)=>(0,H.jsx)(we,{userId:t,isFriendProfile:i,publicUserId:e,onLikeClick:b,toggleEmojiUserProfile:y,item:s,position:r+1},(e=>e.review?`profile_feed_review_${e.review.id}`:e.media?`profile_feed_media_${e.media.object.id}`:void 0)(s)),renderSkeleton:()=>(0,H.jsx)(D._,{ContentSkeleton:V.g})})}))},Oe=(0,re.r)({emptyFeed:{padding:"0 24px"},emptyFeedTitle:Object.assign({},ae.regular),emptyFeedImage:{marginBottom:0}})},77211:(e,t,i)=>{"use strict";i.d(t,{D:()=>r,_:()=>n});var s=i(14041);const r=s.createContext({activePublicProfileFeedId:null,setActivePublicProfileFeedId:()=>{}}),n=()=>s.useContext(r)},86971:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});var s=i(35023);function r(e){if("branch"!==e.type||!e.ads)return!1;const t=(0,s.cJ)(e.ads,["options"]);return!(0,s.Im)(t)}},61016:(e,t,i)=>{var s={"./ar.po":[60720,5056],"./az.po":[11432,2568],"./en.po":[72096,3360],"./hy.po":[24548,4768],"./ka.po":[5791,1851],"./kk.po":[18577,2537],"./ky.po":[61031,5939],"./uz.po":[77068,6340]};function r(e){if(!i.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],r=t[0];return i.e(t[1]).then((()=>i.t(r,23)))}r.keys=()=>Object.keys(s),r.id=61016,e.exports=r},53047:(e,t,i)=>{var s={"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/bar_marker.svg":34976,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/culture_marker.svg":13475,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/education_marker.svg":81679,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/hospital_marker.svg":56399,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/kindergarten_marker.svg":3373,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/pharmacy_marker.svg":85616,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/sport_marker.svg":34707,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/supermarket_marker.svg":87226,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/bar_marker.svg":10794,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/culture_marker.svg":99237,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/education_marker.svg":21829,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/hospital_marker.svg":51269,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/kindergarten_marker.svg":44675,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/pharmacy_marker.svg":86934,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/sport_marker.svg":19513,"./760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/supermarket_marker.svg":62948,"./760af037-7450-48cd-ae98-49dc13902a05/icons/large-domclick.svg":90614,"./760af037-7450-48cd-ae98-49dc13902a05/icons/large-hover.svg":33552,"./760af037-7450-48cd-ae98-49dc13902a05/icons/large-pik.svg":63794,"./760af037-7450-48cd-ae98-49dc13902a05/icons/large-visited-domclick.svg":80425,"./760af037-7450-48cd-ae98-49dc13902a05/icons/large-visited.svg":45316,"./760af037-7450-48cd-ae98-49dc13902a05/icons/large.svg":65941,"./760af037-7450-48cd-ae98-49dc13902a05/icons/medium-domclick.svg":50806,"./760af037-7450-48cd-ae98-49dc13902a05/icons/medium-hover.svg":84176,"./760af037-7450-48cd-ae98-49dc13902a05/icons/medium-pik.svg":73714,"./760af037-7450-48cd-ae98-49dc13902a05/icons/medium-visited-domclick.svg":18025,"./760af037-7450-48cd-ae98-49dc13902a05/icons/medium-visited.svg":88548,"./760af037-7450-48cd-ae98-49dc13902a05/icons/medium.svg":3733,"./760af037-7450-48cd-ae98-49dc13902a05/icons/pin-commercial-logo.svg":43008,"./760af037-7450-48cd-ae98-49dc13902a05/icons/pin-commercial.svg":9480,"./760af037-7450-48cd-ae98-49dc13902a05/icons/pin.svg":78597,"./760af037-7450-48cd-ae98-49dc13902a05/icons/small-domclick.svg":7406,"./760af037-7450-48cd-ae98-49dc13902a05/icons/small-hover.svg":29224,"./760af037-7450-48cd-ae98-49dc13902a05/icons/small-pik.svg":42954,"./760af037-7450-48cd-ae98-49dc13902a05/icons/small-visited-domclick.svg":92785,"./760af037-7450-48cd-ae98-49dc13902a05/icons/small-visited.svg":78012,"./760af037-7450-48cd-ae98-49dc13902a05/icons/small.svg":95869,"./760af037-7450-48cd-ae98-49dc13902a05/markersGroup/default/generalization.json":49861,"./760af037-7450-48cd-ae98-49dc13902a05/markersGroup/default/style.json":54082,"./760af037-7450-48cd-ae98-49dc13902a05/markersGroup/infrastructureNormal/style.json":29185,"./760af037-7450-48cd-ae98-49dc13902a05/markersGroup/infrastructureSelected/style.json":3091,"./760af037-7450-48cd-ae98-49dc13902a05/markersGroup/pin/style.json":94364,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-visited-domclick.svg":14901,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-visited-domclick.svg":26877,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial-logo.svg":11820,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial.svg":58324,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin.svg":79225,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-visited-domclick.svg":83245,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/pin/style.json":88728,"./default/icons/bigbullet.svg":84690,"./default/icons/bigbullet_closed.svg":41053,"./default/icons/bigbullet_closed_hover.svg":54334,"./default/icons/bigbullet_hover.svg":29513,"./default/icons/coloredPersonal/personal_00A989_marker.svg":68328,"./default/icons/coloredPersonal/personal_00B305_marker.svg":22413,"./default/icons/coloredPersonal/personal_198700_marker.svg":36598,"./default/icons/coloredPersonal/personal_1D66EE_marker.svg":13942,"./default/icons/coloredPersonal/personal_4F92F8_marker.svg":29442,"./default/icons/coloredPersonal/personal_738AB3_marker.svg":30511,"./default/icons/coloredPersonal/personal_7435D2_marker.svg":7136,"./default/icons/coloredPersonal/personal_9E578A_marker.svg":5968,"./default/icons/coloredPersonal/personal_BA6612_marker.svg":54599,"./default/icons/coloredPersonal/personal_DBAF00_marker.svg":67588,"./default/icons/coloredPersonal/personal_E2658B_marker.svg":61113,"./default/icons/coloredPersonal/personal_E7750B_marker.svg":24403,"./default/icons/coloredPersonal/personal_F83A3A_marker.svg":73083,"./default/icons/commercial.svg":38306,"./default/icons/commercial_closed.svg":11693,"./default/icons/commercial_hover.svg":46361,"./default/icons/commercial_immersive.svg":44962,"./default/icons/commercial_immersive_hover.svg":34073,"./default/icons/commercial_logo.svg":96492,"./default/icons/commercial_logo_hover.svg":53739,"./default/icons/commercial_logo_immersive.svg":81972,"./default/icons/commercial_logo_immersive_hover.svg":14499,"./default/icons/exchange/high_bigbullet.svg":38989,"./default/icons/exchange/high_middlebullet.svg":9722,"./default/icons/exchange/high_smallbullet.svg":24318,"./default/icons/exchange/low_bigbullet.svg":78399,"./default/icons/exchange/low_middlebullet.svg":50584,"./default/icons/exchange/low_smallbullet.svg":61172,"./default/icons/exchange/medium_bigbullet.svg":7380,"./default/icons/exchange/medium_middlebullet.svg":8309,"./default/icons/exchange/medium_smallbullet.svg":97119,"./default/icons/fav-home.svg":93217,"./default/icons/fav-personal.svg":91188,"./default/icons/fav-public.svg":76831,"./default/icons/fav-work.svg":67691,"./default/icons/middlebullet.svg":89647,"./default/icons/middlebullet_closed.svg":7814,"./default/icons/middlebullet_hover.svg":89072,"./default/icons/pin-commercial-logo.svg":86268,"./default/icons/pin-commercial.svg":64804,"./default/icons/pin.svg":73705,"./default/icons/smallbullet.svg":19921,"./default/icons/smallbullet_closed.svg":96948,"./default/icons/smallbullet_hover.svg":80658,"./default/icons/tUgc-camera-100.svg":69275,"./default/icons/tUgc-camera-110.svg":5656,"./default/icons/tUgc-camera-120.svg":98737,"./default/icons/tUgc-camera-130.svg":46246,"./default/icons/tUgc-camera-140.svg":96959,"./default/icons/tUgc-camera-20.svg":68496,"./default/icons/tUgc-camera-30.svg":36979,"./default/icons/tUgc-camera-40.svg":40578,"./default/icons/tUgc-camera-50.svg":78845,"./default/icons/tUgc-camera-60.svg":47764,"./default/icons/tUgc-camera-70.svg":72183,"./default/icons/tUgc-camera-80.svg":14150,"./default/icons/tUgc-camera-90.svg":66641,"./default/icons/tUgc-camera-bus.svg":31716,"./default/icons/tUgc-camera-line.svg":64960,"./default/icons/tUgc-camera-parking.svg":44450,"./default/icons/tUgc-camera-tl.svg":90678,"./default/icons/tUgc-camera.svg":82633,"./default/icons/tUgc-comment.svg":19347,"./default/icons/tUgc-crash.svg":35413,"./default/icons/tUgc-other.svg":5098,"./default/icons/tUgc-restriction.svg":1798,"./default/icons/tUgc-roadwork.svg":35949,"./default/markersGroup/default/style.json":15480,"./default/markersGroup/exchange/generalization.json":74249,"./default/markersGroup/exchange/style.json":94358,"./default/markersGroup/favorites/generalization.json":78327,"./default/markersGroup/favorites/style.json":1052,"./default/markersGroup/fewmarkers/style.json":48670,"./default/markersGroup/pin/style.json":14354,"./default/markersGroup/recovery/style.json":59856,"./default/markersGroup/tUgc/generalization.json":59765,"./default/markersGroup/tUgc/style.json":95090,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/bar_marker.svg":34976,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/culture_marker.svg":13475,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/education_marker.svg":81679,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/hospital_marker.svg":56399,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/kindergarten_marker.svg":3373,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/pharmacy_marker.svg":85616,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/sport_marker.svg":34707,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/normal/supermarket_marker.svg":87226,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/bar_marker.svg":10794,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/culture_marker.svg":99237,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/education_marker.svg":21829,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/hospital_marker.svg":51269,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/kindergarten_marker.svg":44675,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/pharmacy_marker.svg":86934,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/sport_marker.svg":19513,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/infrastructure/selected/supermarket_marker.svg":62948,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/large-domclick.svg":90614,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/large-hover.svg":33552,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/large-pik.svg":63794,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/large-visited-domclick.svg":80425,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/large-visited.svg":45316,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/large.svg":65941,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/medium-domclick.svg":50806,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/medium-hover.svg":84176,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/medium-pik.svg":73714,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/medium-visited-domclick.svg":18025,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/medium-visited.svg":88548,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/medium.svg":3733,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/pin-commercial-logo.svg":43008,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/pin-commercial.svg":9480,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/pin.svg":78597,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/small-domclick.svg":7406,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/small-hover.svg":29224,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/small-pik.svg":42954,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/small-visited-domclick.svg":92785,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/small-visited.svg":78012,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/icons/small.svg":95869,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/markersGroup/default/generalization.json":49861,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/markersGroup/default/style.json":54082,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/markersGroup/infrastructureNormal/style.json":29185,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/markersGroup/infrastructureSelected/style.json":3091,"shared/lib/markers/styles/760af037-7450-48cd-ae98-49dc13902a05/markersGroup/pin/style.json":94364,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-visited-domclick.svg":14901,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-visited-domclick.svg":26877,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial-logo.svg":11820,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial.svg":58324,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin.svg":79225,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-visited-domclick.svg":83245,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/pin/style.json":88728,"shared/lib/markers/styles/default/icons/bigbullet.svg":84690,"shared/lib/markers/styles/default/icons/bigbullet_closed.svg":41053,"shared/lib/markers/styles/default/icons/bigbullet_closed_hover.svg":54334,"shared/lib/markers/styles/default/icons/bigbullet_hover.svg":29513,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_00A989_marker.svg":68328,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_00B305_marker.svg":22413,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_198700_marker.svg":36598,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_1D66EE_marker.svg":13942,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_4F92F8_marker.svg":29442,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_738AB3_marker.svg":30511,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_7435D2_marker.svg":7136,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_9E578A_marker.svg":5968,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_BA6612_marker.svg":54599,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_DBAF00_marker.svg":67588,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_E2658B_marker.svg":61113,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_E7750B_marker.svg":24403,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_F83A3A_marker.svg":73083,"shared/lib/markers/styles/default/icons/commercial.svg":38306,"shared/lib/markers/styles/default/icons/commercial_closed.svg":11693,"shared/lib/markers/styles/default/icons/commercial_hover.svg":46361,"shared/lib/markers/styles/default/icons/commercial_immersive.svg":44962,"shared/lib/markers/styles/default/icons/commercial_immersive_hover.svg":34073,"shared/lib/markers/styles/default/icons/commercial_logo.svg":96492,"shared/lib/markers/styles/default/icons/commercial_logo_hover.svg":53739,"shared/lib/markers/styles/default/icons/commercial_logo_immersive.svg":81972,"shared/lib/markers/styles/default/icons/commercial_logo_immersive_hover.svg":14499,"shared/lib/markers/styles/default/icons/exchange/high_bigbullet.svg":38989,"shared/lib/markers/styles/default/icons/exchange/high_middlebullet.svg":9722,"shared/lib/markers/styles/default/icons/exchange/high_smallbullet.svg":24318,"shared/lib/markers/styles/default/icons/exchange/low_bigbullet.svg":78399,"shared/lib/markers/styles/default/icons/exchange/low_middlebullet.svg":50584,"shared/lib/markers/styles/default/icons/exchange/low_smallbullet.svg":61172,"shared/lib/markers/styles/default/icons/exchange/medium_bigbullet.svg":7380,"shared/lib/markers/styles/default/icons/exchange/medium_middlebullet.svg":8309,"shared/lib/markers/styles/default/icons/exchange/medium_smallbullet.svg":97119,"shared/lib/markers/styles/default/icons/fav-home.svg":93217,"shared/lib/markers/styles/default/icons/fav-personal.svg":91188,"shared/lib/markers/styles/default/icons/fav-public.svg":76831,"shared/lib/markers/styles/default/icons/fav-work.svg":67691,"shared/lib/markers/styles/default/icons/middlebullet.svg":89647,"shared/lib/markers/styles/default/icons/middlebullet_closed.svg":7814,"shared/lib/markers/styles/default/icons/middlebullet_hover.svg":89072,"shared/lib/markers/styles/default/icons/pin-commercial-logo.svg":86268,"shared/lib/markers/styles/default/icons/pin-commercial.svg":64804,"shared/lib/markers/styles/default/icons/pin.svg":73705,"shared/lib/markers/styles/default/icons/smallbullet.svg":19921,"shared/lib/markers/styles/default/icons/smallbullet_closed.svg":96948,"shared/lib/markers/styles/default/icons/smallbullet_hover.svg":80658,"shared/lib/markers/styles/default/icons/tUgc-camera-100.svg":69275,"shared/lib/markers/styles/default/icons/tUgc-camera-110.svg":5656,"shared/lib/markers/styles/default/icons/tUgc-camera-120.svg":98737,"shared/lib/markers/styles/default/icons/tUgc-camera-130.svg":46246,"shared/lib/markers/styles/default/icons/tUgc-camera-140.svg":96959,"shared/lib/markers/styles/default/icons/tUgc-camera-20.svg":68496,"shared/lib/markers/styles/default/icons/tUgc-camera-30.svg":36979,"shared/lib/markers/styles/default/icons/tUgc-camera-40.svg":40578,"shared/lib/markers/styles/default/icons/tUgc-camera-50.svg":78845,"shared/lib/markers/styles/default/icons/tUgc-camera-60.svg":47764,"shared/lib/markers/styles/default/icons/tUgc-camera-70.svg":72183,"shared/lib/markers/styles/default/icons/tUgc-camera-80.svg":14150,"shared/lib/markers/styles/default/icons/tUgc-camera-90.svg":66641,"shared/lib/markers/styles/default/icons/tUgc-camera-bus.svg":31716,"shared/lib/markers/styles/default/icons/tUgc-camera-line.svg":64960,"shared/lib/markers/styles/default/icons/tUgc-camera-parking.svg":44450,"shared/lib/markers/styles/default/icons/tUgc-camera-tl.svg":90678,"shared/lib/markers/styles/default/icons/tUgc-camera.svg":82633,"shared/lib/markers/styles/default/icons/tUgc-comment.svg":19347,"shared/lib/markers/styles/default/icons/tUgc-crash.svg":35413,"shared/lib/markers/styles/default/icons/tUgc-other.svg":5098,"shared/lib/markers/styles/default/icons/tUgc-restriction.svg":1798,"shared/lib/markers/styles/default/icons/tUgc-roadwork.svg":35949,"shared/lib/markers/styles/default/markersGroup/default/style.json":15480,"shared/lib/markers/styles/default/markersGroup/exchange/generalization.json":74249,"shared/lib/markers/styles/default/markersGroup/exchange/style.json":94358,"shared/lib/markers/styles/default/markersGroup/favorites/generalization.json":78327,"shared/lib/markers/styles/default/markersGroup/favorites/style.json":1052,"shared/lib/markers/styles/default/markersGroup/fewmarkers/style.json":48670,"shared/lib/markers/styles/default/markersGroup/pin/style.json":14354,"shared/lib/markers/styles/default/markersGroup/recovery/style.json":59856,"shared/lib/markers/styles/default/markersGroup/tUgc/generalization.json":59765,"shared/lib/markers/styles/default/markersGroup/tUgc/style.json":95090};function r(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=53047},34976:(e,t,i)=>{"use strict";e.exports=i.p+"images/e4c5586ac759a7fafe21.svg"},13475:(e,t,i)=>{"use strict";e.exports=i.p+"images/8f66658f2462ec47b1a2.svg"},81679:(e,t,i)=>{"use strict";e.exports=i.p+"images/b7839eb7aa011b1c7e11.svg"},56399:(e,t,i)=>{"use strict";e.exports=i.p+"images/28d3d0c9fd4375a4b4b8.svg"},3373:(e,t,i)=>{"use strict";e.exports=i.p+"images/3adfea6e61b6cd7f7361.svg"},85616:(e,t,i)=>{"use strict";e.exports=i.p+"images/ed5f2e3e9fdb8c622e3e.svg"},34707:(e,t,i)=>{"use strict";e.exports=i.p+"images/20dc92168ae9bd0f87ac.svg"},87226:(e,t,i)=>{"use strict";e.exports=i.p+"images/2a5e80ae7855b92fedf8.svg"},10794:(e,t,i)=>{"use strict";e.exports=i.p+"images/efd116d81669767627a0.svg"},99237:(e,t,i)=>{"use strict";e.exports=i.p+"images/338700a489ceefc6c85f.svg"},21829:(e,t,i)=>{"use strict";e.exports=i.p+"images/d10d9d0b8a0182e14f7f.svg"},51269:(e,t,i)=>{"use strict";e.exports=i.p+"images/1fa3238adbdd5caae684.svg"},44675:(e,t,i)=>{"use strict";e.exports=i.p+"images/5bf5b88aa46c733bb3e8.svg"},86934:(e,t,i)=>{"use strict";e.exports=i.p+"images/e70c43c2d4510c40f9d2.svg"},19513:(e,t,i)=>{"use strict";e.exports=i.p+"images/f17fca119c33fc126564.svg"},62948:(e,t,i)=>{"use strict";e.exports=i.p+"images/efd7fa5820b4b708773d.svg"},90614:(e,t,i)=>{"use strict";e.exports=i.p+"images/8023b0f85a934cf8c7dc.svg"},33552:(e,t,i)=>{"use strict";e.exports=i.p+"images/08467c73e69e4a1fce3e.svg"},63794:(e,t,i)=>{"use strict";e.exports=i.p+"images/3dd82822a9cacaa52d84.svg"},80425:(e,t,i)=>{"use strict";e.exports=i.p+"images/f97cb174ee49d4d7c790.svg"},45316:(e,t,i)=>{"use strict";e.exports=i.p+"images/730c88dbb655f57a372c.svg"},65941:(e,t,i)=>{"use strict";e.exports=i.p+"images/6fdcee12f8fbf04a8390.svg"},50806:(e,t,i)=>{"use strict";e.exports=i.p+"images/d6f5c178ee6c65b93498.svg"},84176:(e,t,i)=>{"use strict";e.exports=i.p+"images/5d706e374de2a8d16581.svg"},73714:(e,t,i)=>{"use strict";e.exports=i.p+"images/3e1640ee3a21e5ca02d3.svg"},18025:(e,t,i)=>{"use strict";e.exports=i.p+"images/8342ce9addb046f93a90.svg"},88548:(e,t,i)=>{"use strict";e.exports=i.p+"images/8eacdd3e99eb1642dce8.svg"},3733:(e,t,i)=>{"use strict";e.exports=i.p+"images/16a4986fce0a0a61d863.svg"},43008:(e,t,i)=>{"use strict";e.exports=i.p+"images/5a7151369dfa0077124c.svg"},9480:(e,t,i)=>{"use strict";e.exports=i.p+"images/49ad0134997a04437d25.svg"},78597:(e,t,i)=>{"use strict";e.exports=i.p+"images/ac194aa702f0f69961e1.svg"},7406:(e,t,i)=>{"use strict";e.exports=i.p+"images/324574b9fb7c8afca8dc.svg"},29224:(e,t,i)=>{"use strict";e.exports=i.p+"images/5b31a51a613cbb23c4c8.svg"},42954:(e,t,i)=>{"use strict";e.exports=i.p+"images/400f629c2275010feb06.svg"},92785:(e,t,i)=>{"use strict";e.exports=i.p+"images/cd2b6902abbeb9c38705.svg"},78012:(e,t,i)=>{"use strict";e.exports=i.p+"images/e901f343f9bf5ead9a91.svg"},95869:(e,t,i)=>{"use strict";e.exports=i.p+"images/f9866f08ca81e8f0cf17.svg"},14901:(e,t,i)=>{"use strict";e.exports=i.p+"images/f97cb174ee49d4d7c790.svg"},26877:(e,t,i)=>{"use strict";e.exports=i.p+"images/8342ce9addb046f93a90.svg"},11820:(e,t,i)=>{"use strict";e.exports=i.p+"images/5a7151369dfa0077124c.svg"},58324:(e,t,i)=>{"use strict";e.exports=i.p+"images/49ad0134997a04437d25.svg"},79225:(e,t,i)=>{"use strict";e.exports=i.p+"images/ac194aa702f0f69961e1.svg"},83245:(e,t,i)=>{"use strict";e.exports=i.p+"images/cd2b6902abbeb9c38705.svg"},84690:(e,t,i)=>{"use strict";e.exports=i.p+"images/f868d15d81a1ff882a5f.svg"},41053:(e,t,i)=>{"use strict";e.exports=i.p+"images/3cb27301491ff545960f.svg"},54334:(e,t,i)=>{"use strict";e.exports=i.p+"images/5f9a51db381998ba6896.svg"},29513:(e,t,i)=>{"use strict";e.exports=i.p+"images/e4025da3c59b1cdda1c9.svg"},68328:(e,t,i)=>{"use strict";e.exports=i.p+"images/b3e54b728bc9530c6e3b.svg"},22413:(e,t,i)=>{"use strict";e.exports=i.p+"images/94deac35d3b02c13ed9a.svg"},36598:(e,t,i)=>{"use strict";e.exports=i.p+"images/885ee026114eb62f1c9a.svg"},13942:(e,t,i)=>{"use strict";e.exports=i.p+"images/1b2be2bc10dfa87cdca8.svg"},29442:(e,t,i)=>{"use strict";e.exports=i.p+"images/b9ce49db74b9f157a017.svg"},30511:(e,t,i)=>{"use strict";e.exports=i.p+"images/7f9281479dc562a98dfe.svg"},7136:(e,t,i)=>{"use strict";e.exports=i.p+"images/4dc35d2da56d08559e5e.svg"},5968:(e,t,i)=>{"use strict";e.exports=i.p+"images/f622d9aa2e53adbebb5e.svg"},54599:(e,t,i)=>{"use strict";e.exports=i.p+"images/fc809cedaa245622208a.svg"},67588:(e,t,i)=>{"use strict";e.exports=i.p+"images/2f7c82f0720516e5610b.svg"},61113:(e,t,i)=>{"use strict";e.exports=i.p+"images/dd10aa6c836439033e2b.svg"},24403:(e,t,i)=>{"use strict";e.exports=i.p+"images/d7999a606d43f90dd552.svg"},73083:(e,t,i)=>{"use strict";e.exports=i.p+"images/39f5c4f0fed45b4fe215.svg"},38306:(e,t,i)=>{"use strict";e.exports=i.p+"images/ce67fb0eefccd4b9c689.svg"},11693:(e,t,i)=>{"use strict";e.exports=i.p+"images/caaa3878618da105a9e2.svg"},46361:(e,t,i)=>{"use strict";e.exports=i.p+"images/b9cc6ee5ca8e55068b49.svg"},44962:(e,t,i)=>{"use strict";e.exports=i.p+"images/287cbf758f690d451c51.svg"},34073:(e,t,i)=>{"use strict";e.exports=i.p+"images/0d89692bd1f0cc478c9f.svg"},96492:(e,t,i)=>{"use strict";e.exports=i.p+"images/5727935d5037a078efe4.svg"},53739:(e,t,i)=>{"use strict";e.exports=i.p+"images/a70d3e3cdc68d06c0d5e.svg"},81972:(e,t,i)=>{"use strict";e.exports=i.p+"images/b31cf0edcfcb29738e97.svg"},14499:(e,t,i)=>{"use strict";e.exports=i.p+"images/55d6eb5f4c6bfecc4792.svg"},38989:(e,t,i)=>{"use strict";e.exports=i.p+"images/0f290e688d71d369e95f.svg"},9722:(e,t,i)=>{"use strict";e.exports=i.p+"images/7aeea24fdc37d214a06d.svg"},24318:(e,t,i)=>{"use strict";e.exports=i.p+"images/eb6d076710465f8c3234.svg"},78399:(e,t,i)=>{"use strict";e.exports=i.p+"images/5279d81e4f49daaf248a.svg"},50584:(e,t,i)=>{"use strict";e.exports=i.p+"images/4860cf22b5d40e387424.svg"},61172:(e,t,i)=>{"use strict";e.exports=i.p+"images/5c6b472d08d713fb6d31.svg"},7380:(e,t,i)=>{"use strict";e.exports=i.p+"images/35b9b7334b47a59cca09.svg"},8309:(e,t,i)=>{"use strict";e.exports=i.p+"images/c78f76ce6dbf2e7cef0e.svg"},97119:(e,t,i)=>{"use strict";e.exports=i.p+"images/2c22de944823fc5c37d8.svg"},93217:(e,t,i)=>{"use strict";e.exports=i.p+"images/0b44156a764b58ed464d.svg"},91188:(e,t,i)=>{"use strict";e.exports=i.p+"images/e0fa3c03875210e8e540.svg"},76831:(e,t,i)=>{"use strict";e.exports=i.p+"images/e05860320843ba654bb4.svg"},67691:(e,t,i)=>{"use strict";e.exports=i.p+"images/7a71d5ab347ce67a8594.svg"},89647:(e,t,i)=>{"use strict";e.exports=i.p+"images/d7f47b48f8d97652ab10.svg"},7814:(e,t,i)=>{"use strict";e.exports=i.p+"images/5842839dfa553764b052.svg"},89072:(e,t,i)=>{"use strict";e.exports=i.p+"images/d4ef5c4a91c3599ce43d.svg"},86268:(e,t,i)=>{"use strict";e.exports=i.p+"images/f0af392c47b911e2f9f8.svg"},64804:(e,t,i)=>{"use strict";e.exports=i.p+"images/5ae1eeb66a5e7b06b7ce.svg"},73705:(e,t,i)=>{"use strict";e.exports=i.p+"images/69bf93dc7155ce4fdfea.svg"},19921:(e,t,i)=>{"use strict";e.exports=i.p+"images/87d0e45a574806aa6b19.svg"},96948:(e,t,i)=>{"use strict";e.exports=i.p+"images/f3ff7871a39f40453cec.svg"},80658:(e,t,i)=>{"use strict";e.exports=i.p+"images/67d4a90a43a794db79fa.svg"},69275:(e,t,i)=>{"use strict";e.exports=i.p+"images/4cc5f6d197d11a282a58.svg"},5656:(e,t,i)=>{"use strict";e.exports=i.p+"images/2cf8256f77f4e030d2a1.svg"},98737:(e,t,i)=>{"use strict";e.exports=i.p+"images/bbbc00bb8cfce525f319.svg"},46246:(e,t,i)=>{"use strict";e.exports=i.p+"images/896c6f8d95867a66d131.svg"},96959:(e,t,i)=>{"use strict";e.exports=i.p+"images/e5d2b069acf2e0508dc7.svg"},68496:(e,t,i)=>{"use strict";e.exports=i.p+"images/9054ec27ca3d1be3c9cc.svg"},36979:(e,t,i)=>{"use strict";e.exports=i.p+"images/f40f26ff38dc20f7abb8.svg"},40578:(e,t,i)=>{"use strict";e.exports=i.p+"images/a28d9e2897d924546d43.svg"},78845:(e,t,i)=>{"use strict";e.exports=i.p+"images/82c722a06341fb4c9917.svg"},47764:(e,t,i)=>{"use strict";e.exports=i.p+"images/b0a495897c1210c5671e.svg"},72183:(e,t,i)=>{"use strict";e.exports=i.p+"images/b270b338bc845da256e5.svg"},14150:(e,t,i)=>{"use strict";e.exports=i.p+"images/6568e27154b3425a8043.svg"},66641:(e,t,i)=>{"use strict";e.exports=i.p+"images/829ae8d7bb3b233818bc.svg"},31716:(e,t,i)=>{"use strict";e.exports=i.p+"images/817c8dc2469eb3a5a4d6.svg"},64960:(e,t,i)=>{"use strict";e.exports=i.p+"images/0c443d48b2dadb7e13f0.svg"},44450:(e,t,i)=>{"use strict";e.exports=i.p+"images/eb731c28c9baedebc709.svg"},90678:(e,t,i)=>{"use strict";e.exports=i.p+"images/f3c10cd8934e638b2053.svg"},82633:(e,t,i)=>{"use strict";e.exports=i.p+"images/42aed12213c365efd46b.svg"},19347:(e,t,i)=>{"use strict";e.exports=i.p+"images/b4f4af71969ef8e8c2d3.svg"},35413:(e,t,i)=>{"use strict";e.exports=i.p+"images/ad0093a418b39dc4519a.svg"},5098:(e,t,i)=>{"use strict";e.exports=i.p+"images/1ece557d6509bf97f8fe.svg"},1798:(e,t,i)=>{"use strict";e.exports=i.p+"images/6bf9122fd9bf7117b752.svg"},35949:(e,t,i)=>{"use strict";e.exports=i.p+"images/c1c8e2190d088ccb636c.svg"},49861:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":30},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":35},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":40},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":45},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":45},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":50},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":55},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":36,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":24,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":20,"margin":0,"degradation":0}],"labelMargin":60}}')},54082:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"small.svg","size":[10,10],"offset":[0.5,0.5]},"hover":{"img":"small-hover.svg","size":[10,10],"offset":[0.5,0.5]},"visited":{"img":"small-visited.svg","size":[10,10],"offset":[0.5,0.5]},"normal-pik":{"img":"small-pik.svg","size":[10,10],"offset":[0.5,0.5]},"normal-domclick":{"img":"small-domclick.svg","size":[10,10],"offset":[0.5,0.5]},"visited-domclick":{"img":"small-visited-domclick.svg","size":[10,10],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"medium.svg","size":[12,12],"offset":[0.5,0.5]},"hover":{"img":"medium-hover.svg","size":[12,12],"offset":[0.5,0.5]},"visited":{"img":"medium-visited.svg","size":[12,12],"offset":[0.5,0.5]},"normal-pik":{"img":"medium-pik.svg","size":[12,12],"offset":[0.5,0.5]},"normal-domclick":{"img":"medium-domclick.svg","size":[12,12],"offset":[0.5,0.5]},"visited-domclick":{"img":"medium-visited-domclick.svg","size":[12,12],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"large.svg","size":[18,18],"offset":[0.5,0.5]},"hover":{"img":"large-hover.svg","size":[18,18],"offset":[0.5,0.5]},"visited":{"img":"large-visited.svg","size":[18,18],"offset":[0.5,0.5]},"normal-pik":{"img":"large-pik.svg","size":[18,18],"offset":[0.5,0.5]},"normal-domclick":{"img":"large-domclick.svg","size":[18,18],"offset":[0.5,0.5]},"visited-domclick":{"img":"large-visited-domclick.svg","size":[18,18],"offset":[0.5,0.5]}}},"zIndex":1}')},29185:e=>{"use strict";e.exports=JSON.parse('{"icons":{"supermarket_normal":{"normal":{"img":"infrastructure/normal/supermarket_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"education_normal":{"normal":{"img":"infrastructure/normal/education_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"kindergarten_normal":{"normal":{"img":"infrastructure/normal/kindergarten_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"hospital_normal":{"normal":{"img":"infrastructure/normal/hospital_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"pharmacy_normal":{"normal":{"img":"infrastructure/normal/pharmacy_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"sport_normal":{"normal":{"img":"infrastructure/normal/sport_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"culture_normal":{"normal":{"img":"infrastructure/normal/culture_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"bar_normal":{"normal":{"img":"infrastructure/normal/bar_marker.svg","size":[24,24],"offset":[0.5,0.5]}}},"zIndex":1}')},3091:e=>{"use strict";e.exports=JSON.parse('{"icons":{"supermarket_selected":{"normal":{"img":"infrastructure/selected/supermarket_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"education_selected":{"normal":{"img":"infrastructure/selected/education_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"kindergarten_selected":{"normal":{"img":"infrastructure/selected/kindergarten_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"hospital_selected":{"normal":{"img":"infrastructure/selected/hospital_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"pharmacy_selected":{"normal":{"img":"infrastructure/selected/pharmacy_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"sport_selected":{"normal":{"img":"infrastructure/selected/sport_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"culture_selected":{"normal":{"img":"infrastructure/selected/culture_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"bar_selected":{"normal":{"img":"infrastructure/selected/bar_marker.svg","size":[36,36],"offset":[0.5,0.5]}}},"zIndex":2}')},94364:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},88728:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},15480:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},74249:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},94358:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},78327:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},1052:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},48670:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},14354:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},59856:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},59765:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},95090:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')}},e=>{e.O(0,[4121,9114,4644,3126,2315],(()=>{return t=7794,e(e.s=t);var t}));e.O()}]);